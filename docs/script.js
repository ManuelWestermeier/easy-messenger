var n2=n=>{throw TypeError(n)};var D1=(n,i,s)=>i.has(n)||n2("Cannot "+s);var Pn=(n,i,s)=>(D1(n,i,"read from private field"),s?s.call(n):i.get(n)),d0=(n,i,s)=>i.has(n)?n2("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(n):i.set(n,s),r2=(n,i,s,l)=>(D1(n,i,"write to private field"),l?l.call(n,s):i.set(n,s),s),Pl=(n,i,s)=>(D1(n,i,"access private method"),s);function J3(n,i){for(var s=0;s<i.length;s++){const l=i[s];if(typeof l!="string"&&!Array.isArray(l)){for(const d in l)if(d!=="default"&&!(d in n)){const f=Object.getOwnPropertyDescriptor(l,d);f&&Object.defineProperty(n,d,f.get?f:{enumerable:!0,get:()=>l[d]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function s(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(d){if(d.ep)return;d.ep=!0;const f=s(d);fetch(d.href,f)}})();var Zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Gd(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var i=n.default;if(typeof i=="function"){var s=function l(){return this instanceof l?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(l){var d=Object.getOwnPropertyDescriptor(n,l);Object.defineProperty(s,l,d.get?d:{enumerable:!0,get:function(){return n[l]}})}),s}var O1={exports:{}},Ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function $3(){if(i2)return Ho;i2=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function s(l,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var E in d)E!=="key"&&(f[E]=d[E])}else f=d;return d=f.ref,{$$typeof:n,type:l,key:m,ref:d!==void 0?d:null,props:f}}return Ho.Fragment=i,Ho.jsx=s,Ho.jsxs=s,Ho}var a2;function eE(){return a2||(a2=1,O1.exports=$3()),O1.exports}var H=eE(),N1={exports:{}},qo={},B1={exports:{}},R1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function tE(){return s2||(s2=1,function(n){function i(fe,we){var _e=fe.length;fe.push(we);e:for(;0<_e;){var ke=_e-1>>>1,F=fe[ke];if(0<d(F,we))fe[ke]=we,fe[_e]=F,_e=ke;else break e}}function s(fe){return fe.length===0?null:fe[0]}function l(fe){if(fe.length===0)return null;var we=fe[0],_e=fe.pop();if(_e!==we){fe[0]=_e;e:for(var ke=0,F=fe.length,ie=F>>>1;ke<ie;){var oe=2*(ke+1)-1,j=fe[oe],se=oe+1,Le=fe[se];if(0>d(j,_e))se<F&&0>d(Le,j)?(fe[ke]=Le,fe[se]=_e,ke=se):(fe[ke]=j,fe[oe]=_e,ke=oe);else if(se<F&&0>d(Le,_e))fe[ke]=Le,fe[se]=_e,ke=se;else break e}}return we}function d(fe,we){var _e=fe.sortIndex-we.sortIndex;return _e!==0?_e:fe.id-we.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,E=m.now();n.unstable_now=function(){return m.now()-E}}var b=[],g=[],w=1,C=null,D=3,T=!1,O=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function k(fe){for(var we=s(g);we!==null;){if(we.callback===null)l(g);else if(we.startTime<=fe)l(g),we.sortIndex=we.expirationTime,i(b,we);else break;we=s(g)}}function V(fe){if(N=!1,k(fe),!O)if(s(b)!==null)O=!0,de();else{var we=s(g);we!==null&&te(V,we.startTime-fe)}}var Q=!1,q=-1,Y=5,ee=-1;function X(){return!(n.unstable_now()-ee<Y)}function Z(){if(Q){var fe=n.unstable_now();ee=fe;var we=!0;try{e:{O=!1,N&&(N=!1,I(q),q=-1),T=!0;var _e=D;try{t:{for(k(fe),C=s(b);C!==null&&!(C.expirationTime>fe&&X());){var ke=C.callback;if(typeof ke=="function"){C.callback=null,D=C.priorityLevel;var F=ke(C.expirationTime<=fe);if(fe=n.unstable_now(),typeof F=="function"){C.callback=F,k(fe),we=!0;break t}C===s(b)&&l(b),k(fe)}else l(b);C=s(b)}if(C!==null)we=!0;else{var ie=s(g);ie!==null&&te(V,ie.startTime-fe),we=!1}}break e}finally{C=null,D=_e,T=!1}we=void 0}}finally{we?K():Q=!1}}}var K;if(typeof M=="function")K=function(){M(Z)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=Z,K=function(){ne.postMessage(null)}}else K=function(){B(Z,0)};function de(){Q||(Q=!0,K())}function te(fe,we){q=B(function(){fe(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(fe){fe.callback=null},n.unstable_continueExecution=function(){O||T||(O=!0,de())},n.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<fe?Math.floor(1e3/fe):5},n.unstable_getCurrentPriorityLevel=function(){return D},n.unstable_getFirstCallbackNode=function(){return s(b)},n.unstable_next=function(fe){switch(D){case 1:case 2:case 3:var we=3;break;default:we=D}var _e=D;D=we;try{return fe()}finally{D=_e}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(fe,we){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var _e=D;D=fe;try{return we()}finally{D=_e}},n.unstable_scheduleCallback=function(fe,we,_e){var ke=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?ke+_e:ke):_e=ke,fe){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=_e+F,fe={id:w++,callback:we,priorityLevel:fe,startTime:_e,expirationTime:F,sortIndex:-1},_e>ke?(fe.sortIndex=_e,i(g,fe),s(b)===null&&fe===s(g)&&(N?(I(q),q=-1):N=!0,te(V,_e-ke))):(fe.sortIndex=F,i(b,fe),O||T||(O=!0,de())),fe},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(fe){var we=D;return function(){var _e=D;D=we;try{return fe.apply(this,arguments)}finally{D=_e}}}}(R1)),R1}var l2;function nE(){return l2||(l2=1,B1.exports=tE()),B1.exports}var I1={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o2;function rE(){if(o2)return vt;o2=1;var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.iterator;function D(F){return F===null||typeof F!="object"?null:(F=C&&F[C]||F["@@iterator"],typeof F=="function"?F:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,N={};function B(F,ie,oe){this.props=F,this.context=ie,this.refs=N,this.updater=oe||T}B.prototype.isReactComponent={},B.prototype.setState=function(F,ie){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ie,"setState")},B.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=B.prototype;function M(F,ie,oe){this.props=F,this.context=ie,this.refs=N,this.updater=oe||T}var k=M.prototype=new I;k.constructor=M,O(k,B.prototype),k.isPureReactComponent=!0;var V=Array.isArray,Q={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function Y(F,ie,oe,j,se,Le){return oe=Le.ref,{$$typeof:n,type:F,key:ie,ref:oe!==void 0?oe:null,props:Le}}function ee(F,ie){return Y(F.type,ie,void 0,void 0,void 0,F.props)}function X(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function Z(F){var ie={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return ie[oe]})}var K=/\/+/g;function $(F,ie){return typeof F=="object"&&F!==null&&F.key!=null?Z(""+F.key):ie.toString(36)}function ne(){}function de(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(ne,ne):(F.status="pending",F.then(function(ie){F.status==="pending"&&(F.status="fulfilled",F.value=ie)},function(ie){F.status==="pending"&&(F.status="rejected",F.reason=ie)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function te(F,ie,oe,j,se){var Le=typeof F;(Le==="undefined"||Le==="boolean")&&(F=null);var me=!1;if(F===null)me=!0;else switch(Le){case"bigint":case"string":case"number":me=!0;break;case"object":switch(F.$$typeof){case n:case i:me=!0;break;case w:return me=F._init,te(me(F._payload),ie,oe,j,se)}}if(me)return se=se(F),me=j===""?"."+$(F,0):j,V(se)?(oe="",me!=null&&(oe=me.replace(K,"$&/")+"/"),te(se,ie,oe,"",function(Ye){return Ye})):se!=null&&(X(se)&&(se=ee(se,oe+(se.key==null||F&&F.key===se.key?"":(""+se.key).replace(K,"$&/")+"/")+me)),ie.push(se)),1;me=0;var st=j===""?".":j+":";if(V(F))for(var Te=0;Te<F.length;Te++)j=F[Te],Le=st+$(j,Te),me+=te(j,ie,oe,Le,se);else if(Te=D(F),typeof Te=="function")for(F=Te.call(F),Te=0;!(j=F.next()).done;)j=j.value,Le=st+$(j,Te++),me+=te(j,ie,oe,Le,se);else if(Le==="object"){if(typeof F.then=="function")return te(de(F),ie,oe,j,se);throw ie=String(F),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return me}function fe(F,ie,oe){if(F==null)return F;var j=[],se=0;return te(F,j,"","",function(Le){return ie.call(oe,Le,se++)}),j}function we(F){if(F._status===-1){var ie=F._result;ie=ie(),ie.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=ie)}if(F._status===1)return F._result.default;throw F._result}var _e=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ke(){}return vt.Children={map:fe,forEach:function(F,ie,oe){fe(F,function(){ie.apply(this,arguments)},oe)},count:function(F){var ie=0;return fe(F,function(){ie++}),ie},toArray:function(F){return fe(F,function(ie){return ie})||[]},only:function(F){if(!X(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},vt.Component=B,vt.Fragment=s,vt.Profiler=d,vt.PureComponent=M,vt.StrictMode=l,vt.Suspense=b,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(F){return function(){return F.apply(null,arguments)}},vt.cloneElement=function(F,ie,oe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var j=O({},F.props),se=F.key,Le=void 0;if(ie!=null)for(me in ie.ref!==void 0&&(Le=void 0),ie.key!==void 0&&(se=""+ie.key),ie)!q.call(ie,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ie.ref===void 0||(j[me]=ie[me]);var me=arguments.length-2;if(me===1)j.children=oe;else if(1<me){for(var st=Array(me),Te=0;Te<me;Te++)st[Te]=arguments[Te+2];j.children=st}return Y(F.type,se,void 0,void 0,Le,j)},vt.createContext=function(F){return F={$$typeof:m,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:f,_context:F},F},vt.createElement=function(F,ie,oe){var j,se={},Le=null;if(ie!=null)for(j in ie.key!==void 0&&(Le=""+ie.key),ie)q.call(ie,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(se[j]=ie[j]);var me=arguments.length-2;if(me===1)se.children=oe;else if(1<me){for(var st=Array(me),Te=0;Te<me;Te++)st[Te]=arguments[Te+2];se.children=st}if(F&&F.defaultProps)for(j in me=F.defaultProps,me)se[j]===void 0&&(se[j]=me[j]);return Y(F,Le,void 0,void 0,null,se)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(F){return{$$typeof:E,render:F}},vt.isValidElement=X,vt.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:we}},vt.memo=function(F,ie){return{$$typeof:g,type:F,compare:ie===void 0?null:ie}},vt.startTransition=function(F){var ie=Q.T,oe={};Q.T=oe;try{var j=F(),se=Q.S;se!==null&&se(oe,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(ke,_e)}catch(Le){_e(Le)}finally{Q.T=ie}},vt.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},vt.use=function(F){return Q.H.use(F)},vt.useActionState=function(F,ie,oe){return Q.H.useActionState(F,ie,oe)},vt.useCallback=function(F,ie){return Q.H.useCallback(F,ie)},vt.useContext=function(F){return Q.H.useContext(F)},vt.useDebugValue=function(){},vt.useDeferredValue=function(F,ie){return Q.H.useDeferredValue(F,ie)},vt.useEffect=function(F,ie){return Q.H.useEffect(F,ie)},vt.useId=function(){return Q.H.useId()},vt.useImperativeHandle=function(F,ie,oe){return Q.H.useImperativeHandle(F,ie,oe)},vt.useInsertionEffect=function(F,ie){return Q.H.useInsertionEffect(F,ie)},vt.useLayoutEffect=function(F,ie){return Q.H.useLayoutEffect(F,ie)},vt.useMemo=function(F,ie){return Q.H.useMemo(F,ie)},vt.useOptimistic=function(F,ie){return Q.H.useOptimistic(F,ie)},vt.useReducer=function(F,ie,oe){return Q.H.useReducer(F,ie,oe)},vt.useRef=function(F){return Q.H.useRef(F)},vt.useState=function(F){return Q.H.useState(F)},vt.useSyncExternalStore=function(F,ie,oe){return Q.H.useSyncExternalStore(F,ie,oe)},vt.useTransition=function(){return Q.H.useTransition()},vt.version="19.0.0",vt}var u2;function jn(){return u2||(u2=1,I1.exports=rE()),I1.exports}var M1={exports:{}},fr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c2;function iE(){if(c2)return fr;c2=1;var n=jn();function i(b){var g="https://react.dev/errors/"+b;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)g+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+b+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var l={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(b,g,w){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:C==null?null:""+C,children:b,containerInfo:g,implementation:w}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(b,g){if(b==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return fr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,fr.createPortal=function(b,g){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(b,g,null,w)},fr.flushSync=function(b){var g=m.T,w=l.p;try{if(m.T=null,l.p=2,b)return b()}finally{m.T=g,l.p=w,l.d.f()}},fr.preconnect=function(b,g){typeof b=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(b,g))},fr.prefetchDNS=function(b){typeof b=="string"&&l.d.D(b)},fr.preinit=function(b,g){if(typeof b=="string"&&g&&typeof g.as=="string"){var w=g.as,C=E(w,g.crossOrigin),D=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;w==="style"?l.d.S(b,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:D,fetchPriority:T}):w==="script"&&l.d.X(b,{crossOrigin:C,integrity:D,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},fr.preinitModule=function(b,g){if(typeof b=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var w=E(g.as,g.crossOrigin);l.d.M(b,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(b)},fr.preload=function(b,g){if(typeof b=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var w=g.as,C=E(w,g.crossOrigin);l.d.L(b,w,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},fr.preloadModule=function(b,g){if(typeof b=="string")if(g){var w=E(g.as,g.crossOrigin);l.d.m(b,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(b)},fr.requestFormReset=function(b){l.d.r(b)},fr.unstable_batchedUpdates=function(b,g){return b(g)},fr.useFormState=function(b,g,w){return m.H.useFormState(b,g,w)},fr.useFormStatus=function(){return m.H.useHostTransitionStatus()},fr.version="19.0.0",fr}var f2;function aE(){if(f2)return M1.exports;f2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),M1.exports=iE(),M1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function sE(){if(d2)return qo;d2=1;var n=nE(),i=jn(),s=aE();function l(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),V=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case E:return"Portal";case w:return"Profiler";case g:return"StrictMode";case N:return"Suspense";case B:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case O:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return r=e.displayName||null,r!==null?r:ee(e.type)||"Memo";case M:r=e._payload,e=e._init;try{return ee(e(r))}catch{}}return null}var X=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Object.assign,K,$;function ne(e){if(K===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);K=r&&r[1]||"",$=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+e+$}var de=!1;function te(e,r){if(!e||de)return"";de=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(r){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Ce){var ye=Ce}Reflect.construct(e,[],Re)}else{try{Re.call()}catch(Ce){ye=Ce}e.call(Re.prototype)}}else{try{throw Error()}catch(Ce){ye=Ce}(Re=e())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Ce){if(Ce&&ye&&typeof Ce.stack=="string")return[Ce.stack,ye.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),L=S[0],G=S[1];if(L&&G){var re=L.split(`
`),ce=G.split(`
`);for(v=x=0;x<re.length&&!re[x].includes("DetermineComponentFrameRoot");)x++;for(;v<ce.length&&!ce[v].includes("DetermineComponentFrameRoot");)v++;if(x===re.length||v===ce.length)for(x=re.length-1,v=ce.length-1;1<=x&&0<=v&&re[x]!==ce[v];)v--;for(;1<=x&&0<=v;x--,v--)if(re[x]!==ce[v]){if(x!==1||v!==1)do if(x--,v--,0>v||re[x]!==ce[v]){var Se=`
`+re[x].replace(" at new "," at ");return e.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",e.displayName)),Se}while(1<=x&&0<=v);break}}}finally{de=!1,Error.prepareStackTrace=u}return(u=e?e.displayName||e.name:"")?ne(u):""}function fe(e){switch(e.tag){case 26:case 27:case 5:return ne(e.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function we(e){try{var r="";do r+=fe(e),e=e.return;while(e);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function _e(e){var r=e,u=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(u=r.return),e=r.return;while(e)}return r.tag===3?u:null}function ke(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function F(e){if(_e(e)!==e)throw Error(l(188))}function ie(e){var r=e.alternate;if(!r){if(r=_e(e),r===null)throw Error(l(188));return r!==e?null:e}for(var u=e,x=r;;){var v=u.return;if(v===null)break;var S=v.alternate;if(S===null){if(x=v.return,x!==null){u=x;continue}break}if(v.child===S.child){for(S=v.child;S;){if(S===u)return F(v),e;if(S===x)return F(v),r;S=S.sibling}throw Error(l(188))}if(u.return!==x.return)u=v,x=S;else{for(var L=!1,G=v.child;G;){if(G===u){L=!0,u=v,x=S;break}if(G===x){L=!0,x=v,u=S;break}G=G.sibling}if(!L){for(G=S.child;G;){if(G===u){L=!0,u=S,x=v;break}if(G===x){L=!0,x=S,u=v;break}G=G.sibling}if(!L)throw Error(l(189))}}if(u.alternate!==x)throw Error(l(190))}if(u.tag!==3)throw Error(l(188));return u.stateNode.current===u?e:r}function oe(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=oe(e),r!==null)return r;e=e.sibling}return null}var j=Array.isArray,se=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le={pending:!1,data:null,method:null,action:null},me=[],st=-1;function Te(e){return{current:e}}function Ye(e){0>st||(e.current=me[st],me[st]=null,st--)}function Ze(e,r){st++,me[st]=e.current,e.current=r}var ct=Te(null),ft=Te(null),He=Te(null),gt=Te(null);function yt(e,r){switch(Ze(He,r),Ze(ft,e),Ze(ct,null),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?Bg(r):0;break;default:if(e=e===8?r.parentNode:r,r=e.tagName,e=e.namespaceURI)e=Bg(e),r=Rg(e,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Ye(ct),Ze(ct,r)}function Wt(){Ye(ct),Ye(ft),Ye(He)}function rt(e){e.memoizedState!==null&&Ze(gt,e);var r=ct.current,u=Rg(r,e.type);r!==u&&(Ze(ft,e),Ze(ct,u))}function Ke(e){ft.current===e&&(Ye(ct),Ye(ft)),gt.current===e&&(Ye(gt),Fo._currentValue=Le)}var Xe=Object.prototype.hasOwnProperty,an=n.unstable_scheduleCallback,je=n.unstable_cancelCallback,wt=n.unstable_shouldYield,Qt=n.unstable_requestPaint,bt=n.unstable_now,$n=n.unstable_getCurrentPriorityLevel,be=n.unstable_ImmediatePriority,Fe=n.unstable_UserBlockingPriority,We=n.unstable_NormalPriority,$e=n.unstable_LowPriority,Bt=n.unstable_IdlePriority,fn=n.log,er=n.unstable_setDisableYieldValue,Tt=null,Ne=null;function Ht(e){if(Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Tt,e,void 0,(e.current.flags&128)===128)}catch{}}function it(e){if(typeof fn=="function"&&er(e),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Tt,e)}catch{}}var dt=Math.clz32?Math.clz32:gs,Bn=Math.log,xs=Math.LN2;function gs(e){return e>>>=0,e===0?32:31-(Bn(e)/xs|0)|0}var _t=128,xr=4194304;function Wr(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yi(e,r){var u=e.pendingLanes;if(u===0)return 0;var x=0,v=e.suspendedLanes,S=e.pingedLanes,L=e.warmLanes;e=e.finishedLanes!==0;var G=u&134217727;return G!==0?(u=G&~v,u!==0?x=Wr(u):(S&=G,S!==0?x=Wr(S):e||(L=G&~L,L!==0&&(x=Wr(L))))):(G=u&~v,G!==0?x=Wr(G):S!==0?x=Wr(S):e||(L=u&~L,L!==0&&(x=Wr(L)))),x===0?0:r!==0&&r!==x&&(r&v)===0&&(v=x&-x,L=r&-r,v>=L||v===32&&(L&4194176)!==0)?r:x}function zn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function Aa(e,r){switch(e){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(){var e=_t;return _t<<=1,(_t&4194176)===0&&(_t=128),e}function xi(){var e=xr;return xr<<=1,(xr&62914560)===0&&(xr=4194304),e}function gi(e){for(var r=[],u=0;31>u;u++)r.push(e);return r}function Yn(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function nl(e,r,u,x,v,S){var L=e.pendingLanes;e.pendingLanes=u,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=u,e.entangledLanes&=u,e.errorRecoveryDisabledLanes&=u,e.shellSuspendCounter=0;var G=e.entanglements,re=e.expirationTimes,ce=e.hiddenUpdates;for(u=L&~u;0<u;){var Se=31-dt(u),Re=1<<Se;G[Se]=0,re[Se]=-1;var ye=ce[Se];if(ye!==null)for(ce[Se]=null,Se=0;Se<ye.length;Se++){var Ce=ye[Se];Ce!==null&&(Ce.lane&=-536870913)}u&=~Re}x!==0&&xn(e,x,0),S!==0&&v===0&&e.tag!==0&&(e.suspendedLanes|=S&~(L&~r))}function xn(e,r,u){e.pendingLanes|=r,e.suspendedLanes&=~r;var x=31-dt(r);e.entangledLanes|=r,e.entanglements[x]=e.entanglements[x]|1073741824|u&4194218}function gr(e,r){var u=e.entangledLanes|=r;for(e=e.entanglements;u;){var x=31-dt(u),v=1<<x;v&r|e[x]&r&&(e[x]|=r),u&=~v}}function Rn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qr(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:Qg(e.type))}function Dr(e,r){var u=se.p;try{return se.p=e,r()}finally{se.p=u}}var ze=Math.random().toString(36).slice(2),pn="__reactFiber$"+ze,Xn="__reactProps$"+ze,Tn="__reactContainer$"+ze,Ti="__reactEvents$"+ze,rl="__reactListeners$"+ze,il="__reactHandles$"+ze,kr="__reactResources$"+ze,ps="__reactMarker$"+ze;function Kl(e){delete e[pn],delete e[Xn],delete e[Ti],delete e[rl],delete e[il]}function Zn(e){var r=e[pn];if(r)return r;for(var u=e.parentNode;u;){if(r=u[Tn]||u[pn]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(e=Lg(e);e!==null;){if(u=e[pn])return u;e=Lg(e)}return r}e=u,u=e.parentNode}return null}function vn(e){if(e=e[pn]||e[Tn]){var r=e.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return e}return null}function qt(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(l(33))}function Xi(e){var r=e[kr];return r||(r=e[kr]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function en(e){e[ps]=!0}var al=new Set,Oe={};function Zi(e,r){Gt(e,r),Gt(e+"Capture",r)}function Gt(e,r){for(Oe[e]=r,e=0;e<r.length;e++)al.add(r[e])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ft={},Lt={};function Ot(e){return Xe.call(Lt,e)?!0:Xe.call(Ft,e)?!1:Rc.test(e)?Lt[e]=!0:(Ft[e]=!0,!1)}function Ca(e,r,u){if(Ot(r))if(u===null)e.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var x=r.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+u)}}function Sa(e,r,u){if(u===null)e.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+u)}}function Fr(e,r,u,x){if(x===null)e.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(u);return}e.setAttributeNS(r,u,""+x)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pi(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ic(e){var r=pi(e)?"checked":"value",u=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),x=""+e[r];if(!e.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,S=u.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return v.call(this)},set:function(L){x=""+L,S.call(this,L)}}),Object.defineProperty(e,r,{enumerable:u.enumerable}),{getValue:function(){return x},setValue:function(L){x=""+L},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function sn(e){e._valueTracker||(e._valueTracker=Ic(e))}function mi(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var u=r.getValue(),x="";return e&&(x=pi(e)?e.checked?"true":"false":e.value),e=x,e!==u?(r.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ta=/[\n"\\]/g;function At(e){return e.replace(Ta,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function In(e,r,u,x,v,S,L,G){e.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.type=L:e.removeAttribute("type"),r!=null?L==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Pt(r)):e.value!==""+Pt(r)&&(e.value=""+Pt(r)):L!=="submit"&&L!=="reset"||e.removeAttribute("value"),r!=null?W(e,L,Pt(r)):u!=null?W(e,L,Pt(u)):x!=null&&e.removeAttribute("value"),v==null&&S!=null&&(e.defaultChecked=!!S),v!=null&&(e.checked=v&&typeof v!="function"&&typeof v!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?e.name=""+Pt(G):e.removeAttribute("name")}function ge(e,r,u,x,v,S,L,G){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.type=S),r!=null||u!=null){if(!(S!=="submit"&&S!=="reset"||r!=null))return;u=u!=null?""+Pt(u):"",r=r!=null?""+Pt(r):u,G||r===e.value||(e.value=r),e.defaultValue=r}x=x??v,x=typeof x!="function"&&typeof x!="symbol"&&!!x,e.checked=G?e.checked:!!x,e.defaultChecked=!!x,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(e.name=L)}function W(e,r,u){r==="number"&&sl(e.ownerDocument)===e||e.defaultValue===""+u||(e.defaultValue=""+u)}function Ge(e,r,u,x){if(e=e.options,r){r={};for(var v=0;v<u.length;v++)r["$"+u[v]]=!0;for(u=0;u<e.length;u++)v=r.hasOwnProperty("$"+e[u].value),e[u].selected!==v&&(e[u].selected=v),v&&x&&(e[u].defaultSelected=!0)}else{for(u=""+Pt(u),r=null,v=0;v<e.length;v++){if(e[v].value===u){e[v].selected=!0,x&&(e[v].defaultSelected=!0);return}r!==null||e[v].disabled||(r=e[v])}r!==null&&(r.selected=!0)}}function _n(e,r,u){if(r!=null&&(r=""+Pt(r),r!==e.value&&(e.value=r),u==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=u!=null?""+Pt(u):""}function pr(e,r,u,x){if(r==null){if(x!=null){if(u!=null)throw Error(l(92));if(j(x)){if(1<x.length)throw Error(l(93));x=x[0]}u=x}u==null&&(u=""),r=u}u=Pt(r),e.defaultValue=u,x=e.textContent,x===u&&x!==""&&x!==null&&(e.value=x)}function _a(e,r){if(r){var u=e.firstChild;if(u&&u===e.lastChild&&u.nodeType===3){u.nodeValue=r;return}}e.textContent=r}var Jl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mr(e,r,u){var x=r.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?x?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":x?e.setProperty(r,u):typeof u!="number"||u===0||Jl.has(r)?r==="float"?e.cssFloat=u:e[r]=(""+u).trim():e[r]=u+"px"}function et(e,r,u){if(r!=null&&typeof r!="object")throw Error(l(62));if(e=e.style,u!=null){for(var x in u)!u.hasOwnProperty(x)||r!=null&&r.hasOwnProperty(x)||(x.indexOf("--")===0?e.setProperty(x,""):x==="float"?e.cssFloat="":e[x]="");for(var v in r)x=r[v],r.hasOwnProperty(v)&&u[v]!==x&&mr(e,v,x)}else for(var S in r)r.hasOwnProperty(S)&&mr(e,S,r[S])}function tn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(e){return Mc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Oa=null;function ms(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,dn=null;function Ba(e){var r=vn(e);if(r&&(e=r.stateNode)){var u=e[Xn]||null;e:switch(e=r.stateNode,r.type){case"input":if(In(e,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),r=u.name,u.type==="radio"&&r!=null){for(u=e;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+At(""+r)+'"][type="radio"]'),r=0;r<u.length;r++){var x=u[r];if(x!==e&&x.form===e.form){var v=x[Xn]||null;if(!v)throw Error(l(90));In(x,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(r=0;r<u.length;r++)x=u[r],x.form===e.form&&mi(x)}break e;case"textarea":_n(e,u.value,u.defaultValue);break e;case"select":r=u.value,r!=null&&Ge(e,!!u.multiple,r,!1)}}}var Kr=!1;function at(e,r,u){if(Kr)return e(r,u);Kr=!0;try{var x=e(r);return x}finally{if(Kr=!1,(Na!==null||dn!==null)&&(Yu(),Na&&(r=Na,e=dn,dn=Na=null,Ba(r),e)))for(r=0;r<e.length;r++)Ba(e[r])}}function ys(e,r){var u=e.stateNode;if(u===null)return null;var x=u[Xn]||null;if(x===null)return null;u=x[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(e=e.type,x=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!x;break e;default:e=!1}if(e)return null;if(u&&typeof u!="function")throw Error(l(231,r,typeof u));return u}var ht=!1;if(lr)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){ht=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{ht=!1}var _i=null,Es=null,vs=null;function Di(){if(vs)return vs;var e,r=Es,u=r.length,x,v="value"in _i?_i.value:_i.textContent,S=v.length;for(e=0;e<u&&r[e]===v[e];e++);var L=u-e;for(x=1;x<=L&&r[u-x]===v[S-x];x++);return vs=v.slice(e,1<x?1-x:void 0)}function ll(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Ra(){return!1}function Mn(e){function r(u,x,v,S,L){this._reactName=u,this._targetInst=v,this.type=x,this.nativeEvent=S,this.target=L,this.currentTarget=null;for(var G in e)e.hasOwnProperty(G)&&(u=e[G],this[G]=u?u(S):S[G]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Oi:Ra,this.isPropagationStopped=Ra,this}return Z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),r}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=Mn(Ni),yi=Z({},Ni,{view:0,detail:0}),or=Mn(yi),ol,ul,Ia,cl=Z({},yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ia&&(Ia&&e.type==="mousemove"?(ol=e.screenX-Ia.screenX,ul=e.screenY-Ia.screenY):ul=ol=0,Ia=e),ol)},movementY:function(e){return"movementY"in e?e.movementY:ul}}),cu=Mn(cl),Lc=Z({},cl,{dataTransfer:0}),Vt=Mn(Lc),fu=Z({},yi,{relatedTarget:0}),Ma=Mn(fu),Ri=Z({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Mn(Ri),Ee=Z({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Et=Mn(Ee),Hn=Z({},Ni,{data:0}),ws=Mn(Hn),du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uc(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Pc[e])?!!r[e]:!1}function bs(){return Uc}var Dn=Z({},yi,{key:function(e){if(e.key){var r=du[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=ll(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(e){return e.type==="keypress"?ll(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ll(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$l=Mn(Dn),gn=Z({},cl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=Mn(gn),Wi=Z({},yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Yt=Mn(Wi),nt=Z({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=Mn(nt),nn=Z({},cl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qi=Mn(nn),La=Z({},Ni,{newState:0,oldState:0}),zc=Mn(La),Jr=[9,13,27,32],Cs=lr&&"CompositionEvent"in window,ka=null;lr&&"documentMode"in document&&(ka=document.documentMode);var eo=lr&&"TextEvent"in window&&!ka,to=lr&&(!Cs||ka&&8<ka&&11>=ka),no=" ",hu=!1;function Ki(e,r){switch(e){case"keyup":return Jr.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function Ss(e,r){switch(e){case"compositionend":return fl(r);case"keypress":return r.which!==32?null:(hu=!0,no);case"textInput":return e=r.data,e===no&&hu?null:e;default:return null}}function Hc(e,r){if(Fa)return e==="compositionend"||!Cs&&Ki(e,r)?(e=Di(),vs=Es=_i=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return to&&r.locale!=="ko"?null:r.data;default:return null}}var Ii={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ts(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Ii[e.type]:r==="textarea"}function yr(e,r,u,x){Na?dn?dn.push(x):dn=[x]:Na=x,r=Ku(r,"onChange"),0<r.length&&(u=new Bi("onChange","change",null,u,x),e.push({event:u,listeners:r}))}var Pa=null,ur=null;function qc(e){Tg(e,0)}function Ua(e){var r=qt(e);if(mi(r))return e}function xu(e,r){if(e==="change")return r}var ro=!1;if(lr){var Or;if(lr){var io="oninput"in document;if(!io){var dl=document.createElement("div");dl.setAttribute("oninput","return;"),io=typeof dl.oninput=="function"}Or=io}else Or=!1;ro=Or&&(!document.documentMode||9<document.documentMode)}function ja(){Pa&&(Pa.detachEvent("onpropertychange",Rt),ur=Pa=null)}function Rt(e){if(e.propertyName==="value"&&Ua(ur)){var r=[];yr(r,ur,e,ms(e)),at(qc,r)}}function hl(e,r,u){e==="focusin"?(ja(),Pa=r,ur=u,Pa.attachEvent("onpropertychange",Rt)):e==="focusout"&&ja()}function P(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ua(ur)}function t(e,r){if(e==="click")return Ua(r)}function a(e,r){if(e==="input"||e==="change")return Ua(r)}function o(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var c=typeof Object.is=="function"?Object.is:o;function h(e,r){if(c(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var u=Object.keys(e),x=Object.keys(r);if(u.length!==x.length)return!1;for(x=0;x<u.length;x++){var v=u[x];if(!Xe.call(r,v)||!c(e[v],r[v]))return!1}return!0}function p(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,r){var u=p(e);e=0;for(var x;u;){if(u.nodeType===3){if(x=e+u.textContent.length,e<=r&&x>=r)return{node:u,offset:r-e};e=x}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=p(u)}}function A(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?A(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function _(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=sl(e.document);r instanceof e.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)e=r.contentWindow;else break;r=sl(e.document)}return r}function R(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function U(e,r){var u=_(r);r=e.focusedElem;var x=e.selectionRange;if(u!==r&&r&&r.ownerDocument&&A(r.ownerDocument.documentElement,r)){if(x!==null&&R(r)){if(e=x.start,u=x.end,u===void 0&&(u=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(u,r.value.length);else if(u=(e=r.ownerDocument||document)&&e.defaultView||window,u.getSelection){u=u.getSelection();var v=r.textContent.length,S=Math.min(x.start,v);x=x.end===void 0?S:Math.min(x.end,v),!u.extend&&S>x&&(v=x,x=S,S=v),v=y(r,S);var L=y(r,x);v&&L&&(u.rangeCount!==1||u.anchorNode!==v.node||u.anchorOffset!==v.offset||u.focusNode!==L.node||u.focusOffset!==L.offset)&&(e=e.createRange(),e.setStart(v.node,v.offset),u.removeAllRanges(),S>x?(u.addRange(e),u.extend(L.node,L.offset)):(e.setEnd(L.node,L.offset),u.addRange(e)))}}for(e=[],u=r;u=u.parentNode;)u.nodeType===1&&e.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)u=e[r],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var z=lr&&"documentMode"in document&&11>=document.documentMode,J=null,ae=null,le=null,xe=!1;function ve(e,r,u){var x=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xe||J==null||J!==sl(x)||(x=J,"selectionStart"in x&&R(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),le&&h(le,x)||(le=x,x=Ku(ae,"onSelect"),0<x.length&&(r=new Bi("onSelect","select",null,r,u),e.push({event:r,listeners:x}),r.target=J)))}function Ie(e,r){var u={};return u[e.toLowerCase()]=r.toLowerCase(),u["Webkit"+e]="webkit"+r,u["Moz"+e]="moz"+r,u}var Me={animationend:Ie("Animation","AnimationEnd"),animationiteration:Ie("Animation","AnimationIteration"),animationstart:Ie("Animation","AnimationStart"),transitionrun:Ie("Transition","TransitionRun"),transitionstart:Ie("Transition","TransitionStart"),transitioncancel:Ie("Transition","TransitionCancel"),transitionend:Ie("Transition","TransitionEnd")},Be={},Ct={};lr&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Me.animationend.animation,delete Me.animationiteration.animation,delete Me.animationstart.animation),"TransitionEvent"in window||delete Me.transitionend.transition);function lt(e){if(Be[e])return Be[e];if(!Me[e])return e;var r=Me[e],u;for(u in r)if(r.hasOwnProperty(u)&&u in Ct)return Be[e]=r[u];return e}var tr=lt("animationend"),Nr=lt("animationiteration"),nr=lt("animationstart"),Xt=lt("transitionrun"),qn=lt("transitionstart"),Er=lt("transitioncancel"),Ji=lt("transitionend"),$i=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Pr(e,r){$i.set(e,r),Zi(r,[e])}var $r=[],xl=0,Vc=0;function pu(){for(var e=xl,r=Vc=xl=0;r<e;){var u=$r[r];$r[r++]=null;var x=$r[r];$r[r++]=null;var v=$r[r];$r[r++]=null;var S=$r[r];if($r[r++]=null,x!==null&&v!==null){var L=x.pending;L===null?v.next=v:(v.next=L.next,L.next=v),x.pending=v}S!==0&&yh(u,v,S)}}function mu(e,r,u,x){$r[xl++]=e,$r[xl++]=r,$r[xl++]=u,$r[xl++]=x,Vc|=x,e.lanes|=x,e=e.alternate,e!==null&&(e.lanes|=x)}function Gc(e,r,u,x){return mu(e,r,u,x),yu(e)}function za(e,r){return mu(e,null,null,r),yu(e)}function yh(e,r,u){e.lanes|=u;var x=e.alternate;x!==null&&(x.lanes|=u);for(var v=!1,S=e.return;S!==null;)S.childLanes|=u,x=S.alternate,x!==null&&(x.childLanes|=u),S.tag===22&&(e=S.stateNode,e===null||e._visibility&1||(v=!0)),e=S,S=S.return;v&&r!==null&&e.tag===3&&(S=e.stateNode,v=31-dt(u),S=S.hiddenUpdates,e=S[v],e===null?S[v]=[r]:e.push(r),r.lane=u|536870912)}function yu(e){if(50<No)throw No=0,Jf=null,Error(l(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var gl={},Eh=new WeakMap;function ei(e,r){if(typeof e=="object"&&e!==null){var u=Eh.get(e);return u!==void 0?u:(r={value:e,source:r,stack:we(r)},Eh.set(e,r),r)}return{value:e,source:r,stack:we(r)}}var pl=[],ml=0,Eu=null,vu=0,ti=[],ni=0,_s=null,ea=1,ta="";function Ds(e,r){pl[ml++]=vu,pl[ml++]=Eu,Eu=e,vu=r}function vh(e,r,u){ti[ni++]=ea,ti[ni++]=ta,ti[ni++]=_s,_s=e;var x=ea;e=ta;var v=32-dt(x)-1;x&=~(1<<v),u+=1;var S=32-dt(r)+v;if(30<S){var L=v-v%5;S=(x&(1<<L)-1).toString(32),x>>=L,v-=L,ea=1<<32-dt(r)+v|u<<v|x,ta=S+e}else ea=1<<S|u<<v|x,ta=e}function Yc(e){e.return!==null&&(Ds(e,1),vh(e,1,0))}function Xc(e){for(;e===Eu;)Eu=pl[--ml],pl[ml]=null,vu=pl[--ml],pl[ml]=null;for(;e===_s;)_s=ti[--ni],ti[ni]=null,ta=ti[--ni],ti[ni]=null,ea=ti[--ni],ti[ni]=null}var vr=null,rr=null,Ut=!1,Ei=null,Mi=!1,Zc=Error(l(519));function Os(e){var r=Error(l(418,""));throw lo(ei(r,e)),Zc}function wh(e){var r=e.stateNode,u=e.type,x=e.memoizedProps;switch(r[pn]=e,r[Xn]=x,u){case"dialog":It("cancel",r),It("close",r);break;case"iframe":case"object":case"embed":It("load",r);break;case"video":case"audio":for(u=0;u<Ro.length;u++)It(Ro[u],r);break;case"source":It("error",r);break;case"img":case"image":case"link":It("error",r),It("load",r);break;case"details":It("toggle",r);break;case"input":It("invalid",r),ge(r,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),sn(r);break;case"select":It("invalid",r);break;case"textarea":It("invalid",r),pr(r,x.value,x.defaultValue,x.children),sn(r)}u=x.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||r.textContent===""+u||x.suppressHydrationWarning===!0||Ng(r.textContent,u)?(x.popover!=null&&(It("beforetoggle",r),It("toggle",r)),x.onScroll!=null&&It("scroll",r),x.onScrollEnd!=null&&It("scrollend",r),x.onClick!=null&&(r.onclick=Ju),r=!0):r=!1,r||Os(e)}function bh(e){for(vr=e.return;vr;)switch(vr.tag){case 3:case 27:Mi=!0;return;case 5:case 13:Mi=!1;return;default:vr=vr.return}}function ao(e){if(e!==vr)return!1;if(!Ut)return bh(e),Ut=!0,!1;var r=!1,u;if((u=e.tag!==3&&e.tag!==27)&&((u=e.tag===5)&&(u=e.type,u=!(u!=="form"&&u!=="button")||g1(e.type,e.memoizedProps)),u=!u),u&&(r=!0),r&&rr&&Os(e),bh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8)if(u=e.data,u==="/$"){if(r===0){rr=wi(e.nextSibling);break e}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++;e=e.nextSibling}rr=null}}else rr=vr?wi(e.stateNode.nextSibling):null;return!0}function so(){rr=vr=null,Ut=!1}function lo(e){Ei===null?Ei=[e]:Ei.push(e)}var oo=Error(l(460)),Ah=Error(l(474)),Wc={then:function(){}};function Ch(e){return e=e.status,e==="fulfilled"||e==="rejected"}function wu(){}function Sh(e,r,u){switch(u=e[u],u===void 0?e.push(r):u!==r&&(r.then(wu,wu),r=u),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===oo?Error(l(483)):e;default:if(typeof r.status=="string")r.then(wu,wu);else{if(e=ln,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=r,e.status="pending",e.then(function(x){if(r.status==="pending"){var v=r;v.status="fulfilled",v.value=x}},function(x){if(r.status==="pending"){var v=r;v.status="rejected",v.reason=x}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,e===oo?Error(l(483)):e}throw uo=r,oo}}var uo=null;function Th(){if(uo===null)throw Error(l(459));var e=uo;return uo=null,e}var yl=null,co=0;function bu(e){var r=co;return co+=1,yl===null&&(yl=[]),Sh(yl,e,r)}function fo(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function Au(e,r){throw r.$$typeof===f?Error(l(525)):(e=Object.prototype.toString.call(r),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function _h(e){var r=e._init;return r(e._payload)}function Dh(e){function r(he,ue){if(e){var pe=he.deletions;pe===null?(he.deletions=[ue],he.flags|=16):pe.push(ue)}}function u(he,ue){if(!e)return null;for(;ue!==null;)r(he,ue),ue=ue.sibling;return null}function x(he){for(var ue=new Map;he!==null;)he.key!==null?ue.set(he.key,he):ue.set(he.index,he),he=he.sibling;return ue}function v(he,ue){return he=$a(he,ue),he.index=0,he.sibling=null,he}function S(he,ue,pe){return he.index=pe,e?(pe=he.alternate,pe!==null?(pe=pe.index,pe<ue?(he.flags|=33554434,ue):pe):(he.flags|=33554434,ue)):(he.flags|=1048576,ue)}function L(he){return e&&he.alternate===null&&(he.flags|=33554434),he}function G(he,ue,pe,De){return ue===null||ue.tag!==6?(ue=Vf(pe,he.mode,De),ue.return=he,ue):(ue=v(ue,pe),ue.return=he,ue)}function re(he,ue,pe,De){var Ve=pe.type;return Ve===b?Se(he,ue,pe.props.children,De,pe.key):ue!==null&&(ue.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===M&&_h(Ve)===ue.type)?(ue=v(ue,pe.props),fo(ue,pe),ue.return=he,ue):(ue=zu(pe.type,pe.key,pe.props,null,he.mode,De),fo(ue,pe),ue.return=he,ue)}function ce(he,ue,pe,De){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==pe.containerInfo||ue.stateNode.implementation!==pe.implementation?(ue=Gf(pe,he.mode,De),ue.return=he,ue):(ue=v(ue,pe.children||[]),ue.return=he,ue)}function Se(he,ue,pe,De,Ve){return ue===null||ue.tag!==7?(ue=Us(pe,he.mode,De,Ve),ue.return=he,ue):(ue=v(ue,pe),ue.return=he,ue)}function Re(he,ue,pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ue=Vf(""+ue,he.mode,pe),ue.return=he,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case m:return pe=zu(ue.type,ue.key,ue.props,null,he.mode,pe),fo(pe,ue),pe.return=he,pe;case E:return ue=Gf(ue,he.mode,pe),ue.return=he,ue;case M:var De=ue._init;return ue=De(ue._payload),Re(he,ue,pe)}if(j(ue)||q(ue))return ue=Us(ue,he.mode,pe,null),ue.return=he,ue;if(typeof ue.then=="function")return Re(he,bu(ue),pe);if(ue.$$typeof===T)return Re(he,Pu(he,ue),pe);Au(he,ue)}return null}function ye(he,ue,pe,De){var Ve=ue!==null?ue.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ve!==null?null:G(he,ue,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case m:return pe.key===Ve?re(he,ue,pe,De):null;case E:return pe.key===Ve?ce(he,ue,pe,De):null;case M:return Ve=pe._init,pe=Ve(pe._payload),ye(he,ue,pe,De)}if(j(pe)||q(pe))return Ve!==null?null:Se(he,ue,pe,De,null);if(typeof pe.then=="function")return ye(he,ue,bu(pe),De);if(pe.$$typeof===T)return ye(he,ue,Pu(he,pe),De);Au(he,pe)}return null}function Ce(he,ue,pe,De,Ve){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return he=he.get(pe)||null,G(ue,he,""+De,Ve);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case m:return he=he.get(De.key===null?pe:De.key)||null,re(ue,he,De,Ve);case E:return he=he.get(De.key===null?pe:De.key)||null,ce(ue,he,De,Ve);case M:var Dt=De._init;return De=Dt(De._payload),Ce(he,ue,pe,De,Ve)}if(j(De)||q(De))return he=he.get(pe)||null,Se(ue,he,De,Ve,null);if(typeof De.then=="function")return Ce(he,ue,pe,bu(De),Ve);if(De.$$typeof===T)return Ce(he,ue,pe,Pu(ue,De),Ve);Au(ue,De)}return null}function Qe(he,ue,pe,De){for(var Ve=null,Dt=null,tt=ue,ot=ue=0,Kn=null;tt!==null&&ot<pe.length;ot++){tt.index>ot?(Kn=tt,tt=null):Kn=tt.sibling;var jt=ye(he,tt,pe[ot],De);if(jt===null){tt===null&&(tt=Kn);break}e&&tt&&jt.alternate===null&&r(he,tt),ue=S(jt,ue,ot),Dt===null?Ve=jt:Dt.sibling=jt,Dt=jt,tt=Kn}if(ot===pe.length)return u(he,tt),Ut&&Ds(he,ot),Ve;if(tt===null){for(;ot<pe.length;ot++)tt=Re(he,pe[ot],De),tt!==null&&(ue=S(tt,ue,ot),Dt===null?Ve=tt:Dt.sibling=tt,Dt=tt);return Ut&&Ds(he,ot),Ve}for(tt=x(tt);ot<pe.length;ot++)Kn=Ce(tt,he,ot,pe[ot],De),Kn!==null&&(e&&Kn.alternate!==null&&tt.delete(Kn.key===null?ot:Kn.key),ue=S(Kn,ue,ot),Dt===null?Ve=Kn:Dt.sibling=Kn,Dt=Kn);return e&&tt.forEach(function(ss){return r(he,ss)}),Ut&&Ds(he,ot),Ve}function xt(he,ue,pe,De){if(pe==null)throw Error(l(151));for(var Ve=null,Dt=null,tt=ue,ot=ue=0,Kn=null,jt=pe.next();tt!==null&&!jt.done;ot++,jt=pe.next()){tt.index>ot?(Kn=tt,tt=null):Kn=tt.sibling;var ss=ye(he,tt,jt.value,De);if(ss===null){tt===null&&(tt=Kn);break}e&&tt&&ss.alternate===null&&r(he,tt),ue=S(ss,ue,ot),Dt===null?Ve=ss:Dt.sibling=ss,Dt=ss,tt=Kn}if(jt.done)return u(he,tt),Ut&&Ds(he,ot),Ve;if(tt===null){for(;!jt.done;ot++,jt=pe.next())jt=Re(he,jt.value,De),jt!==null&&(ue=S(jt,ue,ot),Dt===null?Ve=jt:Dt.sibling=jt,Dt=jt);return Ut&&Ds(he,ot),Ve}for(tt=x(tt);!jt.done;ot++,jt=pe.next())jt=Ce(tt,he,ot,jt.value,De),jt!==null&&(e&&jt.alternate!==null&&tt.delete(jt.key===null?ot:jt.key),ue=S(jt,ue,ot),Dt===null?Ve=jt:Dt.sibling=jt,Dt=jt);return e&&tt.forEach(function(K3){return r(he,K3)}),Ut&&Ds(he,ot),Ve}function An(he,ue,pe,De){if(typeof pe=="object"&&pe!==null&&pe.type===b&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case m:e:{for(var Ve=pe.key;ue!==null;){if(ue.key===Ve){if(Ve=pe.type,Ve===b){if(ue.tag===7){u(he,ue.sibling),De=v(ue,pe.props.children),De.return=he,he=De;break e}}else if(ue.elementType===Ve||typeof Ve=="object"&&Ve!==null&&Ve.$$typeof===M&&_h(Ve)===ue.type){u(he,ue.sibling),De=v(ue,pe.props),fo(De,pe),De.return=he,he=De;break e}u(he,ue);break}else r(he,ue);ue=ue.sibling}pe.type===b?(De=Us(pe.props.children,he.mode,De,pe.key),De.return=he,he=De):(De=zu(pe.type,pe.key,pe.props,null,he.mode,De),fo(De,pe),De.return=he,he=De)}return L(he);case E:e:{for(Ve=pe.key;ue!==null;){if(ue.key===Ve)if(ue.tag===4&&ue.stateNode.containerInfo===pe.containerInfo&&ue.stateNode.implementation===pe.implementation){u(he,ue.sibling),De=v(ue,pe.children||[]),De.return=he,he=De;break e}else{u(he,ue);break}else r(he,ue);ue=ue.sibling}De=Gf(pe,he.mode,De),De.return=he,he=De}return L(he);case M:return Ve=pe._init,pe=Ve(pe._payload),An(he,ue,pe,De)}if(j(pe))return Qe(he,ue,pe,De);if(q(pe)){if(Ve=q(pe),typeof Ve!="function")throw Error(l(150));return pe=Ve.call(pe),xt(he,ue,pe,De)}if(typeof pe.then=="function")return An(he,ue,bu(pe),De);if(pe.$$typeof===T)return An(he,ue,Pu(he,pe),De);Au(he,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ue!==null&&ue.tag===6?(u(he,ue.sibling),De=v(ue,pe),De.return=he,he=De):(u(he,ue),De=Vf(pe,he.mode,De),De.return=he,he=De),L(he)):u(he,ue)}return function(he,ue,pe,De){try{co=0;var Ve=An(he,ue,pe,De);return yl=null,Ve}catch(tt){if(tt===oo)throw tt;var Dt=si(29,tt,null,he.mode);return Dt.lanes=De,Dt.return=he,Dt}finally{}}}var Ns=Dh(!0),Oh=Dh(!1),El=Te(null),Cu=Te(0);function Nh(e,r){e=da,Ze(Cu,e),Ze(El,r),da=e|r.baseLanes}function Qc(){Ze(Cu,da),Ze(El,El.current)}function Kc(){da=Cu.current,Ye(El),Ye(Cu)}var ri=Te(null),Li=null;function Ha(e){var r=e.alternate;Ze(Vn,Vn.current&1),Ze(ri,e),Li===null&&(r===null||El.current!==null||r.memoizedState!==null)&&(Li=e)}function Bh(e){if(e.tag===22){if(Ze(Vn,Vn.current),Ze(ri,e),Li===null){var r=e.alternate;r!==null&&r.memoizedState!==null&&(Li=e)}}else qa()}function qa(){Ze(Vn,Vn.current),Ze(ri,ri.current)}function na(e){Ye(ri),Li===e&&(Li=null),Ye(Vn)}var Vn=Te(0);function Su(e){for(var r=e;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var P4=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(u,x){e.push(x)}};this.abort=function(){r.aborted=!0,e.forEach(function(u){return u()})}},U4=n.unstable_scheduleCallback,j4=n.unstable_NormalPriority,Gn={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jc(){return{controller:new P4,data:new Map,refCount:0}}function ho(e){e.refCount--,e.refCount===0&&U4(j4,function(){e.controller.abort()})}var xo=null,$c=0,vl=0,wl=null;function z4(e,r){if(xo===null){var u=xo=[];$c=0,vl=s1(),wl={status:"pending",value:void 0,then:function(x){u.push(x)}}}return $c++,r.then(Rh,Rh),r}function Rh(){if(--$c===0&&xo!==null){wl!==null&&(wl.status="fulfilled");var e=xo;xo=null,vl=0,wl=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function H4(e,r){var u=[],x={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return e.then(function(){x.status="fulfilled",x.value=r;for(var v=0;v<u.length;v++)(0,u[v])(r)},function(v){for(x.status="rejected",x.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),x}var Ih=X.S;X.S=function(e,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&z4(e,r),Ih!==null&&Ih(e,r)};var Bs=Te(null);function ef(){var e=Bs.current;return e!==null?e:ln.pooledCache}function Tu(e,r){r===null?Ze(Bs,Bs.current):Ze(Bs,r.pool)}function Mh(){var e=ef();return e===null?null:{parent:Gn._currentValue,pool:e}}var Va=0,St=null,Kt=null,Ln=null,_u=!1,bl=!1,Rs=!1,Du=0,go=0,Al=null,q4=0;function On(){throw Error(l(321))}function tf(e,r){if(r===null)return!1;for(var u=0;u<r.length&&u<e.length;u++)if(!c(e[u],r[u]))return!1;return!0}function nf(e,r,u,x,v,S){return Va=S,St=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=e===null||e.memoizedState===null?Is:Ga,Rs=!1,S=u(x,v),Rs=!1,bl&&(S=kh(r,u,x,v)),Lh(e),S}function Lh(e){X.H=ki;var r=Kt!==null&&Kt.next!==null;if(Va=0,Ln=Kt=St=null,_u=!1,go=0,Al=null,r)throw Error(l(300));e===null||Wn||(e=e.dependencies,e!==null&&Fu(e)&&(Wn=!0))}function kh(e,r,u,x){St=e;var v=0;do{if(bl&&(Al=null),go=0,bl=!1,25<=v)throw Error(l(301));if(v+=1,Ln=Kt=null,e.updateQueue!=null){var S=e.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}X.H=Ms,S=r(u,x)}while(bl);return S}function V4(){var e=X.H,r=e.useState()[0];return r=typeof r.then=="function"?po(r):r,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(St.flags|=1024),r}function rf(){var e=Du!==0;return Du=0,e}function af(e,r,u){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~u}function sf(e){if(_u){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}_u=!1}Va=0,Ln=Kt=St=null,bl=!1,go=Du=0,Al=null}function Br(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?St.memoizedState=Ln=e:Ln=Ln.next=e,Ln}function kn(){if(Kt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var r=Ln===null?St.memoizedState:Ln.next;if(r!==null)Ln=r,Kt=e;else{if(e===null)throw St.alternate===null?Error(l(467)):Error(l(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Ln===null?St.memoizedState=Ln=e:Ln=Ln.next=e}return Ln}var Ou;Ou=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function po(e){var r=go;return go+=1,Al===null&&(Al=[]),e=Sh(Al,e,r),r=St,(Ln===null?r.memoizedState:Ln.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Is:Ga),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return po(e);if(e.$$typeof===T)return cr(e)}throw Error(l(438,String(e)))}function lf(e){var r=null,u=St.updateQueue;if(u!==null&&(r=u.memoCache),r==null){var x=St.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(r={data:x.data.map(function(v){return v.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),u===null&&(u=Ou(),St.updateQueue=u),u.memoCache=r,u=r.data[r.index],u===void 0)for(u=r.data[r.index]=Array(e),x=0;x<e;x++)u[x]=V;return r.index++,u}function ra(e,r){return typeof r=="function"?r(e):r}function Bu(e){var r=kn();return of(r,Kt,e)}function of(e,r,u){var x=e.queue;if(x===null)throw Error(l(311));x.lastRenderedReducer=u;var v=e.baseQueue,S=x.pending;if(S!==null){if(v!==null){var L=v.next;v.next=S.next,S.next=L}r.baseQueue=v=S,x.pending=null}if(S=e.baseState,v===null)e.memoizedState=S;else{r=v.next;var G=L=null,re=null,ce=r,Se=!1;do{var Re=ce.lane&-536870913;if(Re!==ce.lane?(kt&Re)===Re:(Va&Re)===Re){var ye=ce.revertLane;if(ye===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),Re===vl&&(Se=!0);else if((Va&ye)===ye){ce=ce.next,ye===vl&&(Se=!0);continue}else Re={lane:0,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},re===null?(G=re=Re,L=S):re=re.next=Re,St.lanes|=ye,es|=ye;Re=ce.action,Rs&&u(S,Re),S=ce.hasEagerState?ce.eagerState:u(S,Re)}else ye={lane:Re,revertLane:ce.revertLane,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},re===null?(G=re=ye,L=S):re=re.next=ye,St.lanes|=Re,es|=Re;ce=ce.next}while(ce!==null&&ce!==r);if(re===null?L=S:re.next=G,!c(S,e.memoizedState)&&(Wn=!0,Se&&(u=wl,u!==null)))throw u;e.memoizedState=S,e.baseState=L,e.baseQueue=re,x.lastRenderedState=S}return v===null&&(x.lanes=0),[e.memoizedState,x.dispatch]}function uf(e){var r=kn(),u=r.queue;if(u===null)throw Error(l(311));u.lastRenderedReducer=e;var x=u.dispatch,v=u.pending,S=r.memoizedState;if(v!==null){u.pending=null;var L=v=v.next;do S=e(S,L.action),L=L.next;while(L!==v);c(S,r.memoizedState)||(Wn=!0),r.memoizedState=S,r.baseQueue===null&&(r.baseState=S),u.lastRenderedState=S}return[S,x]}function Fh(e,r,u){var x=St,v=kn(),S=Ut;if(S){if(u===void 0)throw Error(l(407));u=u()}else u=r();var L=!c((Kt||v).memoizedState,u);if(L&&(v.memoizedState=u,Wn=!0),v=v.queue,df(jh.bind(null,x,v,e),[e]),v.getSnapshot!==r||L||Ln!==null&&Ln.memoizedState.tag&1){if(x.flags|=2048,Cl(9,Uh.bind(null,x,v,u,r),{destroy:void 0},null),ln===null)throw Error(l(349));S||(Va&60)!==0||Ph(x,r,u)}return u}function Ph(e,r,u){e.flags|=16384,e={getSnapshot:r,value:u},r=St.updateQueue,r===null?(r=Ou(),St.updateQueue=r,r.stores=[e]):(u=r.stores,u===null?r.stores=[e]:u.push(e))}function Uh(e,r,u,x){r.value=u,r.getSnapshot=x,zh(r)&&Hh(e)}function jh(e,r,u){return u(function(){zh(r)&&Hh(e)})}function zh(e){var r=e.getSnapshot;e=e.value;try{var u=r();return!c(e,u)}catch{return!0}}function Hh(e){var r=za(e,2);r!==null&&wr(r,e,2)}function cf(e){var r=Br();if(typeof e=="function"){var u=e;if(e=u(),Rs){it(!0);try{u()}finally{it(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e},r}function qh(e,r,u,x){return e.baseState=u,of(e,Kt,typeof x=="function"?x:ra)}function G4(e,r,u,x,v){if(Mu(e))throw Error(l(485));if(e=r.action,e!==null){var S={payload:v,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){S.listeners.push(L)}};X.T!==null?u(!0):S.isTransition=!1,x(S),u=r.pending,u===null?(S.next=r.pending=S,Vh(r,S)):(S.next=u.next,r.pending=u.next=S)}}function Vh(e,r){var u=r.action,x=r.payload,v=e.state;if(r.isTransition){var S=X.T,L={};X.T=L;try{var G=u(v,x),re=X.S;re!==null&&re(L,G),Gh(e,r,G)}catch(ce){ff(e,r,ce)}finally{X.T=S}}else try{S=u(v,x),Gh(e,r,S)}catch(ce){ff(e,r,ce)}}function Gh(e,r,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(x){Yh(e,r,x)},function(x){return ff(e,r,x)}):Yh(e,r,u)}function Yh(e,r,u){r.status="fulfilled",r.value=u,Xh(r),e.state=u,r=e.pending,r!==null&&(u=r.next,u===r?e.pending=null:(u=u.next,r.next=u,Vh(e,u)))}function ff(e,r,u){var x=e.pending;if(e.pending=null,x!==null){x=x.next;do r.status="rejected",r.reason=u,Xh(r),r=r.next;while(r!==x)}e.action=null}function Xh(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function Zh(e,r){return r}function Wh(e,r){if(Ut){var u=ln.formState;if(u!==null){e:{var x=St;if(Ut){if(rr){t:{for(var v=rr,S=Mi;v.nodeType!==8;){if(!S){v=null;break t}if(v=wi(v.nextSibling),v===null){v=null;break t}}S=v.data,v=S==="F!"||S==="F"?v:null}if(v){rr=wi(v.nextSibling),x=v.data==="F!";break e}}Os(x)}x=!1}x&&(r=u[0])}}return u=Br(),u.memoizedState=u.baseState=r,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zh,lastRenderedState:r},u.queue=x,u=hx.bind(null,St,x),x.dispatch=u,x=cf(!1),S=mf.bind(null,St,!1,x.queue),x=Br(),v={state:r,dispatch:null,action:e,pending:null},x.queue=v,u=G4.bind(null,St,v,S,u),v.dispatch=u,x.memoizedState=e,[r,u,!1]}function Qh(e){var r=kn();return Kh(r,Kt,e)}function Kh(e,r,u){r=of(e,r,Zh)[0],e=Bu(ra)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?po(r):r;var x=kn(),v=x.queue,S=v.dispatch;return u!==x.memoizedState&&(St.flags|=2048,Cl(9,Y4.bind(null,v,u),{destroy:void 0},null)),[r,S,e]}function Y4(e,r){e.action=r}function Jh(e){var r=kn(),u=Kt;if(u!==null)return Kh(r,u,e);kn(),r=r.memoizedState,u=kn();var x=u.queue.dispatch;return u.memoizedState=e,[r,x,!1]}function Cl(e,r,u,x){return e={tag:e,create:r,inst:u,deps:x,next:null},r=St.updateQueue,r===null&&(r=Ou(),St.updateQueue=r),u=r.lastEffect,u===null?r.lastEffect=e.next=e:(x=u.next,u.next=e,e.next=x,r.lastEffect=e),e}function $h(){return kn().memoizedState}function Ru(e,r,u,x){var v=Br();St.flags|=e,v.memoizedState=Cl(1|r,u,{destroy:void 0},x===void 0?null:x)}function Iu(e,r,u,x){var v=kn();x=x===void 0?null:x;var S=v.memoizedState.inst;Kt!==null&&x!==null&&tf(x,Kt.memoizedState.deps)?v.memoizedState=Cl(r,u,S,x):(St.flags|=e,v.memoizedState=Cl(1|r,u,S,x))}function ex(e,r){Ru(8390656,8,e,r)}function df(e,r){Iu(2048,8,e,r)}function tx(e,r){return Iu(4,2,e,r)}function nx(e,r){return Iu(4,4,e,r)}function rx(e,r){if(typeof r=="function"){e=e();var u=r(e);return function(){typeof u=="function"?u():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ix(e,r,u){u=u!=null?u.concat([e]):null,Iu(4,4,rx.bind(null,r,e),u)}function hf(){}function ax(e,r){var u=kn();r=r===void 0?null:r;var x=u.memoizedState;return r!==null&&tf(r,x[1])?x[0]:(u.memoizedState=[e,r],e)}function sx(e,r){var u=kn();r=r===void 0?null:r;var x=u.memoizedState;if(r!==null&&tf(r,x[1]))return x[0];if(x=e(),Rs){it(!0);try{e()}finally{it(!1)}}return u.memoizedState=[x,r],x}function xf(e,r,u){return u===void 0||(Va&1073741824)!==0?e.memoizedState=r:(e.memoizedState=u,e=og(),St.lanes|=e,es|=e,u)}function lx(e,r,u,x){return c(u,r)?u:El.current!==null?(e=xf(e,u,x),c(e,r)||(Wn=!0),e):(Va&42)===0?(Wn=!0,e.memoizedState=u):(e=og(),St.lanes|=e,es|=e,r)}function ox(e,r,u,x,v){var S=se.p;se.p=S!==0&&8>S?S:8;var L=X.T,G={};X.T=G,mf(e,!1,r,u);try{var re=v(),ce=X.S;if(ce!==null&&ce(G,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Se=H4(re,x);mo(e,r,Se,Hr(e))}else mo(e,r,x,Hr(e))}catch(Re){mo(e,r,{then:function(){},status:"rejected",reason:Re},Hr())}finally{se.p=S,X.T=L}}function X4(){}function gf(e,r,u,x){if(e.tag!==5)throw Error(l(476));var v=ux(e).queue;ox(e,v,r,Le,u===null?X4:function(){return cx(e),u(x)})}function ux(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:Le,baseState:Le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:Le},next:null};var u={};return r.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:u},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function cx(e){var r=ux(e).next.queue;mo(e,r,{},Hr())}function pf(){return cr(Fo)}function fx(){return kn().memoizedState}function dx(){return kn().memoizedState}function Z4(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var u=Hr();e=Za(u);var x=Wa(r,e,u);x!==null&&(wr(x,r,u),vo(x,r,u)),r={cache:Jc()},e.payload=r;return}r=r.return}}function W4(e,r,u){var x=Hr();u={lane:x,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Mu(e)?xx(r,u):(u=Gc(e,r,u,x),u!==null&&(wr(u,e,x),gx(u,r,x)))}function hx(e,r,u){var x=Hr();mo(e,r,u,x)}function mo(e,r,u,x){var v={lane:x,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Mu(e))xx(r,v);else{var S=e.alternate;if(e.lanes===0&&(S===null||S.lanes===0)&&(S=r.lastRenderedReducer,S!==null))try{var L=r.lastRenderedState,G=S(L,u);if(v.hasEagerState=!0,v.eagerState=G,c(G,L))return mu(e,r,v,0),ln===null&&pu(),!1}catch{}finally{}if(u=Gc(e,r,v,x),u!==null)return wr(u,e,x),gx(u,r,x),!0}return!1}function mf(e,r,u,x){if(x={lane:2,revertLane:s1(),action:x,hasEagerState:!1,eagerState:null,next:null},Mu(e)){if(r)throw Error(l(479))}else r=Gc(e,u,x,2),r!==null&&wr(r,e,2)}function Mu(e){var r=e.alternate;return e===St||r!==null&&r===St}function xx(e,r){bl=_u=!0;var u=e.pending;u===null?r.next=r:(r.next=u.next,u.next=r),e.pending=r}function gx(e,r,u){if((u&4194176)!==0){var x=r.lanes;x&=e.pendingLanes,u|=x,r.lanes=u,gr(e,u)}}var ki={readContext:cr,use:Nu,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On};ki.useCacheRefresh=On,ki.useMemoCache=On,ki.useHostTransitionStatus=On,ki.useFormState=On,ki.useActionState=On,ki.useOptimistic=On;var Is={readContext:cr,use:Nu,useCallback:function(e,r){return Br().memoizedState=[e,r===void 0?null:r],e},useContext:cr,useEffect:ex,useImperativeHandle:function(e,r,u){u=u!=null?u.concat([e]):null,Ru(4194308,4,rx.bind(null,r,e),u)},useLayoutEffect:function(e,r){return Ru(4194308,4,e,r)},useInsertionEffect:function(e,r){Ru(4,2,e,r)},useMemo:function(e,r){var u=Br();r=r===void 0?null:r;var x=e();if(Rs){it(!0);try{e()}finally{it(!1)}}return u.memoizedState=[x,r],x},useReducer:function(e,r,u){var x=Br();if(u!==void 0){var v=u(r);if(Rs){it(!0);try{u(r)}finally{it(!1)}}}else v=r;return x.memoizedState=x.baseState=v,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:v},x.queue=e,e=e.dispatch=W4.bind(null,St,e),[x.memoizedState,e]},useRef:function(e){var r=Br();return e={current:e},r.memoizedState=e},useState:function(e){e=cf(e);var r=e.queue,u=hx.bind(null,St,r);return r.dispatch=u,[e.memoizedState,u]},useDebugValue:hf,useDeferredValue:function(e,r){var u=Br();return xf(u,e,r)},useTransition:function(){var e=cf(!1);return e=ox.bind(null,St,e.queue,!0,!1),Br().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,u){var x=St,v=Br();if(Ut){if(u===void 0)throw Error(l(407));u=u()}else{if(u=r(),ln===null)throw Error(l(349));(kt&60)!==0||Ph(x,r,u)}v.memoizedState=u;var S={value:u,getSnapshot:r};return v.queue=S,ex(jh.bind(null,x,S,e),[e]),x.flags|=2048,Cl(9,Uh.bind(null,x,S,u,r),{destroy:void 0},null),u},useId:function(){var e=Br(),r=ln.identifierPrefix;if(Ut){var u=ta,x=ea;u=(x&~(1<<32-dt(x)-1)).toString(32)+u,r=":"+r+"R"+u,u=Du++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=q4++,r=":"+r+"r"+u.toString(32)+":";return e.memoizedState=r},useCacheRefresh:function(){return Br().memoizedState=Z4.bind(null,St)}};Is.useMemoCache=lf,Is.useHostTransitionStatus=pf,Is.useFormState=Wh,Is.useActionState=Wh,Is.useOptimistic=function(e){var r=Br();r.memoizedState=r.baseState=e;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=u,r=mf.bind(null,St,!0,u),u.dispatch=r,[e,r]};var Ga={readContext:cr,use:Nu,useCallback:ax,useContext:cr,useEffect:df,useImperativeHandle:ix,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:sx,useReducer:Bu,useRef:$h,useState:function(){return Bu(ra)},useDebugValue:hf,useDeferredValue:function(e,r){var u=kn();return lx(u,Kt.memoizedState,e,r)},useTransition:function(){var e=Bu(ra)[0],r=kn().memoizedState;return[typeof e=="boolean"?e:po(e),r]},useSyncExternalStore:Fh,useId:fx};Ga.useCacheRefresh=dx,Ga.useMemoCache=lf,Ga.useHostTransitionStatus=pf,Ga.useFormState=Qh,Ga.useActionState=Qh,Ga.useOptimistic=function(e,r){var u=kn();return qh(u,Kt,e,r)};var Ms={readContext:cr,use:Nu,useCallback:ax,useContext:cr,useEffect:df,useImperativeHandle:ix,useInsertionEffect:tx,useLayoutEffect:nx,useMemo:sx,useReducer:uf,useRef:$h,useState:function(){return uf(ra)},useDebugValue:hf,useDeferredValue:function(e,r){var u=kn();return Kt===null?xf(u,e,r):lx(u,Kt.memoizedState,e,r)},useTransition:function(){var e=uf(ra)[0],r=kn().memoizedState;return[typeof e=="boolean"?e:po(e),r]},useSyncExternalStore:Fh,useId:fx};Ms.useCacheRefresh=dx,Ms.useMemoCache=lf,Ms.useHostTransitionStatus=pf,Ms.useFormState=Jh,Ms.useActionState=Jh,Ms.useOptimistic=function(e,r){var u=kn();return Kt!==null?qh(u,Kt,e,r):(u.baseState=e,[e,u.queue.dispatch])};function yf(e,r,u,x){r=e.memoizedState,u=u(x,r),u=u==null?r:Z({},r,u),e.memoizedState=u,e.lanes===0&&(e.updateQueue.baseState=u)}var Ef={isMounted:function(e){return(e=e._reactInternals)?_e(e)===e:!1},enqueueSetState:function(e,r,u){e=e._reactInternals;var x=Hr(),v=Za(x);v.payload=r,u!=null&&(v.callback=u),r=Wa(e,v,x),r!==null&&(wr(r,e,x),vo(r,e,x))},enqueueReplaceState:function(e,r,u){e=e._reactInternals;var x=Hr(),v=Za(x);v.tag=1,v.payload=r,u!=null&&(v.callback=u),r=Wa(e,v,x),r!==null&&(wr(r,e,x),vo(r,e,x))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var u=Hr(),x=Za(u);x.tag=2,r!=null&&(x.callback=r),r=Wa(e,x,u),r!==null&&(wr(r,e,u),vo(r,e,u))}};function px(e,r,u,x,v,S,L){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(x,S,L):r.prototype&&r.prototype.isPureReactComponent?!h(u,x)||!h(v,S):!0}function mx(e,r,u,x){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,x),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,x),r.state!==e&&Ef.enqueueReplaceState(r,r.state,null)}function Ls(e,r){var u=r;if("ref"in r){u={};for(var x in r)x!=="ref"&&(u[x]=r[x])}if(e=e.defaultProps){u===r&&(u=Z({},u));for(var v in e)u[v]===void 0&&(u[v]=e[v])}return u}var Lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yx(e){Lu(e)}function Ex(e){console.error(e)}function vx(e){Lu(e)}function ku(e,r){try{var u=e.onUncaughtError;u(r.value,{componentStack:r.stack})}catch(x){setTimeout(function(){throw x})}}function wx(e,r,u){try{var x=e.onCaughtError;x(u.value,{componentStack:u.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function vf(e,r,u){return u=Za(u),u.tag=3,u.payload={element:null},u.callback=function(){ku(e,r)},u}function bx(e){return e=Za(e),e.tag=3,e}function Ax(e,r,u,x){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var S=x.value;e.payload=function(){return v(S)},e.callback=function(){wx(r,u,x)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(e.callback=function(){wx(r,u,x),typeof v!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var G=x.stack;this.componentDidCatch(x.value,{componentStack:G!==null?G:""})})}function Q4(e,r,u,x,v){if(u.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(r=u.alternate,r!==null&&Eo(r,u,v,!0),u=ri.current,u!==null){switch(u.tag){case 13:return Li===null?t1():u.alternate===null&&bn===0&&(bn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,x===Wc?u.flags|=16384:(r=u.updateQueue,r===null?u.updateQueue=new Set([x]):r.add(x),r1(e,x,v)),!1;case 22:return u.flags|=65536,x===Wc?u.flags|=16384:(r=u.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([x])},u.updateQueue=r):(u=r.retryQueue,u===null?r.retryQueue=new Set([x]):u.add(x)),r1(e,x,v)),!1}throw Error(l(435,u.tag))}return r1(e,x,v),t1(),!1}if(Ut)return r=ri.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=v,x!==Zc&&(e=Error(l(422),{cause:x}),lo(ei(e,u)))):(x!==Zc&&(r=Error(l(423),{cause:x}),lo(ei(r,u))),e=e.current.alternate,e.flags|=65536,v&=-v,e.lanes|=v,x=ei(x,u),v=vf(e.stateNode,x,v),Lf(e,v),bn!==4&&(bn=2)),!1;var S=Error(l(520),{cause:x});if(S=ei(S,u),Do===null?Do=[S]:Do.push(S),bn!==4&&(bn=2),r===null)return!0;x=ei(x,u),u=r;do{switch(u.tag){case 3:return u.flags|=65536,e=v&-v,u.lanes|=e,e=vf(u.stateNode,x,e),Lf(u,e),!1;case 1:if(r=u.type,S=u.stateNode,(u.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ts===null||!ts.has(S))))return u.flags|=65536,v&=-v,u.lanes|=v,v=bx(v),Ax(v,e,u,x),Lf(u,v),!1}u=u.return}while(u!==null);return!1}var Cx=Error(l(461)),Wn=!1;function ir(e,r,u,x){r.child=e===null?Oh(r,null,u,x):Ns(r,e.child,u,x)}function Sx(e,r,u,x,v){u=u.render;var S=r.ref;if("ref"in x){var L={};for(var G in x)G!=="ref"&&(L[G]=x[G])}else L=x;return Fs(r),x=nf(e,r,u,L,S,v),G=rf(),e!==null&&!Wn?(af(e,r,v),ia(e,r,v)):(Ut&&G&&Yc(r),r.flags|=1,ir(e,r,x,v),r.child)}function Tx(e,r,u,x,v){if(e===null){var S=u.type;return typeof S=="function"&&!qf(S)&&S.defaultProps===void 0&&u.compare===null?(r.tag=15,r.type=S,_x(e,r,S,x,v)):(e=zu(u.type,null,x,r,r.mode,v),e.ref=r.ref,e.return=r,r.child=e)}if(S=e.child,!Of(e,v)){var L=S.memoizedProps;if(u=u.compare,u=u!==null?u:h,u(L,x)&&e.ref===r.ref)return ia(e,r,v)}return r.flags|=1,e=$a(S,x),e.ref=r.ref,e.return=r,r.child=e}function _x(e,r,u,x,v){if(e!==null){var S=e.memoizedProps;if(h(S,x)&&e.ref===r.ref)if(Wn=!1,r.pendingProps=x=S,Of(e,v))(e.flags&131072)!==0&&(Wn=!0);else return r.lanes=e.lanes,ia(e,r,v)}return wf(e,r,u,x,v)}function Dx(e,r,u){var x=r.pendingProps,v=x.children,S=(r.stateNode._pendingVisibility&2)!==0,L=e!==null?e.memoizedState:null;if(yo(e,r),x.mode==="hidden"||S){if((r.flags&128)!==0){if(x=L!==null?L.baseLanes|u:u,e!==null){for(v=r.child=e.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;r.childLanes=S&~x}else r.childLanes=0,r.child=null;return Ox(e,r,x,u)}if((u&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(r,L!==null?L.cachePool:null),L!==null?Nh(r,L):Qc(),Bh(r);else return r.lanes=r.childLanes=536870912,Ox(e,r,L!==null?L.baseLanes|u:u,u)}else L!==null?(Tu(r,L.cachePool),Nh(r,L),qa(),r.memoizedState=null):(e!==null&&Tu(r,null),Qc(),qa());return ir(e,r,v,u),r.child}function Ox(e,r,u,x){var v=ef();return v=v===null?null:{parent:Gn._currentValue,pool:v},r.memoizedState={baseLanes:u,cachePool:v},e!==null&&Tu(r,null),Qc(),Bh(r),e!==null&&Eo(e,r,x,!0),null}function yo(e,r){var u=r.ref;if(u===null)e!==null&&e.ref!==null&&(r.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(l(284));(e===null||e.ref!==u)&&(r.flags|=2097664)}}function wf(e,r,u,x,v){return Fs(r),u=nf(e,r,u,x,void 0,v),x=rf(),e!==null&&!Wn?(af(e,r,v),ia(e,r,v)):(Ut&&x&&Yc(r),r.flags|=1,ir(e,r,u,v),r.child)}function Nx(e,r,u,x,v,S){return Fs(r),r.updateQueue=null,u=kh(r,x,u,v),Lh(e),x=rf(),e!==null&&!Wn?(af(e,r,S),ia(e,r,S)):(Ut&&x&&Yc(r),r.flags|=1,ir(e,r,u,S),r.child)}function Bx(e,r,u,x,v){if(Fs(r),r.stateNode===null){var S=gl,L=u.contextType;typeof L=="object"&&L!==null&&(S=cr(L)),S=new u(x,S),r.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Ef,r.stateNode=S,S._reactInternals=r,S=r.stateNode,S.props=x,S.state=r.memoizedState,S.refs={},If(r),L=u.contextType,S.context=typeof L=="object"&&L!==null?cr(L):gl,S.state=r.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(yf(r,u,L,x),S.state=r.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(L=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),L!==S.state&&Ef.enqueueReplaceState(S,S.state,null),bo(r,x,S,v),wo(),S.state=r.memoizedState),typeof S.componentDidMount=="function"&&(r.flags|=4194308),x=!0}else if(e===null){S=r.stateNode;var G=r.memoizedProps,re=Ls(u,G);S.props=re;var ce=S.context,Se=u.contextType;L=gl,typeof Se=="object"&&Se!==null&&(L=cr(Se));var Re=u.getDerivedStateFromProps;Se=typeof Re=="function"||typeof S.getSnapshotBeforeUpdate=="function",G=r.pendingProps!==G,Se||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(G||ce!==L)&&mx(r,S,x,L),Xa=!1;var ye=r.memoizedState;S.state=ye,bo(r,x,S,v),wo(),ce=r.memoizedState,G||ye!==ce||Xa?(typeof Re=="function"&&(yf(r,u,Re,x),ce=r.memoizedState),(re=Xa||px(r,u,re,x,ye,ce,L))?(Se||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(r.flags|=4194308)):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=x,r.memoizedState=ce),S.props=x,S.state=ce,S.context=L,x=re):(typeof S.componentDidMount=="function"&&(r.flags|=4194308),x=!1)}else{S=r.stateNode,Mf(e,r),L=r.memoizedProps,Se=Ls(u,L),S.props=Se,Re=r.pendingProps,ye=S.context,ce=u.contextType,re=gl,typeof ce=="object"&&ce!==null&&(re=cr(ce)),G=u.getDerivedStateFromProps,(ce=typeof G=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(L!==Re||ye!==re)&&mx(r,S,x,re),Xa=!1,ye=r.memoizedState,S.state=ye,bo(r,x,S,v),wo();var Ce=r.memoizedState;L!==Re||ye!==Ce||Xa||e!==null&&e.dependencies!==null&&Fu(e.dependencies)?(typeof G=="function"&&(yf(r,u,G,x),Ce=r.memoizedState),(Se=Xa||px(r,u,Se,x,ye,Ce,re)||e!==null&&e.dependencies!==null&&Fu(e.dependencies))?(ce||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,Ce,re),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,Ce,re)),typeof S.componentDidUpdate=="function"&&(r.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof S.componentDidUpdate!="function"||L===e.memoizedProps&&ye===e.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&ye===e.memoizedState||(r.flags|=1024),r.memoizedProps=x,r.memoizedState=Ce),S.props=x,S.state=Ce,S.context=re,x=Se):(typeof S.componentDidUpdate!="function"||L===e.memoizedProps&&ye===e.memoizedState||(r.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||L===e.memoizedProps&&ye===e.memoizedState||(r.flags|=1024),x=!1)}return S=x,yo(e,r),x=(r.flags&128)!==0,S||x?(S=r.stateNode,u=x&&typeof u.getDerivedStateFromError!="function"?null:S.render(),r.flags|=1,e!==null&&x?(r.child=Ns(r,e.child,null,v),r.child=Ns(r,null,u,v)):ir(e,r,u,v),r.memoizedState=S.state,e=r.child):e=ia(e,r,v),e}function Rx(e,r,u,x){return so(),r.flags|=256,ir(e,r,u,x),r.child}var bf={dehydrated:null,treeContext:null,retryLane:0};function Af(e){return{baseLanes:e,cachePool:Mh()}}function Cf(e,r,u){return e=e!==null?e.childLanes&~u:0,r&&(e|=li),e}function Ix(e,r,u){var x=r.pendingProps,v=!1,S=(r.flags&128)!==0,L;if((L=S)||(L=e!==null&&e.memoizedState===null?!1:(Vn.current&2)!==0),L&&(v=!0,r.flags&=-129),L=(r.flags&32)!==0,r.flags&=-33,e===null){if(Ut){if(v?Ha(r):qa(),Ut){var G=rr,re;if(re=G){e:{for(re=G,G=Mi;re.nodeType!==8;){if(!G){G=null;break e}if(re=wi(re.nextSibling),re===null){G=null;break e}}G=re}G!==null?(r.memoizedState={dehydrated:G,treeContext:_s!==null?{id:ea,overflow:ta}:null,retryLane:536870912},re=si(18,null,null,0),re.stateNode=G,re.return=r,r.child=re,vr=r,rr=null,re=!0):re=!1}re||Os(r)}if(G=r.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return G.data==="$!"?r.lanes=16:r.lanes=536870912,null;na(r)}return G=x.children,x=x.fallback,v?(qa(),v=r.mode,G=Tf({mode:"hidden",children:G},v),x=Us(x,v,u,null),G.return=r,x.return=r,G.sibling=x,r.child=G,v=r.child,v.memoizedState=Af(u),v.childLanes=Cf(e,L,u),r.memoizedState=bf,x):(Ha(r),Sf(r,G))}if(re=e.memoizedState,re!==null&&(G=re.dehydrated,G!==null)){if(S)r.flags&256?(Ha(r),r.flags&=-257,r=_f(e,r,u)):r.memoizedState!==null?(qa(),r.child=e.child,r.flags|=128,r=null):(qa(),v=x.fallback,G=r.mode,x=Tf({mode:"visible",children:x.children},G),v=Us(v,G,u,null),v.flags|=2,x.return=r,v.return=r,x.sibling=v,r.child=x,Ns(r,e.child,null,u),x=r.child,x.memoizedState=Af(u),x.childLanes=Cf(e,L,u),r.memoizedState=bf,r=v);else if(Ha(r),G.data==="$!"){if(L=G.nextSibling&&G.nextSibling.dataset,L)var ce=L.dgst;L=ce,x=Error(l(419)),x.stack="",x.digest=L,lo({value:x,source:null,stack:null}),r=_f(e,r,u)}else if(Wn||Eo(e,r,u,!1),L=(u&e.childLanes)!==0,Wn||L){if(L=ln,L!==null){if(x=u&-u,(x&42)!==0)x=1;else switch(x){case 2:x=1;break;case 8:x=4;break;case 32:x=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:x=64;break;case 268435456:x=134217728;break;default:x=0}if(x=(x&(L.suspendedLanes|u))!==0?0:x,x!==0&&x!==re.retryLane)throw re.retryLane=x,za(e,x),wr(L,e,x),Cx}G.data==="$?"||t1(),r=_f(e,r,u)}else G.data==="$?"?(r.flags|=128,r.child=e.child,r=f3.bind(null,e),G._reactRetry=r,r=null):(e=re.treeContext,rr=wi(G.nextSibling),vr=r,Ut=!0,Ei=null,Mi=!1,e!==null&&(ti[ni++]=ea,ti[ni++]=ta,ti[ni++]=_s,ea=e.id,ta=e.overflow,_s=r),r=Sf(r,x.children),r.flags|=4096);return r}return v?(qa(),v=x.fallback,G=r.mode,re=e.child,ce=re.sibling,x=$a(re,{mode:"hidden",children:x.children}),x.subtreeFlags=re.subtreeFlags&31457280,ce!==null?v=$a(ce,v):(v=Us(v,G,u,null),v.flags|=2),v.return=r,x.return=r,x.sibling=v,r.child=x,x=v,v=r.child,G=e.child.memoizedState,G===null?G=Af(u):(re=G.cachePool,re!==null?(ce=Gn._currentValue,re=re.parent!==ce?{parent:ce,pool:ce}:re):re=Mh(),G={baseLanes:G.baseLanes|u,cachePool:re}),v.memoizedState=G,v.childLanes=Cf(e,L,u),r.memoizedState=bf,x):(Ha(r),u=e.child,e=u.sibling,u=$a(u,{mode:"visible",children:x.children}),u.return=r,u.sibling=null,e!==null&&(L=r.deletions,L===null?(r.deletions=[e],r.flags|=16):L.push(e)),r.child=u,r.memoizedState=null,u)}function Sf(e,r){return r=Tf({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Tf(e,r){return ag(e,r,0,null)}function _f(e,r,u){return Ns(r,e.child,null,u),e=Sf(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Mx(e,r,u){e.lanes|=r;var x=e.alternate;x!==null&&(x.lanes|=r),Bf(e.return,r,u)}function Df(e,r,u,x,v){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:x,tail:u,tailMode:v}:(S.isBackwards=r,S.rendering=null,S.renderingStartTime=0,S.last=x,S.tail=u,S.tailMode=v)}function Lx(e,r,u){var x=r.pendingProps,v=x.revealOrder,S=x.tail;if(ir(e,r,x.children,u),x=Vn.current,(x&2)!==0)x=x&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mx(e,u,r);else if(e.tag===19)Mx(e,u,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}x&=1}switch(Ze(Vn,x),v){case"forwards":for(u=r.child,v=null;u!==null;)e=u.alternate,e!==null&&Su(e)===null&&(v=u),u=u.sibling;u=v,u===null?(v=r.child,r.child=null):(v=u.sibling,u.sibling=null),Df(r,!1,v,u,S);break;case"backwards":for(u=null,v=r.child,r.child=null;v!==null;){if(e=v.alternate,e!==null&&Su(e)===null){r.child=v;break}e=v.sibling,v.sibling=u,u=v,v=e}Df(r,!0,u,null,S);break;case"together":Df(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ia(e,r,u){if(e!==null&&(r.dependencies=e.dependencies),es|=r.lanes,(u&r.childLanes)===0)if(e!==null){if(Eo(e,r,u,!1),(u&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(l(153));if(r.child!==null){for(e=r.child,u=$a(e,e.pendingProps),r.child=u,u.return=r;e.sibling!==null;)e=e.sibling,u=u.sibling=$a(e,e.pendingProps),u.return=r;u.sibling=null}return r.child}function Of(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&Fu(e)))}function K4(e,r,u){switch(r.tag){case 3:yt(r,r.stateNode.containerInfo),Ya(r,Gn,e.memoizedState.cache),so();break;case 27:case 5:rt(r);break;case 4:yt(r,r.stateNode.containerInfo);break;case 10:Ya(r,r.type,r.memoizedProps.value);break;case 13:var x=r.memoizedState;if(x!==null)return x.dehydrated!==null?(Ha(r),r.flags|=128,null):(u&r.child.childLanes)!==0?Ix(e,r,u):(Ha(r),e=ia(e,r,u),e!==null?e.sibling:null);Ha(r);break;case 19:var v=(e.flags&128)!==0;if(x=(u&r.childLanes)!==0,x||(Eo(e,r,u,!1),x=(u&r.childLanes)!==0),v){if(x)return Lx(e,r,u);r.flags|=128}if(v=r.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ze(Vn,Vn.current),x)break;return null;case 22:case 23:return r.lanes=0,Dx(e,r,u);case 24:Ya(r,Gn,e.memoizedState.cache)}return ia(e,r,u)}function kx(e,r,u){if(e!==null)if(e.memoizedProps!==r.pendingProps)Wn=!0;else{if(!Of(e,u)&&(r.flags&128)===0)return Wn=!1,K4(e,r,u);Wn=(e.flags&131072)!==0}else Wn=!1,Ut&&(r.flags&1048576)!==0&&vh(r,vu,r.index);switch(r.lanes=0,r.tag){case 16:e:{e=r.pendingProps;var x=r.elementType,v=x._init;if(x=v(x._payload),r.type=x,typeof x=="function")qf(x)?(e=Ls(x,e),r.tag=1,r=Bx(null,r,x,e,u)):(r.tag=0,r=wf(null,r,x,e,u));else{if(x!=null){if(v=x.$$typeof,v===O){r.tag=11,r=Sx(null,r,x,e,u);break e}else if(v===I){r.tag=14,r=Tx(null,r,x,e,u);break e}}throw r=ee(x)||x,Error(l(306,r,""))}}return r;case 0:return wf(e,r,r.type,r.pendingProps,u);case 1:return x=r.type,v=Ls(x,r.pendingProps),Bx(e,r,x,v,u);case 3:e:{if(yt(r,r.stateNode.containerInfo),e===null)throw Error(l(387));var S=r.pendingProps;v=r.memoizedState,x=v.element,Mf(e,r),bo(r,S,null,u);var L=r.memoizedState;if(S=L.cache,Ya(r,Gn,S),S!==v.cache&&Rf(r,[Gn],u,!0),wo(),S=L.element,v.isDehydrated)if(v={element:S,isDehydrated:!1,cache:L.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Rx(e,r,S,u);break e}else if(S!==x){x=ei(Error(l(424)),r),lo(x),r=Rx(e,r,S,u);break e}else for(rr=wi(r.stateNode.containerInfo.firstChild),vr=r,Ut=!0,Ei=null,Mi=!0,u=Oh(r,null,S,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(so(),S===x){r=ia(e,r,u);break e}ir(e,r,S,u)}r=r.child}return r;case 26:return yo(e,r),e===null?(u=Ug(r.type,null,r.pendingProps,null))?r.memoizedState=u:Ut||(u=r.type,e=r.pendingProps,x=$u(He.current).createElement(u),x[pn]=r,x[Xn]=e,ar(x,u,e),en(x),r.stateNode=x):r.memoizedState=Ug(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return rt(r),e===null&&Ut&&(x=r.stateNode=kg(r.type,r.pendingProps,He.current),vr=r,Mi=!0,rr=wi(x.firstChild)),x=r.pendingProps.children,e!==null||Ut?ir(e,r,x,u):r.child=Ns(r,null,x,u),yo(e,r),r.child;case 5:return e===null&&Ut&&((v=x=rr)&&(x=_3(x,r.type,r.pendingProps,Mi),x!==null?(r.stateNode=x,vr=r,rr=wi(x.firstChild),Mi=!1,v=!0):v=!1),v||Os(r)),rt(r),v=r.type,S=r.pendingProps,L=e!==null?e.memoizedProps:null,x=S.children,g1(v,S)?x=null:L!==null&&g1(v,L)&&(r.flags|=32),r.memoizedState!==null&&(v=nf(e,r,V4,null,null,u),Fo._currentValue=v),yo(e,r),ir(e,r,x,u),r.child;case 6:return e===null&&Ut&&((e=u=rr)&&(u=D3(u,r.pendingProps,Mi),u!==null?(r.stateNode=u,vr=r,rr=null,e=!0):e=!1),e||Os(r)),null;case 13:return Ix(e,r,u);case 4:return yt(r,r.stateNode.containerInfo),x=r.pendingProps,e===null?r.child=Ns(r,null,x,u):ir(e,r,x,u),r.child;case 11:return Sx(e,r,r.type,r.pendingProps,u);case 7:return ir(e,r,r.pendingProps,u),r.child;case 8:return ir(e,r,r.pendingProps.children,u),r.child;case 12:return ir(e,r,r.pendingProps.children,u),r.child;case 10:return x=r.pendingProps,Ya(r,r.type,x.value),ir(e,r,x.children,u),r.child;case 9:return v=r.type._context,x=r.pendingProps.children,Fs(r),v=cr(v),x=x(v),r.flags|=1,ir(e,r,x,u),r.child;case 14:return Tx(e,r,r.type,r.pendingProps,u);case 15:return _x(e,r,r.type,r.pendingProps,u);case 19:return Lx(e,r,u);case 22:return Dx(e,r,u);case 24:return Fs(r),x=cr(Gn),e===null?(v=ef(),v===null&&(v=ln,S=Jc(),v.pooledCache=S,S.refCount++,S!==null&&(v.pooledCacheLanes|=u),v=S),r.memoizedState={parent:x,cache:v},If(r),Ya(r,Gn,v)):((e.lanes&u)!==0&&(Mf(e,r),bo(r,null,null,u),wo()),v=e.memoizedState,S=r.memoizedState,v.parent!==x?(v={parent:x,cache:x},r.memoizedState=v,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=v),Ya(r,Gn,x)):(x=S.cache,Ya(r,Gn,x),x!==v.cache&&Rf(r,[Gn],u,!0))),ir(e,r,r.pendingProps.children,u),r.child;case 29:throw r.pendingProps}throw Error(l(156,r.tag))}var Nf=Te(null),ks=null,aa=null;function Ya(e,r,u){Ze(Nf,r._currentValue),r._currentValue=u}function sa(e){e._currentValue=Nf.current,Ye(Nf)}function Bf(e,r,u){for(;e!==null;){var x=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,x!==null&&(x.childLanes|=r)):x!==null&&(x.childLanes&r)!==r&&(x.childLanes|=r),e===u)break;e=e.return}}function Rf(e,r,u,x){var v=e.child;for(v!==null&&(v.return=e);v!==null;){var S=v.dependencies;if(S!==null){var L=v.child;S=S.firstContext;e:for(;S!==null;){var G=S;S=v;for(var re=0;re<r.length;re++)if(G.context===r[re]){S.lanes|=u,G=S.alternate,G!==null&&(G.lanes|=u),Bf(S.return,u,e),x||(L=null);break e}S=G.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(l(341));L.lanes|=u,S=L.alternate,S!==null&&(S.lanes|=u),Bf(L,u,e),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===e){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Eo(e,r,u,x){e=null;for(var v=r,S=!1;v!==null;){if(!S){if((v.flags&524288)!==0)S=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(l(387));if(L=L.memoizedProps,L!==null){var G=v.type;c(v.pendingProps.value,L.value)||(e!==null?e.push(G):e=[G])}}else if(v===gt.current){if(L=v.alternate,L===null)throw Error(l(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(e!==null?e.push(Fo):e=[Fo])}v=v.return}e!==null&&Rf(r,e,u,x),r.flags|=262144}function Fu(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fs(e){ks=e,aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cr(e){return Fx(ks,e)}function Pu(e,r){return ks===null&&Fs(e),Fx(e,r)}function Fx(e,r){var u=r._currentValue;if(r={context:r,memoizedValue:u,next:null},aa===null){if(e===null)throw Error(l(308));aa=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else aa=aa.next=r;return u}var Xa=!1;function If(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,r,u){var x=e.updateQueue;if(x===null)return null;if(x=x.shared,(En&2)!==0){var v=x.pending;return v===null?r.next=r:(r.next=v.next,v.next=r),x.pending=r,r=yu(e),yh(e,null,u),r}return mu(e,x,r,u),yu(e)}function vo(e,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194176)!==0)){var x=r.lanes;x&=e.pendingLanes,u|=x,r.lanes=u,gr(e,u)}}function Lf(e,r){var u=e.updateQueue,x=e.alternate;if(x!==null&&(x=x.updateQueue,u===x)){var v=null,S=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};S===null?v=S=L:S=S.next=L,u=u.next}while(u!==null);S===null?v=S=r:S=S.next=r}else v=S=r;u={baseState:x.baseState,firstBaseUpdate:v,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},e.updateQueue=u;return}e=u.lastBaseUpdate,e===null?u.firstBaseUpdate=r:e.next=r,u.lastBaseUpdate=r}var kf=!1;function wo(){if(kf){var e=wl;if(e!==null)throw e}}function bo(e,r,u,x){kf=!1;var v=e.updateQueue;Xa=!1;var S=v.firstBaseUpdate,L=v.lastBaseUpdate,G=v.shared.pending;if(G!==null){v.shared.pending=null;var re=G,ce=re.next;re.next=null,L===null?S=ce:L.next=ce,L=re;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,G=Se.lastBaseUpdate,G!==L&&(G===null?Se.firstBaseUpdate=ce:G.next=ce,Se.lastBaseUpdate=re))}if(S!==null){var Re=v.baseState;L=0,Se=ce=re=null,G=S;do{var ye=G.lane&-536870913,Ce=ye!==G.lane;if(Ce?(kt&ye)===ye:(x&ye)===ye){ye!==0&&ye===vl&&(kf=!0),Se!==null&&(Se=Se.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var Qe=e,xt=G;ye=r;var An=u;switch(xt.tag){case 1:if(Qe=xt.payload,typeof Qe=="function"){Re=Qe.call(An,Re,ye);break e}Re=Qe;break e;case 3:Qe.flags=Qe.flags&-65537|128;case 0:if(Qe=xt.payload,ye=typeof Qe=="function"?Qe.call(An,Re,ye):Qe,ye==null)break e;Re=Z({},Re,ye);break e;case 2:Xa=!0}}ye=G.callback,ye!==null&&(e.flags|=64,Ce&&(e.flags|=8192),Ce=v.callbacks,Ce===null?v.callbacks=[ye]:Ce.push(ye))}else Ce={lane:ye,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Se===null?(ce=Se=Ce,re=Re):Se=Se.next=Ce,L|=ye;if(G=G.next,G===null){if(G=v.shared.pending,G===null)break;Ce=G,G=Ce.next,Ce.next=null,v.lastBaseUpdate=Ce,v.shared.pending=null}}while(!0);Se===null&&(re=Re),v.baseState=re,v.firstBaseUpdate=ce,v.lastBaseUpdate=Se,S===null&&(v.shared.lanes=0),es|=L,e.lanes=L,e.memoizedState=Re}}function Px(e,r){if(typeof e!="function")throw Error(l(191,e));e.call(r)}function Ux(e,r){var u=e.callbacks;if(u!==null)for(e.callbacks=null,e=0;e<u.length;e++)Px(u[e],r)}function Ao(e,r){try{var u=r.updateQueue,x=u!==null?u.lastEffect:null;if(x!==null){var v=x.next;u=v;do{if((u.tag&e)===e){x=void 0;var S=u.create,L=u.inst;x=S(),L.destroy=x}u=u.next}while(u!==v)}}catch(G){rn(r,r.return,G)}}function Qa(e,r,u){try{var x=r.updateQueue,v=x!==null?x.lastEffect:null;if(v!==null){var S=v.next;x=S;do{if((x.tag&e)===e){var L=x.inst,G=L.destroy;if(G!==void 0){L.destroy=void 0,v=r;var re=u;try{G()}catch(ce){rn(v,re,ce)}}}x=x.next}while(x!==S)}}catch(ce){rn(r,r.return,ce)}}function jx(e){var r=e.updateQueue;if(r!==null){var u=e.stateNode;try{Ux(r,u)}catch(x){rn(e,e.return,x)}}}function zx(e,r,u){u.props=Ls(e.type,e.memoizedProps),u.state=e.memoizedState;try{u.componentWillUnmount()}catch(x){rn(e,r,x)}}function Ps(e,r){try{var u=e.ref;if(u!==null){var x=e.stateNode;switch(e.tag){case 26:case 27:case 5:var v=x;break;default:v=x}typeof u=="function"?e.refCleanup=u(v):u.current=v}}catch(S){rn(e,r,S)}}function Ur(e,r){var u=e.ref,x=e.refCleanup;if(u!==null)if(typeof x=="function")try{x()}catch(v){rn(e,r,v)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){rn(e,r,v)}else u.current=null}function Hx(e){var r=e.type,u=e.memoizedProps,x=e.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":u.autoFocus&&x.focus();break e;case"img":u.src?x.src=u.src:u.srcSet&&(x.srcset=u.srcSet)}}catch(v){rn(e,e.return,v)}}function qx(e,r,u){try{var x=e.stateNode;b3(x,e.type,u,r),x[Xn]=r}catch(v){rn(e,e.return,v)}}function Vx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pf(e,r,u){var x=e.tag;if(x===5||x===6)e=e.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(e,r):u.insertBefore(e,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(e,u)):(r=u,r.appendChild(e)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Ju));else if(x!==4&&x!==27&&(e=e.child,e!==null))for(Pf(e,r,u),e=e.sibling;e!==null;)Pf(e,r,u),e=e.sibling}function Uu(e,r,u){var x=e.tag;if(x===5||x===6)e=e.stateNode,r?u.insertBefore(e,r):u.appendChild(e);else if(x!==4&&x!==27&&(e=e.child,e!==null))for(Uu(e,r,u),e=e.sibling;e!==null;)Uu(e,r,u),e=e.sibling}var la=!1,wn=!1,Uf=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,Qn=null,Yx=!1;function J4(e,r){if(e=e.containerInfo,h1=a0,e=_(e),R(e)){if("selectionStart"in e)var u={start:e.selectionStart,end:e.selectionEnd};else e:{u=(u=e.ownerDocument)&&u.defaultView||window;var x=u.getSelection&&u.getSelection();if(x&&x.rangeCount!==0){u=x.anchorNode;var v=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{u.nodeType,S.nodeType}catch{u=null;break e}var L=0,G=-1,re=-1,ce=0,Se=0,Re=e,ye=null;t:for(;;){for(var Ce;Re!==u||v!==0&&Re.nodeType!==3||(G=L+v),Re!==S||x!==0&&Re.nodeType!==3||(re=L+x),Re.nodeType===3&&(L+=Re.nodeValue.length),(Ce=Re.firstChild)!==null;)ye=Re,Re=Ce;for(;;){if(Re===e)break t;if(ye===u&&++ce===v&&(G=L),ye===S&&++Se===x&&(re=L),(Ce=Re.nextSibling)!==null)break;Re=ye,ye=Re.parentNode}Re=Ce}u=G===-1||re===-1?null:{start:G,end:re}}else u=null}u=u||{start:0,end:0}}else u=null;for(x1={focusedElem:e,selectionRange:u},a0=!1,Qn=r;Qn!==null;)if(r=Qn,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,Qn=e;else for(;Qn!==null;){switch(r=Qn,S=r.alternate,e=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&S!==null){e=void 0,u=r,v=S.memoizedProps,S=S.memoizedState,x=u.stateNode;try{var Qe=Ls(u.type,v,u.elementType===u.type);e=x.getSnapshotBeforeUpdate(Qe,S),x.__reactInternalSnapshotBeforeUpdate=e}catch(xt){rn(u,u.return,xt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,u=e.nodeType,u===9)y1(e);else if(u===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":y1(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=r.sibling,e!==null){e.return=r.return,Qn=e;break}Qn=r.return}return Qe=Yx,Yx=!1,Qe}function Xx(e,r,u){var x=u.flags;switch(u.tag){case 0:case 11:case 15:ua(e,u),x&4&&Ao(5,u);break;case 1:if(ua(e,u),x&4)if(e=u.stateNode,r===null)try{e.componentDidMount()}catch(G){rn(u,u.return,G)}else{var v=Ls(u.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(v,r,e.__reactInternalSnapshotBeforeUpdate)}catch(G){rn(u,u.return,G)}}x&64&&jx(u),x&512&&Ps(u,u.return);break;case 3:if(ua(e,u),x&64&&(x=u.updateQueue,x!==null)){if(e=null,u.child!==null)switch(u.child.tag){case 27:case 5:e=u.child.stateNode;break;case 1:e=u.child.stateNode}try{Ux(x,e)}catch(G){rn(u,u.return,G)}}break;case 26:ua(e,u),x&512&&Ps(u,u.return);break;case 27:case 5:ua(e,u),r===null&&x&4&&Hx(u),x&512&&Ps(u,u.return);break;case 12:ua(e,u);break;case 13:ua(e,u),x&4&&Qx(e,u);break;case 22:if(v=u.memoizedState!==null||la,!v){r=r!==null&&r.memoizedState!==null||wn;var S=la,L=wn;la=v,(wn=r)&&!L?Ka(e,u,(u.subtreeFlags&8772)!==0):ua(e,u),la=S,wn=L}x&512&&(u.memoizedProps.mode==="manual"?Ps(u,u.return):Ur(u,u.return));break;default:ua(e,u)}}function Zx(e){var r=e.alternate;r!==null&&(e.alternate=null,Zx(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Kl(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fn=null,jr=!1;function oa(e,r,u){for(u=u.child;u!==null;)Wx(e,r,u),u=u.sibling}function Wx(e,r,u){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Tt,u)}catch{}switch(u.tag){case 26:wn||Ur(u,r),oa(e,r,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:wn||Ur(u,r);var x=Fn,v=jr;for(Fn=u.stateNode,oa(e,r,u),u=u.stateNode,r=u.attributes;r.length;)u.removeAttributeNode(r[0]);Kl(u),Fn=x,jr=v;break;case 5:wn||Ur(u,r);case 6:v=Fn;var S=jr;if(Fn=null,oa(e,r,u),Fn=v,jr=S,Fn!==null)if(jr)try{e=Fn,x=u.stateNode,e.nodeType===8?e.parentNode.removeChild(x):e.removeChild(x)}catch(L){rn(u,r,L)}else try{Fn.removeChild(u.stateNode)}catch(L){rn(u,r,L)}break;case 18:Fn!==null&&(jr?(r=Fn,u=u.stateNode,r.nodeType===8?m1(r.parentNode,u):r.nodeType===1&&m1(r,u),zo(r)):m1(Fn,u.stateNode));break;case 4:x=Fn,v=jr,Fn=u.stateNode.containerInfo,jr=!0,oa(e,r,u),Fn=x,jr=v;break;case 0:case 11:case 14:case 15:wn||Qa(2,u,r),wn||Qa(4,u,r),oa(e,r,u);break;case 1:wn||(Ur(u,r),x=u.stateNode,typeof x.componentWillUnmount=="function"&&zx(u,r,x)),oa(e,r,u);break;case 21:oa(e,r,u);break;case 22:wn||Ur(u,r),wn=(x=wn)||u.memoizedState!==null,oa(e,r,u),wn=x;break;default:oa(e,r,u)}}function Qx(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zo(e)}catch(u){rn(r,r.return,u)}}function $4(e){switch(e.tag){case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new Gx),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new Gx),r;default:throw Error(l(435,e.tag))}}function jf(e,r){var u=$4(e);r.forEach(function(x){var v=d3.bind(null,e,x);u.has(x)||(u.add(x),x.then(v,v))})}function ii(e,r){var u=r.deletions;if(u!==null)for(var x=0;x<u.length;x++){var v=u[x],S=e,L=r,G=L;e:for(;G!==null;){switch(G.tag){case 27:case 5:Fn=G.stateNode,jr=!1;break e;case 3:Fn=G.stateNode.containerInfo,jr=!0;break e;case 4:Fn=G.stateNode.containerInfo,jr=!0;break e}G=G.return}if(Fn===null)throw Error(l(160));Wx(S,L,v),Fn=null,jr=!1,S=v.alternate,S!==null&&(S.return=null),v.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Kx(r,e),r=r.sibling}var vi=null;function Kx(e,r){var u=e.alternate,x=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ii(r,e),ai(e),x&4&&(Qa(3,e,e.return),Ao(3,e),Qa(5,e,e.return));break;case 1:ii(r,e),ai(e),x&512&&(wn||u===null||Ur(u,u.return)),x&64&&la&&(e=e.updateQueue,e!==null&&(x=e.callbacks,x!==null&&(u=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=u===null?x:u.concat(x))));break;case 26:var v=vi;if(ii(r,e),ai(e),x&512&&(wn||u===null||Ur(u,u.return)),x&4){var S=u!==null?u.memoizedState:null;if(x=e.memoizedState,u===null)if(x===null)if(e.stateNode===null){e:{x=e.type,u=e.memoizedProps,v=v.ownerDocument||v;t:switch(x){case"title":S=v.getElementsByTagName("title")[0],(!S||S[ps]||S[pn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=v.createElement(x),v.head.insertBefore(S,v.querySelector("head > title"))),ar(S,x,u),S[pn]=e,en(S),x=S;break e;case"link":var L=Hg("link","href",v).get(x+(u.href||""));if(L){for(var G=0;G<L.length;G++)if(S=L[G],S.getAttribute("href")===(u.href==null?null:u.href)&&S.getAttribute("rel")===(u.rel==null?null:u.rel)&&S.getAttribute("title")===(u.title==null?null:u.title)&&S.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(G,1);break t}}S=v.createElement(x),ar(S,x,u),v.head.appendChild(S);break;case"meta":if(L=Hg("meta","content",v).get(x+(u.content||""))){for(G=0;G<L.length;G++)if(S=L[G],S.getAttribute("content")===(u.content==null?null:""+u.content)&&S.getAttribute("name")===(u.name==null?null:u.name)&&S.getAttribute("property")===(u.property==null?null:u.property)&&S.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&S.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(G,1);break t}}S=v.createElement(x),ar(S,x,u),v.head.appendChild(S);break;default:throw Error(l(468,x))}S[pn]=e,en(S),x=S}e.stateNode=x}else qg(v,e.type,e.stateNode);else e.stateNode=zg(v,x,e.memoizedProps);else S!==x?(S===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):S.count--,x===null?qg(v,e.type,e.stateNode):zg(v,x,e.memoizedProps)):x===null&&e.stateNode!==null&&qx(e,e.memoizedProps,u.memoizedProps)}break;case 27:if(x&4&&e.alternate===null){v=e.stateNode,S=e.memoizedProps;try{for(var re=v.firstChild;re;){var ce=re.nextSibling,Se=re.nodeName;re[ps]||Se==="HEAD"||Se==="BODY"||Se==="SCRIPT"||Se==="STYLE"||Se==="LINK"&&re.rel.toLowerCase()==="stylesheet"||v.removeChild(re),re=ce}for(var Re=e.type,ye=v.attributes;ye.length;)v.removeAttributeNode(ye[0]);ar(v,Re,S),v[pn]=e,v[Xn]=S}catch(Qe){rn(e,e.return,Qe)}}case 5:if(ii(r,e),ai(e),x&512&&(wn||u===null||Ur(u,u.return)),e.flags&32){v=e.stateNode;try{_a(v,"")}catch(Qe){rn(e,e.return,Qe)}}x&4&&e.stateNode!=null&&(v=e.memoizedProps,qx(e,v,u!==null?u.memoizedProps:v)),x&1024&&(Uf=!0);break;case 6:if(ii(r,e),ai(e),x&4){if(e.stateNode===null)throw Error(l(162));x=e.memoizedProps,u=e.stateNode;try{u.nodeValue=x}catch(Qe){rn(e,e.return,Qe)}}break;case 3:if(n0=null,v=vi,vi=e0(r.containerInfo),ii(r,e),vi=v,ai(e),x&4&&u!==null&&u.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(Qe){rn(e,e.return,Qe)}Uf&&(Uf=!1,Jx(e));break;case 4:x=vi,vi=e0(e.stateNode.containerInfo),ii(r,e),ai(e),vi=x;break;case 12:ii(r,e),ai(e);break;case 13:ii(r,e),ai(e),e.child.flags&8192&&e.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wf=bt()),x&4&&(x=e.updateQueue,x!==null&&(e.updateQueue=null,jf(e,x)));break;case 22:if(x&512&&(wn||u===null||Ur(u,u.return)),re=e.memoizedState!==null,ce=u!==null&&u.memoizedState!==null,Se=la,Re=wn,la=Se||re,wn=Re||ce,ii(r,e),wn=Re,la=Se,ai(e),r=e.stateNode,r._current=e,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,x&8192&&(r._visibility=re?r._visibility&-2:r._visibility|1,re&&(r=la||wn,u===null||ce||r||Sl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(u=null,r=e;;){if(r.tag===5||r.tag===26||r.tag===27){if(u===null){ce=u=r;try{if(v=ce.stateNode,re)S=v.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{L=ce.stateNode,G=ce.memoizedProps.style;var Ce=G!=null&&G.hasOwnProperty("display")?G.display:null;L.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(Qe){rn(ce,ce.return,Qe)}}}else if(r.tag===6){if(u===null){ce=r;try{ce.stateNode.nodeValue=re?"":ce.memoizedProps}catch(Qe){rn(ce,ce.return,Qe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;u===r&&(u=null),r=r.return}u===r&&(u=null),r.sibling.return=r.return,r=r.sibling}x&4&&(x=e.updateQueue,x!==null&&(u=x.retryQueue,u!==null&&(x.retryQueue=null,jf(e,u))));break;case 19:ii(r,e),ai(e),x&4&&(x=e.updateQueue,x!==null&&(e.updateQueue=null,jf(e,x)));break;case 21:break;default:ii(r,e),ai(e)}}function ai(e){var r=e.flags;if(r&2){try{if(e.tag!==27){e:{for(var u=e.return;u!==null;){if(Vx(u)){var x=u;break e}u=u.return}throw Error(l(160))}switch(x.tag){case 27:var v=x.stateNode,S=Ff(e);Uu(e,S,v);break;case 5:var L=x.stateNode;x.flags&32&&(_a(L,""),x.flags&=-33);var G=Ff(e);Uu(e,G,L);break;case 3:case 4:var re=x.stateNode.containerInfo,ce=Ff(e);Pf(e,ce,re);break;default:throw Error(l(161))}}}catch(Se){rn(e,e.return,Se)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Jx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;Jx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function ua(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Xx(e,r.alternate,r),r=r.sibling}function Sl(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Qa(4,r,r.return),Sl(r);break;case 1:Ur(r,r.return);var u=r.stateNode;typeof u.componentWillUnmount=="function"&&zx(r,r.return,u),Sl(r);break;case 26:case 27:case 5:Ur(r,r.return),Sl(r);break;case 22:Ur(r,r.return),r.memoizedState===null&&Sl(r);break;default:Sl(r)}e=e.sibling}}function Ka(e,r,u){for(u=u&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var x=r.alternate,v=e,S=r,L=S.flags;switch(S.tag){case 0:case 11:case 15:Ka(v,S,u),Ao(4,S);break;case 1:if(Ka(v,S,u),x=S,v=x.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ce){rn(x,x.return,ce)}if(x=S,v=x.updateQueue,v!==null){var G=x.stateNode;try{var re=v.shared.hiddenCallbacks;if(re!==null)for(v.shared.hiddenCallbacks=null,v=0;v<re.length;v++)Px(re[v],G)}catch(ce){rn(x,x.return,ce)}}u&&L&64&&jx(S),Ps(S,S.return);break;case 26:case 27:case 5:Ka(v,S,u),u&&x===null&&L&4&&Hx(S),Ps(S,S.return);break;case 12:Ka(v,S,u);break;case 13:Ka(v,S,u),u&&L&4&&Qx(v,S);break;case 22:S.memoizedState===null&&Ka(v,S,u),Ps(S,S.return);break;default:Ka(v,S,u)}r=r.sibling}}function zf(e,r){var u=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==u&&(e!=null&&e.refCount++,u!=null&&ho(u))}function Hf(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ho(e))}function Ja(e,r,u,x){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$x(e,r,u,x),r=r.sibling}function $x(e,r,u,x){var v=r.flags;switch(r.tag){case 0:case 11:case 15:Ja(e,r,u,x),v&2048&&Ao(9,r);break;case 3:Ja(e,r,u,x),v&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&ho(e)));break;case 12:if(v&2048){Ja(e,r,u,x),e=r.stateNode;try{var S=r.memoizedProps,L=S.id,G=S.onPostCommit;typeof G=="function"&&G(L,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(re){rn(r,r.return,re)}}else Ja(e,r,u,x);break;case 23:break;case 22:S=r.stateNode,r.memoizedState!==null?S._visibility&4?Ja(e,r,u,x):Co(e,r):S._visibility&4?Ja(e,r,u,x):(S._visibility|=4,Tl(e,r,u,x,(r.subtreeFlags&10256)!==0)),v&2048&&zf(r.alternate,r);break;case 24:Ja(e,r,u,x),v&2048&&Hf(r.alternate,r);break;default:Ja(e,r,u,x)}}function Tl(e,r,u,x,v){for(v=v&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var S=e,L=r,G=u,re=x,ce=L.flags;switch(L.tag){case 0:case 11:case 15:Tl(S,L,G,re,v),Ao(8,L);break;case 23:break;case 22:var Se=L.stateNode;L.memoizedState!==null?Se._visibility&4?Tl(S,L,G,re,v):Co(S,L):(Se._visibility|=4,Tl(S,L,G,re,v)),v&&ce&2048&&zf(L.alternate,L);break;case 24:Tl(S,L,G,re,v),v&&ce&2048&&Hf(L.alternate,L);break;default:Tl(S,L,G,re,v)}r=r.sibling}}function Co(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var u=e,x=r,v=x.flags;switch(x.tag){case 22:Co(u,x),v&2048&&zf(x.alternate,x);break;case 24:Co(u,x),v&2048&&Hf(x.alternate,x);break;default:Co(u,x)}r=r.sibling}}var So=8192;function _l(e){if(e.subtreeFlags&So)for(e=e.child;e!==null;)eg(e),e=e.sibling}function eg(e){switch(e.tag){case 26:_l(e),e.flags&So&&e.memoizedState!==null&&z3(vi,e.memoizedState,e.memoizedProps);break;case 5:_l(e);break;case 3:case 4:var r=vi;vi=e0(e.stateNode.containerInfo),_l(e),vi=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=So,So=16777216,_l(e),So=r):_l(e));break;default:_l(e)}}function tg(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function To(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var x=r[u];Qn=x,rg(x,e)}tg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ng(e),e=e.sibling}function ng(e){switch(e.tag){case 0:case 11:case 15:To(e),e.flags&2048&&Qa(9,e,e.return);break;case 3:To(e);break;case 12:To(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&4&&(e.return===null||e.return.tag!==13)?(r._visibility&=-5,ju(e)):To(e);break;default:To(e)}}function ju(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var x=r[u];Qn=x,rg(x,e)}tg(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Qa(8,r,r.return),ju(r);break;case 22:u=r.stateNode,u._visibility&4&&(u._visibility&=-5,ju(r));break;default:ju(r)}e=e.sibling}}function rg(e,r){for(;Qn!==null;){var u=Qn;switch(u.tag){case 0:case 11:case 15:Qa(8,u,r);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var x=u.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:ho(u.memoizedState.cache)}if(x=u.child,x!==null)x.return=u,Qn=x;else e:for(u=e;Qn!==null;){x=Qn;var v=x.sibling,S=x.return;if(Zx(x),x===u){Qn=null;break e}if(v!==null){v.return=S,Qn=v;break e}Qn=S}}}function e3(e,r,u,x){this.tag=e,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(e,r,u,x){return new e3(e,r,u,x)}function qf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $a(e,r){var u=e.alternate;return u===null?(u=si(e.tag,r,e.key,e.mode),u.elementType=e.elementType,u.type=e.type,u.stateNode=e.stateNode,u.alternate=e,e.alternate=u):(u.pendingProps=r,u.type=e.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=e.flags&31457280,u.childLanes=e.childLanes,u.lanes=e.lanes,u.child=e.child,u.memoizedProps=e.memoizedProps,u.memoizedState=e.memoizedState,u.updateQueue=e.updateQueue,r=e.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=e.sibling,u.index=e.index,u.ref=e.ref,u.refCleanup=e.refCleanup,u}function ig(e,r){e.flags&=31457282;var u=e.alternate;return u===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=u.childLanes,e.lanes=u.lanes,e.child=u.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=u.memoizedProps,e.memoizedState=u.memoizedState,e.updateQueue=u.updateQueue,e.type=u.type,r=u.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function zu(e,r,u,x,v,S){var L=0;if(x=e,typeof e=="function")qf(e)&&(L=1);else if(typeof e=="string")L=U3(e,u,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case b:return Us(u.children,v,S,r);case g:L=8,v|=24;break;case w:return e=si(12,u,r,v|2),e.elementType=w,e.lanes=S,e;case N:return e=si(13,u,r,v),e.elementType=N,e.lanes=S,e;case B:return e=si(19,u,r,v),e.elementType=B,e.lanes=S,e;case k:return ag(u,v,S,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case T:L=10;break e;case D:L=9;break e;case O:L=11;break e;case I:L=14;break e;case M:L=16,x=null;break e}L=29,u=Error(l(130,e===null?"null":typeof e,"")),x=null}return r=si(L,u,r,v),r.elementType=e,r.type=x,r.lanes=S,r}function Us(e,r,u,x){return e=si(7,e,x,r),e.lanes=u,e}function ag(e,r,u,x){e=si(22,e,x,r),e.elementType=k,e.lanes=u;var v={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var S=v._current;if(S===null)throw Error(l(456));if((v._pendingVisibility&2)===0){var L=za(S,2);L!==null&&(v._pendingVisibility|=2,wr(L,S,2))}},attach:function(){var S=v._current;if(S===null)throw Error(l(456));if((v._pendingVisibility&2)!==0){var L=za(S,2);L!==null&&(v._pendingVisibility&=-3,wr(L,S,2))}}};return e.stateNode=v,e}function Vf(e,r,u){return e=si(6,e,null,r),e.lanes=u,e}function Gf(e,r,u){return r=si(4,e.children!==null?e.children:[],e.key,r),r.lanes=u,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function ca(e){e.flags|=4}function sg(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vg(r)){if(r=ri.current,r!==null&&((kt&4194176)===kt?Li!==null:(kt&62914560)!==kt&&(kt&536870912)===0||r!==Li))throw uo=Wc,Ah;e.flags|=8192}}function Hu(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?xi():536870912,e.lanes|=r,Ol|=r)}function _o(e,r){if(!Ut)switch(e.tailMode){case"hidden":r=e.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?e.tail=null:u.sibling=null;break;case"collapsed":u=e.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:x.sibling=null}}function yn(e){var r=e.alternate!==null&&e.alternate.child===e.child,u=0,x=0;if(r)for(var v=e.child;v!==null;)u|=v.lanes|v.childLanes,x|=v.subtreeFlags&31457280,x|=v.flags&31457280,v.return=e,v=v.sibling;else for(v=e.child;v!==null;)u|=v.lanes|v.childLanes,x|=v.subtreeFlags,x|=v.flags,v.return=e,v=v.sibling;return e.subtreeFlags|=x,e.childLanes=u,r}function t3(e,r,u){var x=r.pendingProps;switch(Xc(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(r),null;case 1:return yn(r),null;case 3:return u=r.stateNode,x=null,e!==null&&(x=e.memoizedState.cache),r.memoizedState.cache!==x&&(r.flags|=2048),sa(Gn),Wt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(e===null||e.child===null)&&(ao(r)?ca(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ei!==null&&($f(Ei),Ei=null))),yn(r),null;case 26:return u=r.memoizedState,e===null?(ca(r),u!==null?(yn(r),sg(r,u)):(yn(r),r.flags&=-16777217)):u?u!==e.memoizedState?(ca(r),yn(r),sg(r,u)):(yn(r),r.flags&=-16777217):(e.memoizedProps!==x&&ca(r),yn(r),r.flags&=-16777217),null;case 27:Ke(r),u=He.current;var v=r.type;if(e!==null&&r.stateNode!=null)e.memoizedProps!==x&&ca(r);else{if(!x){if(r.stateNode===null)throw Error(l(166));return yn(r),null}e=ct.current,ao(r)?wh(r):(e=kg(v,x,u),r.stateNode=e,ca(r))}return yn(r),null;case 5:if(Ke(r),u=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==x&&ca(r);else{if(!x){if(r.stateNode===null)throw Error(l(166));return yn(r),null}if(e=ct.current,ao(r))wh(r);else{switch(v=$u(He.current),e){case 1:e=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:e=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":e=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":e=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof x.is=="string"?v.createElement("select",{is:x.is}):v.createElement("select"),x.multiple?e.multiple=!0:x.size&&(e.size=x.size);break;default:e=typeof x.is=="string"?v.createElement(u,{is:x.is}):v.createElement(u)}}e[pn]=r,e[Xn]=x;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)e.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=e;e:switch(ar(e,u,x),u){case"button":case"input":case"select":case"textarea":e=!!x.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ca(r)}}return yn(r),r.flags&=-16777217,null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==x&&ca(r);else{if(typeof x!="string"&&r.stateNode===null)throw Error(l(166));if(e=He.current,ao(r)){if(e=r.stateNode,u=r.memoizedProps,x=null,v=vr,v!==null)switch(v.tag){case 27:case 5:x=v.memoizedProps}e[pn]=r,e=!!(e.nodeValue===u||x!==null&&x.suppressHydrationWarning===!0||Ng(e.nodeValue,u)),e||Os(r)}else e=$u(e).createTextNode(x),e[pn]=r,r.stateNode=e}return yn(r),null;case 13:if(x=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(v=ao(r),x!==null&&x.dehydrated!==null){if(e===null){if(!v)throw Error(l(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(l(317));v[pn]=r}else so(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yn(r),v=!1}else Ei!==null&&($f(Ei),Ei=null),v=!0;if(!v)return r.flags&256?(na(r),r):(na(r),null)}if(na(r),(r.flags&128)!==0)return r.lanes=u,r;if(u=x!==null,e=e!==null&&e.memoizedState!==null,u){x=r.child,v=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(v=x.alternate.memoizedState.cachePool.pool);var S=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==v&&(x.flags|=2048)}return u!==e&&u&&(r.child.flags|=8192),Hu(r,r.updateQueue),yn(r),null;case 4:return Wt(),e===null&&c1(r.stateNode.containerInfo),yn(r),null;case 10:return sa(r.type),yn(r),null;case 19:if(Ye(Vn),v=r.memoizedState,v===null)return yn(r),null;if(x=(r.flags&128)!==0,S=v.rendering,S===null)if(x)_o(v,!1);else{if(bn!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(S=Su(e),S!==null){for(r.flags|=128,_o(v,!1),e=S.updateQueue,r.updateQueue=e,Hu(r,e),r.subtreeFlags=0,e=u,u=r.child;u!==null;)ig(u,e),u=u.sibling;return Ze(Vn,Vn.current&1|2),r.child}e=e.sibling}v.tail!==null&&bt()>qu&&(r.flags|=128,x=!0,_o(v,!1),r.lanes=4194304)}else{if(!x)if(e=Su(S),e!==null){if(r.flags|=128,x=!0,e=e.updateQueue,r.updateQueue=e,Hu(r,e),_o(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Ut)return yn(r),null}else 2*bt()-v.renderingStartTime>qu&&u!==536870912&&(r.flags|=128,x=!0,_o(v,!1),r.lanes=4194304);v.isBackwards?(S.sibling=r.child,r.child=S):(e=v.last,e!==null?e.sibling=S:r.child=S,v.last=S)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=bt(),r.sibling=null,e=Vn.current,Ze(Vn,x?e&1|2:e&1),r):(yn(r),null);case 22:case 23:return na(r),Kc(),x=r.memoizedState!==null,e!==null?e.memoizedState!==null!==x&&(r.flags|=8192):x&&(r.flags|=8192),x?(u&536870912)!==0&&(r.flags&128)===0&&(yn(r),r.subtreeFlags&6&&(r.flags|=8192)):yn(r),u=r.updateQueue,u!==null&&Hu(r,u.retryQueue),u=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(u=e.memoizedState.cachePool.pool),x=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(x=r.memoizedState.cachePool.pool),x!==u&&(r.flags|=2048),e!==null&&Ye(Bs),null;case 24:return u=null,e!==null&&(u=e.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),sa(Gn),yn(r),null;case 25:return null}throw Error(l(156,r.tag))}function n3(e,r){switch(Xc(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return sa(Gn),Wt(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return Ke(r),null;case 13:if(na(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(l(340));so()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Ye(Vn),null;case 4:return Wt(),null;case 10:return sa(r.type),null;case 22:case 23:return na(r),Kc(),e!==null&&Ye(Bs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return sa(Gn),null;case 25:return null;default:return null}}function lg(e,r){switch(Xc(r),r.tag){case 3:sa(Gn),Wt();break;case 26:case 27:case 5:Ke(r);break;case 4:Wt();break;case 13:na(r);break;case 19:Ye(Vn);break;case 10:sa(r.type);break;case 22:case 23:na(r),Kc(),e!==null&&Ye(Bs);break;case 24:sa(Gn)}}var r3={getCacheForType:function(e){var r=cr(Gn),u=r.data.get(e);return u===void 0&&(u=e(),r.data.set(e,u)),u}},i3=typeof WeakMap=="function"?WeakMap:Map,En=0,ln=null,Nt=null,kt=0,on=0,zr=null,fa=!1,Dl=!1,Yf=!1,da=0,bn=0,es=0,js=0,Xf=0,li=0,Ol=0,Do=null,Fi=null,Zf=!1,Wf=0,qu=1/0,Vu=null,ts=null,Gu=!1,zs=null,Oo=0,Qf=0,Kf=null,No=0,Jf=null;function Hr(){if((En&2)!==0&&kt!==0)return kt&-kt;if(X.T!==null){var e=vl;return e!==0?e:s1()}return Qr()}function og(){li===0&&(li=(kt&536870912)===0||Ut?Sn():536870912);var e=ri.current;return e!==null&&(e.flags|=32),li}function wr(e,r,u){(e===ln&&on===2||e.cancelPendingCommit!==null)&&(Nl(e,0),ha(e,kt,li,!1)),Yn(e,u),((En&2)===0||e!==ln)&&(e===ln&&((En&2)===0&&(js|=u),bn===4&&ha(e,kt,li,!1)),Pi(e))}function ug(e,r,u){if((En&6)!==0)throw Error(l(327));var x=!u&&(r&60)===0&&(r&e.expiredLanes)===0||zn(e,r),v=x?l3(e,r):n1(e,r,!0),S=x;do{if(v===0){Dl&&!x&&ha(e,r,0,!1);break}else if(v===6)ha(e,r,0,!fa);else{if(u=e.current.alternate,S&&!a3(u)){v=n1(e,r,!1),S=!1;continue}if(v===2){if(S=r,e.errorRecoveryDisabledLanes&S)var L=0;else L=e.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){r=L;e:{var G=e;v=Do;var re=G.current.memoizedState.isDehydrated;if(re&&(Nl(G,L).flags|=256),L=n1(G,L,!1),L!==2){if(Yf&&!re){G.errorRecoveryDisabledLanes|=S,js|=S,v=4;break e}S=Fi,Fi=v,S!==null&&$f(S)}v=L}if(S=!1,v!==2)continue}}if(v===1){Nl(e,0),ha(e,r,0,!0);break}e:{switch(x=e,v){case 0:case 1:throw Error(l(345));case 4:if((r&4194176)===r){ha(x,r,li,!fa);break e}break;case 2:Fi=null;break;case 3:case 5:break;default:throw Error(l(329))}if(x.finishedWork=u,x.finishedLanes=r,(r&62914560)===r&&(S=Wf+300-bt(),10<S)){if(ha(x,r,li,!fa),Yi(x,0)!==0)break e;x.timeoutHandle=Ig(cg.bind(null,x,u,Fi,Vu,Zf,r,li,js,Ol,fa,2,-0,0),S);break e}cg(x,u,Fi,Vu,Zf,r,li,js,Ol,fa,0,-0,0)}}break}while(!0);Pi(e)}function $f(e){Fi===null?Fi=e:Fi.push.apply(Fi,e)}function cg(e,r,u,x,v,S,L,G,re,ce,Se,Re,ye){var Ce=r.subtreeFlags;if((Ce&8192||(Ce&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:j3},eg(r),r=H3(),r!==null)){e.cancelPendingCommit=r(mg.bind(null,e,u,x,v,L,G,re,1,Re,ye)),ha(e,S,L,!ce);return}mg(e,u,x,v,L,G,re,Se,Re,ye)}function a3(e){for(var r=e;;){var u=r.tag;if((u===0||u===11||u===15)&&r.flags&16384&&(u=r.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var x=0;x<u.length;x++){var v=u[x],S=v.getSnapshot;v=v.value;try{if(!c(S(),v))return!1}catch{return!1}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ha(e,r,u,x){r&=~Xf,r&=~js,e.suspendedLanes|=r,e.pingedLanes&=~r,x&&(e.warmLanes|=r),x=e.expirationTimes;for(var v=r;0<v;){var S=31-dt(v),L=1<<S;x[S]=-1,v&=~L}u!==0&&xn(e,u,r)}function Yu(){return(En&6)===0?(Bo(0),!1):!0}function e1(){if(Nt!==null){if(on===0)var e=Nt.return;else e=Nt,aa=ks=null,sf(e),yl=null,co=0,e=Nt;for(;e!==null;)lg(e.alternate,e),e=e.return;Nt=null}}function Nl(e,r){e.finishedWork=null,e.finishedLanes=0;var u=e.timeoutHandle;u!==-1&&(e.timeoutHandle=-1,C3(u)),u=e.cancelPendingCommit,u!==null&&(e.cancelPendingCommit=null,u()),e1(),ln=e,Nt=u=$a(e.current,null),kt=r,on=0,zr=null,fa=!1,Dl=zn(e,r),Yf=!1,Ol=li=Xf=js=es=bn=0,Fi=Do=null,Zf=!1,(r&8)!==0&&(r|=r&32);var x=e.entangledLanes;if(x!==0)for(e=e.entanglements,x&=r;0<x;){var v=31-dt(x),S=1<<v;r|=e[v],x&=~S}return da=r,pu(),u}function fg(e,r){St=null,X.H=ki,r===oo?(r=Th(),on=3):r===Ah?(r=Th(),on=4):on=r===Cx?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zr=r,Nt===null&&(bn=1,ku(e,ei(r,e.current)))}function dg(){var e=X.H;return X.H=ki,e===null?ki:e}function hg(){var e=X.A;return X.A=r3,e}function t1(){bn=4,fa||(kt&4194176)!==kt&&ri.current!==null||(Dl=!0),(es&134217727)===0&&(js&134217727)===0||ln===null||ha(ln,kt,li,!1)}function n1(e,r,u){var x=En;En|=2;var v=dg(),S=hg();(ln!==e||kt!==r)&&(Vu=null,Nl(e,r)),r=!1;var L=bn;e:do try{if(on!==0&&Nt!==null){var G=Nt,re=zr;switch(on){case 8:e1(),L=6;break e;case 3:case 2:case 6:ri.current===null&&(r=!0);var ce=on;if(on=0,zr=null,Bl(e,G,re,ce),u&&Dl){L=0;break e}break;default:ce=on,on=0,zr=null,Bl(e,G,re,ce)}}s3(),L=bn;break}catch(Se){fg(e,Se)}while(!0);return r&&e.shellSuspendCounter++,aa=ks=null,En=x,X.H=v,X.A=S,Nt===null&&(ln=null,kt=0,pu()),L}function s3(){for(;Nt!==null;)xg(Nt)}function l3(e,r){var u=En;En|=2;var x=dg(),v=hg();ln!==e||kt!==r?(Vu=null,qu=bt()+500,Nl(e,r)):Dl=zn(e,r);e:do try{if(on!==0&&Nt!==null){r=Nt;var S=zr;t:switch(on){case 1:on=0,zr=null,Bl(e,r,S,1);break;case 2:if(Ch(S)){on=0,zr=null,gg(r);break}r=function(){on===2&&ln===e&&(on=7),Pi(e)},S.then(r,r);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:Ch(S)?(on=0,zr=null,gg(r)):(on=0,zr=null,Bl(e,r,S,7));break;case 5:var L=null;switch(Nt.tag){case 26:L=Nt.memoizedState;case 5:case 27:var G=Nt;if(!L||Vg(L)){on=0,zr=null;var re=G.sibling;if(re!==null)Nt=re;else{var ce=G.return;ce!==null?(Nt=ce,Xu(ce)):Nt=null}break t}}on=0,zr=null,Bl(e,r,S,5);break;case 6:on=0,zr=null,Bl(e,r,S,6);break;case 8:e1(),bn=6;break e;default:throw Error(l(462))}}o3();break}catch(Se){fg(e,Se)}while(!0);return aa=ks=null,X.H=x,X.A=v,En=u,Nt!==null?0:(ln=null,kt=0,pu(),bn)}function o3(){for(;Nt!==null&&!wt();)xg(Nt)}function xg(e){var r=kx(e.alternate,e,da);e.memoizedProps=e.pendingProps,r===null?Xu(e):Nt=r}function gg(e){var r=e,u=r.alternate;switch(r.tag){case 15:case 0:r=Nx(u,r,r.pendingProps,r.type,void 0,kt);break;case 11:r=Nx(u,r,r.pendingProps,r.type.render,r.ref,kt);break;case 5:sf(r);default:lg(u,r),r=Nt=ig(r,da),r=kx(u,r,da)}e.memoizedProps=e.pendingProps,r===null?Xu(e):Nt=r}function Bl(e,r,u,x){aa=ks=null,sf(r),yl=null,co=0;var v=r.return;try{if(Q4(e,v,r,u,kt)){bn=1,ku(e,ei(u,e.current)),Nt=null;return}}catch(S){if(v!==null)throw Nt=v,S;bn=1,ku(e,ei(u,e.current)),Nt=null;return}r.flags&32768?(Ut||x===1?e=!0:Dl||(kt&536870912)!==0?e=!1:(fa=e=!0,(x===2||x===3||x===6)&&(x=ri.current,x!==null&&x.tag===13&&(x.flags|=16384))),pg(r,e)):Xu(r)}function Xu(e){var r=e;do{if((r.flags&32768)!==0){pg(r,fa);return}e=r.return;var u=t3(r.alternate,r,da);if(u!==null){Nt=u;return}if(r=r.sibling,r!==null){Nt=r;return}Nt=r=e}while(r!==null);bn===0&&(bn=5)}function pg(e,r){do{var u=n3(e.alternate,e);if(u!==null){u.flags&=32767,Nt=u;return}if(u=e.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!r&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=u}while(e!==null);bn=6,Nt=null}function mg(e,r,u,x,v,S,L,G,re,ce){var Se=X.T,Re=se.p;try{se.p=2,X.T=null,u3(e,r,u,x,Re,v,S,L,G,re,ce)}finally{X.T=Se,se.p=Re}}function u3(e,r,u,x,v,S,L,G){do Rl();while(zs!==null);if((En&6)!==0)throw Error(l(327));var re=e.finishedWork;if(x=e.finishedLanes,re===null)return null;if(e.finishedWork=null,e.finishedLanes=0,re===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var ce=re.lanes|re.childLanes;if(ce|=Vc,nl(e,x,ce,S,L,G),e===ln&&(Nt=ln=null,kt=0),(re.subtreeFlags&10256)===0&&(re.flags&10256)===0||Gu||(Gu=!0,Qf=ce,Kf=u,h3(We,function(){return Rl(),null})),u=(re.flags&15990)!==0,(re.subtreeFlags&15990)!==0||u?(u=X.T,X.T=null,S=se.p,se.p=2,L=En,En|=4,J4(e,re),Kx(re,e),U(x1,e.containerInfo),a0=!!h1,x1=h1=null,e.current=re,Xx(e,re.alternate,re),Qt(),En=L,se.p=S,X.T=u):e.current=re,Gu?(Gu=!1,zs=e,Oo=x):yg(e,ce),ce=e.pendingLanes,ce===0&&(ts=null),Ht(re.stateNode),Pi(e),r!==null)for(v=e.onRecoverableError,re=0;re<r.length;re++)ce=r[re],v(ce.value,{componentStack:ce.stack});return(Oo&3)!==0&&Rl(),ce=e.pendingLanes,(x&4194218)!==0&&(ce&42)!==0?e===Jf?No++:(No=0,Jf=e):No=0,Bo(0),null}function yg(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,ho(r)))}function Rl(){if(zs!==null){var e=zs,r=Qf;Qf=0;var u=Rn(Oo),x=X.T,v=se.p;try{if(se.p=32>u?32:u,X.T=null,zs===null)var S=!1;else{u=Kf,Kf=null;var L=zs,G=Oo;if(zs=null,Oo=0,(En&6)!==0)throw Error(l(331));var re=En;if(En|=4,ng(L.current),$x(L,L.current,G,u),En=re,Bo(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Tt,L)}catch{}S=!0}return S}finally{se.p=v,X.T=x,yg(e,r)}}return!1}function Eg(e,r,u){r=ei(u,r),r=vf(e.stateNode,r,2),e=Wa(e,r,2),e!==null&&(Yn(e,2),Pi(e))}function rn(e,r,u){if(e.tag===3)Eg(e,e,u);else for(;r!==null;){if(r.tag===3){Eg(r,e,u);break}else if(r.tag===1){var x=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(ts===null||!ts.has(x))){e=ei(u,e),u=bx(2),x=Wa(r,u,2),x!==null&&(Ax(u,x,r,e),Yn(x,2),Pi(x));break}}r=r.return}}function r1(e,r,u){var x=e.pingCache;if(x===null){x=e.pingCache=new i3;var v=new Set;x.set(r,v)}else v=x.get(r),v===void 0&&(v=new Set,x.set(r,v));v.has(u)||(Yf=!0,v.add(u),e=c3.bind(null,e,r,u),r.then(e,e))}function c3(e,r,u){var x=e.pingCache;x!==null&&x.delete(r),e.pingedLanes|=e.suspendedLanes&u,e.warmLanes&=~u,ln===e&&(kt&u)===u&&(bn===4||bn===3&&(kt&62914560)===kt&&300>bt()-Wf?(En&2)===0&&Nl(e,0):Xf|=u,Ol===kt&&(Ol=0)),Pi(e)}function vg(e,r){r===0&&(r=xi()),e=za(e,r),e!==null&&(Yn(e,r),Pi(e))}function f3(e){var r=e.memoizedState,u=0;r!==null&&(u=r.retryLane),vg(e,u)}function d3(e,r){var u=0;switch(e.tag){case 13:var x=e.stateNode,v=e.memoizedState;v!==null&&(u=v.retryLane);break;case 19:x=e.stateNode;break;case 22:x=e.stateNode._retryCache;break;default:throw Error(l(314))}x!==null&&x.delete(r),vg(e,u)}function h3(e,r){return an(e,r)}var Zu=null,Il=null,i1=!1,Wu=!1,a1=!1,Hs=0;function Pi(e){e!==Il&&e.next===null&&(Il===null?Zu=Il=e:Il=Il.next=e),Wu=!0,i1||(i1=!0,g3(x3))}function Bo(e,r){if(!a1&&Wu){a1=!0;do for(var u=!1,x=Zu;x!==null;){if(e!==0){var v=x.pendingLanes;if(v===0)var S=0;else{var L=x.suspendedLanes,G=x.pingedLanes;S=(1<<31-dt(42|e)+1)-1,S&=v&~(L&~G),S=S&201326677?S&201326677|1:S?S|2:0}S!==0&&(u=!0,Ag(x,S))}else S=kt,S=Yi(x,x===ln?S:0),(S&3)===0||zn(x,S)||(u=!0,Ag(x,S));x=x.next}while(u);a1=!1}}function x3(){Wu=i1=!1;var e=0;Hs!==0&&(A3()&&(e=Hs),Hs=0);for(var r=bt(),u=null,x=Zu;x!==null;){var v=x.next,S=wg(x,r);S===0?(x.next=null,u===null?Zu=v:u.next=v,v===null&&(Il=u)):(u=x,(e!==0||(S&3)!==0)&&(Wu=!0)),x=v}Bo(e)}function wg(e,r){for(var u=e.suspendedLanes,x=e.pingedLanes,v=e.expirationTimes,S=e.pendingLanes&-62914561;0<S;){var L=31-dt(S),G=1<<L,re=v[L];re===-1?((G&u)===0||(G&x)!==0)&&(v[L]=Aa(G,r)):re<=r&&(e.expiredLanes|=G),S&=~G}if(r=ln,u=kt,u=Yi(e,e===r?u:0),x=e.callbackNode,u===0||e===r&&on===2||e.cancelPendingCommit!==null)return x!==null&&x!==null&&je(x),e.callbackNode=null,e.callbackPriority=0;if((u&3)===0||zn(e,u)){if(r=u&-u,r===e.callbackPriority)return r;switch(x!==null&&je(x),Rn(u)){case 2:case 8:u=Fe;break;case 32:u=We;break;case 268435456:u=Bt;break;default:u=We}return x=bg.bind(null,e),u=an(u,x),e.callbackPriority=r,e.callbackNode=u,r}return x!==null&&x!==null&&je(x),e.callbackPriority=2,e.callbackNode=null,2}function bg(e,r){var u=e.callbackNode;if(Rl()&&e.callbackNode!==u)return null;var x=kt;return x=Yi(e,e===ln?x:0),x===0?null:(ug(e,x,r),wg(e,bt()),e.callbackNode!=null&&e.callbackNode===u?bg.bind(null,e):null)}function Ag(e,r){if(Rl())return null;ug(e,r,!0)}function g3(e){S3(function(){(En&6)!==0?an(be,e):e()})}function s1(){return Hs===0&&(Hs=Sn()),Hs}function Cg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Da(""+e)}function Sg(e,r){var u=r.ownerDocument.createElement("input");return u.name=r.name,u.value=r.value,e.id&&u.setAttribute("form",e.id),r.parentNode.insertBefore(u,r),e=new FormData(e),u.parentNode.removeChild(u),e}function p3(e,r,u,x,v){if(r==="submit"&&u&&u.stateNode===v){var S=Cg((v[Xn]||null).action),L=x.submitter;L&&(r=(r=L[Xn]||null)?Cg(r.formAction):L.getAttribute("formAction"),r!==null&&(S=r,L=null));var G=new Bi("action","action",null,x,v);e.push({event:G,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Hs!==0){var re=L?Sg(v,L):new FormData(v);gf(u,{pending:!0,data:re,method:v.method,action:S},null,re)}}else typeof S=="function"&&(G.preventDefault(),re=L?Sg(v,L):new FormData(v),gf(u,{pending:!0,data:re,method:v.method,action:S},S,re))},currentTarget:v}]})}}for(var l1=0;l1<gu.length;l1++){var o1=gu[l1],m3=o1.toLowerCase(),y3=o1[0].toUpperCase()+o1.slice(1);Pr(m3,"on"+y3)}Pr(tr,"onAnimationEnd"),Pr(Nr,"onAnimationIteration"),Pr(nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Xt,"onTransitionRun"),Pr(qn,"onTransitionStart"),Pr(Er,"onTransitionCancel"),Pr(Ji,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),Zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ro));function Tg(e,r){r=(r&4)!==0;for(var u=0;u<e.length;u++){var x=e[u],v=x.event;x=x.listeners;e:{var S=void 0;if(r)for(var L=x.length-1;0<=L;L--){var G=x[L],re=G.instance,ce=G.currentTarget;if(G=G.listener,re!==S&&v.isPropagationStopped())break e;S=G,v.currentTarget=ce;try{S(v)}catch(Se){Lu(Se)}v.currentTarget=null,S=re}else for(L=0;L<x.length;L++){if(G=x[L],re=G.instance,ce=G.currentTarget,G=G.listener,re!==S&&v.isPropagationStopped())break e;S=G,v.currentTarget=ce;try{S(v)}catch(Se){Lu(Se)}v.currentTarget=null,S=re}}}}function It(e,r){var u=r[Ti];u===void 0&&(u=r[Ti]=new Set);var x=e+"__bubble";u.has(x)||(_g(r,e,2,!1),u.add(x))}function u1(e,r,u){var x=0;r&&(x|=4),_g(u,e,x,r)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function c1(e){if(!e[Qu]){e[Qu]=!0,al.forEach(function(u){u!=="selectionchange"&&(E3.has(u)||u1(u,!1,e),u1(u,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Qu]||(r[Qu]=!0,u1("selectionchange",!1,r))}}function _g(e,r,u,x){switch(Qg(r)){case 2:var v=G3;break;case 8:v=Y3;break;default:v=A1}u=v.bind(null,r,u,e),v=void 0,!ht||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(v=!0),x?v!==void 0?e.addEventListener(r,u,{capture:!0,passive:v}):e.addEventListener(r,u,!0):v!==void 0?e.addEventListener(r,u,{passive:v}):e.addEventListener(r,u,!1)}function f1(e,r,u,x,v){var S=x;if((r&1)===0&&(r&2)===0&&x!==null)e:for(;;){if(x===null)return;var L=x.tag;if(L===3||L===4){var G=x.stateNode.containerInfo;if(G===v||G.nodeType===8&&G.parentNode===v)break;if(L===4)for(L=x.return;L!==null;){var re=L.tag;if((re===3||re===4)&&(re=L.stateNode.containerInfo,re===v||re.nodeType===8&&re.parentNode===v))return;L=L.return}for(;G!==null;){if(L=Zn(G),L===null)return;if(re=L.tag,re===5||re===6||re===26||re===27){x=S=L;continue e}G=G.parentNode}}x=x.return}at(function(){var ce=S,Se=ms(u),Re=[];e:{var ye=$i.get(e);if(ye!==void 0){var Ce=Bi,Qe=e;switch(e){case"keypress":if(ll(u)===0)break e;case"keydown":case"keyup":Ce=$l;break;case"focusin":Qe="focus",Ce=Ma;break;case"focusout":Qe="blur",Ce=Ma;break;case"beforeblur":case"afterblur":Ce=Ma;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Yt;break;case tr:case Nr:case nr:Ce=kc;break;case Ji:Ce=jc;break;case"scroll":case"scrollend":Ce=or;break;case"wheel":Ce=Qi;break;case"copy":case"cut":case"paste":Ce=Et;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=As;break;case"toggle":case"beforetoggle":Ce=zc}var xt=(r&4)!==0,An=!xt&&(e==="scroll"||e==="scrollend"),he=xt?ye!==null?ye+"Capture":null:ye;xt=[];for(var ue=ce,pe;ue!==null;){var De=ue;if(pe=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||pe===null||he===null||(De=ys(ue,he),De!=null&&xt.push(Io(ue,De,pe))),An)break;ue=ue.return}0<xt.length&&(ye=new Ce(ye,Qe,null,u,Se),Re.push({event:ye,listeners:xt}))}}if((r&7)===0){e:{if(ye=e==="mouseover"||e==="pointerover",Ce=e==="mouseout"||e==="pointerout",ye&&u!==Oa&&(Qe=u.relatedTarget||u.fromElement)&&(Zn(Qe)||Qe[Tn]))break e;if((Ce||ye)&&(ye=Se.window===Se?Se:(ye=Se.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ce?(Qe=u.relatedTarget||u.toElement,Ce=ce,Qe=Qe?Zn(Qe):null,Qe!==null&&(An=_e(Qe),xt=Qe.tag,Qe!==An||xt!==5&&xt!==27&&xt!==6)&&(Qe=null)):(Ce=null,Qe=ce),Ce!==Qe)){if(xt=cu,De="onMouseLeave",he="onMouseEnter",ue="mouse",(e==="pointerout"||e==="pointerover")&&(xt=As,De="onPointerLeave",he="onPointerEnter",ue="pointer"),An=Ce==null?ye:qt(Ce),pe=Qe==null?ye:qt(Qe),ye=new xt(De,ue+"leave",Ce,u,Se),ye.target=An,ye.relatedTarget=pe,De=null,Zn(Se)===ce&&(xt=new xt(he,ue+"enter",Qe,u,Se),xt.target=pe,xt.relatedTarget=An,De=xt),An=De,Ce&&Qe)t:{for(xt=Ce,he=Qe,ue=0,pe=xt;pe;pe=Ml(pe))ue++;for(pe=0,De=he;De;De=Ml(De))pe++;for(;0<ue-pe;)xt=Ml(xt),ue--;for(;0<pe-ue;)he=Ml(he),pe--;for(;ue--;){if(xt===he||he!==null&&xt===he.alternate)break t;xt=Ml(xt),he=Ml(he)}xt=null}else xt=null;Ce!==null&&Dg(Re,ye,Ce,xt,!1),Qe!==null&&An!==null&&Dg(Re,An,Qe,xt,!0)}}e:{if(ye=ce?qt(ce):window,Ce=ye.nodeName&&ye.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ye.type==="file")var Ve=xu;else if(Ts(ye))if(ro)Ve=a;else{Ve=P;var Dt=hl}else Ce=ye.nodeName,!Ce||Ce.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?ce&&tn(ce.elementType)&&(Ve=xu):Ve=t;if(Ve&&(Ve=Ve(e,ce))){yr(Re,Ve,u,Se);break e}Dt&&Dt(e,ye,ce),e==="focusout"&&ce&&ye.type==="number"&&ce.memoizedProps.value!=null&&W(ye,"number",ye.value)}switch(Dt=ce?qt(ce):window,e){case"focusin":(Ts(Dt)||Dt.contentEditable==="true")&&(J=Dt,ae=ce,le=null);break;case"focusout":le=ae=J=null;break;case"mousedown":xe=!0;break;case"contextmenu":case"mouseup":case"dragend":xe=!1,ve(Re,u,Se);break;case"selectionchange":if(z)break;case"keydown":case"keyup":ve(Re,u,Se)}var tt;if(Cs)e:{switch(e){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Fa?Ki(e,u)&&(ot="onCompositionEnd"):e==="keydown"&&u.keyCode===229&&(ot="onCompositionStart");ot&&(to&&u.locale!=="ko"&&(Fa||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Fa&&(tt=Di()):(_i=Se,Es="value"in _i?_i.value:_i.textContent,Fa=!0)),Dt=Ku(ce,ot),0<Dt.length&&(ot=new ws(ot,e,null,u,Se),Re.push({event:ot,listeners:Dt}),tt?ot.data=tt:(tt=fl(u),tt!==null&&(ot.data=tt)))),(tt=eo?Ss(e,u):Hc(e,u))&&(ot=Ku(ce,"onBeforeInput"),0<ot.length&&(Dt=new ws("onBeforeInput","beforeinput",null,u,Se),Re.push({event:Dt,listeners:ot}),Dt.data=tt)),p3(Re,e,ce,u,Se)}Tg(Re,r)})}function Io(e,r,u){return{instance:e,listener:r,currentTarget:u}}function Ku(e,r){for(var u=r+"Capture",x=[];e!==null;){var v=e,S=v.stateNode;v=v.tag,v!==5&&v!==26&&v!==27||S===null||(v=ys(e,u),v!=null&&x.unshift(Io(e,v,S)),v=ys(e,r),v!=null&&x.push(Io(e,v,S))),e=e.return}return x}function Ml(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dg(e,r,u,x,v){for(var S=r._reactName,L=[];u!==null&&u!==x;){var G=u,re=G.alternate,ce=G.stateNode;if(G=G.tag,re!==null&&re===x)break;G!==5&&G!==26&&G!==27||ce===null||(re=ce,v?(ce=ys(u,S),ce!=null&&L.unshift(Io(u,ce,re))):v||(ce=ys(u,S),ce!=null&&L.push(Io(u,ce,re)))),u=u.return}L.length!==0&&e.push({event:r,listeners:L})}var v3=/\r\n?/g,w3=/\u0000|\uFFFD/g;function Og(e){return(typeof e=="string"?e:""+e).replace(v3,`
`).replace(w3,"")}function Ng(e,r){return r=Og(r),Og(e)===r}function Ju(){}function Jt(e,r,u,x,v,S){switch(u){case"children":typeof x=="string"?r==="body"||r==="textarea"&&x===""||_a(e,x):(typeof x=="number"||typeof x=="bigint")&&r!=="body"&&_a(e,""+x);break;case"className":Sa(e,"class",x);break;case"tabIndex":Sa(e,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(e,u,x);break;case"style":et(e,x,S);break;case"data":if(r!=="object"){Sa(e,"data",x);break}case"src":case"href":if(x===""&&(r!=="a"||u!=="href")){e.removeAttribute(u);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){e.removeAttribute(u);break}x=Da(""+x),e.setAttribute(u,x);break;case"action":case"formAction":if(typeof x=="function"){e.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(u==="formAction"?(r!=="input"&&Jt(e,r,"name",v.name,v,null),Jt(e,r,"formEncType",v.formEncType,v,null),Jt(e,r,"formMethod",v.formMethod,v,null),Jt(e,r,"formTarget",v.formTarget,v,null)):(Jt(e,r,"encType",v.encType,v,null),Jt(e,r,"method",v.method,v,null),Jt(e,r,"target",v.target,v,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){e.removeAttribute(u);break}x=Da(""+x),e.setAttribute(u,x);break;case"onClick":x!=null&&(e.onclick=Ju);break;case"onScroll":x!=null&&It("scroll",e);break;case"onScrollEnd":x!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(l(61));if(u=x.__html,u!=null){if(v.children!=null)throw Error(l(60));e.innerHTML=u}}break;case"multiple":e.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":e.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){e.removeAttribute("xlink:href");break}u=Da(""+x),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?e.setAttribute(u,""+x):e.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?e.setAttribute(u,""):e.removeAttribute(u);break;case"capture":case"download":x===!0?e.setAttribute(u,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?e.setAttribute(u,x):e.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?e.setAttribute(u,x):e.removeAttribute(u);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?e.removeAttribute(u):e.setAttribute(u,x);break;case"popover":It("beforetoggle",e),It("toggle",e),Ca(e,"popover",x);break;case"xlinkActuate":Fr(e,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Fr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Fr(e,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Fr(e,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Fr(e,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Fr(e,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Fr(e,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ca(e,"is",x);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=uu.get(u)||u,Ca(e,u,x))}}function d1(e,r,u,x,v,S){switch(u){case"style":et(e,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(l(61));if(u=x.__html,u!=null){if(v.children!=null)throw Error(l(60));e.innerHTML=u}}break;case"children":typeof x=="string"?_a(e,x):(typeof x=="number"||typeof x=="bigint")&&_a(e,""+x);break;case"onScroll":x!=null&&It("scroll",e);break;case"onScrollEnd":x!=null&&It("scrollend",e);break;case"onClick":x!=null&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oe.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),r=u.slice(2,v?u.length-7:void 0),S=e[Xn]||null,S=S!=null?S[u]:null,typeof S=="function"&&e.removeEventListener(r,S,v),typeof x=="function")){typeof S!="function"&&S!==null&&(u in e?e[u]=null:e.hasAttribute(u)&&e.removeAttribute(u)),e.addEventListener(r,x,v);break e}u in e?e[u]=x:x===!0?e.setAttribute(u,""):Ca(e,u,x)}}}function ar(e,r,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var x=!1,v=!1,S;for(S in u)if(u.hasOwnProperty(S)){var L=u[S];if(L!=null)switch(S){case"src":x=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:Jt(e,r,S,L,u,null)}}v&&Jt(e,r,"srcSet",u.srcSet,u,null),x&&Jt(e,r,"src",u.src,u,null);return;case"input":It("invalid",e);var G=S=L=v=null,re=null,ce=null;for(x in u)if(u.hasOwnProperty(x)){var Se=u[x];if(Se!=null)switch(x){case"name":v=Se;break;case"type":L=Se;break;case"checked":re=Se;break;case"defaultChecked":ce=Se;break;case"value":S=Se;break;case"defaultValue":G=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(l(137,r));break;default:Jt(e,r,x,Se,u,null)}}ge(e,S,G,re,ce,L,v,!1),sn(e);return;case"select":It("invalid",e),x=L=S=null;for(v in u)if(u.hasOwnProperty(v)&&(G=u[v],G!=null))switch(v){case"value":S=G;break;case"defaultValue":L=G;break;case"multiple":x=G;default:Jt(e,r,v,G,u,null)}r=S,u=L,e.multiple=!!x,r!=null?Ge(e,!!x,r,!1):u!=null&&Ge(e,!!x,u,!0);return;case"textarea":It("invalid",e),S=v=x=null;for(L in u)if(u.hasOwnProperty(L)&&(G=u[L],G!=null))switch(L){case"value":x=G;break;case"defaultValue":v=G;break;case"children":S=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(91));break;default:Jt(e,r,L,G,u,null)}pr(e,x,v,S),sn(e);return;case"option":for(re in u)if(u.hasOwnProperty(re)&&(x=u[re],x!=null))switch(re){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Jt(e,r,re,x,u,null)}return;case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(x=0;x<Ro.length;x++)It(Ro[x],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in u)if(u.hasOwnProperty(ce)&&(x=u[ce],x!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,r));default:Jt(e,r,ce,x,u,null)}return;default:if(tn(r)){for(Se in u)u.hasOwnProperty(Se)&&(x=u[Se],x!==void 0&&d1(e,r,Se,x,u,void 0));return}}for(G in u)u.hasOwnProperty(G)&&(x=u[G],x!=null&&Jt(e,r,G,x,u,null))}function b3(e,r,u,x){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,S=null,L=null,G=null,re=null,ce=null,Se=null;for(Ce in u){var Re=u[Ce];if(u.hasOwnProperty(Ce)&&Re!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":re=Re;default:x.hasOwnProperty(Ce)||Jt(e,r,Ce,null,x,Re)}}for(var ye in x){var Ce=x[ye];if(Re=u[ye],x.hasOwnProperty(ye)&&(Ce!=null||Re!=null))switch(ye){case"type":S=Ce;break;case"name":v=Ce;break;case"checked":ce=Ce;break;case"defaultChecked":Se=Ce;break;case"value":L=Ce;break;case"defaultValue":G=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(l(137,r));break;default:Ce!==Re&&Jt(e,r,ye,Ce,x,Re)}}In(e,L,G,re,ce,Se,S,v);return;case"select":Ce=L=G=ye=null;for(S in u)if(re=u[S],u.hasOwnProperty(S)&&re!=null)switch(S){case"value":break;case"multiple":Ce=re;default:x.hasOwnProperty(S)||Jt(e,r,S,null,x,re)}for(v in x)if(S=x[v],re=u[v],x.hasOwnProperty(v)&&(S!=null||re!=null))switch(v){case"value":ye=S;break;case"defaultValue":G=S;break;case"multiple":L=S;default:S!==re&&Jt(e,r,v,S,x,re)}r=G,u=L,x=Ce,ye!=null?Ge(e,!!u,ye,!1):!!x!=!!u&&(r!=null?Ge(e,!!u,r,!0):Ge(e,!!u,u?[]:"",!1));return;case"textarea":Ce=ye=null;for(G in u)if(v=u[G],u.hasOwnProperty(G)&&v!=null&&!x.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Jt(e,r,G,null,x,v)}for(L in x)if(v=x[L],S=u[L],x.hasOwnProperty(L)&&(v!=null||S!=null))switch(L){case"value":ye=v;break;case"defaultValue":Ce=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:v!==S&&Jt(e,r,L,v,x,S)}_n(e,ye,Ce);return;case"option":for(var Qe in u)if(ye=u[Qe],u.hasOwnProperty(Qe)&&ye!=null&&!x.hasOwnProperty(Qe))switch(Qe){case"selected":e.selected=!1;break;default:Jt(e,r,Qe,null,x,ye)}for(re in x)if(ye=x[re],Ce=u[re],x.hasOwnProperty(re)&&ye!==Ce&&(ye!=null||Ce!=null))switch(re){case"selected":e.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Jt(e,r,re,ye,x,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in u)ye=u[xt],u.hasOwnProperty(xt)&&ye!=null&&!x.hasOwnProperty(xt)&&Jt(e,r,xt,null,x,ye);for(ce in x)if(ye=x[ce],Ce=u[ce],x.hasOwnProperty(ce)&&ye!==Ce&&(ye!=null||Ce!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(l(137,r));break;default:Jt(e,r,ce,ye,x,Ce)}return;default:if(tn(r)){for(var An in u)ye=u[An],u.hasOwnProperty(An)&&ye!==void 0&&!x.hasOwnProperty(An)&&d1(e,r,An,void 0,x,ye);for(Se in x)ye=x[Se],Ce=u[Se],!x.hasOwnProperty(Se)||ye===Ce||ye===void 0&&Ce===void 0||d1(e,r,Se,ye,x,Ce);return}}for(var he in u)ye=u[he],u.hasOwnProperty(he)&&ye!=null&&!x.hasOwnProperty(he)&&Jt(e,r,he,null,x,ye);for(Re in x)ye=x[Re],Ce=u[Re],!x.hasOwnProperty(Re)||ye===Ce||ye==null&&Ce==null||Jt(e,r,Re,ye,x,Ce)}var h1=null,x1=null;function $u(e){return e.nodeType===9?e:e.ownerDocument}function Bg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rg(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function g1(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var p1=null;function A3(){var e=window.event;return e&&e.type==="popstate"?e===p1?!1:(p1=e,!0):(p1=null,!1)}var Ig=typeof setTimeout=="function"?setTimeout:void 0,C3=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,S3=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(e){return Mg.resolve(null).then(e).catch(T3)}:Ig;function T3(e){setTimeout(function(){throw e})}function m1(e,r){var u=r,x=0;do{var v=u.nextSibling;if(e.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(x===0){e.removeChild(v),zo(r);return}x--}else u!=="$"&&u!=="$?"&&u!=="$!"||x++;u=v}while(u);zo(r)}function y1(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var u=r;switch(r=r.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":y1(u),Kl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}e.removeChild(u)}}function _3(e,r,u,x){for(;e.nodeType===1;){var v=u;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!x&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(x){if(!e[ps])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(S=e.getAttribute("rel"),S==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(S!==v.rel||e.getAttribute("href")!==(v.href==null?null:v.href)||e.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||e.getAttribute("title")!==(v.title==null?null:v.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(S=e.getAttribute("src"),(S!==(v.src==null?null:v.src)||e.getAttribute("type")!==(v.type==null?null:v.type)||e.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&S&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var S=v.name==null?null:""+v.name;if(v.type==="hidden"&&e.getAttribute("name")===S)return e}else return e;if(e=wi(e.nextSibling),e===null)break}return null}function D3(e,r,u){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!u||(e=wi(e.nextSibling),e===null))return null;return e}function wi(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return e}function Lg(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var u=e.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return e;r--}else u==="/$"&&r++}e=e.previousSibling}return null}function kg(e,r,u){switch(r=$u(u),e){case"html":if(e=r.documentElement,!e)throw Error(l(452));return e;case"head":if(e=r.head,!e)throw Error(l(453));return e;case"body":if(e=r.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}var oi=new Map,Fg=new Set;function e0(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var xa=se.d;se.d={f:O3,r:N3,D:B3,C:R3,L:I3,m:M3,X:k3,S:L3,M:F3};function O3(){var e=xa.f(),r=Yu();return e||r}function N3(e){var r=vn(e);r!==null&&r.tag===5&&r.type==="form"?cx(r):xa.r(e)}var Ll=typeof document>"u"?null:document;function Pg(e,r,u){var x=Ll;if(x&&typeof r=="string"&&r){var v=At(r);v='link[rel="'+e+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),Fg.has(v)||(Fg.add(v),e={rel:e,crossOrigin:u,href:r},x.querySelector(v)===null&&(r=x.createElement("link"),ar(r,"link",e),en(r),x.head.appendChild(r)))}}function B3(e){xa.D(e),Pg("dns-prefetch",e,null)}function R3(e,r){xa.C(e,r),Pg("preconnect",e,r)}function I3(e,r,u){xa.L(e,r,u);var x=Ll;if(x&&e&&r){var v='link[rel="preload"][as="'+At(r)+'"]';r==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+At(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+At(u.imageSizes)+'"]')):v+='[href="'+At(e)+'"]';var S=v;switch(r){case"style":S=kl(e);break;case"script":S=Fl(e)}oi.has(S)||(e=Z({rel:"preload",href:r==="image"&&u&&u.imageSrcSet?void 0:e,as:r},u),oi.set(S,e),x.querySelector(v)!==null||r==="style"&&x.querySelector(Mo(S))||r==="script"&&x.querySelector(Lo(S))||(r=x.createElement("link"),ar(r,"link",e),en(r),x.head.appendChild(r)))}}function M3(e,r){xa.m(e,r);var u=Ll;if(u&&e){var x=r&&typeof r.as=="string"?r.as:"script",v='link[rel="modulepreload"][as="'+At(x)+'"][href="'+At(e)+'"]',S=v;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Fl(e)}if(!oi.has(S)&&(e=Z({rel:"modulepreload",href:e},r),oi.set(S,e),u.querySelector(v)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Lo(S)))return}x=u.createElement("link"),ar(x,"link",e),en(x),u.head.appendChild(x)}}}function L3(e,r,u){xa.S(e,r,u);var x=Ll;if(x&&e){var v=Xi(x).hoistableStyles,S=kl(e);r=r||"default";var L=v.get(S);if(!L){var G={loading:0,preload:null};if(L=x.querySelector(Mo(S)))G.loading=5;else{e=Z({rel:"stylesheet",href:e,"data-precedence":r},u),(u=oi.get(S))&&E1(e,u);var re=L=x.createElement("link");en(re),ar(re,"link",e),re._p=new Promise(function(ce,Se){re.onload=ce,re.onerror=Se}),re.addEventListener("load",function(){G.loading|=1}),re.addEventListener("error",function(){G.loading|=2}),G.loading|=4,t0(L,r,x)}L={type:"stylesheet",instance:L,count:1,state:G},v.set(S,L)}}}function k3(e,r){xa.X(e,r);var u=Ll;if(u&&e){var x=Xi(u).hoistableScripts,v=Fl(e),S=x.get(v);S||(S=u.querySelector(Lo(v)),S||(e=Z({src:e,async:!0},r),(r=oi.get(v))&&v1(e,r),S=u.createElement("script"),en(S),ar(S,"link",e),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(v,S))}}function F3(e,r){xa.M(e,r);var u=Ll;if(u&&e){var x=Xi(u).hoistableScripts,v=Fl(e),S=x.get(v);S||(S=u.querySelector(Lo(v)),S||(e=Z({src:e,async:!0,type:"module"},r),(r=oi.get(v))&&v1(e,r),S=u.createElement("script"),en(S),ar(S,"link",e),u.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(v,S))}}function Ug(e,r,u,x){var v=(v=He.current)?e0(v):null;if(!v)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(r=kl(u.href),u=Xi(v).hoistableStyles,x=u.get(r),x||(x={type:"style",instance:null,count:0,state:null},u.set(r,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){e=kl(u.href);var S=Xi(v).hoistableStyles,L=S.get(e);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(e,L),(S=v.querySelector(Mo(e)))&&!S._p&&(L.instance=S,L.state.loading=5),oi.has(e)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},oi.set(e,u),S||P3(v,e,u,L.state))),r&&x===null)throw Error(l(528,""));return L}if(r&&x!==null)throw Error(l(529,""));return null;case"script":return r=u.async,u=u.src,typeof u=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fl(u),u=Xi(v).hoistableScripts,x=u.get(r),x||(x={type:"script",instance:null,count:0,state:null},u.set(r,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function kl(e){return'href="'+At(e)+'"'}function Mo(e){return'link[rel="stylesheet"]['+e+"]"}function jg(e){return Z({},e,{"data-precedence":e.precedence,precedence:null})}function P3(e,r,u,x){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?x.loading=1:(r=e.createElement("link"),x.preload=r,r.addEventListener("load",function(){return x.loading|=1}),r.addEventListener("error",function(){return x.loading|=2}),ar(r,"link",u),en(r),e.head.appendChild(r))}function Fl(e){return'[src="'+At(e)+'"]'}function Lo(e){return"script[async]"+e}function zg(e,r,u){if(r.count++,r.instance===null)switch(r.type){case"style":var x=e.querySelector('style[data-href~="'+At(u.href)+'"]');if(x)return r.instance=x,en(x),x;var v=Z({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return x=(e.ownerDocument||e).createElement("style"),en(x),ar(x,"style",v),t0(x,u.precedence,e),r.instance=x;case"stylesheet":v=kl(u.href);var S=e.querySelector(Mo(v));if(S)return r.state.loading|=4,r.instance=S,en(S),S;x=jg(u),(v=oi.get(v))&&E1(x,v),S=(e.ownerDocument||e).createElement("link"),en(S);var L=S;return L._p=new Promise(function(G,re){L.onload=G,L.onerror=re}),ar(S,"link",x),r.state.loading|=4,t0(S,u.precedence,e),r.instance=S;case"script":return S=Fl(u.src),(v=e.querySelector(Lo(S)))?(r.instance=v,en(v),v):(x=u,(v=oi.get(S))&&(x=Z({},u),v1(x,v)),e=e.ownerDocument||e,v=e.createElement("script"),en(v),ar(v,"link",x),e.head.appendChild(v),r.instance=v);case"void":return null;default:throw Error(l(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(x=r.instance,r.state.loading|=4,t0(x,u.precedence,e));return r.instance}function t0(e,r,u){for(var x=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=x.length?x[x.length-1]:null,S=v,L=0;L<x.length;L++){var G=x[L];if(G.dataset.precedence===r)S=G;else if(S!==v)break}S?S.parentNode.insertBefore(e,S.nextSibling):(r=u.nodeType===9?u.head:u,r.insertBefore(e,r.firstChild))}function E1(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function v1(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var n0=null;function Hg(e,r,u){if(n0===null){var x=new Map,v=n0=new Map;v.set(u,x)}else v=n0,x=v.get(u),x||(x=new Map,v.set(u,x));if(x.has(e))return x;for(x.set(e,null),u=u.getElementsByTagName(e),v=0;v<u.length;v++){var S=u[v];if(!(S[ps]||S[pn]||e==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var L=S.getAttribute(r)||"";L=e+L;var G=x.get(L);G?G.push(S):x.set(L,[S])}}return x}function qg(e,r,u){e=e.ownerDocument||e,e.head.insertBefore(u,r==="title"?e.querySelector("head > title"):null)}function U3(e,r,u){if(u===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return e=r.disabled,typeof r.precedence=="string"&&e==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ko=null;function j3(){}function z3(e,r,u){if(ko===null)throw Error(l(475));var x=ko;if(r.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var v=kl(u.href),S=e.querySelector(Mo(v));if(S){e=S._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(x.count++,x=r0.bind(x),e.then(x,x)),r.state.loading|=4,r.instance=S,en(S);return}S=e.ownerDocument||e,u=jg(u),(v=oi.get(v))&&E1(u,v),S=S.createElement("link"),en(S);var L=S;L._p=new Promise(function(G,re){L.onload=G,L.onerror=re}),ar(S,"link",u),r.instance=S}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(r,e),(e=r.state.preload)&&(r.state.loading&3)===0&&(x.count++,r=r0.bind(x),e.addEventListener("load",r),e.addEventListener("error",r))}}function H3(){if(ko===null)throw Error(l(475));var e=ko;return e.stylesheets&&e.count===0&&w1(e,e.stylesheets),0<e.count?function(r){var u=setTimeout(function(){if(e.stylesheets&&w1(e,e.stylesheets),e.unsuspend){var x=e.unsuspend;e.unsuspend=null,x()}},6e4);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(u)}}:null}function r0(){if(this.count--,this.count===0){if(this.stylesheets)w1(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var i0=null;function w1(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,i0=new Map,r.forEach(q3,e),i0=null,r0.call(e))}function q3(e,r){if(!(r.state.loading&4)){var u=i0.get(e);if(u)var x=u.get(null);else{u=new Map,i0.set(e,u);for(var v=e.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<v.length;S++){var L=v[S];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),x=L)}x&&u.set(null,x)}v=r.instance,L=v.getAttribute("data-precedence"),S=u.get(L)||x,S===x&&u.set(null,v),u.set(L,v),this.count++,x=r0.bind(this),v.addEventListener("load",x),v.addEventListener("error",x),S?S.parentNode.insertBefore(v,S.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(v,e.firstChild)),r.state.loading|=4}}var Fo={$$typeof:T,Provider:null,Consumer:null,_currentValue:Le,_currentValue2:Le,_threadCount:0};function V3(e,r,u,x,v,S,L,G){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=x,this.onUncaughtError=v,this.onCaughtError=S,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Gg(e,r,u,x,v,S,L,G,re,ce,Se,Re){return e=new V3(e,r,u,L,G,re,ce,Re),r=1,S===!0&&(r|=24),S=si(3,null,null,r),e.current=S,S.stateNode=e,r=Jc(),r.refCount++,e.pooledCache=r,r.refCount++,S.memoizedState={element:x,isDehydrated:u,cache:r},If(S),e}function Yg(e){return e?(e=gl,e):gl}function Xg(e,r,u,x,v,S){v=Yg(v),x.context===null?x.context=v:x.pendingContext=v,x=Za(r),x.payload={element:u},S=S===void 0?null:S,S!==null&&(x.callback=S),u=Wa(e,x,r),u!==null&&(wr(u,e,r),vo(u,e,r))}function Zg(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var u=e.retryLane;e.retryLane=u!==0&&u<r?u:r}}function b1(e,r){Zg(e,r),(e=e.alternate)&&Zg(e,r)}function Wg(e){if(e.tag===13){var r=za(e,67108864);r!==null&&wr(r,e,67108864),b1(e,67108864)}}var a0=!0;function G3(e,r,u,x){var v=X.T;X.T=null;var S=se.p;try{se.p=2,A1(e,r,u,x)}finally{se.p=S,X.T=v}}function Y3(e,r,u,x){var v=X.T;X.T=null;var S=se.p;try{se.p=8,A1(e,r,u,x)}finally{se.p=S,X.T=v}}function A1(e,r,u,x){if(a0){var v=C1(x);if(v===null)f1(e,r,x,s0,u),Kg(e,x);else if(Z3(v,e,r,u,x))x.stopPropagation();else if(Kg(e,x),r&4&&-1<X3.indexOf(e)){for(;v!==null;){var S=vn(v);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var L=Wr(S.pendingLanes);if(L!==0){var G=S;for(G.pendingLanes|=2,G.entangledLanes|=2;L;){var re=1<<31-dt(L);G.entanglements[1]|=re,L&=~re}Pi(S),(En&6)===0&&(qu=bt()+500,Bo(0))}}break;case 13:G=za(S,2),G!==null&&wr(G,S,2),Yu(),b1(S,2)}if(S=C1(x),S===null&&f1(e,r,x,s0,u),S===v)break;v=S}v!==null&&x.stopPropagation()}else f1(e,r,x,null,u)}}function C1(e){return e=ms(e),S1(e)}var s0=null;function S1(e){if(s0=null,e=Zn(e),e!==null){var r=_e(e);if(r===null)e=null;else{var u=r.tag;if(u===13){if(e=ke(r),e!==null)return e;e=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return s0=e,null}function Qg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($n()){case be:return 2;case Fe:return 8;case We:case $e:return 32;case Bt:return 268435456;default:return 32}default:return 32}}var T1=!1,ns=null,rs=null,is=null,Po=new Map,Uo=new Map,as=[],X3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kg(e,r){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Po.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(r.pointerId)}}function jo(e,r,u,x,v,S){return e===null||e.nativeEvent!==S?(e={blockedOn:r,domEventName:u,eventSystemFlags:x,nativeEvent:S,targetContainers:[v]},r!==null&&(r=vn(r),r!==null&&Wg(r)),e):(e.eventSystemFlags|=x,r=e.targetContainers,v!==null&&r.indexOf(v)===-1&&r.push(v),e)}function Z3(e,r,u,x,v){switch(r){case"focusin":return ns=jo(ns,e,r,u,x,v),!0;case"dragenter":return rs=jo(rs,e,r,u,x,v),!0;case"mouseover":return is=jo(is,e,r,u,x,v),!0;case"pointerover":var S=v.pointerId;return Po.set(S,jo(Po.get(S)||null,e,r,u,x,v)),!0;case"gotpointercapture":return S=v.pointerId,Uo.set(S,jo(Uo.get(S)||null,e,r,u,x,v)),!0}return!1}function Jg(e){var r=Zn(e.target);if(r!==null){var u=_e(r);if(u!==null){if(r=u.tag,r===13){if(r=ke(u),r!==null){e.blockedOn=r,Dr(e.priority,function(){if(u.tag===13){var x=Hr(),v=za(u,x);v!==null&&wr(v,u,x),b1(u,x)}});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){e.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}e.blockedOn=null}function l0(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var u=C1(e.nativeEvent);if(u===null){u=e.nativeEvent;var x=new u.constructor(u.type,u);Oa=x,u.target.dispatchEvent(x),Oa=null}else return r=vn(u),r!==null&&Wg(r),e.blockedOn=u,!1;r.shift()}return!0}function $g(e,r,u){l0(e)&&u.delete(r)}function W3(){T1=!1,ns!==null&&l0(ns)&&(ns=null),rs!==null&&l0(rs)&&(rs=null),is!==null&&l0(is)&&(is=null),Po.forEach($g),Uo.forEach($g)}function o0(e,r){e.blockedOn===r&&(e.blockedOn=null,T1||(T1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,W3)))}var u0=null;function e2(e){u0!==e&&(u0=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){u0===e&&(u0=null);for(var r=0;r<e.length;r+=3){var u=e[r],x=e[r+1],v=e[r+2];if(typeof x!="function"){if(S1(x||u)===null)continue;break}var S=vn(u);S!==null&&(e.splice(r,3),r-=3,gf(S,{pending:!0,data:v,method:u.method,action:x},x,v))}}))}function zo(e){function r(re){return o0(re,e)}ns!==null&&o0(ns,e),rs!==null&&o0(rs,e),is!==null&&o0(is,e),Po.forEach(r),Uo.forEach(r);for(var u=0;u<as.length;u++){var x=as[u];x.blockedOn===e&&(x.blockedOn=null)}for(;0<as.length&&(u=as[0],u.blockedOn===null);)Jg(u),u.blockedOn===null&&as.shift();if(u=(e.ownerDocument||e).$$reactFormReplay,u!=null)for(x=0;x<u.length;x+=3){var v=u[x],S=u[x+1],L=v[Xn]||null;if(typeof S=="function")L||e2(u);else if(L){var G=null;if(S&&S.hasAttribute("formAction")){if(v=S,L=S[Xn]||null)G=L.formAction;else if(S1(v)!==null)continue}else G=L.action;typeof G=="function"?u[x+1]=G:(u.splice(x,3),x-=3),e2(u)}}}function _1(e){this._internalRoot=e}c0.prototype.render=_1.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(l(409));var u=r.current,x=Hr();Xg(u,x,e,r,null,null)},c0.prototype.unmount=_1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;e.tag===0&&Rl(),Xg(e.current,2,null,e,null,null),Yu(),r[Tn]=null}};function c0(e){this._internalRoot=e}c0.prototype.unstable_scheduleHydration=function(e){if(e){var r=Qr();e={blockedOn:null,target:e,priority:r};for(var u=0;u<as.length&&r!==0&&r<as[u].priority;u++);as.splice(u,0,e),u===0&&Jg(e)}};var t2=i.version;if(t2!=="19.0.0")throw Error(l(527,t2,"19.0.0"));se.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=ie(r),e=e!==null?oe(e):null,e=e===null?null:e.stateNode,e};var Q3={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:Zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f0.isDisabled&&f0.supportsFiber)try{Tt=f0.inject(Q3),Ne=f0}catch{}}return qo.createRoot=function(e,r){if(!d(e))throw Error(l(299));var u=!1,x="",v=yx,S=Ex,L=vx,G=null;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(x=r.identifierPrefix),r.onUncaughtError!==void 0&&(v=r.onUncaughtError),r.onCaughtError!==void 0&&(S=r.onCaughtError),r.onRecoverableError!==void 0&&(L=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(G=r.unstable_transitionCallbacks)),r=Gg(e,1,!1,null,null,u,x,v,S,L,G,null),e[Tn]=r.current,c1(e.nodeType===8?e.parentNode:e),new _1(r)},qo.hydrateRoot=function(e,r,u){if(!d(e))throw Error(l(299));var x=!1,v="",S=yx,L=Ex,G=vx,re=null,ce=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(re=u.unstable_transitionCallbacks),u.formState!==void 0&&(ce=u.formState)),r=Gg(e,1,!0,r,u??null,x,v,S,L,G,re,ce),r.context=Yg(null),u=r.current,x=Hr(),v=Za(x),v.callback=null,Wa(u,v,x),r.current.lanes=x,Yn(r,x),Pi(r),e[Tn]=r.current,c1(e),new c0(r)},qo.version="19.0.0",qo}var h2;function lE(){if(h2)return N1.exports;h2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(i){console.error(i)}}return n(),N1.exports=sE(),N1.exports}var oE=lE(),Je=jn();const Ue=Vi(Je),uy="wss://easy-messenger.onrender.com",uE="ws://localhost:8080",cE=document.location.protocol=="http:"?uE:uy,x2=new WebSocket(uy);x2.onopen=()=>x2.close(1e3);var T0={exports:{}};function fE(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var _0={exports:{}};const dE={},hE=Object.freeze(Object.defineProperty({__proto__:null,default:dE},Symbol.toStringTag,{value:"Module"})),xE=Gd(hE);var gE=_0.exports,g2;function Mt(){return g2||(g2=1,function(n,i){(function(s,l){n.exports=l()})(gE,function(){var s=s||function(l,d){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof Zs<"u"&&Zs.crypto&&(f=Zs.crypto),!f&&typeof fE=="function")try{f=xE}catch{}var m=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},E=Object.create||function(){function M(){}return function(k){var V;return M.prototype=k,V=new M,M.prototype=null,V}}(),b={},g=b.lib={},w=g.Base=function(){return{extend:function(M){var k=E(this);return M&&k.mixIn(M),(!k.hasOwnProperty("init")||this.init===k.init)&&(k.init=function(){k.$super.init.apply(this,arguments)}),k.init.prototype=k,k.$super=this,k},create:function(){var M=this.extend();return M.init.apply(M,arguments),M},init:function(){},mixIn:function(M){for(var k in M)M.hasOwnProperty(k)&&(this[k]=M[k]);M.hasOwnProperty("toString")&&(this.toString=M.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),C=g.WordArray=w.extend({init:function(M,k){M=this.words=M||[],k!=d?this.sigBytes=k:this.sigBytes=M.length*4},toString:function(M){return(M||T).stringify(this)},concat:function(M){var k=this.words,V=M.words,Q=this.sigBytes,q=M.sigBytes;if(this.clamp(),Q%4)for(var Y=0;Y<q;Y++){var ee=V[Y>>>2]>>>24-Y%4*8&255;k[Q+Y>>>2]|=ee<<24-(Q+Y)%4*8}else for(var X=0;X<q;X+=4)k[Q+X>>>2]=V[X>>>2];return this.sigBytes+=q,this},clamp:function(){var M=this.words,k=this.sigBytes;M[k>>>2]&=4294967295<<32-k%4*8,M.length=l.ceil(k/4)},clone:function(){var M=w.clone.call(this);return M.words=this.words.slice(0),M},random:function(M){for(var k=[],V=0;V<M;V+=4)k.push(m());return new C.init(k,M)}}),D=b.enc={},T=D.Hex={stringify:function(M){for(var k=M.words,V=M.sigBytes,Q=[],q=0;q<V;q++){var Y=k[q>>>2]>>>24-q%4*8&255;Q.push((Y>>>4).toString(16)),Q.push((Y&15).toString(16))}return Q.join("")},parse:function(M){for(var k=M.length,V=[],Q=0;Q<k;Q+=2)V[Q>>>3]|=parseInt(M.substr(Q,2),16)<<24-Q%8*4;return new C.init(V,k/2)}},O=D.Latin1={stringify:function(M){for(var k=M.words,V=M.sigBytes,Q=[],q=0;q<V;q++){var Y=k[q>>>2]>>>24-q%4*8&255;Q.push(String.fromCharCode(Y))}return Q.join("")},parse:function(M){for(var k=M.length,V=[],Q=0;Q<k;Q++)V[Q>>>2]|=(M.charCodeAt(Q)&255)<<24-Q%4*8;return new C.init(V,k)}},N=D.Utf8={stringify:function(M){try{return decodeURIComponent(escape(O.stringify(M)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(M){return O.parse(unescape(encodeURIComponent(M)))}},B=g.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new C.init,this._nDataBytes=0},_append:function(M){typeof M=="string"&&(M=N.parse(M)),this._data.concat(M),this._nDataBytes+=M.sigBytes},_process:function(M){var k,V=this._data,Q=V.words,q=V.sigBytes,Y=this.blockSize,ee=Y*4,X=q/ee;M?X=l.ceil(X):X=l.max((X|0)-this._minBufferSize,0);var Z=X*Y,K=l.min(Z*4,q);if(Z){for(var $=0;$<Z;$+=Y)this._doProcessBlock(Q,$);k=Q.splice(0,Z),V.sigBytes-=K}return new C.init(k,K)},clone:function(){var M=w.clone.call(this);return M._data=this._data.clone(),M},_minBufferSize:0});g.Hasher=B.extend({cfg:w.extend(),init:function(M){this.cfg=this.cfg.extend(M),this.reset()},reset:function(){B.reset.call(this),this._doReset()},update:function(M){return this._append(M),this._process(),this},finalize:function(M){M&&this._append(M);var k=this._doFinalize();return k},blockSize:16,_createHelper:function(M){return function(k,V){return new M.init(V).finalize(k)}},_createHmacHelper:function(M){return function(k,V){return new I.HMAC.init(M,V).finalize(k)}}});var I=b.algo={};return b}(Math);return s})}(_0)),_0.exports}var D0={exports:{}},pE=D0.exports,p2;function wc(){return p2||(p2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(pE,function(s){return function(l){var d=s,f=d.lib,m=f.Base,E=f.WordArray,b=d.x64={};b.Word=m.extend({init:function(g,w){this.high=g,this.low=w}}),b.WordArray=m.extend({init:function(g,w){g=this.words=g||[],w!=l?this.sigBytes=w:this.sigBytes=g.length*8},toX32:function(){for(var g=this.words,w=g.length,C=[],D=0;D<w;D++){var T=g[D];C.push(T.high),C.push(T.low)}return E.create(C,this.sigBytes)},clone:function(){for(var g=m.clone.call(this),w=g.words=this.words.slice(0),C=w.length,D=0;D<C;D++)w[D]=w[D].clone();return g}})}(),s})}(D0)),D0.exports}var O0={exports:{}},mE=O0.exports,m2;function yE(){return m2||(m2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(mE,function(s){return function(){if(typeof ArrayBuffer=="function"){var l=s,d=l.lib,f=d.WordArray,m=f.init,E=f.init=function(b){if(b instanceof ArrayBuffer&&(b=new Uint8Array(b)),(b instanceof Int8Array||typeof Uint8ClampedArray<"u"&&b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array)&&(b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)),b instanceof Uint8Array){for(var g=b.byteLength,w=[],C=0;C<g;C++)w[C>>>2]|=b[C]<<24-C%4*8;m.call(this,w,g)}else m.apply(this,arguments)};E.prototype=f}}(),s.lib.WordArray})}(O0)),O0.exports}var N0={exports:{}},EE=N0.exports,y2;function vE(){return y2||(y2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(EE,function(s){return function(){var l=s,d=l.lib,f=d.WordArray,m=l.enc;m.Utf16=m.Utf16BE={stringify:function(b){for(var g=b.words,w=b.sigBytes,C=[],D=0;D<w;D+=2){var T=g[D>>>2]>>>16-D%4*8&65535;C.push(String.fromCharCode(T))}return C.join("")},parse:function(b){for(var g=b.length,w=[],C=0;C<g;C++)w[C>>>1]|=b.charCodeAt(C)<<16-C%2*16;return f.create(w,g*2)}},m.Utf16LE={stringify:function(b){for(var g=b.words,w=b.sigBytes,C=[],D=0;D<w;D+=2){var T=E(g[D>>>2]>>>16-D%4*8&65535);C.push(String.fromCharCode(T))}return C.join("")},parse:function(b){for(var g=b.length,w=[],C=0;C<g;C++)w[C>>>1]|=E(b.charCodeAt(C)<<16-C%2*16);return f.create(w,g*2)}};function E(b){return b<<8&4278255360|b>>>8&16711935}}(),s.enc.Utf16})}(N0)),N0.exports}var B0={exports:{}},wE=B0.exports,E2;function $s(){return E2||(E2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(wE,function(s){return function(){var l=s,d=l.lib,f=d.WordArray,m=l.enc;m.Base64={stringify:function(b){var g=b.words,w=b.sigBytes,C=this._map;b.clamp();for(var D=[],T=0;T<w;T+=3)for(var O=g[T>>>2]>>>24-T%4*8&255,N=g[T+1>>>2]>>>24-(T+1)%4*8&255,B=g[T+2>>>2]>>>24-(T+2)%4*8&255,I=O<<16|N<<8|B,M=0;M<4&&T+M*.75<w;M++)D.push(C.charAt(I>>>6*(3-M)&63));var k=C.charAt(64);if(k)for(;D.length%4;)D.push(k);return D.join("")},parse:function(b){var g=b.length,w=this._map,C=this._reverseMap;if(!C){C=this._reverseMap=[];for(var D=0;D<w.length;D++)C[w.charCodeAt(D)]=D}var T=w.charAt(64);if(T){var O=b.indexOf(T);O!==-1&&(g=O)}return E(b,g,C)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function E(b,g,w){for(var C=[],D=0,T=0;T<g;T++)if(T%4){var O=w[b.charCodeAt(T-1)]<<T%4*2,N=w[b.charCodeAt(T)]>>>6-T%4*2,B=O|N;C[D>>>2]|=B<<24-D%4*8,D++}return f.create(C,D)}}(),s.enc.Base64})}(B0)),B0.exports}var R0={exports:{}},bE=R0.exports,v2;function AE(){return v2||(v2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(bE,function(s){return function(){var l=s,d=l.lib,f=d.WordArray,m=l.enc;m.Base64url={stringify:function(b,g){g===void 0&&(g=!0);var w=b.words,C=b.sigBytes,D=g?this._safe_map:this._map;b.clamp();for(var T=[],O=0;O<C;O+=3)for(var N=w[O>>>2]>>>24-O%4*8&255,B=w[O+1>>>2]>>>24-(O+1)%4*8&255,I=w[O+2>>>2]>>>24-(O+2)%4*8&255,M=N<<16|B<<8|I,k=0;k<4&&O+k*.75<C;k++)T.push(D.charAt(M>>>6*(3-k)&63));var V=D.charAt(64);if(V)for(;T.length%4;)T.push(V);return T.join("")},parse:function(b,g){g===void 0&&(g=!0);var w=b.length,C=g?this._safe_map:this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var T=0;T<C.length;T++)D[C.charCodeAt(T)]=T}var O=C.charAt(64);if(O){var N=b.indexOf(O);N!==-1&&(w=N)}return E(b,w,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function E(b,g,w){for(var C=[],D=0,T=0;T<g;T++)if(T%4){var O=w[b.charCodeAt(T-1)]<<T%4*2,N=w[b.charCodeAt(T)]>>>6-T%4*2,B=O|N;C[D>>>2]|=B<<24-D%4*8,D++}return f.create(C,D)}}(),s.enc.Base64url})}(R0)),R0.exports}var I0={exports:{}},CE=I0.exports,w2;function el(){return w2||(w2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(CE,function(s){return function(l){var d=s,f=d.lib,m=f.WordArray,E=f.Hasher,b=d.algo,g=[];(function(){for(var N=0;N<64;N++)g[N]=l.abs(l.sin(N+1))*4294967296|0})();var w=b.MD5=E.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(N,B){for(var I=0;I<16;I++){var M=B+I,k=N[M];N[M]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var V=this._hash.words,Q=N[B+0],q=N[B+1],Y=N[B+2],ee=N[B+3],X=N[B+4],Z=N[B+5],K=N[B+6],$=N[B+7],ne=N[B+8],de=N[B+9],te=N[B+10],fe=N[B+11],we=N[B+12],_e=N[B+13],ke=N[B+14],F=N[B+15],ie=V[0],oe=V[1],j=V[2],se=V[3];ie=C(ie,oe,j,se,Q,7,g[0]),se=C(se,ie,oe,j,q,12,g[1]),j=C(j,se,ie,oe,Y,17,g[2]),oe=C(oe,j,se,ie,ee,22,g[3]),ie=C(ie,oe,j,se,X,7,g[4]),se=C(se,ie,oe,j,Z,12,g[5]),j=C(j,se,ie,oe,K,17,g[6]),oe=C(oe,j,se,ie,$,22,g[7]),ie=C(ie,oe,j,se,ne,7,g[8]),se=C(se,ie,oe,j,de,12,g[9]),j=C(j,se,ie,oe,te,17,g[10]),oe=C(oe,j,se,ie,fe,22,g[11]),ie=C(ie,oe,j,se,we,7,g[12]),se=C(se,ie,oe,j,_e,12,g[13]),j=C(j,se,ie,oe,ke,17,g[14]),oe=C(oe,j,se,ie,F,22,g[15]),ie=D(ie,oe,j,se,q,5,g[16]),se=D(se,ie,oe,j,K,9,g[17]),j=D(j,se,ie,oe,fe,14,g[18]),oe=D(oe,j,se,ie,Q,20,g[19]),ie=D(ie,oe,j,se,Z,5,g[20]),se=D(se,ie,oe,j,te,9,g[21]),j=D(j,se,ie,oe,F,14,g[22]),oe=D(oe,j,se,ie,X,20,g[23]),ie=D(ie,oe,j,se,de,5,g[24]),se=D(se,ie,oe,j,ke,9,g[25]),j=D(j,se,ie,oe,ee,14,g[26]),oe=D(oe,j,se,ie,ne,20,g[27]),ie=D(ie,oe,j,se,_e,5,g[28]),se=D(se,ie,oe,j,Y,9,g[29]),j=D(j,se,ie,oe,$,14,g[30]),oe=D(oe,j,se,ie,we,20,g[31]),ie=T(ie,oe,j,se,Z,4,g[32]),se=T(se,ie,oe,j,ne,11,g[33]),j=T(j,se,ie,oe,fe,16,g[34]),oe=T(oe,j,se,ie,ke,23,g[35]),ie=T(ie,oe,j,se,q,4,g[36]),se=T(se,ie,oe,j,X,11,g[37]),j=T(j,se,ie,oe,$,16,g[38]),oe=T(oe,j,se,ie,te,23,g[39]),ie=T(ie,oe,j,se,_e,4,g[40]),se=T(se,ie,oe,j,Q,11,g[41]),j=T(j,se,ie,oe,ee,16,g[42]),oe=T(oe,j,se,ie,K,23,g[43]),ie=T(ie,oe,j,se,de,4,g[44]),se=T(se,ie,oe,j,we,11,g[45]),j=T(j,se,ie,oe,F,16,g[46]),oe=T(oe,j,se,ie,Y,23,g[47]),ie=O(ie,oe,j,se,Q,6,g[48]),se=O(se,ie,oe,j,$,10,g[49]),j=O(j,se,ie,oe,ke,15,g[50]),oe=O(oe,j,se,ie,Z,21,g[51]),ie=O(ie,oe,j,se,we,6,g[52]),se=O(se,ie,oe,j,ee,10,g[53]),j=O(j,se,ie,oe,te,15,g[54]),oe=O(oe,j,se,ie,q,21,g[55]),ie=O(ie,oe,j,se,ne,6,g[56]),se=O(se,ie,oe,j,F,10,g[57]),j=O(j,se,ie,oe,K,15,g[58]),oe=O(oe,j,se,ie,_e,21,g[59]),ie=O(ie,oe,j,se,X,6,g[60]),se=O(se,ie,oe,j,fe,10,g[61]),j=O(j,se,ie,oe,Y,15,g[62]),oe=O(oe,j,se,ie,de,21,g[63]),V[0]=V[0]+ie|0,V[1]=V[1]+oe|0,V[2]=V[2]+j|0,V[3]=V[3]+se|0},_doFinalize:function(){var N=this._data,B=N.words,I=this._nDataBytes*8,M=N.sigBytes*8;B[M>>>5]|=128<<24-M%32;var k=l.floor(I/4294967296),V=I;B[(M+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,B[(M+64>>>9<<4)+14]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,N.sigBytes=(B.length+1)*4,this._process();for(var Q=this._hash,q=Q.words,Y=0;Y<4;Y++){var ee=q[Y];q[Y]=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360}return Q},clone:function(){var N=E.clone.call(this);return N._hash=this._hash.clone(),N}});function C(N,B,I,M,k,V,Q){var q=N+(B&I|~B&M)+k+Q;return(q<<V|q>>>32-V)+B}function D(N,B,I,M,k,V,Q){var q=N+(B&M|I&~M)+k+Q;return(q<<V|q>>>32-V)+B}function T(N,B,I,M,k,V,Q){var q=N+(B^I^M)+k+Q;return(q<<V|q>>>32-V)+B}function O(N,B,I,M,k,V,Q){var q=N+(I^(B|~M))+k+Q;return(q<<V|q>>>32-V)+B}d.MD5=E._createHelper(w),d.HmacMD5=E._createHmacHelper(w)}(Math),s.MD5})}(I0)),I0.exports}var M0={exports:{}},SE=M0.exports,b2;function cy(){return b2||(b2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(SE,function(s){return function(){var l=s,d=l.lib,f=d.WordArray,m=d.Hasher,E=l.algo,b=[],g=E.SHA1=m.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,C){for(var D=this._hash.words,T=D[0],O=D[1],N=D[2],B=D[3],I=D[4],M=0;M<80;M++){if(M<16)b[M]=w[C+M]|0;else{var k=b[M-3]^b[M-8]^b[M-14]^b[M-16];b[M]=k<<1|k>>>31}var V=(T<<5|T>>>27)+I+b[M];M<20?V+=(O&N|~O&B)+1518500249:M<40?V+=(O^N^B)+1859775393:M<60?V+=(O&N|O&B|N&B)-1894007588:V+=(O^N^B)-899497514,I=B,B=N,N=O<<30|O>>>2,O=T,T=V}D[0]=D[0]+T|0,D[1]=D[1]+O|0,D[2]=D[2]+N|0,D[3]=D[3]+B|0,D[4]=D[4]+I|0},_doFinalize:function(){var w=this._data,C=w.words,D=this._nDataBytes*8,T=w.sigBytes*8;return C[T>>>5]|=128<<24-T%32,C[(T+64>>>9<<4)+14]=Math.floor(D/4294967296),C[(T+64>>>9<<4)+15]=D,w.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var w=m.clone.call(this);return w._hash=this._hash.clone(),w}});l.SHA1=m._createHelper(g),l.HmacSHA1=m._createHmacHelper(g)}(),s.SHA1})}(M0)),M0.exports}var L0={exports:{}},TE=L0.exports,A2;function Yd(){return A2||(A2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(TE,function(s){return function(l){var d=s,f=d.lib,m=f.WordArray,E=f.Hasher,b=d.algo,g=[],w=[];(function(){function T(I){for(var M=l.sqrt(I),k=2;k<=M;k++)if(!(I%k))return!1;return!0}function O(I){return(I-(I|0))*4294967296|0}for(var N=2,B=0;B<64;)T(N)&&(B<8&&(g[B]=O(l.pow(N,1/2))),w[B]=O(l.pow(N,1/3)),B++),N++})();var C=[],D=b.SHA256=E.extend({_doReset:function(){this._hash=new m.init(g.slice(0))},_doProcessBlock:function(T,O){for(var N=this._hash.words,B=N[0],I=N[1],M=N[2],k=N[3],V=N[4],Q=N[5],q=N[6],Y=N[7],ee=0;ee<64;ee++){if(ee<16)C[ee]=T[O+ee]|0;else{var X=C[ee-15],Z=(X<<25|X>>>7)^(X<<14|X>>>18)^X>>>3,K=C[ee-2],$=(K<<15|K>>>17)^(K<<13|K>>>19)^K>>>10;C[ee]=Z+C[ee-7]+$+C[ee-16]}var ne=V&Q^~V&q,de=B&I^B&M^I&M,te=(B<<30|B>>>2)^(B<<19|B>>>13)^(B<<10|B>>>22),fe=(V<<26|V>>>6)^(V<<21|V>>>11)^(V<<7|V>>>25),we=Y+fe+ne+w[ee]+C[ee],_e=te+de;Y=q,q=Q,Q=V,V=k+we|0,k=M,M=I,I=B,B=we+_e|0}N[0]=N[0]+B|0,N[1]=N[1]+I|0,N[2]=N[2]+M|0,N[3]=N[3]+k|0,N[4]=N[4]+V|0,N[5]=N[5]+Q|0,N[6]=N[6]+q|0,N[7]=N[7]+Y|0},_doFinalize:function(){var T=this._data,O=T.words,N=this._nDataBytes*8,B=T.sigBytes*8;return O[B>>>5]|=128<<24-B%32,O[(B+64>>>9<<4)+14]=l.floor(N/4294967296),O[(B+64>>>9<<4)+15]=N,T.sigBytes=O.length*4,this._process(),this._hash},clone:function(){var T=E.clone.call(this);return T._hash=this._hash.clone(),T}});d.SHA256=E._createHelper(D),d.HmacSHA256=E._createHmacHelper(D)}(Math),s.SHA256})}(L0)),L0.exports}var k0={exports:{}},_E=k0.exports,C2;function DE(){return C2||(C2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Yd())})(_E,function(s){return function(){var l=s,d=l.lib,f=d.WordArray,m=l.algo,E=m.SHA256,b=m.SHA224=E.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var g=E._doFinalize.call(this);return g.sigBytes-=4,g}});l.SHA224=E._createHelper(b),l.HmacSHA224=E._createHmacHelper(b)}(),s.SHA224})}(k0)),k0.exports}var F0={exports:{}},OE=F0.exports,S2;function fy(){return S2||(S2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),wc())})(OE,function(s){return function(){var l=s,d=l.lib,f=d.Hasher,m=l.x64,E=m.Word,b=m.WordArray,g=l.algo;function w(){return E.create.apply(E,arguments)}var C=[w(1116352408,3609767458),w(1899447441,602891725),w(3049323471,3964484399),w(3921009573,2173295548),w(961987163,4081628472),w(1508970993,3053834265),w(2453635748,2937671579),w(2870763221,3664609560),w(3624381080,2734883394),w(310598401,1164996542),w(607225278,1323610764),w(1426881987,3590304994),w(1925078388,4068182383),w(2162078206,991336113),w(2614888103,633803317),w(3248222580,3479774868),w(3835390401,2666613458),w(4022224774,944711139),w(264347078,2341262773),w(604807628,2007800933),w(770255983,1495990901),w(1249150122,1856431235),w(1555081692,3175218132),w(1996064986,2198950837),w(2554220882,3999719339),w(2821834349,766784016),w(2952996808,2566594879),w(3210313671,3203337956),w(3336571891,1034457026),w(3584528711,2466948901),w(113926993,3758326383),w(338241895,168717936),w(666307205,1188179964),w(773529912,1546045734),w(1294757372,1522805485),w(1396182291,2643833823),w(1695183700,2343527390),w(1986661051,1014477480),w(2177026350,1206759142),w(2456956037,344077627),w(2730485921,1290863460),w(2820302411,3158454273),w(3259730800,3505952657),w(3345764771,106217008),w(3516065817,3606008344),w(3600352804,1432725776),w(4094571909,1467031594),w(275423344,851169720),w(430227734,3100823752),w(506948616,1363258195),w(659060556,3750685593),w(883997877,3785050280),w(958139571,3318307427),w(1322822218,3812723403),w(1537002063,2003034995),w(1747873779,3602036899),w(1955562222,1575990012),w(2024104815,1125592928),w(2227730452,2716904306),w(2361852424,442776044),w(2428436474,593698344),w(2756734187,3733110249),w(3204031479,2999351573),w(3329325298,3815920427),w(3391569614,3928383900),w(3515267271,566280711),w(3940187606,3454069534),w(4118630271,4000239992),w(116418474,1914138554),w(174292421,2731055270),w(289380356,3203993006),w(460393269,320620315),w(685471733,587496836),w(852142971,1086792851),w(1017036298,365543100),w(1126000580,2618297676),w(1288033470,3409855158),w(1501505948,4234509866),w(1607167915,987167468),w(1816402316,1246189591)],D=[];(function(){for(var O=0;O<80;O++)D[O]=w()})();var T=g.SHA512=f.extend({_doReset:function(){this._hash=new b.init([new E.init(1779033703,4089235720),new E.init(3144134277,2227873595),new E.init(1013904242,4271175723),new E.init(2773480762,1595750129),new E.init(1359893119,2917565137),new E.init(2600822924,725511199),new E.init(528734635,4215389547),new E.init(1541459225,327033209)])},_doProcessBlock:function(O,N){for(var B=this._hash.words,I=B[0],M=B[1],k=B[2],V=B[3],Q=B[4],q=B[5],Y=B[6],ee=B[7],X=I.high,Z=I.low,K=M.high,$=M.low,ne=k.high,de=k.low,te=V.high,fe=V.low,we=Q.high,_e=Q.low,ke=q.high,F=q.low,ie=Y.high,oe=Y.low,j=ee.high,se=ee.low,Le=X,me=Z,st=K,Te=$,Ye=ne,Ze=de,ct=te,ft=fe,He=we,gt=_e,yt=ke,Wt=F,rt=ie,Ke=oe,Xe=j,an=se,je=0;je<80;je++){var wt,Qt,bt=D[je];if(je<16)Qt=bt.high=O[N+je*2]|0,wt=bt.low=O[N+je*2+1]|0;else{var $n=D[je-15],be=$n.high,Fe=$n.low,We=(be>>>1|Fe<<31)^(be>>>8|Fe<<24)^be>>>7,$e=(Fe>>>1|be<<31)^(Fe>>>8|be<<24)^(Fe>>>7|be<<25),Bt=D[je-2],fn=Bt.high,er=Bt.low,Tt=(fn>>>19|er<<13)^(fn<<3|er>>>29)^fn>>>6,Ne=(er>>>19|fn<<13)^(er<<3|fn>>>29)^(er>>>6|fn<<26),Ht=D[je-7],it=Ht.high,dt=Ht.low,Bn=D[je-16],xs=Bn.high,gs=Bn.low;wt=$e+dt,Qt=We+it+(wt>>>0<$e>>>0?1:0),wt=wt+Ne,Qt=Qt+Tt+(wt>>>0<Ne>>>0?1:0),wt=wt+gs,Qt=Qt+xs+(wt>>>0<gs>>>0?1:0),bt.high=Qt,bt.low=wt}var _t=He&yt^~He&rt,xr=gt&Wt^~gt&Ke,Wr=Le&st^Le&Ye^st&Ye,Yi=me&Te^me&Ze^Te&Ze,zn=(Le>>>28|me<<4)^(Le<<30|me>>>2)^(Le<<25|me>>>7),Aa=(me>>>28|Le<<4)^(me<<30|Le>>>2)^(me<<25|Le>>>7),Sn=(He>>>14|gt<<18)^(He>>>18|gt<<14)^(He<<23|gt>>>9),xi=(gt>>>14|He<<18)^(gt>>>18|He<<14)^(gt<<23|He>>>9),gi=C[je],Yn=gi.high,nl=gi.low,xn=an+xi,gr=Xe+Sn+(xn>>>0<an>>>0?1:0),xn=xn+xr,gr=gr+_t+(xn>>>0<xr>>>0?1:0),xn=xn+nl,gr=gr+Yn+(xn>>>0<nl>>>0?1:0),xn=xn+wt,gr=gr+Qt+(xn>>>0<wt>>>0?1:0),Rn=Aa+Yi,Qr=zn+Wr+(Rn>>>0<Aa>>>0?1:0);Xe=rt,an=Ke,rt=yt,Ke=Wt,yt=He,Wt=gt,gt=ft+xn|0,He=ct+gr+(gt>>>0<ft>>>0?1:0)|0,ct=Ye,ft=Ze,Ye=st,Ze=Te,st=Le,Te=me,me=xn+Rn|0,Le=gr+Qr+(me>>>0<xn>>>0?1:0)|0}Z=I.low=Z+me,I.high=X+Le+(Z>>>0<me>>>0?1:0),$=M.low=$+Te,M.high=K+st+($>>>0<Te>>>0?1:0),de=k.low=de+Ze,k.high=ne+Ye+(de>>>0<Ze>>>0?1:0),fe=V.low=fe+ft,V.high=te+ct+(fe>>>0<ft>>>0?1:0),_e=Q.low=_e+gt,Q.high=we+He+(_e>>>0<gt>>>0?1:0),F=q.low=F+Wt,q.high=ke+yt+(F>>>0<Wt>>>0?1:0),oe=Y.low=oe+Ke,Y.high=ie+rt+(oe>>>0<Ke>>>0?1:0),se=ee.low=se+an,ee.high=j+Xe+(se>>>0<an>>>0?1:0)},_doFinalize:function(){var O=this._data,N=O.words,B=this._nDataBytes*8,I=O.sigBytes*8;N[I>>>5]|=128<<24-I%32,N[(I+128>>>10<<5)+30]=Math.floor(B/4294967296),N[(I+128>>>10<<5)+31]=B,O.sigBytes=N.length*4,this._process();var M=this._hash.toX32();return M},clone:function(){var O=f.clone.call(this);return O._hash=this._hash.clone(),O},blockSize:1024/32});l.SHA512=f._createHelper(T),l.HmacSHA512=f._createHmacHelper(T)}(),s.SHA512})}(F0)),F0.exports}var P0={exports:{}},NE=P0.exports,T2;function BE(){return T2||(T2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),wc(),fy())})(NE,function(s){return function(){var l=s,d=l.x64,f=d.Word,m=d.WordArray,E=l.algo,b=E.SHA512,g=E.SHA384=b.extend({_doReset:function(){this._hash=new m.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var w=b._doFinalize.call(this);return w.sigBytes-=16,w}});l.SHA384=b._createHelper(g),l.HmacSHA384=b._createHmacHelper(g)}(),s.SHA384})}(P0)),P0.exports}var U0={exports:{}},RE=U0.exports,_2;function IE(){return _2||(_2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),wc())})(RE,function(s){return function(l){var d=s,f=d.lib,m=f.WordArray,E=f.Hasher,b=d.x64,g=b.Word,w=d.algo,C=[],D=[],T=[];(function(){for(var B=1,I=0,M=0;M<24;M++){C[B+5*I]=(M+1)*(M+2)/2%64;var k=I%5,V=(2*B+3*I)%5;B=k,I=V}for(var B=0;B<5;B++)for(var I=0;I<5;I++)D[B+5*I]=I+(2*B+3*I)%5*5;for(var Q=1,q=0;q<24;q++){for(var Y=0,ee=0,X=0;X<7;X++){if(Q&1){var Z=(1<<X)-1;Z<32?ee^=1<<Z:Y^=1<<Z-32}Q&128?Q=Q<<1^113:Q<<=1}T[q]=g.create(Y,ee)}})();var O=[];(function(){for(var B=0;B<25;B++)O[B]=g.create()})();var N=w.SHA3=E.extend({cfg:E.cfg.extend({outputLength:512}),_doReset:function(){for(var B=this._state=[],I=0;I<25;I++)B[I]=new g.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(B,I){for(var M=this._state,k=this.blockSize/2,V=0;V<k;V++){var Q=B[I+2*V],q=B[I+2*V+1];Q=(Q<<8|Q>>>24)&16711935|(Q<<24|Q>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360;var Y=M[V];Y.high^=q,Y.low^=Q}for(var ee=0;ee<24;ee++){for(var X=0;X<5;X++){for(var Z=0,K=0,$=0;$<5;$++){var Y=M[X+5*$];Z^=Y.high,K^=Y.low}var ne=O[X];ne.high=Z,ne.low=K}for(var X=0;X<5;X++)for(var de=O[(X+4)%5],te=O[(X+1)%5],fe=te.high,we=te.low,Z=de.high^(fe<<1|we>>>31),K=de.low^(we<<1|fe>>>31),$=0;$<5;$++){var Y=M[X+5*$];Y.high^=Z,Y.low^=K}for(var _e=1;_e<25;_e++){var Z,K,Y=M[_e],ke=Y.high,F=Y.low,ie=C[_e];ie<32?(Z=ke<<ie|F>>>32-ie,K=F<<ie|ke>>>32-ie):(Z=F<<ie-32|ke>>>64-ie,K=ke<<ie-32|F>>>64-ie);var oe=O[D[_e]];oe.high=Z,oe.low=K}var j=O[0],se=M[0];j.high=se.high,j.low=se.low;for(var X=0;X<5;X++)for(var $=0;$<5;$++){var _e=X+5*$,Y=M[_e],Le=O[_e],me=O[(X+1)%5+5*$],st=O[(X+2)%5+5*$];Y.high=Le.high^~me.high&st.high,Y.low=Le.low^~me.low&st.low}var Y=M[0],Te=T[ee];Y.high^=Te.high,Y.low^=Te.low}},_doFinalize:function(){var B=this._data,I=B.words;this._nDataBytes*8;var M=B.sigBytes*8,k=this.blockSize*32;I[M>>>5]|=1<<24-M%32,I[(l.ceil((M+1)/k)*k>>>5)-1]|=128,B.sigBytes=I.length*4,this._process();for(var V=this._state,Q=this.cfg.outputLength/8,q=Q/8,Y=[],ee=0;ee<q;ee++){var X=V[ee],Z=X.high,K=X.low;Z=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360,K=(K<<8|K>>>24)&16711935|(K<<24|K>>>8)&4278255360,Y.push(K),Y.push(Z)}return new m.init(Y,Q)},clone:function(){for(var B=E.clone.call(this),I=B._state=this._state.slice(0),M=0;M<25;M++)I[M]=I[M].clone();return B}});d.SHA3=E._createHelper(N),d.HmacSHA3=E._createHmacHelper(N)}(Math),s.SHA3})}(U0)),U0.exports}var j0={exports:{}},ME=j0.exports,D2;function LE(){return D2||(D2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(ME,function(s){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(l){var d=s,f=d.lib,m=f.WordArray,E=f.Hasher,b=d.algo,g=m.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),w=m.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),C=m.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),D=m.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),T=m.create([0,1518500249,1859775393,2400959708,2840853838]),O=m.create([1352829926,1548603684,1836072691,2053994217,0]),N=b.RIPEMD160=E.extend({_doReset:function(){this._hash=m.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(q,Y){for(var ee=0;ee<16;ee++){var X=Y+ee,Z=q[X];q[X]=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360}var K=this._hash.words,$=T.words,ne=O.words,de=g.words,te=w.words,fe=C.words,we=D.words,_e,ke,F,ie,oe,j,se,Le,me,st;j=_e=K[0],se=ke=K[1],Le=F=K[2],me=ie=K[3],st=oe=K[4];for(var Te,ee=0;ee<80;ee+=1)Te=_e+q[Y+de[ee]]|0,ee<16?Te+=B(ke,F,ie)+$[0]:ee<32?Te+=I(ke,F,ie)+$[1]:ee<48?Te+=M(ke,F,ie)+$[2]:ee<64?Te+=k(ke,F,ie)+$[3]:Te+=V(ke,F,ie)+$[4],Te=Te|0,Te=Q(Te,fe[ee]),Te=Te+oe|0,_e=oe,oe=ie,ie=Q(F,10),F=ke,ke=Te,Te=j+q[Y+te[ee]]|0,ee<16?Te+=V(se,Le,me)+ne[0]:ee<32?Te+=k(se,Le,me)+ne[1]:ee<48?Te+=M(se,Le,me)+ne[2]:ee<64?Te+=I(se,Le,me)+ne[3]:Te+=B(se,Le,me)+ne[4],Te=Te|0,Te=Q(Te,we[ee]),Te=Te+st|0,j=st,st=me,me=Q(Le,10),Le=se,se=Te;Te=K[1]+F+me|0,K[1]=K[2]+ie+st|0,K[2]=K[3]+oe+j|0,K[3]=K[4]+_e+se|0,K[4]=K[0]+ke+Le|0,K[0]=Te},_doFinalize:function(){var q=this._data,Y=q.words,ee=this._nDataBytes*8,X=q.sigBytes*8;Y[X>>>5]|=128<<24-X%32,Y[(X+64>>>9<<4)+14]=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360,q.sigBytes=(Y.length+1)*4,this._process();for(var Z=this._hash,K=Z.words,$=0;$<5;$++){var ne=K[$];K[$]=(ne<<8|ne>>>24)&16711935|(ne<<24|ne>>>8)&4278255360}return Z},clone:function(){var q=E.clone.call(this);return q._hash=this._hash.clone(),q}});function B(q,Y,ee){return q^Y^ee}function I(q,Y,ee){return q&Y|~q&ee}function M(q,Y,ee){return(q|~Y)^ee}function k(q,Y,ee){return q&ee|Y&~ee}function V(q,Y,ee){return q^(Y|~ee)}function Q(q,Y){return q<<Y|q>>>32-Y}d.RIPEMD160=E._createHelper(N),d.HmacRIPEMD160=E._createHmacHelper(N)}(),s.RIPEMD160})}(j0)),j0.exports}var z0={exports:{}},kE=z0.exports,O2;function Xd(){return O2||(O2=1,function(n,i){(function(s,l){n.exports=l(Mt())})(kE,function(s){(function(){var l=s,d=l.lib,f=d.Base,m=l.enc,E=m.Utf8,b=l.algo;b.HMAC=f.extend({init:function(g,w){g=this._hasher=new g.init,typeof w=="string"&&(w=E.parse(w));var C=g.blockSize,D=C*4;w.sigBytes>D&&(w=g.finalize(w)),w.clamp();for(var T=this._oKey=w.clone(),O=this._iKey=w.clone(),N=T.words,B=O.words,I=0;I<C;I++)N[I]^=1549556828,B[I]^=909522486;T.sigBytes=O.sigBytes=D,this.reset()},reset:function(){var g=this._hasher;g.reset(),g.update(this._iKey)},update:function(g){return this._hasher.update(g),this},finalize:function(g){var w=this._hasher,C=w.finalize(g);w.reset();var D=w.finalize(this._oKey.clone().concat(C));return D}})})()})}(z0)),z0.exports}var H0={exports:{}},FE=H0.exports,N2;function PE(){return N2||(N2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Yd(),Xd())})(FE,function(s){return function(){var l=s,d=l.lib,f=d.Base,m=d.WordArray,E=l.algo,b=E.SHA256,g=E.HMAC,w=E.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:b,iterations:25e4}),init:function(C){this.cfg=this.cfg.extend(C)},compute:function(C,D){for(var T=this.cfg,O=g.create(T.hasher,C),N=m.create(),B=m.create([1]),I=N.words,M=B.words,k=T.keySize,V=T.iterations;I.length<k;){var Q=O.update(D).finalize(B);O.reset();for(var q=Q.words,Y=q.length,ee=Q,X=1;X<V;X++){ee=O.finalize(ee),O.reset();for(var Z=ee.words,K=0;K<Y;K++)q[K]^=Z[K]}N.concat(Q),M[0]++}return N.sigBytes=k*4,N}});l.PBKDF2=function(C,D,T){return w.create(T).compute(C,D)}}(),s.PBKDF2})}(H0)),H0.exports}var q0={exports:{}},UE=q0.exports,B2;function cs(){return B2||(B2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),cy(),Xd())})(UE,function(s){return function(){var l=s,d=l.lib,f=d.Base,m=d.WordArray,E=l.algo,b=E.MD5,g=E.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:b,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,C){for(var D,T=this.cfg,O=T.hasher.create(),N=m.create(),B=N.words,I=T.keySize,M=T.iterations;B.length<I;){D&&O.update(D),D=O.update(w).finalize(C),O.reset();for(var k=1;k<M;k++)D=O.finalize(D),O.reset();N.concat(D)}return N.sigBytes=I*4,N}});l.EvpKDF=function(w,C,D){return g.create(D).compute(w,C)}}(),s.EvpKDF})}(q0)),q0.exports}var V0={exports:{}},jE=V0.exports,R2;function Jn(){return R2||(R2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),cs())})(jE,function(s){s.lib.Cipher||function(l){var d=s,f=d.lib,m=f.Base,E=f.WordArray,b=f.BufferedBlockAlgorithm,g=d.enc;g.Utf8;var w=g.Base64,C=d.algo,D=C.EvpKDF,T=f.Cipher=b.extend({cfg:m.extend(),createEncryptor:function(Z,K){return this.create(this._ENC_XFORM_MODE,Z,K)},createDecryptor:function(Z,K){return this.create(this._DEC_XFORM_MODE,Z,K)},init:function(Z,K,$){this.cfg=this.cfg.extend($),this._xformMode=Z,this._key=K,this.reset()},reset:function(){b.reset.call(this),this._doReset()},process:function(Z){return this._append(Z),this._process()},finalize:function(Z){Z&&this._append(Z);var K=this._doFinalize();return K},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Z(K){return typeof K=="string"?X:q}return function(K){return{encrypt:function($,ne,de){return Z(ne).encrypt(K,$,ne,de)},decrypt:function($,ne,de){return Z(ne).decrypt(K,$,ne,de)}}}}()});f.StreamCipher=T.extend({_doFinalize:function(){var Z=this._process(!0);return Z},blockSize:1});var O=d.mode={},N=f.BlockCipherMode=m.extend({createEncryptor:function(Z,K){return this.Encryptor.create(Z,K)},createDecryptor:function(Z,K){return this.Decryptor.create(Z,K)},init:function(Z,K){this._cipher=Z,this._iv=K}}),B=O.CBC=function(){var Z=N.extend();Z.Encryptor=Z.extend({processBlock:function($,ne){var de=this._cipher,te=de.blockSize;K.call(this,$,ne,te),de.encryptBlock($,ne),this._prevBlock=$.slice(ne,ne+te)}}),Z.Decryptor=Z.extend({processBlock:function($,ne){var de=this._cipher,te=de.blockSize,fe=$.slice(ne,ne+te);de.decryptBlock($,ne),K.call(this,$,ne,te),this._prevBlock=fe}});function K($,ne,de){var te,fe=this._iv;fe?(te=fe,this._iv=l):te=this._prevBlock;for(var we=0;we<de;we++)$[ne+we]^=te[we]}return Z}(),I=d.pad={},M=I.Pkcs7={pad:function(Z,K){for(var $=K*4,ne=$-Z.sigBytes%$,de=ne<<24|ne<<16|ne<<8|ne,te=[],fe=0;fe<ne;fe+=4)te.push(de);var we=E.create(te,ne);Z.concat(we)},unpad:function(Z){var K=Z.words[Z.sigBytes-1>>>2]&255;Z.sigBytes-=K}};f.BlockCipher=T.extend({cfg:T.cfg.extend({mode:B,padding:M}),reset:function(){var Z;T.reset.call(this);var K=this.cfg,$=K.iv,ne=K.mode;this._xformMode==this._ENC_XFORM_MODE?Z=ne.createEncryptor:(Z=ne.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Z?this._mode.init(this,$&&$.words):(this._mode=Z.call(ne,this,$&&$.words),this._mode.__creator=Z)},_doProcessBlock:function(Z,K){this._mode.processBlock(Z,K)},_doFinalize:function(){var Z,K=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(K.pad(this._data,this.blockSize),Z=this._process(!0)):(Z=this._process(!0),K.unpad(Z)),Z},blockSize:128/32});var k=f.CipherParams=m.extend({init:function(Z){this.mixIn(Z)},toString:function(Z){return(Z||this.formatter).stringify(this)}}),V=d.format={},Q=V.OpenSSL={stringify:function(Z){var K,$=Z.ciphertext,ne=Z.salt;return ne?K=E.create([1398893684,1701076831]).concat(ne).concat($):K=$,K.toString(w)},parse:function(Z){var K,$=w.parse(Z),ne=$.words;return ne[0]==1398893684&&ne[1]==1701076831&&(K=E.create(ne.slice(2,4)),ne.splice(0,4),$.sigBytes-=16),k.create({ciphertext:$,salt:K})}},q=f.SerializableCipher=m.extend({cfg:m.extend({format:Q}),encrypt:function(Z,K,$,ne){ne=this.cfg.extend(ne);var de=Z.createEncryptor($,ne),te=de.finalize(K),fe=de.cfg;return k.create({ciphertext:te,key:$,iv:fe.iv,algorithm:Z,mode:fe.mode,padding:fe.padding,blockSize:Z.blockSize,formatter:ne.format})},decrypt:function(Z,K,$,ne){ne=this.cfg.extend(ne),K=this._parse(K,ne.format);var de=Z.createDecryptor($,ne).finalize(K.ciphertext);return de},_parse:function(Z,K){return typeof Z=="string"?K.parse(Z,this):Z}}),Y=d.kdf={},ee=Y.OpenSSL={execute:function(Z,K,$,ne,de){if(ne||(ne=E.random(64/8)),de)var te=D.create({keySize:K+$,hasher:de}).compute(Z,ne);else var te=D.create({keySize:K+$}).compute(Z,ne);var fe=E.create(te.words.slice(K),$*4);return te.sigBytes=K*4,k.create({key:te,iv:fe,salt:ne})}},X=f.PasswordBasedCipher=q.extend({cfg:q.cfg.extend({kdf:ee}),encrypt:function(Z,K,$,ne){ne=this.cfg.extend(ne);var de=ne.kdf.execute($,Z.keySize,Z.ivSize,ne.salt,ne.hasher);ne.iv=de.iv;var te=q.encrypt.call(this,Z,K,de.key,ne);return te.mixIn(de),te},decrypt:function(Z,K,$,ne){ne=this.cfg.extend(ne),K=this._parse(K,ne.format);var de=ne.kdf.execute($,Z.keySize,Z.ivSize,K.salt,ne.hasher);ne.iv=de.iv;var te=q.decrypt.call(this,Z,K,de.key,ne);return te}})}()})}(V0)),V0.exports}var G0={exports:{}},zE=G0.exports,I2;function HE(){return I2||(I2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(zE,function(s){return s.mode.CFB=function(){var l=s.lib.BlockCipherMode.extend();l.Encryptor=l.extend({processBlock:function(f,m){var E=this._cipher,b=E.blockSize;d.call(this,f,m,b,E),this._prevBlock=f.slice(m,m+b)}}),l.Decryptor=l.extend({processBlock:function(f,m){var E=this._cipher,b=E.blockSize,g=f.slice(m,m+b);d.call(this,f,m,b,E),this._prevBlock=g}});function d(f,m,E,b){var g,w=this._iv;w?(g=w.slice(0),this._iv=void 0):g=this._prevBlock,b.encryptBlock(g,0);for(var C=0;C<E;C++)f[m+C]^=g[C]}return l}(),s.mode.CFB})}(G0)),G0.exports}var Y0={exports:{}},qE=Y0.exports,M2;function VE(){return M2||(M2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(qE,function(s){return s.mode.CTR=function(){var l=s.lib.BlockCipherMode.extend(),d=l.Encryptor=l.extend({processBlock:function(f,m){var E=this._cipher,b=E.blockSize,g=this._iv,w=this._counter;g&&(w=this._counter=g.slice(0),this._iv=void 0);var C=w.slice(0);E.encryptBlock(C,0),w[b-1]=w[b-1]+1|0;for(var D=0;D<b;D++)f[m+D]^=C[D]}});return l.Decryptor=d,l}(),s.mode.CTR})}(Y0)),Y0.exports}var X0={exports:{}},GE=X0.exports,L2;function YE(){return L2||(L2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(GE,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var l=s.lib.BlockCipherMode.extend();function d(E){if((E>>24&255)===255){var b=E>>16&255,g=E>>8&255,w=E&255;b===255?(b=0,g===255?(g=0,w===255?w=0:++w):++g):++b,E=0,E+=b<<16,E+=g<<8,E+=w}else E+=1<<24;return E}function f(E){return(E[0]=d(E[0]))===0&&(E[1]=d(E[1])),E}var m=l.Encryptor=l.extend({processBlock:function(E,b){var g=this._cipher,w=g.blockSize,C=this._iv,D=this._counter;C&&(D=this._counter=C.slice(0),this._iv=void 0),f(D);var T=D.slice(0);g.encryptBlock(T,0);for(var O=0;O<w;O++)E[b+O]^=T[O]}});return l.Decryptor=m,l}(),s.mode.CTRGladman})}(X0)),X0.exports}var Z0={exports:{}},XE=Z0.exports,k2;function ZE(){return k2||(k2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(XE,function(s){return s.mode.OFB=function(){var l=s.lib.BlockCipherMode.extend(),d=l.Encryptor=l.extend({processBlock:function(f,m){var E=this._cipher,b=E.blockSize,g=this._iv,w=this._keystream;g&&(w=this._keystream=g.slice(0),this._iv=void 0),E.encryptBlock(w,0);for(var C=0;C<b;C++)f[m+C]^=w[C]}});return l.Decryptor=d,l}(),s.mode.OFB})}(Z0)),Z0.exports}var W0={exports:{}},WE=W0.exports,F2;function QE(){return F2||(F2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(WE,function(s){return s.mode.ECB=function(){var l=s.lib.BlockCipherMode.extend();return l.Encryptor=l.extend({processBlock:function(d,f){this._cipher.encryptBlock(d,f)}}),l.Decryptor=l.extend({processBlock:function(d,f){this._cipher.decryptBlock(d,f)}}),l}(),s.mode.ECB})}(W0)),W0.exports}var Q0={exports:{}},KE=Q0.exports,P2;function JE(){return P2||(P2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(KE,function(s){return s.pad.AnsiX923={pad:function(l,d){var f=l.sigBytes,m=d*4,E=m-f%m,b=f+E-1;l.clamp(),l.words[b>>>2]|=E<<24-b%4*8,l.sigBytes+=E},unpad:function(l){var d=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=d}},s.pad.Ansix923})}(Q0)),Q0.exports}var K0={exports:{}},$E=K0.exports,U2;function ev(){return U2||(U2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})($E,function(s){return s.pad.Iso10126={pad:function(l,d){var f=d*4,m=f-l.sigBytes%f;l.concat(s.lib.WordArray.random(m-1)).concat(s.lib.WordArray.create([m<<24],1))},unpad:function(l){var d=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=d}},s.pad.Iso10126})}(K0)),K0.exports}var J0={exports:{}},tv=J0.exports,j2;function nv(){return j2||(j2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(tv,function(s){return s.pad.Iso97971={pad:function(l,d){l.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(l,d)},unpad:function(l){s.pad.ZeroPadding.unpad(l),l.sigBytes--}},s.pad.Iso97971})}(J0)),J0.exports}var $0={exports:{}},rv=$0.exports,z2;function iv(){return z2||(z2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(rv,function(s){return s.pad.ZeroPadding={pad:function(l,d){var f=d*4;l.clamp(),l.sigBytes+=f-(l.sigBytes%f||f)},unpad:function(l){for(var d=l.words,f=l.sigBytes-1,f=l.sigBytes-1;f>=0;f--)if(d[f>>>2]>>>24-f%4*8&255){l.sigBytes=f+1;break}}},s.pad.ZeroPadding})}($0)),$0.exports}var ec={exports:{}},av=ec.exports,H2;function sv(){return H2||(H2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(av,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(ec)),ec.exports}var tc={exports:{}},lv=tc.exports,q2;function ov(){return q2||(q2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),Jn())})(lv,function(s){return function(l){var d=s,f=d.lib,m=f.CipherParams,E=d.enc,b=E.Hex,g=d.format;g.Hex={stringify:function(w){return w.ciphertext.toString(b)},parse:function(w){var C=b.parse(w);return m.create({ciphertext:C})}}}(),s.format.Hex})}(tc)),tc.exports}var nc={exports:{}},uv=nc.exports,V2;function cv(){return V2||(V2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),$s(),el(),cs(),Jn())})(uv,function(s){return function(){var l=s,d=l.lib,f=d.BlockCipher,m=l.algo,E=[],b=[],g=[],w=[],C=[],D=[],T=[],O=[],N=[],B=[];(function(){for(var k=[],V=0;V<256;V++)V<128?k[V]=V<<1:k[V]=V<<1^283;for(var Q=0,q=0,V=0;V<256;V++){var Y=q^q<<1^q<<2^q<<3^q<<4;Y=Y>>>8^Y&255^99,E[Q]=Y,b[Y]=Q;var ee=k[Q],X=k[ee],Z=k[X],K=k[Y]*257^Y*16843008;g[Q]=K<<24|K>>>8,w[Q]=K<<16|K>>>16,C[Q]=K<<8|K>>>24,D[Q]=K;var K=Z*16843009^X*65537^ee*257^Q*16843008;T[Y]=K<<24|K>>>8,O[Y]=K<<16|K>>>16,N[Y]=K<<8|K>>>24,B[Y]=K,Q?(Q=ee^k[k[k[Z^ee]]],q^=k[k[q]]):Q=q=1}})();var I=[0,1,2,4,8,16,32,64,128,27,54],M=m.AES=f.extend({_doReset:function(){var k;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var V=this._keyPriorReset=this._key,Q=V.words,q=V.sigBytes/4,Y=this._nRounds=q+6,ee=(Y+1)*4,X=this._keySchedule=[],Z=0;Z<ee;Z++)Z<q?X[Z]=Q[Z]:(k=X[Z-1],Z%q?q>6&&Z%q==4&&(k=E[k>>>24]<<24|E[k>>>16&255]<<16|E[k>>>8&255]<<8|E[k&255]):(k=k<<8|k>>>24,k=E[k>>>24]<<24|E[k>>>16&255]<<16|E[k>>>8&255]<<8|E[k&255],k^=I[Z/q|0]<<24),X[Z]=X[Z-q]^k);for(var K=this._invKeySchedule=[],$=0;$<ee;$++){var Z=ee-$;if($%4)var k=X[Z];else var k=X[Z-4];$<4||Z<=4?K[$]=k:K[$]=T[E[k>>>24]]^O[E[k>>>16&255]]^N[E[k>>>8&255]]^B[E[k&255]]}}},encryptBlock:function(k,V){this._doCryptBlock(k,V,this._keySchedule,g,w,C,D,E)},decryptBlock:function(k,V){var Q=k[V+1];k[V+1]=k[V+3],k[V+3]=Q,this._doCryptBlock(k,V,this._invKeySchedule,T,O,N,B,b);var Q=k[V+1];k[V+1]=k[V+3],k[V+3]=Q},_doCryptBlock:function(k,V,Q,q,Y,ee,X,Z){for(var K=this._nRounds,$=k[V]^Q[0],ne=k[V+1]^Q[1],de=k[V+2]^Q[2],te=k[V+3]^Q[3],fe=4,we=1;we<K;we++){var _e=q[$>>>24]^Y[ne>>>16&255]^ee[de>>>8&255]^X[te&255]^Q[fe++],ke=q[ne>>>24]^Y[de>>>16&255]^ee[te>>>8&255]^X[$&255]^Q[fe++],F=q[de>>>24]^Y[te>>>16&255]^ee[$>>>8&255]^X[ne&255]^Q[fe++],ie=q[te>>>24]^Y[$>>>16&255]^ee[ne>>>8&255]^X[de&255]^Q[fe++];$=_e,ne=ke,de=F,te=ie}var _e=(Z[$>>>24]<<24|Z[ne>>>16&255]<<16|Z[de>>>8&255]<<8|Z[te&255])^Q[fe++],ke=(Z[ne>>>24]<<24|Z[de>>>16&255]<<16|Z[te>>>8&255]<<8|Z[$&255])^Q[fe++],F=(Z[de>>>24]<<24|Z[te>>>16&255]<<16|Z[$>>>8&255]<<8|Z[ne&255])^Q[fe++],ie=(Z[te>>>24]<<24|Z[$>>>16&255]<<16|Z[ne>>>8&255]<<8|Z[de&255])^Q[fe++];k[V]=_e,k[V+1]=ke,k[V+2]=F,k[V+3]=ie},keySize:256/32});l.AES=f._createHelper(M)}(),s.AES})}(nc)),nc.exports}var rc={exports:{}},fv=rc.exports,G2;function dv(){return G2||(G2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),$s(),el(),cs(),Jn())})(fv,function(s){return function(){var l=s,d=l.lib,f=d.WordArray,m=d.BlockCipher,E=l.algo,b=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],g=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],w=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],C=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],D=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],T=E.DES=m.extend({_doReset:function(){for(var I=this._key,M=I.words,k=[],V=0;V<56;V++){var Q=b[V]-1;k[V]=M[Q>>>5]>>>31-Q%32&1}for(var q=this._subKeys=[],Y=0;Y<16;Y++){for(var ee=q[Y]=[],X=w[Y],V=0;V<24;V++)ee[V/6|0]|=k[(g[V]-1+X)%28]<<31-V%6,ee[4+(V/6|0)]|=k[28+(g[V+24]-1+X)%28]<<31-V%6;ee[0]=ee[0]<<1|ee[0]>>>31;for(var V=1;V<7;V++)ee[V]=ee[V]>>>(V-1)*4+3;ee[7]=ee[7]<<5|ee[7]>>>27}for(var Z=this._invSubKeys=[],V=0;V<16;V++)Z[V]=q[15-V]},encryptBlock:function(I,M){this._doCryptBlock(I,M,this._subKeys)},decryptBlock:function(I,M){this._doCryptBlock(I,M,this._invSubKeys)},_doCryptBlock:function(I,M,k){this._lBlock=I[M],this._rBlock=I[M+1],O.call(this,4,252645135),O.call(this,16,65535),N.call(this,2,858993459),N.call(this,8,16711935),O.call(this,1,1431655765);for(var V=0;V<16;V++){for(var Q=k[V],q=this._lBlock,Y=this._rBlock,ee=0,X=0;X<8;X++)ee|=C[X][((Y^Q[X])&D[X])>>>0];this._lBlock=Y,this._rBlock=q^ee}var Z=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Z,O.call(this,1,1431655765),N.call(this,8,16711935),N.call(this,2,858993459),O.call(this,16,65535),O.call(this,4,252645135),I[M]=this._lBlock,I[M+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function O(I,M){var k=(this._lBlock>>>I^this._rBlock)&M;this._rBlock^=k,this._lBlock^=k<<I}function N(I,M){var k=(this._rBlock>>>I^this._lBlock)&M;this._lBlock^=k,this._rBlock^=k<<I}l.DES=m._createHelper(T);var B=E.TripleDES=m.extend({_doReset:function(){var I=this._key,M=I.words;if(M.length!==2&&M.length!==4&&M.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var k=M.slice(0,2),V=M.length<4?M.slice(0,2):M.slice(2,4),Q=M.length<6?M.slice(0,2):M.slice(4,6);this._des1=T.createEncryptor(f.create(k)),this._des2=T.createEncryptor(f.create(V)),this._des3=T.createEncryptor(f.create(Q))},encryptBlock:function(I,M){this._des1.encryptBlock(I,M),this._des2.decryptBlock(I,M),this._des3.encryptBlock(I,M)},decryptBlock:function(I,M){this._des3.decryptBlock(I,M),this._des2.encryptBlock(I,M),this._des1.decryptBlock(I,M)},keySize:192/32,ivSize:64/32,blockSize:64/32});l.TripleDES=m._createHelper(B)}(),s.TripleDES})}(rc)),rc.exports}var ic={exports:{}},hv=ic.exports,Y2;function xv(){return Y2||(Y2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),$s(),el(),cs(),Jn())})(hv,function(s){return function(){var l=s,d=l.lib,f=d.StreamCipher,m=l.algo,E=m.RC4=f.extend({_doReset:function(){for(var w=this._key,C=w.words,D=w.sigBytes,T=this._S=[],O=0;O<256;O++)T[O]=O;for(var O=0,N=0;O<256;O++){var B=O%D,I=C[B>>>2]>>>24-B%4*8&255;N=(N+T[O]+I)%256;var M=T[O];T[O]=T[N],T[N]=M}this._i=this._j=0},_doProcessBlock:function(w,C){w[C]^=b.call(this)},keySize:256/32,ivSize:0});function b(){for(var w=this._S,C=this._i,D=this._j,T=0,O=0;O<4;O++){C=(C+1)%256,D=(D+w[C])%256;var N=w[C];w[C]=w[D],w[D]=N,T|=w[(w[C]+w[D])%256]<<24-O*8}return this._i=C,this._j=D,T}l.RC4=f._createHelper(E);var g=m.RC4Drop=E.extend({cfg:E.cfg.extend({drop:192}),_doReset:function(){E._doReset.call(this);for(var w=this.cfg.drop;w>0;w--)b.call(this)}});l.RC4Drop=f._createHelper(g)}(),s.RC4})}(ic)),ic.exports}var ac={exports:{}},gv=ac.exports,X2;function pv(){return X2||(X2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),$s(),el(),cs(),Jn())})(gv,function(s){return function(){var l=s,d=l.lib,f=d.StreamCipher,m=l.algo,E=[],b=[],g=[],w=m.Rabbit=f.extend({_doReset:function(){for(var D=this._key.words,T=this.cfg.iv,O=0;O<4;O++)D[O]=(D[O]<<8|D[O]>>>24)&16711935|(D[O]<<24|D[O]>>>8)&4278255360;var N=this._X=[D[0],D[3]<<16|D[2]>>>16,D[1],D[0]<<16|D[3]>>>16,D[2],D[1]<<16|D[0]>>>16,D[3],D[2]<<16|D[1]>>>16],B=this._C=[D[2]<<16|D[2]>>>16,D[0]&4294901760|D[1]&65535,D[3]<<16|D[3]>>>16,D[1]&4294901760|D[2]&65535,D[0]<<16|D[0]>>>16,D[2]&4294901760|D[3]&65535,D[1]<<16|D[1]>>>16,D[3]&4294901760|D[0]&65535];this._b=0;for(var O=0;O<4;O++)C.call(this);for(var O=0;O<8;O++)B[O]^=N[O+4&7];if(T){var I=T.words,M=I[0],k=I[1],V=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,Q=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,q=V>>>16|Q&4294901760,Y=Q<<16|V&65535;B[0]^=V,B[1]^=q,B[2]^=Q,B[3]^=Y,B[4]^=V,B[5]^=q,B[6]^=Q,B[7]^=Y;for(var O=0;O<4;O++)C.call(this)}},_doProcessBlock:function(D,T){var O=this._X;C.call(this),E[0]=O[0]^O[5]>>>16^O[3]<<16,E[1]=O[2]^O[7]>>>16^O[5]<<16,E[2]=O[4]^O[1]>>>16^O[7]<<16,E[3]=O[6]^O[3]>>>16^O[1]<<16;for(var N=0;N<4;N++)E[N]=(E[N]<<8|E[N]>>>24)&16711935|(E[N]<<24|E[N]>>>8)&4278255360,D[T+N]^=E[N]},blockSize:128/32,ivSize:64/32});function C(){for(var D=this._X,T=this._C,O=0;O<8;O++)b[O]=T[O];T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<b[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<b[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<b[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<b[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<b[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<b[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<b[6]>>>0?1:0)|0,this._b=T[7]>>>0<b[7]>>>0?1:0;for(var O=0;O<8;O++){var N=D[O]+T[O],B=N&65535,I=N>>>16,M=((B*B>>>17)+B*I>>>15)+I*I,k=((N&4294901760)*N|0)+((N&65535)*N|0);g[O]=M^k}D[0]=g[0]+(g[7]<<16|g[7]>>>16)+(g[6]<<16|g[6]>>>16)|0,D[1]=g[1]+(g[0]<<8|g[0]>>>24)+g[7]|0,D[2]=g[2]+(g[1]<<16|g[1]>>>16)+(g[0]<<16|g[0]>>>16)|0,D[3]=g[3]+(g[2]<<8|g[2]>>>24)+g[1]|0,D[4]=g[4]+(g[3]<<16|g[3]>>>16)+(g[2]<<16|g[2]>>>16)|0,D[5]=g[5]+(g[4]<<8|g[4]>>>24)+g[3]|0,D[6]=g[6]+(g[5]<<16|g[5]>>>16)+(g[4]<<16|g[4]>>>16)|0,D[7]=g[7]+(g[6]<<8|g[6]>>>24)+g[5]|0}l.Rabbit=f._createHelper(w)}(),s.Rabbit})}(ac)),ac.exports}var sc={exports:{}},mv=sc.exports,Z2;function yv(){return Z2||(Z2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),$s(),el(),cs(),Jn())})(mv,function(s){return function(){var l=s,d=l.lib,f=d.StreamCipher,m=l.algo,E=[],b=[],g=[],w=m.RabbitLegacy=f.extend({_doReset:function(){var D=this._key.words,T=this.cfg.iv,O=this._X=[D[0],D[3]<<16|D[2]>>>16,D[1],D[0]<<16|D[3]>>>16,D[2],D[1]<<16|D[0]>>>16,D[3],D[2]<<16|D[1]>>>16],N=this._C=[D[2]<<16|D[2]>>>16,D[0]&4294901760|D[1]&65535,D[3]<<16|D[3]>>>16,D[1]&4294901760|D[2]&65535,D[0]<<16|D[0]>>>16,D[2]&4294901760|D[3]&65535,D[1]<<16|D[1]>>>16,D[3]&4294901760|D[0]&65535];this._b=0;for(var B=0;B<4;B++)C.call(this);for(var B=0;B<8;B++)N[B]^=O[B+4&7];if(T){var I=T.words,M=I[0],k=I[1],V=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,Q=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,q=V>>>16|Q&4294901760,Y=Q<<16|V&65535;N[0]^=V,N[1]^=q,N[2]^=Q,N[3]^=Y,N[4]^=V,N[5]^=q,N[6]^=Q,N[7]^=Y;for(var B=0;B<4;B++)C.call(this)}},_doProcessBlock:function(D,T){var O=this._X;C.call(this),E[0]=O[0]^O[5]>>>16^O[3]<<16,E[1]=O[2]^O[7]>>>16^O[5]<<16,E[2]=O[4]^O[1]>>>16^O[7]<<16,E[3]=O[6]^O[3]>>>16^O[1]<<16;for(var N=0;N<4;N++)E[N]=(E[N]<<8|E[N]>>>24)&16711935|(E[N]<<24|E[N]>>>8)&4278255360,D[T+N]^=E[N]},blockSize:128/32,ivSize:64/32});function C(){for(var D=this._X,T=this._C,O=0;O<8;O++)b[O]=T[O];T[0]=T[0]+1295307597+this._b|0,T[1]=T[1]+3545052371+(T[0]>>>0<b[0]>>>0?1:0)|0,T[2]=T[2]+886263092+(T[1]>>>0<b[1]>>>0?1:0)|0,T[3]=T[3]+1295307597+(T[2]>>>0<b[2]>>>0?1:0)|0,T[4]=T[4]+3545052371+(T[3]>>>0<b[3]>>>0?1:0)|0,T[5]=T[5]+886263092+(T[4]>>>0<b[4]>>>0?1:0)|0,T[6]=T[6]+1295307597+(T[5]>>>0<b[5]>>>0?1:0)|0,T[7]=T[7]+3545052371+(T[6]>>>0<b[6]>>>0?1:0)|0,this._b=T[7]>>>0<b[7]>>>0?1:0;for(var O=0;O<8;O++){var N=D[O]+T[O],B=N&65535,I=N>>>16,M=((B*B>>>17)+B*I>>>15)+I*I,k=((N&4294901760)*N|0)+((N&65535)*N|0);g[O]=M^k}D[0]=g[0]+(g[7]<<16|g[7]>>>16)+(g[6]<<16|g[6]>>>16)|0,D[1]=g[1]+(g[0]<<8|g[0]>>>24)+g[7]|0,D[2]=g[2]+(g[1]<<16|g[1]>>>16)+(g[0]<<16|g[0]>>>16)|0,D[3]=g[3]+(g[2]<<8|g[2]>>>24)+g[1]|0,D[4]=g[4]+(g[3]<<16|g[3]>>>16)+(g[2]<<16|g[2]>>>16)|0,D[5]=g[5]+(g[4]<<8|g[4]>>>24)+g[3]|0,D[6]=g[6]+(g[5]<<16|g[5]>>>16)+(g[4]<<16|g[4]>>>16)|0,D[7]=g[7]+(g[6]<<8|g[6]>>>24)+g[5]|0}l.RabbitLegacy=f._createHelper(w)}(),s.RabbitLegacy})}(sc)),sc.exports}var lc={exports:{}},Ev=lc.exports,W2;function vv(){return W2||(W2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),$s(),el(),cs(),Jn())})(Ev,function(s){return function(){var l=s,d=l.lib,f=d.BlockCipher,m=l.algo;const E=16,b=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],g=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var w={pbox:[],sbox:[]};function C(B,I){let M=I>>24&255,k=I>>16&255,V=I>>8&255,Q=I&255,q=B.sbox[0][M]+B.sbox[1][k];return q=q^B.sbox[2][V],q=q+B.sbox[3][Q],q}function D(B,I,M){let k=I,V=M,Q;for(let q=0;q<E;++q)k=k^B.pbox[q],V=C(B,k)^V,Q=k,k=V,V=Q;return Q=k,k=V,V=Q,V=V^B.pbox[E],k=k^B.pbox[E+1],{left:k,right:V}}function T(B,I,M){let k=I,V=M,Q;for(let q=E+1;q>1;--q)k=k^B.pbox[q],V=C(B,k)^V,Q=k,k=V,V=Q;return Q=k,k=V,V=Q,V=V^B.pbox[1],k=k^B.pbox[0],{left:k,right:V}}function O(B,I,M){for(let Y=0;Y<4;Y++){B.sbox[Y]=[];for(let ee=0;ee<256;ee++)B.sbox[Y][ee]=g[Y][ee]}let k=0;for(let Y=0;Y<E+2;Y++)B.pbox[Y]=b[Y]^I[k],k++,k>=M&&(k=0);let V=0,Q=0,q=0;for(let Y=0;Y<E+2;Y+=2)q=D(B,V,Q),V=q.left,Q=q.right,B.pbox[Y]=V,B.pbox[Y+1]=Q;for(let Y=0;Y<4;Y++)for(let ee=0;ee<256;ee+=2)q=D(B,V,Q),V=q.left,Q=q.right,B.sbox[Y][ee]=V,B.sbox[Y][ee+1]=Q;return!0}var N=m.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var B=this._keyPriorReset=this._key,I=B.words,M=B.sigBytes/4;O(w,I,M)}},encryptBlock:function(B,I){var M=D(w,B[I],B[I+1]);B[I]=M.left,B[I+1]=M.right},decryptBlock:function(B,I){var M=T(w,B[I],B[I+1]);B[I]=M.left,B[I+1]=M.right},blockSize:64/32,keySize:128/32,ivSize:64/32});l.Blowfish=f._createHelper(N)}(),s.Blowfish})}(lc)),lc.exports}var wv=T0.exports,Q2;function bv(){return Q2||(Q2=1,function(n,i){(function(s,l,d){n.exports=l(Mt(),wc(),yE(),vE(),$s(),AE(),el(),cy(),Yd(),DE(),fy(),BE(),IE(),LE(),Xd(),PE(),cs(),Jn(),HE(),VE(),YE(),ZE(),QE(),JE(),ev(),nv(),iv(),sv(),ov(),cv(),dv(),xv(),pv(),yv(),vv())})(wv,function(s){return s})}(T0)),T0.exports}var Av=bv();const $t=Vi(Av);function Ci(n){return $t.lib.WordArray.random(n)}function dy(n,i,s=100,l=256){return $t.PBKDF2(n,i,{keySize:l/32,iterations:s,hasher:$t.algo.SHA512})}function fi(n="",i=""){const s=Ci(32),l=Ci(16),d=dy(n,s),f=$t.AES.encrypt(i,d,{iv:l,mode:$t.mode.CBC,padding:$t.pad.Pkcs7});return s.concat(l).concat(f.ciphertext).toString($t.enc.Base64)}function di(n="",i=""){const s=$t.enc.Base64.parse(i),l=$t.lib.WordArray.create(s.words.slice(0,8)),d=$t.lib.WordArray.create(s.words.slice(8,12)),f=$t.lib.WordArray.create(s.words.slice(12)),m=dy(n,l);return $t.AES.decrypt({ciphertext:f},m,{iv:d,mode:$t.mode.CBC,padding:$t.pad.Pkcs7}).toString($t.enc.Utf8)}function Cv(n,i="10",s=1){let l=$t.SHA512(n+i);for(let d=1;d<s;d++)l=$t.SHA512(l+i);return l.toString($t.enc.Hex)}function ql(n){return $t.SHA512(n).toString($t.enc.Hex)}var Sv=()=>crypto.getRandomValues(new Uint32Array(1))[0]/2**32+"";function Tv(n){var i="";for(let s=0;s<n;s++)i+=Sv()[5];return i}var bi,_r,ba,hy,Ko;class Zd{constructor(i,s){d0(this,ba);d0(this,bi,!1);d0(this,_r,{on:{get:{},say:{}},getPromises:{}});r2(this,bi,new WebSocket(i)),Pn(this,bi).onclose=l=>{this.onclose(l)},Pn(this,bi).onerror=l=>{this.onerror(l)},Pn(this,bi).onopen=()=>{s&&Pl(this,ba,Ko).call(this,"params",!1,s,!1),this.onopen()},Pn(this,bi).onmessage=l=>{Pl(this,ba,hy).call(this,l)}}getState(){return Pn(this,bi).readyState}close(){Pn(this,bi).close()}onSay(i,s,l=!0){l||!Pn(this,_r).on.say[i]?Pn(this,_r).on.say[i]=[s]:Pn(this,_r).on.say[i].push(s)}onGet(i,s){Pn(this,_r).on.get[i]=s}say(i,s){Pl(this,ba,Ko).call(this,"say",i,s,!1)}get(i,s){var l=Tv(8);return new Promise(d=>{Pn(this,_r).getPromises[l]=f=>{delete Pn(this,_r).getPromises[l],d(f)},Pl(this,ba,Ko).call(this,"get",i,s,l)})}onclose(){}onopen(){}onerror(){}onend(){}}bi=new WeakMap,_r=new WeakMap,ba=new WeakSet,hy=function({data:i}){var l,d,f,m;try{var i=JSON.parse(i);if((i==null?void 0:i.method)=="say"&&(i!=null&&i.key))(l=Pn(this,_r).on.say)!=null&&l[i.key]&&Pn(this,_r).on.say[i.key].forEach(b=>b(i==null?void 0:i.cont));else if((i==null?void 0:i.method)=="get"&&(i!=null&&i.key)&&(i!=null&&i.id)){const b=g=>{Pl(this,ba,Ko).call(this,"getback",!1,g,i.id)};if(!Pn(this,_r).on.get[i==null?void 0:i.key])return b("not found");var s=Pn(this,_r).on.get[i==null?void 0:i.key](i==null?void 0:i.cont);s instanceof Promise?s.then(g=>b(g)):b(s)}else(i==null?void 0:i.method)=="getback"&&(i!=null&&i.id)&&(d=Pn(this,_r).getPromises)!=null&&d[i.id]&&((m=(f=Pn(this,_r).getPromises)==null?void 0:f[i.id])==null||m.call(f,i==null?void 0:i.cont))}catch(E){console.log(E)}},Ko=function(i,s,l,d){var f={method:i,cont:l};s&&(f.key=s),d&&(f.id=d),Pn(this,bi).send(JSON.stringify(f))};function _v(n=new Zd){return new Promise(i=>{n.onopen=()=>i(!0),n.onclose=()=>i(!1)})}function Dv(n){return()=>{const i=new Zd(cE);i.onSay("message",({chatId:l,message:d,messageId:f})=>{n(m=>{var b,g;let E;try{if(E={...JSON.parse(di(m[l].password,d)),id:f},E.type=="update"){const[w,C,D]=E.data,T=m[l].messages.findIndex(({id:O})=>O==w);if(T==-1)return m;C=="comment"&&m[l].messages[T].comments.push(D)}else{const w=document.querySelector(".messages");w&&((g=(b=w.lastChild)==null?void 0:b.scrollIntoView)==null||g.call(b,{behavior:"smooth",block:"center"}))}}catch(w){E={type:"error",data:`wrong key
`+w.message}}return{...m,[l]:{...m[l],messages:[...m[l].messages,E],unread:l==window.selectedChat?0:m[l].unread+1}}})}),i.onSay("message-deleted",({chatId:l,messageId:d})=>{n(f=>{let m=f[l].messages.filter(E=>E.id!==d);return{...f,[l]:{...f[l],messages:m}}})}),i.onSay("chat-deleted",({chatId:l})=>{window.setSelectedChat(window.selectedChat==l?null:window.selectedChat),n(d=>{alert(`chat "${d[l].chatName}" is deleted by an user. it get deleted from your device too`);const f={...d};return delete f[l],f})}),i.onSay("user-joined",({chatId:l,message:d})=>{n(f=>{let m;try{m=di(f[l].password,d)}catch{m="error"}return{...f,[l]:{...f[l],messages:[...f[l].messages,{type:"user-joined",data:"user joined: "+m,author:m,id:Ci(4).toString($t.enc.Hex)}]}}})}),i.onSay("user-exited",({chatId:l,message:d})=>{n(f=>{let m;try{m=di(f[l].password,d)}catch{m="error"}return{...f,[l]:{...f[l],messages:[...f[l].messages,{type:"user-exited",data:"user exited: "+m,author:m,id:Ci(4).toString($t.enc.Hex)}]}}})});const s={};return i.onSay("user-state-change",({chatId:l,message:d})=>{n(f=>{let m,E;try{const b=JSON.parse(di(f[l].password,d));m=b.author,E=b.state}catch{return f}return s[l]=s[l]||{},s[l][m]&&clearTimeout(s[l][m]),s[l][m]=setTimeout(()=>{n(b=>{const g=b[l].userStates||{};return delete g[m],{...b,[l]:{...b[l],userStates:g}}})},4e3),{...f,[l]:{...f[l],userStates:{...f[l].userStates||{},[m]:E}}}})}),i.onSay("all-messages-deleted",({chatId:l})=>{n(d=>({...d,[l]:{...d[l],messages:[{type:"deleted-messages",data:"all messages deleted"}]}}))}),i.onSay("start-call",l=>{n(d=>({...d,[l]:{...d[l],isCalling:!0}}))}),i.onSay("call-removed",l=>{n(d=>({...d,[l]:{...d[l],isCalling:!1}}))}),i}}function Ov(n=()=>new Zd,i=!0,s=!0){const[l,d]=Je.useState(null),[f,m]=Je.useState("loading"),[E,b]=Je.useState(!1);async function g(){m("loading"),b(!1),l&&l.close();const w=n();(i?await _v(w):!0)?(m("sucess"),d(w)):(m("failed"),b(!0)),s&&(w.onclose=()=>{b(!0),m("closed")})}return Je.useEffect(()=>(g(),()=>{l&&l.close()}),[]),[l,f,g,E]}async function Nv(n,i,s,l){s(f=>{let m={};return Object.keys(f).reduce((E,b)=>(m={},E[b]={...f[b],isCalling:!1,messages:f[b].messages.filter(({type:g,id:w})=>!["user-joined","user-exited","deleted-messages"].includes(g)&&!m[w])},E),{})});const d=Object.entries(i);l(d.length),await Promise.all(d.map(async([f,m])=>{const E=m.messages.reduce((g,{id:w})=>(g[w]=!0,g),{});let b=await n.get("join",{chatId:f,passwordHash:ql(ql(m.password)),author:fi(m.password,m.author),messageIds:E,subscription:window.notificationSubscription});if(b){s(w=>{var D,T,O,N;let C=w[f].messages;if((D=b[b.length-1])!=null&&D.deleted){const B={};for(const I of b[b.length-1].deletedMessages)B[I]=!0;C=C.filter(({id:I})=>!B[I]),b.splice(b.length-1,1)}b=b.map(({id:B,message:I})=>{try{return{...JSON.parse(di(m.password,I)),id:B}}catch{return{type:"error",data:"an error occurred (wrong password) (ignorable error)",id:B}}}),C=[...C,...b];for(const B of b)if(B.type=="update"){const[I,M,k]=B.data,V=C.findIndex(({id:Q})=>Q==I);if(V==-1)continue;M=="comment"&&((N=(O=(T=C[V])==null?void 0:T.comments)==null?void 0:O.push)==null||N.call(O,k))}return{...w,[f]:{...w[f],unread:b.length,messages:C}}});let g=await n.get("users",f);g&&(g=g.map(w=>{let C;try{C=di(m.password,w)}catch{C="error"}return C}),s(w=>({...w,[f]:{...w[f],messages:[...w[f].messages,...g.map(C=>({type:"user-joined",data:"user joined: "+C,author:C,id:Ci(4).toString($t.enc.Base64)}))],userStates:{}}})))}else return alert("Maybe your password is incorct (remove the group from your chats) => group: "+f);l(g=>g-1)}))}function Bv(n,i){const[s,l,d,f]=Ov(Dv(i),!0,!0),[m,E]=Je.useState(Object.keys(n).length+1);return Je.useEffect(()=>{s&&Nv(s,n,i,E)},[s]),{data:n,setData:i,client:s,state:l,reCreateClient:d,isClosed:f,chatsLoaded:m}}function Rv(n,i){const s={};return(n[n.length-1]===""?[...n,""]:n).join((s.padRight?" ":"")+","+(s.padLeft===!1?"":" ")).trim()}const Iv=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Mv=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Lv={};function K2(n,i){return(Lv.jsx?Mv:Iv).test(n)}const kv=/[ \t\n\f\r]/g;function Fv(n){return typeof n=="object"?n.type==="text"?J2(n.value):!1:J2(n)}function J2(n){return n.replace(kv,"")===""}class au{constructor(i,s,l){this.normal=s,this.property=i,l&&(this.space=l)}}au.prototype.normal={};au.prototype.property={};au.prototype.space=void 0;function xy(n,i){const s={},l={};for(const d of n)Object.assign(s,d.property),Object.assign(l,d.normal);return new au(s,l,i)}function Sd(n){return n.toLowerCase()}class Lr{constructor(i,s){this.attribute=s,this.property=i}}Lr.prototype.attribute="";Lr.prototype.booleanish=!1;Lr.prototype.boolean=!1;Lr.prototype.commaOrSpaceSeparated=!1;Lr.prototype.commaSeparated=!1;Lr.prototype.defined=!1;Lr.prototype.mustUseProperty=!1;Lr.prototype.number=!1;Lr.prototype.overloadedBoolean=!1;Lr.prototype.property="";Lr.prototype.spaceSeparated=!1;Lr.prototype.space=void 0;let Pv=0;const pt=tl(),Un=tl(),gy=tl(),Pe=tl(),un=tl(),Gl=tl(),qr=tl();function tl(){return 2**++Pv}const Td=Object.freeze(Object.defineProperty({__proto__:null,boolean:pt,booleanish:Un,commaOrSpaceSeparated:qr,commaSeparated:Gl,number:Pe,overloadedBoolean:gy,spaceSeparated:un},Symbol.toStringTag,{value:"Module"})),L1=Object.keys(Td);class Wd extends Lr{constructor(i,s,l,d){let f=-1;if(super(i,s),$2(this,"space",d),typeof l=="number")for(;++f<L1.length;){const m=L1[f];$2(this,L1[f],(l&Td[m])===Td[m])}}}Wd.prototype.defined=!0;function $2(n,i,s){s&&(n[i]=s)}function Xl(n){const i={},s={};for(const[l,d]of Object.entries(n.properties)){const f=new Wd(l,n.transform(n.attributes||{},l),d,n.space);n.mustUseProperty&&n.mustUseProperty.includes(l)&&(f.mustUseProperty=!0),i[l]=f,s[Sd(l)]=l,s[Sd(f.attribute)]=l}return new au(i,s,n.space)}const py=Xl({properties:{ariaActiveDescendant:null,ariaAtomic:Un,ariaAutoComplete:null,ariaBusy:Un,ariaChecked:Un,ariaColCount:Pe,ariaColIndex:Pe,ariaColSpan:Pe,ariaControls:un,ariaCurrent:null,ariaDescribedBy:un,ariaDetails:null,ariaDisabled:Un,ariaDropEffect:un,ariaErrorMessage:null,ariaExpanded:Un,ariaFlowTo:un,ariaGrabbed:Un,ariaHasPopup:null,ariaHidden:Un,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:un,ariaLevel:Pe,ariaLive:null,ariaModal:Un,ariaMultiLine:Un,ariaMultiSelectable:Un,ariaOrientation:null,ariaOwns:un,ariaPlaceholder:null,ariaPosInSet:Pe,ariaPressed:Un,ariaReadOnly:Un,ariaRelevant:null,ariaRequired:Un,ariaRoleDescription:un,ariaRowCount:Pe,ariaRowIndex:Pe,ariaRowSpan:Pe,ariaSelected:Un,ariaSetSize:Pe,ariaSort:null,ariaValueMax:Pe,ariaValueMin:Pe,ariaValueNow:Pe,ariaValueText:null,role:null},transform(n,i){return i==="role"?i:"aria-"+i.slice(4).toLowerCase()}});function my(n,i){return i in n?n[i]:i}function yy(n,i){return my(n,i.toLowerCase())}const Uv=Xl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Gl,acceptCharset:un,accessKey:un,action:null,allow:null,allowFullScreen:pt,allowPaymentRequest:pt,allowUserMedia:pt,alt:null,as:null,async:pt,autoCapitalize:null,autoComplete:un,autoFocus:pt,autoPlay:pt,blocking:un,capture:null,charSet:null,checked:pt,cite:null,className:un,cols:Pe,colSpan:null,content:null,contentEditable:Un,controls:pt,controlsList:un,coords:Pe|Gl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:pt,defer:pt,dir:null,dirName:null,disabled:pt,download:gy,draggable:Un,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:pt,formTarget:null,headers:un,height:Pe,hidden:pt,high:Pe,href:null,hrefLang:null,htmlFor:un,httpEquiv:un,id:null,imageSizes:null,imageSrcSet:null,inert:pt,inputMode:null,integrity:null,is:null,isMap:pt,itemId:null,itemProp:un,itemRef:un,itemScope:pt,itemType:un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:pt,low:Pe,manifest:null,max:null,maxLength:Pe,media:null,method:null,min:null,minLength:Pe,multiple:pt,muted:pt,name:null,nonce:null,noModule:pt,noValidate:pt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:pt,optimum:Pe,pattern:null,ping:un,placeholder:null,playsInline:pt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:pt,referrerPolicy:null,rel:un,required:pt,reversed:pt,rows:Pe,rowSpan:Pe,sandbox:un,scope:null,scoped:pt,seamless:pt,selected:pt,shadowRootClonable:pt,shadowRootDelegatesFocus:pt,shadowRootMode:null,shape:null,size:Pe,sizes:null,slot:null,span:Pe,spellCheck:Un,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pe,step:null,style:null,tabIndex:Pe,target:null,title:null,translate:null,type:null,typeMustMatch:pt,useMap:null,value:Un,width:Pe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:un,axis:null,background:null,bgColor:null,border:Pe,borderColor:null,bottomMargin:Pe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:pt,declare:pt,event:null,face:null,frame:null,frameBorder:null,hSpace:Pe,leftMargin:Pe,link:null,longDesc:null,lowSrc:null,marginHeight:Pe,marginWidth:Pe,noResize:pt,noHref:pt,noShade:pt,noWrap:pt,object:null,profile:null,prompt:null,rev:null,rightMargin:Pe,rules:null,scheme:null,scrolling:Un,standby:null,summary:null,text:null,topMargin:Pe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:pt,disableRemotePlayback:pt,prefix:null,property:null,results:Pe,security:null,unselectable:null},space:"html",transform:yy}),jv=Xl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:qr,accentHeight:Pe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pe,amplitude:Pe,arabicForm:null,ascent:Pe,attributeName:null,attributeType:null,azimuth:Pe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pe,by:null,calcMode:null,capHeight:Pe,className:un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pe,diffuseConstant:Pe,direction:null,display:null,dur:null,divisor:Pe,dominantBaseline:null,download:pt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pe,enableBackground:null,end:null,event:null,exponent:Pe,externalResourcesRequired:null,fill:null,fillOpacity:Pe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Gl,g2:Gl,glyphName:Gl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pe,horizOriginX:Pe,horizOriginY:Pe,id:null,ideographic:Pe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pe,k:Pe,k1:Pe,k2:Pe,k3:Pe,k4:Pe,kernelMatrix:qr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pe,overlineThickness:Pe,paintOrder:null,panose1:null,path:null,pathLength:Pe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pe,pointsAtY:Pe,pointsAtZ:Pe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qr,rev:qr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qr,requiredFeatures:qr,requiredFonts:qr,requiredFormats:qr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pe,specularExponent:Pe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pe,strikethroughThickness:Pe,string:null,stroke:null,strokeDashArray:qr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pe,strokeOpacity:Pe,strokeWidth:null,style:null,surfaceScale:Pe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qr,tabIndex:Pe,tableValues:null,target:null,targetX:Pe,targetY:Pe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pe,underlineThickness:Pe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pe,values:null,vAlphabetic:Pe,vMathematical:Pe,vectorEffect:null,vHanging:Pe,vIdeographic:Pe,version:null,vertAdvY:Pe,vertOriginX:Pe,vertOriginY:Pe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:my}),Ey=Xl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,i){return"xlink:"+i.slice(5).toLowerCase()}}),vy=Xl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:yy}),wy=Xl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,i){return"xml:"+i.slice(3).toLowerCase()}}),zv={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Hv=/[A-Z]/g,ep=/-[a-z]/g,qv=/^data[-\w.:]+$/i;function Vv(n,i){const s=Sd(i);let l=i,d=Lr;if(s in n.normal)return n.property[n.normal[s]];if(s.length>4&&s.slice(0,4)==="data"&&qv.test(i)){if(i.charAt(4)==="-"){const f=i.slice(5).replace(ep,Yv);l="data"+f.charAt(0).toUpperCase()+f.slice(1)}else{const f=i.slice(4);if(!ep.test(f)){let m=f.replace(Hv,Gv);m.charAt(0)!=="-"&&(m="-"+m),i="data"+m}}d=Wd}return new d(l,i)}function Gv(n){return"-"+n.toLowerCase()}function Yv(n){return n.charAt(1).toUpperCase()}const Xv=xy([py,Uv,Ey,vy,wy],"html"),Qd=xy([py,jv,Ey,vy,wy],"svg");function Zv(n){return n.join(" ").trim()}var Ul={},k1,tp;function Wv(){if(tp)return k1;tp=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,i=/\n/g,s=/^\s*/,l=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,d=/^:\s*/,f=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,m=/^[;\s]*/,E=/^\s+|\s+$/g,b=`
`,g="/",w="*",C="",D="comment",T="declaration";k1=function(N,B){if(typeof N!="string")throw new TypeError("First argument must be a string");if(!N)return[];B=B||{};var I=1,M=1;function k(ne){var de=ne.match(i);de&&(I+=de.length);var te=ne.lastIndexOf(b);M=~te?ne.length-te:M+ne.length}function V(){var ne={line:I,column:M};return function(de){return de.position=new Q(ne),ee(),de}}function Q(ne){this.start=ne,this.end={line:I,column:M},this.source=B.source}Q.prototype.content=N;function q(ne){var de=new Error(B.source+":"+I+":"+M+": "+ne);if(de.reason=ne,de.filename=B.source,de.line=I,de.column=M,de.source=N,!B.silent)throw de}function Y(ne){var de=ne.exec(N);if(de){var te=de[0];return k(te),N=N.slice(te.length),de}}function ee(){Y(s)}function X(ne){var de;for(ne=ne||[];de=Z();)de!==!1&&ne.push(de);return ne}function Z(){var ne=V();if(!(g!=N.charAt(0)||w!=N.charAt(1))){for(var de=2;C!=N.charAt(de)&&(w!=N.charAt(de)||g!=N.charAt(de+1));)++de;if(de+=2,C===N.charAt(de-1))return q("End of comment missing");var te=N.slice(2,de-2);return M+=2,k(te),N=N.slice(de),M+=2,ne({type:D,comment:te})}}function K(){var ne=V(),de=Y(l);if(de){if(Z(),!Y(d))return q("property missing ':'");var te=Y(f),fe=ne({type:T,property:O(de[0].replace(n,C)),value:te?O(te[0].replace(n,C)):C});return Y(m),fe}}function $(){var ne=[];X(ne);for(var de;de=K();)de!==!1&&(ne.push(de),X(ne));return ne}return ee(),$()};function O(N){return N?N.replace(E,C):C}return k1}var np;function Qv(){if(np)return Ul;np=1;var n=Ul&&Ul.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.default=s;var i=n(Wv());function s(l,d){var f=null;if(!l||typeof l!="string")return f;var m=(0,i.default)(l),E=typeof d=="function";return m.forEach(function(b){if(b.type==="declaration"){var g=b.property,w=b.value;E?d(g,w,b):w&&(f=f||{},f[g]=w)}}),f}return Ul}var Vo={},rp;function Kv(){if(rp)return Vo;rp=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,s=/^[^-]+$/,l=/^-(webkit|moz|ms|o|khtml)-/,d=/^-(ms)-/,f=function(g){return!g||s.test(g)||n.test(g)},m=function(g,w){return w.toUpperCase()},E=function(g,w){return"".concat(w,"-")},b=function(g,w){return w===void 0&&(w={}),f(g)?g:(g=g.toLowerCase(),w.reactCompat?g=g.replace(d,E):g=g.replace(l,E),g.replace(i,m))};return Vo.camelCase=b,Vo}var Go,ip;function Jv(){if(ip)return Go;ip=1;var n=Go&&Go.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},i=n(Qv()),s=Kv();function l(d,f){var m={};return!d||typeof d!="string"||(0,i.default)(d,function(E,b){E&&b&&(m[(0,s.camelCase)(E,f)]=b)}),m}return l.default=l,Go=l,Go}var $v=Jv();const e8=Vi($v),by=Ay("end"),Kd=Ay("start");function Ay(n){return i;function i(s){const l=s&&s.position&&s.position[n]||{};if(typeof l.line=="number"&&l.line>0&&typeof l.column=="number"&&l.column>0)return{line:l.line,column:l.column,offset:typeof l.offset=="number"&&l.offset>-1?l.offset:void 0}}}function t8(n){const i=Kd(n),s=by(n);if(i&&s)return{start:i,end:s}}function $o(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?ap(n.position):"start"in n||"end"in n?ap(n):"line"in n||"column"in n?_d(n):""}function _d(n){return sp(n&&n.line)+":"+sp(n&&n.column)}function ap(n){return _d(n&&n.start)+"-"+_d(n&&n.end)}function sp(n){return n&&typeof n=="number"?n:1}class hr extends Error{constructor(i,s,l){super(),typeof s=="string"&&(l=s,s=void 0);let d="",f={},m=!1;if(s&&("line"in s&&"column"in s?f={place:s}:"start"in s&&"end"in s?f={place:s}:"type"in s?f={ancestors:[s],place:s.position}:f={...s}),typeof i=="string"?d=i:!f.cause&&i&&(m=!0,d=i.message,f.cause=i),!f.ruleId&&!f.source&&typeof l=="string"){const b=l.indexOf(":");b===-1?f.ruleId=l:(f.source=l.slice(0,b),f.ruleId=l.slice(b+1))}if(!f.place&&f.ancestors&&f.ancestors){const b=f.ancestors[f.ancestors.length-1];b&&(f.place=b.position)}const E=f.place&&"start"in f.place?f.place.start:f.place;this.ancestors=f.ancestors||void 0,this.cause=f.cause||void 0,this.column=E?E.column:void 0,this.fatal=void 0,this.file,this.message=d,this.line=E?E.line:void 0,this.name=$o(f.place)||"1:1",this.place=f.place||void 0,this.reason=this.message,this.ruleId=f.ruleId||void 0,this.source=f.source||void 0,this.stack=m&&f.cause&&typeof f.cause.stack=="string"?f.cause.stack:"",this.actual,this.expected,this.note,this.url}}hr.prototype.file="";hr.prototype.name="";hr.prototype.reason="";hr.prototype.message="";hr.prototype.stack="";hr.prototype.column=void 0;hr.prototype.line=void 0;hr.prototype.ancestors=void 0;hr.prototype.cause=void 0;hr.prototype.fatal=void 0;hr.prototype.place=void 0;hr.prototype.ruleId=void 0;hr.prototype.source=void 0;const Jd={}.hasOwnProperty,n8=new Map,r8=/[A-Z]/g,i8=new Set(["table","tbody","thead","tfoot","tr"]),a8=new Set(["td","th"]),Cy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function s8(n,i){if(!i||i.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const s=i.filePath||void 0;let l;if(i.development){if(typeof i.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");l=x8(s,i.jsxDEV)}else{if(typeof i.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof i.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");l=h8(s,i.jsx,i.jsxs)}const d={Fragment:i.Fragment,ancestors:[],components:i.components||{},create:l,elementAttributeNameCase:i.elementAttributeNameCase||"react",evaluater:i.createEvaluater?i.createEvaluater():void 0,filePath:s,ignoreInvalidStyle:i.ignoreInvalidStyle||!1,passKeys:i.passKeys!==!1,passNode:i.passNode||!1,schema:i.space==="svg"?Qd:Xv,stylePropertyNameCase:i.stylePropertyNameCase||"dom",tableCellAlignToStyle:i.tableCellAlignToStyle!==!1},f=Sy(d,n,void 0);return f&&typeof f!="string"?f:d.create(n,d.Fragment,{children:f||void 0},void 0)}function Sy(n,i,s){if(i.type==="element")return l8(n,i,s);if(i.type==="mdxFlowExpression"||i.type==="mdxTextExpression")return o8(n,i);if(i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement")return c8(n,i,s);if(i.type==="mdxjsEsm")return u8(n,i);if(i.type==="root")return f8(n,i,s);if(i.type==="text")return d8(n,i)}function l8(n,i,s){const l=n.schema;let d=l;i.tagName.toLowerCase()==="svg"&&l.space==="html"&&(d=Qd,n.schema=d),n.ancestors.push(i);const f=_y(n,i.tagName,!1),m=g8(n,i);let E=eh(n,i);return i8.has(i.tagName)&&(E=E.filter(function(b){return typeof b=="string"?!Fv(b):!0})),Ty(n,m,f,i),$d(m,E),n.ancestors.pop(),n.schema=l,n.create(i,f,m,s)}function o8(n,i){if(i.data&&i.data.estree&&n.evaluater){const l=i.data.estree.body[0];return l.type,n.evaluater.evaluateExpression(l.expression)}nu(n,i.position)}function u8(n,i){if(i.data&&i.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(i.data.estree);nu(n,i.position)}function c8(n,i,s){const l=n.schema;let d=l;i.name==="svg"&&l.space==="html"&&(d=Qd,n.schema=d),n.ancestors.push(i);const f=i.name===null?n.Fragment:_y(n,i.name,!0),m=p8(n,i),E=eh(n,i);return Ty(n,m,f,i),$d(m,E),n.ancestors.pop(),n.schema=l,n.create(i,f,m,s)}function f8(n,i,s){const l={};return $d(l,eh(n,i)),n.create(i,n.Fragment,l,s)}function d8(n,i){return i.value}function Ty(n,i,s,l){typeof s!="string"&&s!==n.Fragment&&n.passNode&&(i.node=l)}function $d(n,i){if(i.length>0){const s=i.length>1?i:i[0];s&&(n.children=s)}}function h8(n,i,s){return l;function l(d,f,m,E){const g=Array.isArray(m.children)?s:i;return E?g(f,m,E):g(f,m)}}function x8(n,i){return s;function s(l,d,f,m){const E=Array.isArray(f.children),b=Kd(l);return i(d,f,m,E,{columnNumber:b?b.column-1:void 0,fileName:n,lineNumber:b?b.line:void 0},void 0)}}function g8(n,i){const s={};let l,d;for(d in i.properties)if(d!=="children"&&Jd.call(i.properties,d)){const f=m8(n,d,i.properties[d]);if(f){const[m,E]=f;n.tableCellAlignToStyle&&m==="align"&&typeof E=="string"&&a8.has(i.tagName)?l=E:s[m]=E}}if(l){const f=s.style||(s.style={});f[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=l}return s}function p8(n,i){const s={};for(const l of i.attributes)if(l.type==="mdxJsxExpressionAttribute")if(l.data&&l.data.estree&&n.evaluater){const f=l.data.estree.body[0];f.type;const m=f.expression;m.type;const E=m.properties[0];E.type,Object.assign(s,n.evaluater.evaluateExpression(E.argument))}else nu(n,i.position);else{const d=l.name;let f;if(l.value&&typeof l.value=="object")if(l.value.data&&l.value.data.estree&&n.evaluater){const E=l.value.data.estree.body[0];E.type,f=n.evaluater.evaluateExpression(E.expression)}else nu(n,i.position);else f=l.value===null?!0:l.value;s[d]=f}return s}function eh(n,i){const s=[];let l=-1;const d=n.passKeys?new Map:n8;for(;++l<i.children.length;){const f=i.children[l];let m;if(n.passKeys){const b=f.type==="element"?f.tagName:f.type==="mdxJsxFlowElement"||f.type==="mdxJsxTextElement"?f.name:void 0;if(b){const g=d.get(b)||0;m=b+"-"+g,d.set(b,g+1)}}const E=Sy(n,f,m);E!==void 0&&s.push(E)}return s}function m8(n,i,s){const l=Vv(n.schema,i);if(!(s==null||typeof s=="number"&&Number.isNaN(s))){if(Array.isArray(s)&&(s=l.commaSeparated?Rv(s):Zv(s)),l.property==="style"){let d=typeof s=="object"?s:y8(n,String(s));return n.stylePropertyNameCase==="css"&&(d=E8(d)),["style",d]}return[n.elementAttributeNameCase==="react"&&l.space?zv[l.property]||l.property:l.attribute,s]}}function y8(n,i){try{return e8(i,{reactCompat:!0})}catch(s){if(n.ignoreInvalidStyle)return{};const l=s,d=new hr("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:l,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw d.file=n.filePath||void 0,d.url=Cy+"#cannot-parse-style-attribute",d}}function _y(n,i,s){let l;if(!s)l={type:"Literal",value:i};else if(i.includes(".")){const d=i.split(".");let f=-1,m;for(;++f<d.length;){const E=K2(d[f])?{type:"Identifier",name:d[f]}:{type:"Literal",value:d[f]};m=m?{type:"MemberExpression",object:m,property:E,computed:!!(f&&E.type==="Literal"),optional:!1}:E}l=m}else l=K2(i)&&!/^[a-z]/.test(i)?{type:"Identifier",name:i}:{type:"Literal",value:i};if(l.type==="Literal"){const d=l.value;return Jd.call(n.components,d)?n.components[d]:d}if(n.evaluater)return n.evaluater.evaluateExpression(l);nu(n)}function nu(n,i){const s=new hr("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:i,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw s.file=n.filePath||void 0,s.url=Cy+"#cannot-handle-mdx-estrees-without-createevaluater",s}function E8(n){const i={};let s;for(s in n)Jd.call(n,s)&&(i[v8(s)]=n[s]);return i}function v8(n){let i=n.replace(r8,w8);return i.slice(0,3)==="ms-"&&(i="-"+i),i}function w8(n){return"-"+n.toLowerCase()}const F1={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},b8={};function A8(n,i){const s=b8,l=typeof s.includeImageAlt=="boolean"?s.includeImageAlt:!0,d=typeof s.includeHtml=="boolean"?s.includeHtml:!0;return Dy(n,l,d)}function Dy(n,i,s){if(C8(n)){if("value"in n)return n.type==="html"&&!s?"":n.value;if(i&&"alt"in n&&n.alt)return n.alt;if("children"in n)return lp(n.children,i,s)}return Array.isArray(n)?lp(n,i,s):""}function lp(n,i,s){const l=[];let d=-1;for(;++d<n.length;)l[d]=Dy(n[d],i,s);return l.join("")}function C8(n){return!!(n&&typeof n=="object")}const op=document.createElement("i");function th(n){const i="&"+n+";";op.innerHTML=i;const s=op.textContent;return s.charCodeAt(s.length-1)===59&&n!=="semi"||s===i?!1:s}function qi(n,i,s,l){const d=n.length;let f=0,m;if(i<0?i=-i>d?0:d+i:i=i>d?d:i,s=s>0?s:0,l.length<1e4)m=Array.from(l),m.unshift(i,s),n.splice(...m);else for(s&&n.splice(i,s);f<l.length;)m=l.slice(f,f+1e4),m.unshift(i,0),n.splice(...m),f+=1e4,i+=1e4}function ci(n,i){return n.length>0?(qi(n,n.length,0,i),n):i}const up={}.hasOwnProperty;function S8(n){const i={};let s=-1;for(;++s<n.length;)T8(i,n[s]);return i}function T8(n,i){let s;for(s in i){const d=(up.call(n,s)?n[s]:void 0)||(n[s]={}),f=i[s];let m;if(f)for(m in f){up.call(d,m)||(d[m]=[]);const E=f[m];_8(d[m],Array.isArray(E)?E:E?[E]:[])}}}function _8(n,i){let s=-1;const l=[];for(;++s<i.length;)(i[s].add==="after"?n:l).push(i[s]);qi(n,0,0,l)}function Oy(n,i){const s=Number.parseInt(n,i);return s<9||s===11||s>13&&s<32||s>126&&s<160||s>55295&&s<57344||s>64975&&s<65008||(s&65535)===65535||(s&65535)===65534||s>1114111?"":String.fromCodePoint(s)}function Yl(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hi=fs(/[A-Za-z]/),Xr=fs(/[\dA-Za-z]/),D8=fs(/[#-'*+\--9=?A-Z^-~]/);function Dd(n){return n!==null&&(n<32||n===127)}const Od=fs(/\d/),O8=fs(/[\dA-Fa-f]/),N8=fs(/[!-/:-@[-`{-~]/);function ut(n){return n!==null&&n<-2}function Ir(n){return n!==null&&(n<0||n===32)}function zt(n){return n===-2||n===-1||n===32}const B8=fs(new RegExp("\\p{P}|\\p{S}","u")),R8=fs(/\s/);function fs(n){return i;function i(s){return s!==null&&s>-1&&n.test(String.fromCharCode(s))}}function Zl(n){const i=[];let s=-1,l=0,d=0;for(;++s<n.length;){const f=n.charCodeAt(s);let m="";if(f===37&&Xr(n.charCodeAt(s+1))&&Xr(n.charCodeAt(s+2)))d=2;else if(f<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(f))||(m=String.fromCharCode(f));else if(f>55295&&f<57344){const E=n.charCodeAt(s+1);f<56320&&E>56319&&E<57344?(m=String.fromCharCode(f,E),d=1):m=""}else m=String.fromCharCode(f);m&&(i.push(n.slice(l,s),encodeURIComponent(m)),l=s+d+1,m=""),d&&(s+=d,d=0)}return i.join("")+n.slice(l)}function cn(n,i,s,l){const d=l?l-1:Number.POSITIVE_INFINITY;let f=0;return m;function m(b){return zt(b)?(n.enter(s),E(b)):i(b)}function E(b){return zt(b)&&f++<d?(n.consume(b),E):(n.exit(s),i(b))}}const I8={tokenize:M8};function M8(n){const i=n.attempt(this.parser.constructs.contentInitial,l,d);let s;return i;function l(E){if(E===null){n.consume(E);return}return n.enter("lineEnding"),n.consume(E),n.exit("lineEnding"),cn(n,i,"linePrefix")}function d(E){return n.enter("paragraph"),f(E)}function f(E){const b=n.enter("chunkText",{contentType:"text",previous:s});return s&&(s.next=b),s=b,m(E)}function m(E){if(E===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(E);return}return ut(E)?(n.consume(E),n.exit("chunkText"),f):(n.consume(E),m)}}const L8={tokenize:k8},cp={tokenize:F8};function k8(n){const i=this,s=[];let l=0,d,f,m;return E;function E(k){if(l<s.length){const V=s[l];return i.containerState=V[1],n.attempt(V[0].continuation,b,g)(k)}return g(k)}function b(k){if(l++,i.containerState._closeFlow){i.containerState._closeFlow=void 0,d&&M();const V=i.events.length;let Q=V,q;for(;Q--;)if(i.events[Q][0]==="exit"&&i.events[Q][1].type==="chunkFlow"){q=i.events[Q][1].end;break}I(l);let Y=V;for(;Y<i.events.length;)i.events[Y][1].end={...q},Y++;return qi(i.events,Q+1,0,i.events.slice(V)),i.events.length=Y,g(k)}return E(k)}function g(k){if(l===s.length){if(!d)return D(k);if(d.currentConstruct&&d.currentConstruct.concrete)return O(k);i.interrupt=!!(d.currentConstruct&&!d._gfmTableDynamicInterruptHack)}return i.containerState={},n.check(cp,w,C)(k)}function w(k){return d&&M(),I(l),D(k)}function C(k){return i.parser.lazy[i.now().line]=l!==s.length,m=i.now().offset,O(k)}function D(k){return i.containerState={},n.attempt(cp,T,O)(k)}function T(k){return l++,s.push([i.currentConstruct,i.containerState]),D(k)}function O(k){if(k===null){d&&M(),I(0),n.consume(k);return}return d=d||i.parser.flow(i.now()),n.enter("chunkFlow",{_tokenizer:d,contentType:"flow",previous:f}),N(k)}function N(k){if(k===null){B(n.exit("chunkFlow"),!0),I(0),n.consume(k);return}return ut(k)?(n.consume(k),B(n.exit("chunkFlow")),l=0,i.interrupt=void 0,E):(n.consume(k),N)}function B(k,V){const Q=i.sliceStream(k);if(V&&Q.push(null),k.previous=f,f&&(f.next=k),f=k,d.defineSkip(k.start),d.write(Q),i.parser.lazy[k.start.line]){let q=d.events.length;for(;q--;)if(d.events[q][1].start.offset<m&&(!d.events[q][1].end||d.events[q][1].end.offset>m))return;const Y=i.events.length;let ee=Y,X,Z;for(;ee--;)if(i.events[ee][0]==="exit"&&i.events[ee][1].type==="chunkFlow"){if(X){Z=i.events[ee][1].end;break}X=!0}for(I(l),q=Y;q<i.events.length;)i.events[q][1].end={...Z},q++;qi(i.events,ee+1,0,i.events.slice(Y)),i.events.length=q}}function I(k){let V=s.length;for(;V-- >k;){const Q=s[V];i.containerState=Q[1],Q[0].exit.call(i,n)}s.length=k}function M(){d.write([null]),f=void 0,d=void 0,i.containerState._closeFlow=void 0}}function F8(n,i,s){return cn(n,n.attempt(this.parser.constructs.document,i,s),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fp(n){if(n===null||Ir(n)||R8(n))return 1;if(B8(n))return 2}function nh(n,i,s){const l=[];let d=-1;for(;++d<n.length;){const f=n[d].resolveAll;f&&!l.includes(f)&&(i=f(i,s),l.push(f))}return i}const Nd={name:"attention",resolveAll:P8,tokenize:U8};function P8(n,i){let s=-1,l,d,f,m,E,b,g,w;for(;++s<n.length;)if(n[s][0]==="enter"&&n[s][1].type==="attentionSequence"&&n[s][1]._close){for(l=s;l--;)if(n[l][0]==="exit"&&n[l][1].type==="attentionSequence"&&n[l][1]._open&&i.sliceSerialize(n[l][1]).charCodeAt(0)===i.sliceSerialize(n[s][1]).charCodeAt(0)){if((n[l][1]._close||n[s][1]._open)&&(n[s][1].end.offset-n[s][1].start.offset)%3&&!((n[l][1].end.offset-n[l][1].start.offset+n[s][1].end.offset-n[s][1].start.offset)%3))continue;b=n[l][1].end.offset-n[l][1].start.offset>1&&n[s][1].end.offset-n[s][1].start.offset>1?2:1;const C={...n[l][1].end},D={...n[s][1].start};dp(C,-b),dp(D,b),m={type:b>1?"strongSequence":"emphasisSequence",start:C,end:{...n[l][1].end}},E={type:b>1?"strongSequence":"emphasisSequence",start:{...n[s][1].start},end:D},f={type:b>1?"strongText":"emphasisText",start:{...n[l][1].end},end:{...n[s][1].start}},d={type:b>1?"strong":"emphasis",start:{...m.start},end:{...E.end}},n[l][1].end={...m.start},n[s][1].start={...E.end},g=[],n[l][1].end.offset-n[l][1].start.offset&&(g=ci(g,[["enter",n[l][1],i],["exit",n[l][1],i]])),g=ci(g,[["enter",d,i],["enter",m,i],["exit",m,i],["enter",f,i]]),g=ci(g,nh(i.parser.constructs.insideSpan.null,n.slice(l+1,s),i)),g=ci(g,[["exit",f,i],["enter",E,i],["exit",E,i],["exit",d,i]]),n[s][1].end.offset-n[s][1].start.offset?(w=2,g=ci(g,[["enter",n[s][1],i],["exit",n[s][1],i]])):w=0,qi(n,l-1,s-l+3,g),s=l+g.length-w-2;break}}for(s=-1;++s<n.length;)n[s][1].type==="attentionSequence"&&(n[s][1].type="data");return n}function U8(n,i){const s=this.parser.constructs.attentionMarkers.null,l=this.previous,d=fp(l);let f;return m;function m(b){return f=b,n.enter("attentionSequence"),E(b)}function E(b){if(b===f)return n.consume(b),E;const g=n.exit("attentionSequence"),w=fp(b),C=!w||w===2&&d||s.includes(b),D=!d||d===2&&w||s.includes(l);return g._open=!!(f===42?C:C&&(d||!D)),g._close=!!(f===42?D:D&&(w||!C)),i(b)}}function dp(n,i){n.column+=i,n.offset+=i,n._bufferIndex+=i}const j8={name:"autolink",tokenize:z8};function z8(n,i,s){let l=0;return d;function d(T){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(T),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),f}function f(T){return Hi(T)?(n.consume(T),m):T===64?s(T):g(T)}function m(T){return T===43||T===45||T===46||Xr(T)?(l=1,E(T)):g(T)}function E(T){return T===58?(n.consume(T),l=0,b):(T===43||T===45||T===46||Xr(T))&&l++<32?(n.consume(T),E):(l=0,g(T))}function b(T){return T===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(T),n.exit("autolinkMarker"),n.exit("autolink"),i):T===null||T===32||T===60||Dd(T)?s(T):(n.consume(T),b)}function g(T){return T===64?(n.consume(T),w):D8(T)?(n.consume(T),g):s(T)}function w(T){return Xr(T)?C(T):s(T)}function C(T){return T===46?(n.consume(T),l=0,w):T===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(T),n.exit("autolinkMarker"),n.exit("autolink"),i):D(T)}function D(T){if((T===45||Xr(T))&&l++<63){const O=T===45?D:C;return n.consume(T),O}return s(T)}}const bc={partial:!0,tokenize:H8};function H8(n,i,s){return l;function l(f){return zt(f)?cn(n,d,"linePrefix")(f):d(f)}function d(f){return f===null||ut(f)?i(f):s(f)}}const Ny={continuation:{tokenize:V8},exit:G8,name:"blockQuote",tokenize:q8};function q8(n,i,s){const l=this;return d;function d(m){if(m===62){const E=l.containerState;return E.open||(n.enter("blockQuote",{_container:!0}),E.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(m),n.exit("blockQuoteMarker"),f}return s(m)}function f(m){return zt(m)?(n.enter("blockQuotePrefixWhitespace"),n.consume(m),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),i):(n.exit("blockQuotePrefix"),i(m))}}function V8(n,i,s){const l=this;return d;function d(m){return zt(m)?cn(n,f,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):f(m)}function f(m){return n.attempt(Ny,i,s)(m)}}function G8(n){n.exit("blockQuote")}const By={name:"characterEscape",tokenize:Y8};function Y8(n,i,s){return l;function l(f){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(f),n.exit("escapeMarker"),d}function d(f){return N8(f)?(n.enter("characterEscapeValue"),n.consume(f),n.exit("characterEscapeValue"),n.exit("characterEscape"),i):s(f)}}const Ry={name:"characterReference",tokenize:X8};function X8(n,i,s){const l=this;let d=0,f,m;return E;function E(C){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(C),n.exit("characterReferenceMarker"),b}function b(C){return C===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(C),n.exit("characterReferenceMarkerNumeric"),g):(n.enter("characterReferenceValue"),f=31,m=Xr,w(C))}function g(C){return C===88||C===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(C),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),f=6,m=O8,w):(n.enter("characterReferenceValue"),f=7,m=Od,w(C))}function w(C){if(C===59&&d){const D=n.exit("characterReferenceValue");return m===Xr&&!th(l.sliceSerialize(D))?s(C):(n.enter("characterReferenceMarker"),n.consume(C),n.exit("characterReferenceMarker"),n.exit("characterReference"),i)}return m(C)&&d++<f?(n.consume(C),w):s(C)}}const hp={partial:!0,tokenize:W8},xp={concrete:!0,name:"codeFenced",tokenize:Z8};function Z8(n,i,s){const l=this,d={partial:!0,tokenize:Q};let f=0,m=0,E;return b;function b(q){return g(q)}function g(q){const Y=l.events[l.events.length-1];return f=Y&&Y[1].type==="linePrefix"?Y[2].sliceSerialize(Y[1],!0).length:0,E=q,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),w(q)}function w(q){return q===E?(m++,n.consume(q),w):m<3?s(q):(n.exit("codeFencedFenceSequence"),zt(q)?cn(n,C,"whitespace")(q):C(q))}function C(q){return q===null||ut(q)?(n.exit("codeFencedFence"),l.interrupt?i(q):n.check(hp,N,V)(q)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),D(q))}function D(q){return q===null||ut(q)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),C(q)):zt(q)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),cn(n,T,"whitespace")(q)):q===96&&q===E?s(q):(n.consume(q),D)}function T(q){return q===null||ut(q)?C(q):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),O(q))}function O(q){return q===null||ut(q)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),C(q)):q===96&&q===E?s(q):(n.consume(q),O)}function N(q){return n.attempt(d,V,B)(q)}function B(q){return n.enter("lineEnding"),n.consume(q),n.exit("lineEnding"),I}function I(q){return f>0&&zt(q)?cn(n,M,"linePrefix",f+1)(q):M(q)}function M(q){return q===null||ut(q)?n.check(hp,N,V)(q):(n.enter("codeFlowValue"),k(q))}function k(q){return q===null||ut(q)?(n.exit("codeFlowValue"),M(q)):(n.consume(q),k)}function V(q){return n.exit("codeFenced"),i(q)}function Q(q,Y,ee){let X=0;return Z;function Z(te){return q.enter("lineEnding"),q.consume(te),q.exit("lineEnding"),K}function K(te){return q.enter("codeFencedFence"),zt(te)?cn(q,$,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(te):$(te)}function $(te){return te===E?(q.enter("codeFencedFenceSequence"),ne(te)):ee(te)}function ne(te){return te===E?(X++,q.consume(te),ne):X>=m?(q.exit("codeFencedFenceSequence"),zt(te)?cn(q,de,"whitespace")(te):de(te)):ee(te)}function de(te){return te===null||ut(te)?(q.exit("codeFencedFence"),Y(te)):ee(te)}}}function W8(n,i,s){const l=this;return d;function d(m){return m===null?s(m):(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),f)}function f(m){return l.parser.lazy[l.now().line]?s(m):i(m)}}const P1={name:"codeIndented",tokenize:K8},Q8={partial:!0,tokenize:J8};function K8(n,i,s){const l=this;return d;function d(g){return n.enter("codeIndented"),cn(n,f,"linePrefix",5)(g)}function f(g){const w=l.events[l.events.length-1];return w&&w[1].type==="linePrefix"&&w[2].sliceSerialize(w[1],!0).length>=4?m(g):s(g)}function m(g){return g===null?b(g):ut(g)?n.attempt(Q8,m,b)(g):(n.enter("codeFlowValue"),E(g))}function E(g){return g===null||ut(g)?(n.exit("codeFlowValue"),m(g)):(n.consume(g),E)}function b(g){return n.exit("codeIndented"),i(g)}}function J8(n,i,s){const l=this;return d;function d(m){return l.parser.lazy[l.now().line]?s(m):ut(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),d):cn(n,f,"linePrefix",5)(m)}function f(m){const E=l.events[l.events.length-1];return E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?i(m):ut(m)?d(m):s(m)}}const $8={name:"codeText",previous:tw,resolve:ew,tokenize:nw};function ew(n){let i=n.length-4,s=3,l,d;if((n[s][1].type==="lineEnding"||n[s][1].type==="space")&&(n[i][1].type==="lineEnding"||n[i][1].type==="space")){for(l=s;++l<i;)if(n[l][1].type==="codeTextData"){n[s][1].type="codeTextPadding",n[i][1].type="codeTextPadding",s+=2,i-=2;break}}for(l=s-1,i++;++l<=i;)d===void 0?l!==i&&n[l][1].type!=="lineEnding"&&(d=l):(l===i||n[l][1].type==="lineEnding")&&(n[d][1].type="codeTextData",l!==d+2&&(n[d][1].end=n[l-1][1].end,n.splice(d+2,l-d-2),i-=l-d-2,l=d+2),d=void 0);return n}function tw(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function nw(n,i,s){let l=0,d,f;return m;function m(C){return n.enter("codeText"),n.enter("codeTextSequence"),E(C)}function E(C){return C===96?(n.consume(C),l++,E):(n.exit("codeTextSequence"),b(C))}function b(C){return C===null?s(C):C===32?(n.enter("space"),n.consume(C),n.exit("space"),b):C===96?(f=n.enter("codeTextSequence"),d=0,w(C)):ut(C)?(n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),b):(n.enter("codeTextData"),g(C))}function g(C){return C===null||C===32||C===96||ut(C)?(n.exit("codeTextData"),b(C)):(n.consume(C),g)}function w(C){return C===96?(n.consume(C),d++,w):d===l?(n.exit("codeTextSequence"),n.exit("codeText"),i(C)):(f.type="codeTextData",g(C))}}class rw{constructor(i){this.left=i?[...i]:[],this.right=[]}get(i){if(i<0||i>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+i+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return i<this.left.length?this.left[i]:this.right[this.right.length-i+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(i,s){const l=s??Number.POSITIVE_INFINITY;return l<this.left.length?this.left.slice(i,l):i>this.left.length?this.right.slice(this.right.length-l+this.left.length,this.right.length-i+this.left.length).reverse():this.left.slice(i).concat(this.right.slice(this.right.length-l+this.left.length).reverse())}splice(i,s,l){const d=s||0;this.setCursor(Math.trunc(i));const f=this.right.splice(this.right.length-d,Number.POSITIVE_INFINITY);return l&&Yo(this.left,l),f.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(i){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(i)}pushMany(i){this.setCursor(Number.POSITIVE_INFINITY),Yo(this.left,i)}unshift(i){this.setCursor(0),this.right.push(i)}unshiftMany(i){this.setCursor(0),Yo(this.right,i.reverse())}setCursor(i){if(!(i===this.left.length||i>this.left.length&&this.right.length===0||i<0&&this.left.length===0))if(i<this.left.length){const s=this.left.splice(i,Number.POSITIVE_INFINITY);Yo(this.right,s.reverse())}else{const s=this.right.splice(this.left.length+this.right.length-i,Number.POSITIVE_INFINITY);Yo(this.left,s.reverse())}}}function Yo(n,i){let s=0;if(i.length<1e4)n.push(...i);else for(;s<i.length;)n.push(...i.slice(s,s+1e4)),s+=1e4}function Iy(n){const i={};let s=-1,l,d,f,m,E,b,g;const w=new rw(n);for(;++s<w.length;){for(;s in i;)s=i[s];if(l=w.get(s),s&&l[1].type==="chunkFlow"&&w.get(s-1)[1].type==="listItemPrefix"&&(b=l[1]._tokenizer.events,f=0,f<b.length&&b[f][1].type==="lineEndingBlank"&&(f+=2),f<b.length&&b[f][1].type==="content"))for(;++f<b.length&&b[f][1].type!=="content";)b[f][1].type==="chunkText"&&(b[f][1]._isInFirstContentOfListItem=!0,f++);if(l[0]==="enter")l[1].contentType&&(Object.assign(i,iw(w,s)),s=i[s],g=!0);else if(l[1]._container){for(f=s,d=void 0;f--;)if(m=w.get(f),m[1].type==="lineEnding"||m[1].type==="lineEndingBlank")m[0]==="enter"&&(d&&(w.get(d)[1].type="lineEndingBlank"),m[1].type="lineEnding",d=f);else if(!(m[1].type==="linePrefix"||m[1].type==="listItemIndent"))break;d&&(l[1].end={...w.get(d)[1].start},E=w.slice(d,s),E.unshift(l),w.splice(d,s-d+1,E))}}return qi(n,0,Number.POSITIVE_INFINITY,w.slice(0)),!g}function iw(n,i){const s=n.get(i)[1],l=n.get(i)[2];let d=i-1;const f=[];let m=s._tokenizer;m||(m=l.parser[s.contentType](s.start),s._contentTypeTextTrailing&&(m._contentTypeTextTrailing=!0));const E=m.events,b=[],g={};let w,C,D=-1,T=s,O=0,N=0;const B=[N];for(;T;){for(;n.get(++d)[1]!==T;);f.push(d),T._tokenizer||(w=l.sliceStream(T),T.next||w.push(null),C&&m.defineSkip(T.start),T._isInFirstContentOfListItem&&(m._gfmTasklistFirstContentOfListItem=!0),m.write(w),T._isInFirstContentOfListItem&&(m._gfmTasklistFirstContentOfListItem=void 0)),C=T,T=T.next}for(T=s;++D<E.length;)E[D][0]==="exit"&&E[D-1][0]==="enter"&&E[D][1].type===E[D-1][1].type&&E[D][1].start.line!==E[D][1].end.line&&(N=D+1,B.push(N),T._tokenizer=void 0,T.previous=void 0,T=T.next);for(m.events=[],T?(T._tokenizer=void 0,T.previous=void 0):B.pop(),D=B.length;D--;){const I=E.slice(B[D],B[D+1]),M=f.pop();b.push([M,M+I.length-1]),n.splice(M,2,I)}for(b.reverse(),D=-1;++D<b.length;)g[O+b[D][0]]=O+b[D][1],O+=b[D][1]-b[D][0]-1;return g}const aw={resolve:lw,tokenize:ow},sw={partial:!0,tokenize:uw};function lw(n){return Iy(n),n}function ow(n,i){let s;return l;function l(E){return n.enter("content"),s=n.enter("chunkContent",{contentType:"content"}),d(E)}function d(E){return E===null?f(E):ut(E)?n.check(sw,m,f)(E):(n.consume(E),d)}function f(E){return n.exit("chunkContent"),n.exit("content"),i(E)}function m(E){return n.consume(E),n.exit("chunkContent"),s.next=n.enter("chunkContent",{contentType:"content",previous:s}),s=s.next,d}}function uw(n,i,s){const l=this;return d;function d(m){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),cn(n,f,"linePrefix")}function f(m){if(m===null||ut(m))return s(m);const E=l.events[l.events.length-1];return!l.parser.constructs.disable.null.includes("codeIndented")&&E&&E[1].type==="linePrefix"&&E[2].sliceSerialize(E[1],!0).length>=4?i(m):n.interrupt(l.parser.constructs.flow,s,i)(m)}}function My(n,i,s,l,d,f,m,E,b){const g=b||Number.POSITIVE_INFINITY;let w=0;return C;function C(I){return I===60?(n.enter(l),n.enter(d),n.enter(f),n.consume(I),n.exit(f),D):I===null||I===32||I===41||Dd(I)?s(I):(n.enter(l),n.enter(m),n.enter(E),n.enter("chunkString",{contentType:"string"}),N(I))}function D(I){return I===62?(n.enter(f),n.consume(I),n.exit(f),n.exit(d),n.exit(l),i):(n.enter(E),n.enter("chunkString",{contentType:"string"}),T(I))}function T(I){return I===62?(n.exit("chunkString"),n.exit(E),D(I)):I===null||I===60||ut(I)?s(I):(n.consume(I),I===92?O:T)}function O(I){return I===60||I===62||I===92?(n.consume(I),T):T(I)}function N(I){return!w&&(I===null||I===41||Ir(I))?(n.exit("chunkString"),n.exit(E),n.exit(m),n.exit(l),i(I)):w<g&&I===40?(n.consume(I),w++,N):I===41?(n.consume(I),w--,N):I===null||I===32||I===40||Dd(I)?s(I):(n.consume(I),I===92?B:N)}function B(I){return I===40||I===41||I===92?(n.consume(I),N):N(I)}}function Ly(n,i,s,l,d,f){const m=this;let E=0,b;return g;function g(T){return n.enter(l),n.enter(d),n.consume(T),n.exit(d),n.enter(f),w}function w(T){return E>999||T===null||T===91||T===93&&!b||T===94&&!E&&"_hiddenFootnoteSupport"in m.parser.constructs?s(T):T===93?(n.exit(f),n.enter(d),n.consume(T),n.exit(d),n.exit(l),i):ut(T)?(n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),w):(n.enter("chunkString",{contentType:"string"}),C(T))}function C(T){return T===null||T===91||T===93||ut(T)||E++>999?(n.exit("chunkString"),w(T)):(n.consume(T),b||(b=!zt(T)),T===92?D:C)}function D(T){return T===91||T===92||T===93?(n.consume(T),E++,C):C(T)}}function ky(n,i,s,l,d,f){let m;return E;function E(D){return D===34||D===39||D===40?(n.enter(l),n.enter(d),n.consume(D),n.exit(d),m=D===40?41:D,b):s(D)}function b(D){return D===m?(n.enter(d),n.consume(D),n.exit(d),n.exit(l),i):(n.enter(f),g(D))}function g(D){return D===m?(n.exit(f),b(m)):D===null?s(D):ut(D)?(n.enter("lineEnding"),n.consume(D),n.exit("lineEnding"),cn(n,g,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),w(D))}function w(D){return D===m||D===null||ut(D)?(n.exit("chunkString"),g(D)):(n.consume(D),D===92?C:w)}function C(D){return D===m||D===92?(n.consume(D),w):w(D)}}function eu(n,i){let s;return l;function l(d){return ut(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),s=!0,l):zt(d)?cn(n,l,s?"linePrefix":"lineSuffix")(d):i(d)}}const cw={name:"definition",tokenize:dw},fw={partial:!0,tokenize:hw};function dw(n,i,s){const l=this;let d;return f;function f(T){return n.enter("definition"),m(T)}function m(T){return Ly.call(l,n,E,s,"definitionLabel","definitionLabelMarker","definitionLabelString")(T)}function E(T){return d=Yl(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)),T===58?(n.enter("definitionMarker"),n.consume(T),n.exit("definitionMarker"),b):s(T)}function b(T){return Ir(T)?eu(n,g)(T):g(T)}function g(T){return My(n,w,s,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(T)}function w(T){return n.attempt(fw,C,C)(T)}function C(T){return zt(T)?cn(n,D,"whitespace")(T):D(T)}function D(T){return T===null||ut(T)?(n.exit("definition"),l.parser.defined.push(d),i(T)):s(T)}}function hw(n,i,s){return l;function l(E){return Ir(E)?eu(n,d)(E):s(E)}function d(E){return ky(n,f,s,"definitionTitle","definitionTitleMarker","definitionTitleString")(E)}function f(E){return zt(E)?cn(n,m,"whitespace")(E):m(E)}function m(E){return E===null||ut(E)?i(E):s(E)}}const xw={name:"hardBreakEscape",tokenize:gw};function gw(n,i,s){return l;function l(f){return n.enter("hardBreakEscape"),n.consume(f),d}function d(f){return ut(f)?(n.exit("hardBreakEscape"),i(f)):s(f)}}const pw={name:"headingAtx",resolve:mw,tokenize:yw};function mw(n,i){let s=n.length-2,l=3,d,f;return n[l][1].type==="whitespace"&&(l+=2),s-2>l&&n[s][1].type==="whitespace"&&(s-=2),n[s][1].type==="atxHeadingSequence"&&(l===s-1||s-4>l&&n[s-2][1].type==="whitespace")&&(s-=l+1===s?2:4),s>l&&(d={type:"atxHeadingText",start:n[l][1].start,end:n[s][1].end},f={type:"chunkText",start:n[l][1].start,end:n[s][1].end,contentType:"text"},qi(n,l,s-l+1,[["enter",d,i],["enter",f,i],["exit",f,i],["exit",d,i]])),n}function yw(n,i,s){let l=0;return d;function d(w){return n.enter("atxHeading"),f(w)}function f(w){return n.enter("atxHeadingSequence"),m(w)}function m(w){return w===35&&l++<6?(n.consume(w),m):w===null||Ir(w)?(n.exit("atxHeadingSequence"),E(w)):s(w)}function E(w){return w===35?(n.enter("atxHeadingSequence"),b(w)):w===null||ut(w)?(n.exit("atxHeading"),i(w)):zt(w)?cn(n,E,"whitespace")(w):(n.enter("atxHeadingText"),g(w))}function b(w){return w===35?(n.consume(w),b):(n.exit("atxHeadingSequence"),E(w))}function g(w){return w===null||w===35||Ir(w)?(n.exit("atxHeadingText"),E(w)):(n.consume(w),g)}}const Ew=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],gp=["pre","script","style","textarea"],vw={concrete:!0,name:"htmlFlow",resolveTo:Aw,tokenize:Cw},ww={partial:!0,tokenize:Tw},bw={partial:!0,tokenize:Sw};function Aw(n){let i=n.length;for(;i--&&!(n[i][0]==="enter"&&n[i][1].type==="htmlFlow"););return i>1&&n[i-2][1].type==="linePrefix"&&(n[i][1].start=n[i-2][1].start,n[i+1][1].start=n[i-2][1].start,n.splice(i-2,2)),n}function Cw(n,i,s){const l=this;let d,f,m,E,b;return g;function g(j){return w(j)}function w(j){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(j),C}function C(j){return j===33?(n.consume(j),D):j===47?(n.consume(j),f=!0,N):j===63?(n.consume(j),d=3,l.interrupt?i:F):Hi(j)?(n.consume(j),m=String.fromCharCode(j),B):s(j)}function D(j){return j===45?(n.consume(j),d=2,T):j===91?(n.consume(j),d=5,E=0,O):Hi(j)?(n.consume(j),d=4,l.interrupt?i:F):s(j)}function T(j){return j===45?(n.consume(j),l.interrupt?i:F):s(j)}function O(j){const se="CDATA[";return j===se.charCodeAt(E++)?(n.consume(j),E===se.length?l.interrupt?i:$:O):s(j)}function N(j){return Hi(j)?(n.consume(j),m=String.fromCharCode(j),B):s(j)}function B(j){if(j===null||j===47||j===62||Ir(j)){const se=j===47,Le=m.toLowerCase();return!se&&!f&&gp.includes(Le)?(d=1,l.interrupt?i(j):$(j)):Ew.includes(m.toLowerCase())?(d=6,se?(n.consume(j),I):l.interrupt?i(j):$(j)):(d=7,l.interrupt&&!l.parser.lazy[l.now().line]?s(j):f?M(j):k(j))}return j===45||Xr(j)?(n.consume(j),m+=String.fromCharCode(j),B):s(j)}function I(j){return j===62?(n.consume(j),l.interrupt?i:$):s(j)}function M(j){return zt(j)?(n.consume(j),M):Z(j)}function k(j){return j===47?(n.consume(j),Z):j===58||j===95||Hi(j)?(n.consume(j),V):zt(j)?(n.consume(j),k):Z(j)}function V(j){return j===45||j===46||j===58||j===95||Xr(j)?(n.consume(j),V):Q(j)}function Q(j){return j===61?(n.consume(j),q):zt(j)?(n.consume(j),Q):k(j)}function q(j){return j===null||j===60||j===61||j===62||j===96?s(j):j===34||j===39?(n.consume(j),b=j,Y):zt(j)?(n.consume(j),q):ee(j)}function Y(j){return j===b?(n.consume(j),b=null,X):j===null||ut(j)?s(j):(n.consume(j),Y)}function ee(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Ir(j)?Q(j):(n.consume(j),ee)}function X(j){return j===47||j===62||zt(j)?k(j):s(j)}function Z(j){return j===62?(n.consume(j),K):s(j)}function K(j){return j===null||ut(j)?$(j):zt(j)?(n.consume(j),K):s(j)}function $(j){return j===45&&d===2?(n.consume(j),fe):j===60&&d===1?(n.consume(j),we):j===62&&d===4?(n.consume(j),ie):j===63&&d===3?(n.consume(j),F):j===93&&d===5?(n.consume(j),ke):ut(j)&&(d===6||d===7)?(n.exit("htmlFlowData"),n.check(ww,oe,ne)(j)):j===null||ut(j)?(n.exit("htmlFlowData"),ne(j)):(n.consume(j),$)}function ne(j){return n.check(bw,de,oe)(j)}function de(j){return n.enter("lineEnding"),n.consume(j),n.exit("lineEnding"),te}function te(j){return j===null||ut(j)?ne(j):(n.enter("htmlFlowData"),$(j))}function fe(j){return j===45?(n.consume(j),F):$(j)}function we(j){return j===47?(n.consume(j),m="",_e):$(j)}function _e(j){if(j===62){const se=m.toLowerCase();return gp.includes(se)?(n.consume(j),ie):$(j)}return Hi(j)&&m.length<8?(n.consume(j),m+=String.fromCharCode(j),_e):$(j)}function ke(j){return j===93?(n.consume(j),F):$(j)}function F(j){return j===62?(n.consume(j),ie):j===45&&d===2?(n.consume(j),F):$(j)}function ie(j){return j===null||ut(j)?(n.exit("htmlFlowData"),oe(j)):(n.consume(j),ie)}function oe(j){return n.exit("htmlFlow"),i(j)}}function Sw(n,i,s){const l=this;return d;function d(m){return ut(m)?(n.enter("lineEnding"),n.consume(m),n.exit("lineEnding"),f):s(m)}function f(m){return l.parser.lazy[l.now().line]?s(m):i(m)}}function Tw(n,i,s){return l;function l(d){return n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),n.attempt(bc,i,s)}}const _w={name:"htmlText",tokenize:Dw};function Dw(n,i,s){const l=this;let d,f,m;return E;function E(F){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(F),b}function b(F){return F===33?(n.consume(F),g):F===47?(n.consume(F),Q):F===63?(n.consume(F),k):Hi(F)?(n.consume(F),ee):s(F)}function g(F){return F===45?(n.consume(F),w):F===91?(n.consume(F),f=0,O):Hi(F)?(n.consume(F),M):s(F)}function w(F){return F===45?(n.consume(F),T):s(F)}function C(F){return F===null?s(F):F===45?(n.consume(F),D):ut(F)?(m=C,we(F)):(n.consume(F),C)}function D(F){return F===45?(n.consume(F),T):C(F)}function T(F){return F===62?fe(F):F===45?D(F):C(F)}function O(F){const ie="CDATA[";return F===ie.charCodeAt(f++)?(n.consume(F),f===ie.length?N:O):s(F)}function N(F){return F===null?s(F):F===93?(n.consume(F),B):ut(F)?(m=N,we(F)):(n.consume(F),N)}function B(F){return F===93?(n.consume(F),I):N(F)}function I(F){return F===62?fe(F):F===93?(n.consume(F),I):N(F)}function M(F){return F===null||F===62?fe(F):ut(F)?(m=M,we(F)):(n.consume(F),M)}function k(F){return F===null?s(F):F===63?(n.consume(F),V):ut(F)?(m=k,we(F)):(n.consume(F),k)}function V(F){return F===62?fe(F):k(F)}function Q(F){return Hi(F)?(n.consume(F),q):s(F)}function q(F){return F===45||Xr(F)?(n.consume(F),q):Y(F)}function Y(F){return ut(F)?(m=Y,we(F)):zt(F)?(n.consume(F),Y):fe(F)}function ee(F){return F===45||Xr(F)?(n.consume(F),ee):F===47||F===62||Ir(F)?X(F):s(F)}function X(F){return F===47?(n.consume(F),fe):F===58||F===95||Hi(F)?(n.consume(F),Z):ut(F)?(m=X,we(F)):zt(F)?(n.consume(F),X):fe(F)}function Z(F){return F===45||F===46||F===58||F===95||Xr(F)?(n.consume(F),Z):K(F)}function K(F){return F===61?(n.consume(F),$):ut(F)?(m=K,we(F)):zt(F)?(n.consume(F),K):X(F)}function $(F){return F===null||F===60||F===61||F===62||F===96?s(F):F===34||F===39?(n.consume(F),d=F,ne):ut(F)?(m=$,we(F)):zt(F)?(n.consume(F),$):(n.consume(F),de)}function ne(F){return F===d?(n.consume(F),d=void 0,te):F===null?s(F):ut(F)?(m=ne,we(F)):(n.consume(F),ne)}function de(F){return F===null||F===34||F===39||F===60||F===61||F===96?s(F):F===47||F===62||Ir(F)?X(F):(n.consume(F),de)}function te(F){return F===47||F===62||Ir(F)?X(F):s(F)}function fe(F){return F===62?(n.consume(F),n.exit("htmlTextData"),n.exit("htmlText"),i):s(F)}function we(F){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(F),n.exit("lineEnding"),_e}function _e(F){return zt(F)?cn(n,ke,"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):ke(F)}function ke(F){return n.enter("htmlTextData"),m(F)}}const rh={name:"labelEnd",resolveAll:Rw,resolveTo:Iw,tokenize:Mw},Ow={tokenize:Lw},Nw={tokenize:kw},Bw={tokenize:Fw};function Rw(n){let i=-1;const s=[];for(;++i<n.length;){const l=n[i][1];if(s.push(n[i]),l.type==="labelImage"||l.type==="labelLink"||l.type==="labelEnd"){const d=l.type==="labelImage"?4:2;l.type="data",i+=d}}return n.length!==s.length&&qi(n,0,n.length,s),n}function Iw(n,i){let s=n.length,l=0,d,f,m,E;for(;s--;)if(d=n[s][1],f){if(d.type==="link"||d.type==="labelLink"&&d._inactive)break;n[s][0]==="enter"&&d.type==="labelLink"&&(d._inactive=!0)}else if(m){if(n[s][0]==="enter"&&(d.type==="labelImage"||d.type==="labelLink")&&!d._balanced&&(f=s,d.type!=="labelLink")){l=2;break}}else d.type==="labelEnd"&&(m=s);const b={type:n[f][1].type==="labelLink"?"link":"image",start:{...n[f][1].start},end:{...n[n.length-1][1].end}},g={type:"label",start:{...n[f][1].start},end:{...n[m][1].end}},w={type:"labelText",start:{...n[f+l+2][1].end},end:{...n[m-2][1].start}};return E=[["enter",b,i],["enter",g,i]],E=ci(E,n.slice(f+1,f+l+3)),E=ci(E,[["enter",w,i]]),E=ci(E,nh(i.parser.constructs.insideSpan.null,n.slice(f+l+4,m-3),i)),E=ci(E,[["exit",w,i],n[m-2],n[m-1],["exit",g,i]]),E=ci(E,n.slice(m+1)),E=ci(E,[["exit",b,i]]),qi(n,f,n.length,E),n}function Mw(n,i,s){const l=this;let d=l.events.length,f,m;for(;d--;)if((l.events[d][1].type==="labelImage"||l.events[d][1].type==="labelLink")&&!l.events[d][1]._balanced){f=l.events[d][1];break}return E;function E(D){return f?f._inactive?C(D):(m=l.parser.defined.includes(Yl(l.sliceSerialize({start:f.end,end:l.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(D),n.exit("labelMarker"),n.exit("labelEnd"),b):s(D)}function b(D){return D===40?n.attempt(Ow,w,m?w:C)(D):D===91?n.attempt(Nw,w,m?g:C)(D):m?w(D):C(D)}function g(D){return n.attempt(Bw,w,C)(D)}function w(D){return i(D)}function C(D){return f._balanced=!0,s(D)}}function Lw(n,i,s){return l;function l(C){return n.enter("resource"),n.enter("resourceMarker"),n.consume(C),n.exit("resourceMarker"),d}function d(C){return Ir(C)?eu(n,f)(C):f(C)}function f(C){return C===41?w(C):My(n,m,E,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(C)}function m(C){return Ir(C)?eu(n,b)(C):w(C)}function E(C){return s(C)}function b(C){return C===34||C===39||C===40?ky(n,g,s,"resourceTitle","resourceTitleMarker","resourceTitleString")(C):w(C)}function g(C){return Ir(C)?eu(n,w)(C):w(C)}function w(C){return C===41?(n.enter("resourceMarker"),n.consume(C),n.exit("resourceMarker"),n.exit("resource"),i):s(C)}}function kw(n,i,s){const l=this;return d;function d(E){return Ly.call(l,n,f,m,"reference","referenceMarker","referenceString")(E)}function f(E){return l.parser.defined.includes(Yl(l.sliceSerialize(l.events[l.events.length-1][1]).slice(1,-1)))?i(E):s(E)}function m(E){return s(E)}}function Fw(n,i,s){return l;function l(f){return n.enter("reference"),n.enter("referenceMarker"),n.consume(f),n.exit("referenceMarker"),d}function d(f){return f===93?(n.enter("referenceMarker"),n.consume(f),n.exit("referenceMarker"),n.exit("reference"),i):s(f)}}const Pw={name:"labelStartImage",resolveAll:rh.resolveAll,tokenize:Uw};function Uw(n,i,s){const l=this;return d;function d(E){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(E),n.exit("labelImageMarker"),f}function f(E){return E===91?(n.enter("labelMarker"),n.consume(E),n.exit("labelMarker"),n.exit("labelImage"),m):s(E)}function m(E){return E===94&&"_hiddenFootnoteSupport"in l.parser.constructs?s(E):i(E)}}const jw={name:"labelStartLink",resolveAll:rh.resolveAll,tokenize:zw};function zw(n,i,s){const l=this;return d;function d(m){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(m),n.exit("labelMarker"),n.exit("labelLink"),f}function f(m){return m===94&&"_hiddenFootnoteSupport"in l.parser.constructs?s(m):i(m)}}const U1={name:"lineEnding",tokenize:Hw};function Hw(n,i){return s;function s(l){return n.enter("lineEnding"),n.consume(l),n.exit("lineEnding"),cn(n,i,"linePrefix")}}const oc={name:"thematicBreak",tokenize:qw};function qw(n,i,s){let l=0,d;return f;function f(g){return n.enter("thematicBreak"),m(g)}function m(g){return d=g,E(g)}function E(g){return g===d?(n.enter("thematicBreakSequence"),b(g)):l>=3&&(g===null||ut(g))?(n.exit("thematicBreak"),i(g)):s(g)}function b(g){return g===d?(n.consume(g),l++,b):(n.exit("thematicBreakSequence"),zt(g)?cn(n,E,"whitespace")(g):E(g))}}const Rr={continuation:{tokenize:Xw},exit:Ww,name:"list",tokenize:Yw},Vw={partial:!0,tokenize:Qw},Gw={partial:!0,tokenize:Zw};function Yw(n,i,s){const l=this,d=l.events[l.events.length-1];let f=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0,m=0;return E;function E(T){const O=l.containerState.type||(T===42||T===43||T===45?"listUnordered":"listOrdered");if(O==="listUnordered"?!l.containerState.marker||T===l.containerState.marker:Od(T)){if(l.containerState.type||(l.containerState.type=O,n.enter(O,{_container:!0})),O==="listUnordered")return n.enter("listItemPrefix"),T===42||T===45?n.check(oc,s,g)(T):g(T);if(!l.interrupt||T===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),b(T)}return s(T)}function b(T){return Od(T)&&++m<10?(n.consume(T),b):(!l.interrupt||m<2)&&(l.containerState.marker?T===l.containerState.marker:T===41||T===46)?(n.exit("listItemValue"),g(T)):s(T)}function g(T){return n.enter("listItemMarker"),n.consume(T),n.exit("listItemMarker"),l.containerState.marker=l.containerState.marker||T,n.check(bc,l.interrupt?s:w,n.attempt(Vw,D,C))}function w(T){return l.containerState.initialBlankLine=!0,f++,D(T)}function C(T){return zt(T)?(n.enter("listItemPrefixWhitespace"),n.consume(T),n.exit("listItemPrefixWhitespace"),D):s(T)}function D(T){return l.containerState.size=f+l.sliceSerialize(n.exit("listItemPrefix"),!0).length,i(T)}}function Xw(n,i,s){const l=this;return l.containerState._closeFlow=void 0,n.check(bc,d,f);function d(E){return l.containerState.furtherBlankLines=l.containerState.furtherBlankLines||l.containerState.initialBlankLine,cn(n,i,"listItemIndent",l.containerState.size+1)(E)}function f(E){return l.containerState.furtherBlankLines||!zt(E)?(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,m(E)):(l.containerState.furtherBlankLines=void 0,l.containerState.initialBlankLine=void 0,n.attempt(Gw,i,m)(E))}function m(E){return l.containerState._closeFlow=!0,l.interrupt=void 0,cn(n,n.attempt(Rr,i,s),"linePrefix",l.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E)}}function Zw(n,i,s){const l=this;return cn(n,d,"listItemIndent",l.containerState.size+1);function d(f){const m=l.events[l.events.length-1];return m&&m[1].type==="listItemIndent"&&m[2].sliceSerialize(m[1],!0).length===l.containerState.size?i(f):s(f)}}function Ww(n){n.exit(this.containerState.type)}function Qw(n,i,s){const l=this;return cn(n,d,"listItemPrefixWhitespace",l.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function d(f){const m=l.events[l.events.length-1];return!zt(f)&&m&&m[1].type==="listItemPrefixWhitespace"?i(f):s(f)}}const pp={name:"setextUnderline",resolveTo:Kw,tokenize:Jw};function Kw(n,i){let s=n.length,l,d,f;for(;s--;)if(n[s][0]==="enter"){if(n[s][1].type==="content"){l=s;break}n[s][1].type==="paragraph"&&(d=s)}else n[s][1].type==="content"&&n.splice(s,1),!f&&n[s][1].type==="definition"&&(f=s);const m={type:"setextHeading",start:{...n[l][1].start},end:{...n[n.length-1][1].end}};return n[d][1].type="setextHeadingText",f?(n.splice(d,0,["enter",m,i]),n.splice(f+1,0,["exit",n[l][1],i]),n[l][1].end={...n[f][1].end}):n[l][1]=m,n.push(["exit",m,i]),n}function Jw(n,i,s){const l=this;let d;return f;function f(g){let w=l.events.length,C;for(;w--;)if(l.events[w][1].type!=="lineEnding"&&l.events[w][1].type!=="linePrefix"&&l.events[w][1].type!=="content"){C=l.events[w][1].type==="paragraph";break}return!l.parser.lazy[l.now().line]&&(l.interrupt||C)?(n.enter("setextHeadingLine"),d=g,m(g)):s(g)}function m(g){return n.enter("setextHeadingLineSequence"),E(g)}function E(g){return g===d?(n.consume(g),E):(n.exit("setextHeadingLineSequence"),zt(g)?cn(n,b,"lineSuffix")(g):b(g))}function b(g){return g===null||ut(g)?(n.exit("setextHeadingLine"),i(g)):s(g)}}const $w={tokenize:eb};function eb(n){const i=this,s=n.attempt(bc,l,n.attempt(this.parser.constructs.flowInitial,d,cn(n,n.attempt(this.parser.constructs.flow,d,n.attempt(aw,d)),"linePrefix")));return s;function l(f){if(f===null){n.consume(f);return}return n.enter("lineEndingBlank"),n.consume(f),n.exit("lineEndingBlank"),i.currentConstruct=void 0,s}function d(f){if(f===null){n.consume(f);return}return n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),i.currentConstruct=void 0,s}}const tb={resolveAll:Py()},nb=Fy("string"),rb=Fy("text");function Fy(n){return{resolveAll:Py(n==="text"?ib:void 0),tokenize:i};function i(s){const l=this,d=this.parser.constructs[n],f=s.attempt(d,m,E);return m;function m(w){return g(w)?f(w):E(w)}function E(w){if(w===null){s.consume(w);return}return s.enter("data"),s.consume(w),b}function b(w){return g(w)?(s.exit("data"),f(w)):(s.consume(w),b)}function g(w){if(w===null)return!0;const C=d[w];let D=-1;if(C)for(;++D<C.length;){const T=C[D];if(!T.previous||T.previous.call(l,l.previous))return!0}return!1}}}function Py(n){return i;function i(s,l){let d=-1,f;for(;++d<=s.length;)f===void 0?s[d]&&s[d][1].type==="data"&&(f=d,d++):(!s[d]||s[d][1].type!=="data")&&(d!==f+2&&(s[f][1].end=s[d-1][1].end,s.splice(f+2,d-f-2),d=f+2),f=void 0);return n?n(s,l):s}}function ib(n,i){let s=0;for(;++s<=n.length;)if((s===n.length||n[s][1].type==="lineEnding")&&n[s-1][1].type==="data"){const l=n[s-1][1],d=i.sliceStream(l);let f=d.length,m=-1,E=0,b;for(;f--;){const g=d[f];if(typeof g=="string"){for(m=g.length;g.charCodeAt(m-1)===32;)E++,m--;if(m)break;m=-1}else if(g===-2)b=!0,E++;else if(g!==-1){f++;break}}if(i._contentTypeTextTrailing&&s===n.length&&(E=0),E){const g={type:s===n.length||b||E<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:f?m:l.start._bufferIndex+m,_index:l.start._index+f,line:l.end.line,column:l.end.column-E,offset:l.end.offset-E},end:{...l.end}};l.end={...g.start},l.start.offset===l.end.offset?Object.assign(l,g):(n.splice(s,0,["enter",g,i],["exit",g,i]),s+=2)}s++}return n}const ab={42:Rr,43:Rr,45:Rr,48:Rr,49:Rr,50:Rr,51:Rr,52:Rr,53:Rr,54:Rr,55:Rr,56:Rr,57:Rr,62:Ny},sb={91:cw},lb={[-2]:P1,[-1]:P1,32:P1},ob={35:pw,42:oc,45:[pp,oc],60:vw,61:pp,95:oc,96:xp,126:xp},ub={38:Ry,92:By},cb={[-5]:U1,[-4]:U1,[-3]:U1,33:Pw,38:Ry,42:Nd,60:[j8,_w],91:jw,92:[xw,By],93:rh,95:Nd,96:$8},fb={null:[Nd,tb]},db={null:[42,95]},hb={null:[]},xb=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:db,contentInitial:sb,disable:hb,document:ab,flow:ob,flowInitial:lb,insideSpan:fb,string:ub,text:cb},Symbol.toStringTag,{value:"Module"}));function gb(n,i,s){let l={_bufferIndex:-1,_index:0,line:s&&s.line||1,column:s&&s.column||1,offset:s&&s.offset||0};const d={},f=[];let m=[],E=[];const b={attempt:Y(Q),check:Y(q),consume:M,enter:k,exit:V,interrupt:Y(q,{interrupt:!0})},g={code:null,containerState:{},defineSkip:N,events:[],now:O,parser:n,previous:null,sliceSerialize:D,sliceStream:T,write:C};let w=i.tokenize.call(g,b);return i.resolveAll&&f.push(i),g;function C(K){return m=ci(m,K),B(),m[m.length-1]!==null?[]:(ee(i,0),g.events=nh(f,g.events,g),g.events)}function D(K,$){return mb(T(K),$)}function T(K){return pb(m,K)}function O(){const{_bufferIndex:K,_index:$,line:ne,column:de,offset:te}=l;return{_bufferIndex:K,_index:$,line:ne,column:de,offset:te}}function N(K){d[K.line]=K.column,Z()}function B(){let K;for(;l._index<m.length;){const $=m[l._index];if(typeof $=="string")for(K=l._index,l._bufferIndex<0&&(l._bufferIndex=0);l._index===K&&l._bufferIndex<$.length;)I($.charCodeAt(l._bufferIndex));else I($)}}function I(K){w=w(K)}function M(K){ut(K)?(l.line++,l.column=1,l.offset+=K===-3?2:1,Z()):K!==-1&&(l.column++,l.offset++),l._bufferIndex<0?l._index++:(l._bufferIndex++,l._bufferIndex===m[l._index].length&&(l._bufferIndex=-1,l._index++)),g.previous=K}function k(K,$){const ne=$||{};return ne.type=K,ne.start=O(),g.events.push(["enter",ne,g]),E.push(ne),ne}function V(K){const $=E.pop();return $.end=O(),g.events.push(["exit",$,g]),$}function Q(K,$){ee(K,$.from)}function q(K,$){$.restore()}function Y(K,$){return ne;function ne(de,te,fe){let we,_e,ke,F;return Array.isArray(de)?oe(de):"tokenize"in de?oe([de]):ie(de);function ie(me){return st;function st(Te){const Ye=Te!==null&&me[Te],Ze=Te!==null&&me.null,ct=[...Array.isArray(Ye)?Ye:Ye?[Ye]:[],...Array.isArray(Ze)?Ze:Ze?[Ze]:[]];return oe(ct)(Te)}}function oe(me){return we=me,_e=0,me.length===0?fe:j(me[_e])}function j(me){return st;function st(Te){return F=X(),ke=me,me.partial||(g.currentConstruct=me),me.name&&g.parser.constructs.disable.null.includes(me.name)?Le():me.tokenize.call($?Object.assign(Object.create(g),$):g,b,se,Le)(Te)}}function se(me){return K(ke,F),te}function Le(me){return F.restore(),++_e<we.length?j(we[_e]):fe}}}function ee(K,$){K.resolveAll&&!f.includes(K)&&f.push(K),K.resolve&&qi(g.events,$,g.events.length-$,K.resolve(g.events.slice($),g)),K.resolveTo&&(g.events=K.resolveTo(g.events,g))}function X(){const K=O(),$=g.previous,ne=g.currentConstruct,de=g.events.length,te=Array.from(E);return{from:de,restore:fe};function fe(){l=K,g.previous=$,g.currentConstruct=ne,g.events.length=de,E=te,Z()}}function Z(){l.line in d&&l.column<2&&(l.column=d[l.line],l.offset+=d[l.line]-1)}}function pb(n,i){const s=i.start._index,l=i.start._bufferIndex,d=i.end._index,f=i.end._bufferIndex;let m;if(s===d)m=[n[s].slice(l,f)];else{if(m=n.slice(s,d),l>-1){const E=m[0];typeof E=="string"?m[0]=E.slice(l):m.shift()}f>0&&m.push(n[d].slice(0,f))}return m}function mb(n,i){let s=-1;const l=[];let d;for(;++s<n.length;){const f=n[s];let m;if(typeof f=="string")m=f;else switch(f){case-5:{m="\r";break}case-4:{m=`
`;break}case-3:{m=`\r
`;break}case-2:{m=i?" ":"	";break}case-1:{if(!i&&d)continue;m=" ";break}default:m=String.fromCharCode(f)}d=f===-2,l.push(m)}return l.join("")}function yb(n){const l={constructs:S8([xb,...(n||{}).extensions||[]]),content:d(I8),defined:[],document:d(L8),flow:d($w),lazy:{},string:d(nb),text:d(rb)};return l;function d(f){return m;function m(E){return gb(l,f,E)}}}function Eb(n){for(;!Iy(n););return n}const mp=/[\0\t\n\r]/g;function vb(){let n=1,i="",s=!0,l;return d;function d(f,m,E){const b=[];let g,w,C,D,T;for(f=i+(typeof f=="string"?f.toString():new TextDecoder(m||void 0).decode(f)),C=0,i="",s&&(f.charCodeAt(0)===65279&&C++,s=void 0);C<f.length;){if(mp.lastIndex=C,g=mp.exec(f),D=g&&g.index!==void 0?g.index:f.length,T=f.charCodeAt(D),!g){i=f.slice(C);break}if(T===10&&C===D&&l)b.push(-3),l=void 0;else switch(l&&(b.push(-5),l=void 0),C<D&&(b.push(f.slice(C,D)),n+=D-C),T){case 0:{b.push(65533),n++;break}case 9:{for(w=Math.ceil(n/4)*4,b.push(-2);n++<w;)b.push(-1);break}case 10:{b.push(-4),n=1;break}default:l=!0,n=1}C=D+1}return E&&(l&&b.push(-5),i&&b.push(i),b.push(null)),b}}const wb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bb(n){return n.replace(wb,Ab)}function Ab(n,i,s){if(i)return i;if(s.charCodeAt(0)===35){const d=s.charCodeAt(1),f=d===120||d===88;return Oy(s.slice(f?2:1),f?16:10)}return th(s)||n}const Uy={}.hasOwnProperty;function Cb(n,i,s){return typeof i!="string"&&(s=i,i=void 0),Sb(s)(Eb(yb(s).document().write(vb()(n,i,!0))))}function Sb(n){const i={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:f(Xe),autolinkProtocol:X,autolinkEmail:X,atxHeading:f(yt),blockQuote:f(Ze),characterEscape:X,characterReference:X,codeFenced:f(ct),codeFencedFenceInfo:m,codeFencedFenceMeta:m,codeIndented:f(ct,m),codeText:f(ft,m),codeTextData:X,data:X,codeFlowValue:X,definition:f(He),definitionDestinationString:m,definitionLabelString:m,definitionTitleString:m,emphasis:f(gt),hardBreakEscape:f(Wt),hardBreakTrailing:f(Wt),htmlFlow:f(rt,m),htmlFlowData:X,htmlText:f(rt,m),htmlTextData:X,image:f(Ke),label:m,link:f(Xe),listItem:f(je),listItemValue:D,listOrdered:f(an,C),listUnordered:f(an),paragraph:f(wt),reference:j,referenceString:m,resourceDestinationString:m,resourceTitleString:m,setextHeading:f(yt),strong:f(Qt),thematicBreak:f($n)},exit:{atxHeading:b(),atxHeadingSequence:Q,autolink:b(),autolinkEmail:Ye,autolinkProtocol:Te,blockQuote:b(),characterEscapeValue:Z,characterReferenceMarkerHexadecimal:Le,characterReferenceMarkerNumeric:Le,characterReferenceValue:me,characterReference:st,codeFenced:b(B),codeFencedFence:N,codeFencedFenceInfo:T,codeFencedFenceMeta:O,codeFlowValue:Z,codeIndented:b(I),codeText:b(te),codeTextData:Z,data:Z,definition:b(),definitionDestinationString:V,definitionLabelString:M,definitionTitleString:k,emphasis:b(),hardBreakEscape:b($),hardBreakTrailing:b($),htmlFlow:b(ne),htmlFlowData:Z,htmlText:b(de),htmlTextData:Z,image:b(we),label:ke,labelText:_e,lineEnding:K,link:b(fe),listItem:b(),listOrdered:b(),listUnordered:b(),paragraph:b(),referenceString:se,resourceDestinationString:F,resourceTitleString:ie,resource:oe,setextHeading:b(ee),setextHeadingLineSequence:Y,setextHeadingText:q,strong:b(),thematicBreak:b()}};jy(i,(n||{}).mdastExtensions||[]);const s={};return l;function l(be){let Fe={type:"root",children:[]};const We={stack:[Fe],tokenStack:[],config:i,enter:E,exit:g,buffer:m,resume:w,data:s},$e=[];let Bt=-1;for(;++Bt<be.length;)if(be[Bt][1].type==="listOrdered"||be[Bt][1].type==="listUnordered")if(be[Bt][0]==="enter")$e.push(Bt);else{const fn=$e.pop();Bt=d(be,fn,Bt)}for(Bt=-1;++Bt<be.length;){const fn=i[be[Bt][0]];Uy.call(fn,be[Bt][1].type)&&fn[be[Bt][1].type].call(Object.assign({sliceSerialize:be[Bt][2].sliceSerialize},We),be[Bt][1])}if(We.tokenStack.length>0){const fn=We.tokenStack[We.tokenStack.length-1];(fn[1]||yp).call(We,void 0,fn[0])}for(Fe.position={start:ls(be.length>0?be[0][1].start:{line:1,column:1,offset:0}),end:ls(be.length>0?be[be.length-2][1].end:{line:1,column:1,offset:0})},Bt=-1;++Bt<i.transforms.length;)Fe=i.transforms[Bt](Fe)||Fe;return Fe}function d(be,Fe,We){let $e=Fe-1,Bt=-1,fn=!1,er,Tt,Ne,Ht;for(;++$e<=We;){const it=be[$e];switch(it[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{it[0]==="enter"?Bt++:Bt--,Ht=void 0;break}case"lineEndingBlank":{it[0]==="enter"&&(er&&!Ht&&!Bt&&!Ne&&(Ne=$e),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!Bt&&it[0]==="enter"&&it[1].type==="listItemPrefix"||Bt===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(er){let dt=$e;for(Tt=void 0;dt--;){const Bn=be[dt];if(Bn[1].type==="lineEnding"||Bn[1].type==="lineEndingBlank"){if(Bn[0]==="exit")continue;Tt&&(be[Tt][1].type="lineEndingBlank",fn=!0),Bn[1].type="lineEnding",Tt=dt}else if(!(Bn[1].type==="linePrefix"||Bn[1].type==="blockQuotePrefix"||Bn[1].type==="blockQuotePrefixWhitespace"||Bn[1].type==="blockQuoteMarker"||Bn[1].type==="listItemIndent"))break}Ne&&(!Tt||Ne<Tt)&&(er._spread=!0),er.end=Object.assign({},Tt?be[Tt][1].start:it[1].end),be.splice(Tt||$e,0,["exit",er,it[2]]),$e++,We++}if(it[1].type==="listItemPrefix"){const dt={type:"listItem",_spread:!1,start:Object.assign({},it[1].start),end:void 0};er=dt,be.splice($e,0,["enter",dt,it[2]]),$e++,We++,Ne=void 0,Ht=!0}}}return be[Fe][1]._spread=fn,We}function f(be,Fe){return We;function We($e){E.call(this,be($e),$e),Fe&&Fe.call(this,$e)}}function m(){this.stack.push({type:"fragment",children:[]})}function E(be,Fe,We){this.stack[this.stack.length-1].children.push(be),this.stack.push(be),this.tokenStack.push([Fe,We||void 0]),be.position={start:ls(Fe.start),end:void 0}}function b(be){return Fe;function Fe(We){be&&be.call(this,We),g.call(this,We)}}function g(be,Fe){const We=this.stack.pop(),$e=this.tokenStack.pop();if($e)$e[0].type!==be.type&&(Fe?Fe.call(this,be,$e[0]):($e[1]||yp).call(this,be,$e[0]));else throw new Error("Cannot close `"+be.type+"` ("+$o({start:be.start,end:be.end})+"): its not open");We.position.end=ls(be.end)}function w(){return A8(this.stack.pop())}function C(){this.data.expectingFirstListItemValue=!0}function D(be){if(this.data.expectingFirstListItemValue){const Fe=this.stack[this.stack.length-2];Fe.start=Number.parseInt(this.sliceSerialize(be),10),this.data.expectingFirstListItemValue=void 0}}function T(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.lang=be}function O(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.meta=be}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function B(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=be.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function I(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=be.replace(/(\r?\n|\r)$/g,"")}function M(be){const Fe=this.resume(),We=this.stack[this.stack.length-1];We.label=Fe,We.identifier=Yl(this.sliceSerialize(be)).toLowerCase()}function k(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=be}function V(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=be}function Q(be){const Fe=this.stack[this.stack.length-1];if(!Fe.depth){const We=this.sliceSerialize(be).length;Fe.depth=We}}function q(){this.data.setextHeadingSlurpLineEnding=!0}function Y(be){const Fe=this.stack[this.stack.length-1];Fe.depth=this.sliceSerialize(be).codePointAt(0)===61?1:2}function ee(){this.data.setextHeadingSlurpLineEnding=void 0}function X(be){const We=this.stack[this.stack.length-1].children;let $e=We[We.length-1];(!$e||$e.type!=="text")&&($e=bt(),$e.position={start:ls(be.start),end:void 0},We.push($e)),this.stack.push($e)}function Z(be){const Fe=this.stack.pop();Fe.value+=this.sliceSerialize(be),Fe.position.end=ls(be.end)}function K(be){const Fe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const We=Fe.children[Fe.children.length-1];We.position.end=ls(be.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&i.canContainEols.includes(Fe.type)&&(X.call(this,be),Z.call(this,be))}function $(){this.data.atHardBreak=!0}function ne(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=be}function de(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=be}function te(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.value=be}function fe(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=Fe,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function we(){const be=this.stack[this.stack.length-1];if(this.data.inReference){const Fe=this.data.referenceType||"shortcut";be.type+="Reference",be.referenceType=Fe,delete be.url,delete be.title}else delete be.identifier,delete be.label;this.data.referenceType=void 0}function _e(be){const Fe=this.sliceSerialize(be),We=this.stack[this.stack.length-2];We.label=bb(Fe),We.identifier=Yl(Fe).toLowerCase()}function ke(){const be=this.stack[this.stack.length-1],Fe=this.resume(),We=this.stack[this.stack.length-1];if(this.data.inReference=!0,We.type==="link"){const $e=be.children;We.children=$e}else We.alt=Fe}function F(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.url=be}function ie(){const be=this.resume(),Fe=this.stack[this.stack.length-1];Fe.title=be}function oe(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function se(be){const Fe=this.resume(),We=this.stack[this.stack.length-1];We.label=Fe,We.identifier=Yl(this.sliceSerialize(be)).toLowerCase(),this.data.referenceType="full"}function Le(be){this.data.characterReferenceType=be.type}function me(be){const Fe=this.sliceSerialize(be),We=this.data.characterReferenceType;let $e;We?($e=Oy(Fe,We==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$e=th(Fe);const Bt=this.stack[this.stack.length-1];Bt.value+=$e}function st(be){const Fe=this.stack.pop();Fe.position.end=ls(be.end)}function Te(be){Z.call(this,be);const Fe=this.stack[this.stack.length-1];Fe.url=this.sliceSerialize(be)}function Ye(be){Z.call(this,be);const Fe=this.stack[this.stack.length-1];Fe.url="mailto:"+this.sliceSerialize(be)}function Ze(){return{type:"blockquote",children:[]}}function ct(){return{type:"code",lang:null,meta:null,value:""}}function ft(){return{type:"inlineCode",value:""}}function He(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function gt(){return{type:"emphasis",children:[]}}function yt(){return{type:"heading",depth:0,children:[]}}function Wt(){return{type:"break"}}function rt(){return{type:"html",value:""}}function Ke(){return{type:"image",title:null,url:"",alt:null}}function Xe(){return{type:"link",title:null,url:"",children:[]}}function an(be){return{type:"list",ordered:be.type==="listOrdered",start:null,spread:be._spread,children:[]}}function je(be){return{type:"listItem",spread:be._spread,checked:null,children:[]}}function wt(){return{type:"paragraph",children:[]}}function Qt(){return{type:"strong",children:[]}}function bt(){return{type:"text",value:""}}function $n(){return{type:"thematicBreak"}}}function ls(n){return{line:n.line,column:n.column,offset:n.offset}}function jy(n,i){let s=-1;for(;++s<i.length;){const l=i[s];Array.isArray(l)?jy(n,l):Tb(n,l)}}function Tb(n,i){let s;for(s in i)if(Uy.call(i,s))switch(s){case"canContainEols":{const l=i[s];l&&n[s].push(...l);break}case"transforms":{const l=i[s];l&&n[s].push(...l);break}case"enter":case"exit":{const l=i[s];l&&Object.assign(n[s],l);break}}}function yp(n,i){throw n?new Error("Cannot close `"+n.type+"` ("+$o({start:n.start,end:n.end})+"): a different token (`"+i.type+"`, "+$o({start:i.start,end:i.end})+") is open"):new Error("Cannot close document, a token (`"+i.type+"`, "+$o({start:i.start,end:i.end})+") is still open")}function _b(n){const i=this;i.parser=s;function s(l){return Cb(l,{...i.data("settings"),...n,extensions:i.data("micromarkExtensions")||[],mdastExtensions:i.data("fromMarkdownExtensions")||[]})}}function Db(n,i){const s={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(i),!0)};return n.patch(i,s),n.applyData(i,s)}function Ob(n,i){const s={type:"element",tagName:"br",properties:{},children:[]};return n.patch(i,s),[n.applyData(i,s),{type:"text",value:`
`}]}function Nb(n,i){const s=i.value?i.value+`
`:"",l={};i.lang&&(l.className=["language-"+i.lang]);let d={type:"element",tagName:"code",properties:l,children:[{type:"text",value:s}]};return i.meta&&(d.data={meta:i.meta}),n.patch(i,d),d=n.applyData(i,d),d={type:"element",tagName:"pre",properties:{},children:[d]},n.patch(i,d),d}function Bb(n,i){const s={type:"element",tagName:"del",properties:{},children:n.all(i)};return n.patch(i,s),n.applyData(i,s)}function Rb(n,i){const s={type:"element",tagName:"em",properties:{},children:n.all(i)};return n.patch(i,s),n.applyData(i,s)}function Ib(n,i){const s=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",l=String(i.identifier).toUpperCase(),d=Zl(l.toLowerCase()),f=n.footnoteOrder.indexOf(l);let m,E=n.footnoteCounts.get(l);E===void 0?(E=0,n.footnoteOrder.push(l),m=n.footnoteOrder.length):m=f+1,E+=1,n.footnoteCounts.set(l,E);const b={type:"element",tagName:"a",properties:{href:"#"+s+"fn-"+d,id:s+"fnref-"+d+(E>1?"-"+E:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(m)}]};n.patch(i,b);const g={type:"element",tagName:"sup",properties:{},children:[b]};return n.patch(i,g),n.applyData(i,g)}function Mb(n,i){const s={type:"element",tagName:"h"+i.depth,properties:{},children:n.all(i)};return n.patch(i,s),n.applyData(i,s)}function Lb(n,i){if(n.options.allowDangerousHtml){const s={type:"raw",value:i.value};return n.patch(i,s),n.applyData(i,s)}}function zy(n,i){const s=i.referenceType;let l="]";if(s==="collapsed"?l+="[]":s==="full"&&(l+="["+(i.label||i.identifier)+"]"),i.type==="imageReference")return[{type:"text",value:"!["+i.alt+l}];const d=n.all(i),f=d[0];f&&f.type==="text"?f.value="["+f.value:d.unshift({type:"text",value:"["});const m=d[d.length-1];return m&&m.type==="text"?m.value+=l:d.push({type:"text",value:l}),d}function kb(n,i){const s=String(i.identifier).toUpperCase(),l=n.definitionById.get(s);if(!l)return zy(n,i);const d={src:Zl(l.url||""),alt:i.alt};l.title!==null&&l.title!==void 0&&(d.title=l.title);const f={type:"element",tagName:"img",properties:d,children:[]};return n.patch(i,f),n.applyData(i,f)}function Fb(n,i){const s={src:Zl(i.url)};i.alt!==null&&i.alt!==void 0&&(s.alt=i.alt),i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"img",properties:s,children:[]};return n.patch(i,l),n.applyData(i,l)}function Pb(n,i){const s={type:"text",value:i.value.replace(/\r?\n|\r/g," ")};n.patch(i,s);const l={type:"element",tagName:"code",properties:{},children:[s]};return n.patch(i,l),n.applyData(i,l)}function Ub(n,i){const s=String(i.identifier).toUpperCase(),l=n.definitionById.get(s);if(!l)return zy(n,i);const d={href:Zl(l.url||"")};l.title!==null&&l.title!==void 0&&(d.title=l.title);const f={type:"element",tagName:"a",properties:d,children:n.all(i)};return n.patch(i,f),n.applyData(i,f)}function jb(n,i){const s={href:Zl(i.url)};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"a",properties:s,children:n.all(i)};return n.patch(i,l),n.applyData(i,l)}function zb(n,i,s){const l=n.all(i),d=s?Hb(s):Hy(i),f={},m=[];if(typeof i.checked=="boolean"){const w=l[0];let C;w&&w.type==="element"&&w.tagName==="p"?C=w:(C={type:"element",tagName:"p",properties:{},children:[]},l.unshift(C)),C.children.length>0&&C.children.unshift({type:"text",value:" "}),C.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:i.checked,disabled:!0},children:[]}),f.className=["task-list-item"]}let E=-1;for(;++E<l.length;){const w=l[E];(d||E!==0||w.type!=="element"||w.tagName!=="p")&&m.push({type:"text",value:`
`}),w.type==="element"&&w.tagName==="p"&&!d?m.push(...w.children):m.push(w)}const b=l[l.length-1];b&&(d||b.type!=="element"||b.tagName!=="p")&&m.push({type:"text",value:`
`});const g={type:"element",tagName:"li",properties:f,children:m};return n.patch(i,g),n.applyData(i,g)}function Hb(n){let i=!1;if(n.type==="list"){i=n.spread||!1;const s=n.children;let l=-1;for(;!i&&++l<s.length;)i=Hy(s[l])}return i}function Hy(n){const i=n.spread;return i??n.children.length>1}function qb(n,i){const s={},l=n.all(i);let d=-1;for(typeof i.start=="number"&&i.start!==1&&(s.start=i.start);++d<l.length;){const m=l[d];if(m.type==="element"&&m.tagName==="li"&&m.properties&&Array.isArray(m.properties.className)&&m.properties.className.includes("task-list-item")){s.className=["contains-task-list"];break}}const f={type:"element",tagName:i.ordered?"ol":"ul",properties:s,children:n.wrap(l,!0)};return n.patch(i,f),n.applyData(i,f)}function Vb(n,i){const s={type:"element",tagName:"p",properties:{},children:n.all(i)};return n.patch(i,s),n.applyData(i,s)}function Gb(n,i){const s={type:"root",children:n.wrap(n.all(i))};return n.patch(i,s),n.applyData(i,s)}function Yb(n,i){const s={type:"element",tagName:"strong",properties:{},children:n.all(i)};return n.patch(i,s),n.applyData(i,s)}function Xb(n,i){const s=n.all(i),l=s.shift(),d=[];if(l){const m={type:"element",tagName:"thead",properties:{},children:n.wrap([l],!0)};n.patch(i.children[0],m),d.push(m)}if(s.length>0){const m={type:"element",tagName:"tbody",properties:{},children:n.wrap(s,!0)},E=Kd(i.children[1]),b=by(i.children[i.children.length-1]);E&&b&&(m.position={start:E,end:b}),d.push(m)}const f={type:"element",tagName:"table",properties:{},children:n.wrap(d,!0)};return n.patch(i,f),n.applyData(i,f)}function Zb(n,i,s){const l=s?s.children:void 0,f=(l?l.indexOf(i):1)===0?"th":"td",m=s&&s.type==="table"?s.align:void 0,E=m?m.length:i.children.length;let b=-1;const g=[];for(;++b<E;){const C=i.children[b],D={},T=m?m[b]:void 0;T&&(D.align=T);let O={type:"element",tagName:f,properties:D,children:[]};C&&(O.children=n.all(C),n.patch(C,O),O=n.applyData(C,O)),g.push(O)}const w={type:"element",tagName:"tr",properties:{},children:n.wrap(g,!0)};return n.patch(i,w),n.applyData(i,w)}function Wb(n,i){const s={type:"element",tagName:"td",properties:{},children:n.all(i)};return n.patch(i,s),n.applyData(i,s)}const Ep=9,vp=32;function Qb(n){const i=String(n),s=/\r?\n|\r/g;let l=s.exec(i),d=0;const f=[];for(;l;)f.push(wp(i.slice(d,l.index),d>0,!0),l[0]),d=l.index+l[0].length,l=s.exec(i);return f.push(wp(i.slice(d),d>0,!1)),f.join("")}function wp(n,i,s){let l=0,d=n.length;if(i){let f=n.codePointAt(l);for(;f===Ep||f===vp;)l++,f=n.codePointAt(l)}if(s){let f=n.codePointAt(d-1);for(;f===Ep||f===vp;)d--,f=n.codePointAt(d-1)}return d>l?n.slice(l,d):""}function Kb(n,i){const s={type:"text",value:Qb(String(i.value))};return n.patch(i,s),n.applyData(i,s)}function Jb(n,i){const s={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(i,s),n.applyData(i,s)}const $b={blockquote:Db,break:Ob,code:Nb,delete:Bb,emphasis:Rb,footnoteReference:Ib,heading:Mb,html:Lb,imageReference:kb,image:Fb,inlineCode:Pb,linkReference:Ub,link:jb,listItem:zb,list:qb,paragraph:Vb,root:Gb,strong:Yb,table:Xb,tableCell:Wb,tableRow:Zb,text:Kb,thematicBreak:Jb,toml:h0,yaml:h0,definition:h0,footnoteDefinition:h0};function h0(){}const qy=-1,Ac=0,tu=1,gc=2,ih=3,ah=4,sh=5,lh=6,Vy=7,Gy=8,bp=typeof self=="object"?self:globalThis,eA=(n,i)=>{const s=(d,f)=>(n.set(f,d),d),l=d=>{if(n.has(d))return n.get(d);const[f,m]=i[d];switch(f){case Ac:case qy:return s(m,d);case tu:{const E=s([],d);for(const b of m)E.push(l(b));return E}case gc:{const E=s({},d);for(const[b,g]of m)E[l(b)]=l(g);return E}case ih:return s(new Date(m),d);case ah:{const{source:E,flags:b}=m;return s(new RegExp(E,b),d)}case sh:{const E=s(new Map,d);for(const[b,g]of m)E.set(l(b),l(g));return E}case lh:{const E=s(new Set,d);for(const b of m)E.add(l(b));return E}case Vy:{const{name:E,message:b}=m;return s(new bp[E](b),d)}case Gy:return s(BigInt(m),d);case"BigInt":return s(Object(BigInt(m)),d);case"ArrayBuffer":return s(new Uint8Array(m).buffer,m);case"DataView":{const{buffer:E}=new Uint8Array(m);return s(new DataView(E),m)}}return s(new bp[f](m),d)};return l},Ap=n=>eA(new Map,n)(0),jl="",{toString:tA}={},{keys:nA}=Object,Xo=n=>{const i=typeof n;if(i!=="object"||!n)return[Ac,i];const s=tA.call(n).slice(8,-1);switch(s){case"Array":return[tu,jl];case"Object":return[gc,jl];case"Date":return[ih,jl];case"RegExp":return[ah,jl];case"Map":return[sh,jl];case"Set":return[lh,jl];case"DataView":return[tu,s]}return s.includes("Array")?[tu,s]:s.includes("Error")?[Vy,s]:[gc,s]},x0=([n,i])=>n===Ac&&(i==="function"||i==="symbol"),rA=(n,i,s,l)=>{const d=(m,E)=>{const b=l.push(m)-1;return s.set(E,b),b},f=m=>{if(s.has(m))return s.get(m);let[E,b]=Xo(m);switch(E){case Ac:{let w=m;switch(b){case"bigint":E=Gy,w=m.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+b);w=null;break;case"undefined":return d([qy],m)}return d([E,w],m)}case tu:{if(b){let D=m;return b==="DataView"?D=new Uint8Array(m.buffer):b==="ArrayBuffer"&&(D=new Uint8Array(m)),d([b,[...D]],m)}const w=[],C=d([E,w],m);for(const D of m)w.push(f(D));return C}case gc:{if(b)switch(b){case"BigInt":return d([b,m.toString()],m);case"Boolean":case"Number":case"String":return d([b,m.valueOf()],m)}if(i&&"toJSON"in m)return f(m.toJSON());const w=[],C=d([E,w],m);for(const D of nA(m))(n||!x0(Xo(m[D])))&&w.push([f(D),f(m[D])]);return C}case ih:return d([E,m.toISOString()],m);case ah:{const{source:w,flags:C}=m;return d([E,{source:w,flags:C}],m)}case sh:{const w=[],C=d([E,w],m);for(const[D,T]of m)(n||!(x0(Xo(D))||x0(Xo(T))))&&w.push([f(D),f(T)]);return C}case lh:{const w=[],C=d([E,w],m);for(const D of m)(n||!x0(Xo(D)))&&w.push(f(D));return C}}const{message:g}=m;return d([E,{name:b,message:g}],m)};return f},Cp=(n,{json:i,lossy:s}={})=>{const l=[];return rA(!(i||s),!!i,new Map,l)(n),l},pc=typeof structuredClone=="function"?(n,i)=>i&&("json"in i||"lossy"in i)?Ap(Cp(n,i)):structuredClone(n):(n,i)=>Ap(Cp(n,i));function iA(n,i){const s=[{type:"text",value:""}];return i>1&&s.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(i)}]}),s}function aA(n,i){return"Back to reference "+(n+1)+(i>1?"-"+i:"")}function sA(n){const i=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",s=n.options.footnoteBackContent||iA,l=n.options.footnoteBackLabel||aA,d=n.options.footnoteLabel||"Footnotes",f=n.options.footnoteLabelTagName||"h2",m=n.options.footnoteLabelProperties||{className:["sr-only"]},E=[];let b=-1;for(;++b<n.footnoteOrder.length;){const g=n.footnoteById.get(n.footnoteOrder[b]);if(!g)continue;const w=n.all(g),C=String(g.identifier).toUpperCase(),D=Zl(C.toLowerCase());let T=0;const O=[],N=n.footnoteCounts.get(C);for(;N!==void 0&&++T<=N;){O.length>0&&O.push({type:"text",value:" "});let M=typeof s=="string"?s:s(b,T);typeof M=="string"&&(M={type:"text",value:M}),O.push({type:"element",tagName:"a",properties:{href:"#"+i+"fnref-"+D+(T>1?"-"+T:""),dataFootnoteBackref:"",ariaLabel:typeof l=="string"?l:l(b,T),className:["data-footnote-backref"]},children:Array.isArray(M)?M:[M]})}const B=w[w.length-1];if(B&&B.type==="element"&&B.tagName==="p"){const M=B.children[B.children.length-1];M&&M.type==="text"?M.value+=" ":B.children.push({type:"text",value:" "}),B.children.push(...O)}else w.push(...O);const I={type:"element",tagName:"li",properties:{id:i+"fn-"+D},children:n.wrap(w,!0)};n.patch(g,I),E.push(I)}if(E.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:f,properties:{...pc(m),id:"footnote-label"},children:[{type:"text",value:d}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(E,!0)},{type:"text",value:`
`}]}}const Yy=function(n){if(n==null)return cA;if(typeof n=="function")return Cc(n);if(typeof n=="object")return Array.isArray(n)?lA(n):oA(n);if(typeof n=="string")return uA(n);throw new Error("Expected function, string, or object as test")};function lA(n){const i=[];let s=-1;for(;++s<n.length;)i[s]=Yy(n[s]);return Cc(l);function l(...d){let f=-1;for(;++f<i.length;)if(i[f].apply(this,d))return!0;return!1}}function oA(n){const i=n;return Cc(s);function s(l){const d=l;let f;for(f in n)if(d[f]!==i[f])return!1;return!0}}function uA(n){return Cc(i);function i(s){return s&&s.type===n}}function Cc(n){return i;function i(s,l,d){return!!(fA(s)&&n.call(this,s,typeof l=="number"?l:void 0,d||void 0))}}function cA(){return!0}function fA(n){return n!==null&&typeof n=="object"&&"type"in n}const Xy=[],dA=!0,Sp=!1,hA="skip";function xA(n,i,s,l){let d;typeof i=="function"&&typeof s!="function"?(l=s,s=i):d=i;const f=Yy(d),m=l?-1:1;E(n,void 0,[])();function E(b,g,w){const C=b&&typeof b=="object"?b:{};if(typeof C.type=="string"){const T=typeof C.tagName=="string"?C.tagName:typeof C.name=="string"?C.name:void 0;Object.defineProperty(D,"name",{value:"node ("+(b.type+(T?"<"+T+">":""))+")"})}return D;function D(){let T=Xy,O,N,B;if((!i||f(b,g,w[w.length-1]||void 0))&&(T=gA(s(b,w)),T[0]===Sp))return T;if("children"in b&&b.children){const I=b;if(I.children&&T[0]!==hA)for(N=(l?I.children.length:-1)+m,B=w.concat(I);N>-1&&N<I.children.length;){const M=I.children[N];if(O=E(M,N,B)(),O[0]===Sp)return O;N=typeof O[1]=="number"?O[1]:N+m}}return T}}}function gA(n){return Array.isArray(n)?n:typeof n=="number"?[dA,n]:n==null?Xy:[n]}function Zy(n,i,s,l){let d,f,m;typeof i=="function"?(f=void 0,m=i,d=s):(f=i,m=s,d=l),xA(n,f,E,d);function E(b,g){const w=g[g.length-1],C=w?w.children.indexOf(b):void 0;return m(b,C,w)}}const Bd={}.hasOwnProperty,pA={};function mA(n,i){const s=i||pA,l=new Map,d=new Map,f=new Map,m={...$b,...s.handlers},E={all:g,applyData:EA,definitionById:l,footnoteById:d,footnoteCounts:f,footnoteOrder:[],handlers:m,one:b,options:s,patch:yA,wrap:wA};return Zy(n,function(w){if(w.type==="definition"||w.type==="footnoteDefinition"){const C=w.type==="definition"?l:d,D=String(w.identifier).toUpperCase();C.has(D)||C.set(D,w)}}),E;function b(w,C){const D=w.type,T=E.handlers[D];if(Bd.call(E.handlers,D)&&T)return T(E,w,C);if(E.options.passThrough&&E.options.passThrough.includes(D)){if("children"in w){const{children:N,...B}=w,I=pc(B);return I.children=E.all(w),I}return pc(w)}return(E.options.unknownHandler||vA)(E,w,C)}function g(w){const C=[];if("children"in w){const D=w.children;let T=-1;for(;++T<D.length;){const O=E.one(D[T],w);if(O){if(T&&D[T-1].type==="break"&&(!Array.isArray(O)&&O.type==="text"&&(O.value=Tp(O.value)),!Array.isArray(O)&&O.type==="element")){const N=O.children[0];N&&N.type==="text"&&(N.value=Tp(N.value))}Array.isArray(O)?C.push(...O):C.push(O)}}}return C}}function yA(n,i){n.position&&(i.position=t8(n))}function EA(n,i){let s=i;if(n&&n.data){const l=n.data.hName,d=n.data.hChildren,f=n.data.hProperties;if(typeof l=="string")if(s.type==="element")s.tagName=l;else{const m="children"in s?s.children:[s];s={type:"element",tagName:l,properties:{},children:m}}s.type==="element"&&f&&Object.assign(s.properties,pc(f)),"children"in s&&s.children&&d!==null&&d!==void 0&&(s.children=d)}return s}function vA(n,i){const s=i.data||{},l="value"in i&&!(Bd.call(s,"hProperties")||Bd.call(s,"hChildren"))?{type:"text",value:i.value}:{type:"element",tagName:"div",properties:{},children:n.all(i)};return n.patch(i,l),n.applyData(i,l)}function wA(n,i){const s=[];let l=-1;for(i&&s.push({type:"text",value:`
`});++l<n.length;)l&&s.push({type:"text",value:`
`}),s.push(n[l]);return i&&n.length>0&&s.push({type:"text",value:`
`}),s}function Tp(n){let i=0,s=n.charCodeAt(i);for(;s===9||s===32;)i++,s=n.charCodeAt(i);return n.slice(i)}function _p(n,i){const s=mA(n,i),l=s.one(n,void 0),d=sA(s),f=Array.isArray(l)?{type:"root",children:l}:l||{type:"root",children:[]};return d&&f.children.push({type:"text",value:`
`},d),f}function bA(n,i){return n&&"run"in n?async function(s,l){const d=_p(s,{file:l,...i});await n.run(d,l)}:function(s,l){return _p(s,{file:l,...n||i})}}function Dp(n){if(n)throw n}var j1,Op;function AA(){if(Op)return j1;Op=1;var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d=function(g){return typeof Array.isArray=="function"?Array.isArray(g):i.call(g)==="[object Array]"},f=function(g){if(!g||i.call(g)!=="[object Object]")return!1;var w=n.call(g,"constructor"),C=g.constructor&&g.constructor.prototype&&n.call(g.constructor.prototype,"isPrototypeOf");if(g.constructor&&!w&&!C)return!1;var D;for(D in g);return typeof D>"u"||n.call(g,D)},m=function(g,w){s&&w.name==="__proto__"?s(g,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):g[w.name]=w.newValue},E=function(g,w){if(w==="__proto__")if(n.call(g,w)){if(l)return l(g,w).value}else return;return g[w]};return j1=function b(){var g,w,C,D,T,O,N=arguments[0],B=1,I=arguments.length,M=!1;for(typeof N=="boolean"&&(M=N,N=arguments[1]||{},B=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});B<I;++B)if(g=arguments[B],g!=null)for(w in g)C=E(N,w),D=E(g,w),N!==D&&(M&&D&&(f(D)||(T=d(D)))?(T?(T=!1,O=C&&d(C)?C:[]):O=C&&f(C)?C:{},m(N,{name:w,newValue:b(M,O,D)})):typeof D<"u"&&m(N,{name:w,newValue:D}));return N},j1}var CA=AA();const z1=Vi(CA);function Rd(n){if(typeof n!="object"||n===null)return!1;const i=Object.getPrototypeOf(n);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function SA(){const n=[],i={run:s,use:l};return i;function s(...d){let f=-1;const m=d.pop();if(typeof m!="function")throw new TypeError("Expected function as last argument, not "+m);E(null,...d);function E(b,...g){const w=n[++f];let C=-1;if(b){m(b);return}for(;++C<d.length;)(g[C]===null||g[C]===void 0)&&(g[C]=d[C]);d=g,w?TA(w,E)(...g):m(null,...g)}}function l(d){if(typeof d!="function")throw new TypeError("Expected `middelware` to be a function, not "+d);return n.push(d),i}}function TA(n,i){let s;return l;function l(...m){const E=n.length>m.length;let b;E&&m.push(d);try{b=n.apply(this,m)}catch(g){const w=g;if(E&&s)throw w;return d(w)}E||(b&&b.then&&typeof b.then=="function"?b.then(f,d):b instanceof Error?d(b):f(b))}function d(m,...E){s||(s=!0,i(m,...E))}function f(m){d(null,m)}}const ji={basename:_A,dirname:DA,extname:OA,join:NA,sep:"/"};function _A(n,i){if(i!==void 0&&typeof i!="string")throw new TypeError('"ext" argument must be a string');su(n);let s=0,l=-1,d=n.length,f;if(i===void 0||i.length===0||i.length>n.length){for(;d--;)if(n.codePointAt(d)===47){if(f){s=d+1;break}}else l<0&&(f=!0,l=d+1);return l<0?"":n.slice(s,l)}if(i===n)return"";let m=-1,E=i.length-1;for(;d--;)if(n.codePointAt(d)===47){if(f){s=d+1;break}}else m<0&&(f=!0,m=d+1),E>-1&&(n.codePointAt(d)===i.codePointAt(E--)?E<0&&(l=d):(E=-1,l=m));return s===l?l=m:l<0&&(l=n.length),n.slice(s,l)}function DA(n){if(su(n),n.length===0)return".";let i=-1,s=n.length,l;for(;--s;)if(n.codePointAt(s)===47){if(l){i=s;break}}else l||(l=!0);return i<0?n.codePointAt(0)===47?"/":".":i===1&&n.codePointAt(0)===47?"//":n.slice(0,i)}function OA(n){su(n);let i=n.length,s=-1,l=0,d=-1,f=0,m;for(;i--;){const E=n.codePointAt(i);if(E===47){if(m){l=i+1;break}continue}s<0&&(m=!0,s=i+1),E===46?d<0?d=i:f!==1&&(f=1):d>-1&&(f=-1)}return d<0||s<0||f===0||f===1&&d===s-1&&d===l+1?"":n.slice(d,s)}function NA(...n){let i=-1,s;for(;++i<n.length;)su(n[i]),n[i]&&(s=s===void 0?n[i]:s+"/"+n[i]);return s===void 0?".":BA(s)}function BA(n){su(n);const i=n.codePointAt(0)===47;let s=RA(n,!i);return s.length===0&&!i&&(s="."),s.length>0&&n.codePointAt(n.length-1)===47&&(s+="/"),i?"/"+s:s}function RA(n,i){let s="",l=0,d=-1,f=0,m=-1,E,b;for(;++m<=n.length;){if(m<n.length)E=n.codePointAt(m);else{if(E===47)break;E=47}if(E===47){if(!(d===m-1||f===1))if(d!==m-1&&f===2){if(s.length<2||l!==2||s.codePointAt(s.length-1)!==46||s.codePointAt(s.length-2)!==46){if(s.length>2){if(b=s.lastIndexOf("/"),b!==s.length-1){b<0?(s="",l=0):(s=s.slice(0,b),l=s.length-1-s.lastIndexOf("/")),d=m,f=0;continue}}else if(s.length>0){s="",l=0,d=m,f=0;continue}}i&&(s=s.length>0?s+"/..":"..",l=2)}else s.length>0?s+="/"+n.slice(d+1,m):s=n.slice(d+1,m),l=m-d-1;d=m,f=0}else E===46&&f>-1?f++:f=-1}return s}function su(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const IA={cwd:MA};function MA(){return"/"}function Id(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function LA(n){if(typeof n=="string")n=new URL(n);else if(!Id(n)){const i=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw i.code="ERR_INVALID_ARG_TYPE",i}if(n.protocol!=="file:"){const i=new TypeError("The URL must be of scheme file");throw i.code="ERR_INVALID_URL_SCHEME",i}return kA(n)}function kA(n){if(n.hostname!==""){const l=new TypeError('File URL host must be "localhost" or empty on darwin');throw l.code="ERR_INVALID_FILE_URL_HOST",l}const i=n.pathname;let s=-1;for(;++s<i.length;)if(i.codePointAt(s)===37&&i.codePointAt(s+1)===50){const l=i.codePointAt(s+2);if(l===70||l===102){const d=new TypeError("File URL path must not include encoded / characters");throw d.code="ERR_INVALID_FILE_URL_PATH",d}}return decodeURIComponent(i)}const H1=["history","path","basename","stem","extname","dirname"];class Wy{constructor(i){let s;i?Id(i)?s={path:i}:typeof i=="string"||FA(i)?s={value:i}:s=i:s={},this.cwd="cwd"in s?"":IA.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let l=-1;for(;++l<H1.length;){const f=H1[l];f in s&&s[f]!==void 0&&s[f]!==null&&(this[f]=f==="history"?[...s[f]]:s[f])}let d;for(d in s)H1.includes(d)||(this[d]=s[d])}get basename(){return typeof this.path=="string"?ji.basename(this.path):void 0}set basename(i){V1(i,"basename"),q1(i,"basename"),this.path=ji.join(this.dirname||"",i)}get dirname(){return typeof this.path=="string"?ji.dirname(this.path):void 0}set dirname(i){Np(this.basename,"dirname"),this.path=ji.join(i||"",this.basename)}get extname(){return typeof this.path=="string"?ji.extname(this.path):void 0}set extname(i){if(q1(i,"extname"),Np(this.dirname,"extname"),i){if(i.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(i.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ji.join(this.dirname,this.stem+(i||""))}get path(){return this.history[this.history.length-1]}set path(i){Id(i)&&(i=LA(i)),V1(i,"path"),this.path!==i&&this.history.push(i)}get stem(){return typeof this.path=="string"?ji.basename(this.path,this.extname):void 0}set stem(i){V1(i,"stem"),q1(i,"stem"),this.path=ji.join(this.dirname||"",i+(this.extname||""))}fail(i,s,l){const d=this.message(i,s,l);throw d.fatal=!0,d}info(i,s,l){const d=this.message(i,s,l);return d.fatal=void 0,d}message(i,s,l){const d=new hr(i,s,l);return this.path&&(d.name=this.path+":"+d.name,d.file=this.path),d.fatal=!1,this.messages.push(d),d}toString(i){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(i||void 0).decode(this.value)}}function q1(n,i){if(n&&n.includes(ji.sep))throw new Error("`"+i+"` cannot be a path: did not expect `"+ji.sep+"`")}function V1(n,i){if(!n)throw new Error("`"+i+"` cannot be empty")}function Np(n,i){if(!n)throw new Error("Setting `"+i+"` requires `path` to be set too")}function FA(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const PA=function(n){const l=this.constructor.prototype,d=l[n],f=function(){return d.apply(f,arguments)};return Object.setPrototypeOf(f,l),f},UA={}.hasOwnProperty;class oh extends PA{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=SA()}copy(){const i=new oh;let s=-1;for(;++s<this.attachers.length;){const l=this.attachers[s];i.use(...l)}return i.data(z1(!0,{},this.namespace)),i}data(i,s){return typeof i=="string"?arguments.length===2?(X1("data",this.frozen),this.namespace[i]=s,this):UA.call(this.namespace,i)&&this.namespace[i]||void 0:i?(X1("data",this.frozen),this.namespace=i,this):this.namespace}freeze(){if(this.frozen)return this;const i=this;for(;++this.freezeIndex<this.attachers.length;){const[s,...l]=this.attachers[this.freezeIndex];if(l[0]===!1)continue;l[0]===!0&&(l[0]=void 0);const d=s.call(i,...l);typeof d=="function"&&this.transformers.use(d)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(i){this.freeze();const s=g0(i),l=this.parser||this.Parser;return G1("parse",l),l(String(s),s)}process(i,s){const l=this;return this.freeze(),G1("process",this.parser||this.Parser),Y1("process",this.compiler||this.Compiler),s?d(void 0,s):new Promise(d);function d(f,m){const E=g0(i),b=l.parse(E);l.run(b,E,function(w,C,D){if(w||!C||!D)return g(w);const T=C,O=l.stringify(T,D);HA(O)?D.value=O:D.result=O,g(w,D)});function g(w,C){w||!C?m(w):f?f(C):s(void 0,C)}}}processSync(i){let s=!1,l;return this.freeze(),G1("processSync",this.parser||this.Parser),Y1("processSync",this.compiler||this.Compiler),this.process(i,d),Rp("processSync","process",s),l;function d(f,m){s=!0,Dp(f),l=m}}run(i,s,l){Bp(i),this.freeze();const d=this.transformers;return!l&&typeof s=="function"&&(l=s,s=void 0),l?f(void 0,l):new Promise(f);function f(m,E){const b=g0(s);d.run(i,b,g);function g(w,C,D){const T=C||i;w?E(w):m?m(T):l(void 0,T,D)}}}runSync(i,s){let l=!1,d;return this.run(i,s,f),Rp("runSync","run",l),d;function f(m,E){Dp(m),d=E,l=!0}}stringify(i,s){this.freeze();const l=g0(s),d=this.compiler||this.Compiler;return Y1("stringify",d),Bp(i),d(i,l)}use(i,...s){const l=this.attachers,d=this.namespace;if(X1("use",this.frozen),i!=null)if(typeof i=="function")b(i,s);else if(typeof i=="object")Array.isArray(i)?E(i):m(i);else throw new TypeError("Expected usable value, not `"+i+"`");return this;function f(g){if(typeof g=="function")b(g,[]);else if(typeof g=="object")if(Array.isArray(g)){const[w,...C]=g;b(w,C)}else m(g);else throw new TypeError("Expected usable value, not `"+g+"`")}function m(g){if(!("plugins"in g)&&!("settings"in g))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");E(g.plugins),g.settings&&(d.settings=z1(!0,d.settings,g.settings))}function E(g){let w=-1;if(g!=null)if(Array.isArray(g))for(;++w<g.length;){const C=g[w];f(C)}else throw new TypeError("Expected a list of plugins, not `"+g+"`")}function b(g,w){let C=-1,D=-1;for(;++C<l.length;)if(l[C][0]===g){D=C;break}if(D===-1)l.push([g,...w]);else if(w.length>0){let[T,...O]=w;const N=l[D][1];Rd(N)&&Rd(T)&&(T=z1(!0,N,T)),l[D]=[g,T,...O]}}}}const jA=new oh().freeze();function G1(n,i){if(typeof i!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function Y1(n,i){if(typeof i!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function X1(n,i){if(i)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Bp(n){if(!Rd(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function Rp(n,i,s){if(!s)throw new Error("`"+n+"` finished async. Use `"+i+"` instead")}function g0(n){return zA(n)?n:new Wy(n)}function zA(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function HA(n){return typeof n=="string"||qA(n)}function qA(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const VA="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ip=[],Mp={allowDangerousHtml:!0},GA=/^(https?|ircs?|mailto|xmpp)$/i,YA=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function XA(n){const i=ZA(n),s=WA(n);return QA(i.runSync(i.parse(s),s),n)}function ZA(n){const i=n.rehypePlugins||Ip,s=n.remarkPlugins||Ip,l=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...Mp}:Mp;return jA().use(_b).use(s).use(bA,l).use(i)}function WA(n){const i=n.children||"",s=new Wy;return typeof i=="string"&&(s.value=i),s}function QA(n,i){const s=i.allowedElements,l=i.allowElement,d=i.components,f=i.disallowedElements,m=i.skipHtml,E=i.unwrapDisallowed,b=i.urlTransform||KA;for(const w of YA)Object.hasOwn(i,w.from)&&(""+w.from+(w.to?"use `"+w.to+"` instead":"remove it")+VA+w.id,void 0);return Zy(n,g),s8(n,{Fragment:H.Fragment,components:d,ignoreInvalidStyle:!0,jsx:H.jsx,jsxs:H.jsxs,passKeys:!0,passNode:!0});function g(w,C,D){if(w.type==="raw"&&D&&typeof C=="number")return m?D.children.splice(C,1):D.children[C]={type:"text",value:w.value},C;if(w.type==="element"){let T;for(T in F1)if(Object.hasOwn(F1,T)&&Object.hasOwn(w.properties,T)){const O=w.properties[T],N=F1[T];(N===null||N.includes(w.tagName))&&(w.properties[T]=b(String(O||""),T,w))}}if(w.type==="element"){let T=s?!s.includes(w.tagName):f?f.includes(w.tagName):!1;if(!T&&l&&typeof C=="number"&&(T=!l(w,C,D)),T&&D&&typeof C=="number")return E&&w.children?D.children.splice(C,1,...w.children):D.children.splice(C,1),C}}}function KA(n){const i=n.indexOf(":"),s=n.indexOf("?"),l=n.indexOf("#"),d=n.indexOf("/");return i===-1||d!==-1&&i>d||s!==-1&&i>s||l!==-1&&i>l||GA.test(n.slice(0,i))?n:""}function Qy(n,i){return function(){return n.apply(i,arguments)}}const{toString:JA}=Object.prototype,{getPrototypeOf:uh}=Object,Sc=(n=>i=>{const s=JA.call(i);return n[s]||(n[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Si=n=>(n=n.toLowerCase(),i=>Sc(i)===n),Tc=n=>i=>typeof i===n,{isArray:Wl}=Array,ru=Tc("undefined");function $A(n){return n!==null&&!ru(n)&&n.constructor!==null&&!ru(n.constructor)&&Zr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Ky=Si("ArrayBuffer");function eC(n){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(n):i=n&&n.buffer&&Ky(n.buffer),i}const tC=Tc("string"),Zr=Tc("function"),Jy=Tc("number"),_c=n=>n!==null&&typeof n=="object",nC=n=>n===!0||n===!1,uc=n=>{if(Sc(n)!=="object")return!1;const i=uh(n);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},rC=Si("Date"),iC=Si("File"),aC=Si("Blob"),sC=Si("FileList"),lC=n=>_c(n)&&Zr(n.pipe),oC=n=>{let i;return n&&(typeof FormData=="function"&&n instanceof FormData||Zr(n.append)&&((i=Sc(n))==="formdata"||i==="object"&&Zr(n.toString)&&n.toString()==="[object FormData]"))},uC=Si("URLSearchParams"),[cC,fC,dC,hC]=["ReadableStream","Request","Response","Headers"].map(Si),xC=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function lu(n,i,{allOwnKeys:s=!1}={}){if(n===null||typeof n>"u")return;let l,d;if(typeof n!="object"&&(n=[n]),Wl(n))for(l=0,d=n.length;l<d;l++)i.call(null,n[l],l,n);else{const f=s?Object.getOwnPropertyNames(n):Object.keys(n),m=f.length;let E;for(l=0;l<m;l++)E=f[l],i.call(null,n[E],E,n)}}function $y(n,i){i=i.toLowerCase();const s=Object.keys(n);let l=s.length,d;for(;l-- >0;)if(d=s[l],i===d.toLowerCase())return d;return null}const Ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,e4=n=>!ru(n)&&n!==Ws;function Md(){const{caseless:n}=e4(this)&&this||{},i={},s=(l,d)=>{const f=n&&$y(i,d)||d;uc(i[f])&&uc(l)?i[f]=Md(i[f],l):uc(l)?i[f]=Md({},l):Wl(l)?i[f]=l.slice():i[f]=l};for(let l=0,d=arguments.length;l<d;l++)arguments[l]&&lu(arguments[l],s);return i}const gC=(n,i,s,{allOwnKeys:l}={})=>(lu(i,(d,f)=>{s&&Zr(d)?n[f]=Qy(d,s):n[f]=d},{allOwnKeys:l}),n),pC=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),mC=(n,i,s,l)=>{n.prototype=Object.create(i.prototype,l),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:i.prototype}),s&&Object.assign(n.prototype,s)},yC=(n,i,s,l)=>{let d,f,m;const E={};if(i=i||{},n==null)return i;do{for(d=Object.getOwnPropertyNames(n),f=d.length;f-- >0;)m=d[f],(!l||l(m,n,i))&&!E[m]&&(i[m]=n[m],E[m]=!0);n=s!==!1&&uh(n)}while(n&&(!s||s(n,i))&&n!==Object.prototype);return i},EC=(n,i,s)=>{n=String(n),(s===void 0||s>n.length)&&(s=n.length),s-=i.length;const l=n.indexOf(i,s);return l!==-1&&l===s},vC=n=>{if(!n)return null;if(Wl(n))return n;let i=n.length;if(!Jy(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=n[i];return s},wC=(n=>i=>n&&i instanceof n)(typeof Uint8Array<"u"&&uh(Uint8Array)),bC=(n,i)=>{const l=(n&&n[Symbol.iterator]).call(n);let d;for(;(d=l.next())&&!d.done;){const f=d.value;i.call(n,f[0],f[1])}},AC=(n,i)=>{let s;const l=[];for(;(s=n.exec(i))!==null;)l.push(s);return l},CC=Si("HTMLFormElement"),SC=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,l,d){return l.toUpperCase()+d}),Lp=(({hasOwnProperty:n})=>(i,s)=>n.call(i,s))(Object.prototype),TC=Si("RegExp"),t4=(n,i)=>{const s=Object.getOwnPropertyDescriptors(n),l={};lu(s,(d,f)=>{let m;(m=i(d,f,n))!==!1&&(l[f]=m||d)}),Object.defineProperties(n,l)},_C=n=>{t4(n,(i,s)=>{if(Zr(n)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const l=n[s];if(Zr(l)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},DC=(n,i)=>{const s={},l=d=>{d.forEach(f=>{s[f]=!0})};return Wl(n)?l(n):l(String(n).split(i)),s},OC=()=>{},NC=(n,i)=>n!=null&&Number.isFinite(n=+n)?n:i;function BC(n){return!!(n&&Zr(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const RC=n=>{const i=new Array(10),s=(l,d)=>{if(_c(l)){if(i.indexOf(l)>=0)return;if(!("toJSON"in l)){i[d]=l;const f=Wl(l)?[]:{};return lu(l,(m,E)=>{const b=s(m,d+1);!ru(b)&&(f[E]=b)}),i[d]=void 0,f}}return l};return s(n,0)},IC=Si("AsyncFunction"),MC=n=>n&&(_c(n)||Zr(n))&&Zr(n.then)&&Zr(n.catch),n4=((n,i)=>n?setImmediate:i?((s,l)=>(Ws.addEventListener("message",({source:d,data:f})=>{d===Ws&&f===s&&l.length&&l.shift()()},!1),d=>{l.push(d),Ws.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Zr(Ws.postMessage)),LC=typeof queueMicrotask<"u"?queueMicrotask.bind(Ws):typeof process<"u"&&process.nextTick||n4,Ae={isArray:Wl,isArrayBuffer:Ky,isBuffer:$A,isFormData:oC,isArrayBufferView:eC,isString:tC,isNumber:Jy,isBoolean:nC,isObject:_c,isPlainObject:uc,isReadableStream:cC,isRequest:fC,isResponse:dC,isHeaders:hC,isUndefined:ru,isDate:rC,isFile:iC,isBlob:aC,isRegExp:TC,isFunction:Zr,isStream:lC,isURLSearchParams:uC,isTypedArray:wC,isFileList:sC,forEach:lu,merge:Md,extend:gC,trim:xC,stripBOM:pC,inherits:mC,toFlatObject:yC,kindOf:Sc,kindOfTest:Si,endsWith:EC,toArray:vC,forEachEntry:bC,matchAll:AC,isHTMLForm:CC,hasOwnProperty:Lp,hasOwnProp:Lp,reduceDescriptors:t4,freezeMethods:_C,toObjectSet:DC,toCamelCase:SC,noop:OC,toFiniteNumber:NC,findKey:$y,global:Ws,isContextDefined:e4,isSpecCompliantForm:BC,toJSONObject:RC,isAsyncFn:IC,isThenable:MC,setImmediate:n4,asap:LC};function mt(n,i,s,l,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),l&&(this.request=l),d&&(this.response=d,this.status=d.status?d.status:null)}Ae.inherits(mt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ae.toJSONObject(this.config),code:this.code,status:this.status}}});const r4=mt.prototype,i4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{i4[n]={value:n}});Object.defineProperties(mt,i4);Object.defineProperty(r4,"isAxiosError",{value:!0});mt.from=(n,i,s,l,d,f)=>{const m=Object.create(r4);return Ae.toFlatObject(n,m,function(b){return b!==Error.prototype},E=>E!=="isAxiosError"),mt.call(m,n.message,i,s,l,d),m.cause=n,m.name=n.name,f&&Object.assign(m,f),m};const kC=null;function Ld(n){return Ae.isPlainObject(n)||Ae.isArray(n)}function a4(n){return Ae.endsWith(n,"[]")?n.slice(0,-2):n}function kp(n,i,s){return n?n.concat(i).map(function(d,f){return d=a4(d),!s&&f?"["+d+"]":d}).join(s?".":""):i}function FC(n){return Ae.isArray(n)&&!n.some(Ld)}const PC=Ae.toFlatObject(Ae,{},null,function(i){return/^is[A-Z]/.test(i)});function Dc(n,i,s){if(!Ae.isObject(n))throw new TypeError("target must be an object");i=i||new FormData,s=Ae.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,B){return!Ae.isUndefined(B[N])});const l=s.metaTokens,d=s.visitor||w,f=s.dots,m=s.indexes,b=(s.Blob||typeof Blob<"u"&&Blob)&&Ae.isSpecCompliantForm(i);if(!Ae.isFunction(d))throw new TypeError("visitor must be a function");function g(O){if(O===null)return"";if(Ae.isDate(O))return O.toISOString();if(!b&&Ae.isBlob(O))throw new mt("Blob is not supported. Use a Buffer instead.");return Ae.isArrayBuffer(O)||Ae.isTypedArray(O)?b&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function w(O,N,B){let I=O;if(O&&!B&&typeof O=="object"){if(Ae.endsWith(N,"{}"))N=l?N:N.slice(0,-2),O=JSON.stringify(O);else if(Ae.isArray(O)&&FC(O)||(Ae.isFileList(O)||Ae.endsWith(N,"[]"))&&(I=Ae.toArray(O)))return N=a4(N),I.forEach(function(k,V){!(Ae.isUndefined(k)||k===null)&&i.append(m===!0?kp([N],V,f):m===null?N:N+"[]",g(k))}),!1}return Ld(O)?!0:(i.append(kp(B,N,f),g(O)),!1)}const C=[],D=Object.assign(PC,{defaultVisitor:w,convertValue:g,isVisitable:Ld});function T(O,N){if(!Ae.isUndefined(O)){if(C.indexOf(O)!==-1)throw Error("Circular reference detected in "+N.join("."));C.push(O),Ae.forEach(O,function(I,M){(!(Ae.isUndefined(I)||I===null)&&d.call(i,I,Ae.isString(M)?M.trim():M,N,D))===!0&&T(I,N?N.concat(M):[M])}),C.pop()}}if(!Ae.isObject(n))throw new TypeError("data must be an object");return T(n),i}function Fp(n){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(l){return i[l]})}function ch(n,i){this._pairs=[],n&&Dc(n,this,i)}const s4=ch.prototype;s4.append=function(i,s){this._pairs.push([i,s])};s4.toString=function(i){const s=i?function(l){return i.call(this,l,Fp)}:Fp;return this._pairs.map(function(d){return s(d[0])+"="+s(d[1])},"").join("&")};function UC(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function l4(n,i,s){if(!i)return n;const l=s&&s.encode||UC;Ae.isFunction(s)&&(s={serialize:s});const d=s&&s.serialize;let f;if(d?f=d(i,s):f=Ae.isURLSearchParams(i)?i.toString():new ch(i,s).toString(l),f){const m=n.indexOf("#");m!==-1&&(n=n.slice(0,m)),n+=(n.indexOf("?")===-1?"?":"&")+f}return n}class Pp{constructor(){this.handlers=[]}use(i,s,l){return this.handlers.push({fulfilled:i,rejected:s,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){Ae.forEach(this.handlers,function(l){l!==null&&i(l)})}}const o4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jC=typeof URLSearchParams<"u"?URLSearchParams:ch,zC=typeof FormData<"u"?FormData:null,HC=typeof Blob<"u"?Blob:null,qC={isBrowser:!0,classes:{URLSearchParams:jC,FormData:zC,Blob:HC},protocols:["http","https","file","blob","url","data"]},fh=typeof window<"u"&&typeof document<"u",kd=typeof navigator=="object"&&navigator||void 0,VC=fh&&(!kd||["ReactNative","NativeScript","NS"].indexOf(kd.product)<0),GC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YC=fh&&window.location.href||"http://localhost",XC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fh,hasStandardBrowserEnv:VC,hasStandardBrowserWebWorkerEnv:GC,navigator:kd,origin:YC},Symbol.toStringTag,{value:"Module"})),dr={...XC,...qC};function ZC(n,i){return Dc(n,new dr.classes.URLSearchParams,Object.assign({visitor:function(s,l,d,f){return dr.isNode&&Ae.isBuffer(s)?(this.append(l,s.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)}},i))}function WC(n){return Ae.matchAll(/\w+|\[(\w*)]/g,n).map(i=>i[0]==="[]"?"":i[1]||i[0])}function QC(n){const i={},s=Object.keys(n);let l;const d=s.length;let f;for(l=0;l<d;l++)f=s[l],i[f]=n[f];return i}function u4(n){function i(s,l,d,f){let m=s[f++];if(m==="__proto__")return!0;const E=Number.isFinite(+m),b=f>=s.length;return m=!m&&Ae.isArray(d)?d.length:m,b?(Ae.hasOwnProp(d,m)?d[m]=[d[m],l]:d[m]=l,!E):((!d[m]||!Ae.isObject(d[m]))&&(d[m]=[]),i(s,l,d[m],f)&&Ae.isArray(d[m])&&(d[m]=QC(d[m])),!E)}if(Ae.isFormData(n)&&Ae.isFunction(n.entries)){const s={};return Ae.forEachEntry(n,(l,d)=>{i(WC(l),d,s,0)}),s}return null}function KC(n,i,s){if(Ae.isString(n))try{return(i||JSON.parse)(n),Ae.trim(n)}catch(l){if(l.name!=="SyntaxError")throw l}return(s||JSON.stringify)(n)}const ou={transitional:o4,adapter:["xhr","http","fetch"],transformRequest:[function(i,s){const l=s.getContentType()||"",d=l.indexOf("application/json")>-1,f=Ae.isObject(i);if(f&&Ae.isHTMLForm(i)&&(i=new FormData(i)),Ae.isFormData(i))return d?JSON.stringify(u4(i)):i;if(Ae.isArrayBuffer(i)||Ae.isBuffer(i)||Ae.isStream(i)||Ae.isFile(i)||Ae.isBlob(i)||Ae.isReadableStream(i))return i;if(Ae.isArrayBufferView(i))return i.buffer;if(Ae.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let E;if(f){if(l.indexOf("application/x-www-form-urlencoded")>-1)return ZC(i,this.formSerializer).toString();if((E=Ae.isFileList(i))||l.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Dc(E?{"files[]":i}:i,b&&new b,this.formSerializer)}}return f||d?(s.setContentType("application/json",!1),KC(i)):i}],transformResponse:[function(i){const s=this.transitional||ou.transitional,l=s&&s.forcedJSONParsing,d=this.responseType==="json";if(Ae.isResponse(i)||Ae.isReadableStream(i))return i;if(i&&Ae.isString(i)&&(l&&!this.responseType||d)){const m=!(s&&s.silentJSONParsing)&&d;try{return JSON.parse(i)}catch(E){if(m)throw E.name==="SyntaxError"?mt.from(E,mt.ERR_BAD_RESPONSE,this,null,this.response):E}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ae.forEach(["delete","get","head","post","put","patch"],n=>{ou.headers[n]={}});const JC=Ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$C=n=>{const i={};let s,l,d;return n&&n.split(`
`).forEach(function(m){d=m.indexOf(":"),s=m.substring(0,d).trim().toLowerCase(),l=m.substring(d+1).trim(),!(!s||i[s]&&JC[s])&&(s==="set-cookie"?i[s]?i[s].push(l):i[s]=[l]:i[s]=i[s]?i[s]+", "+l:l)}),i},Up=Symbol("internals");function Zo(n){return n&&String(n).trim().toLowerCase()}function cc(n){return n===!1||n==null?n:Ae.isArray(n)?n.map(cc):String(n)}function e6(n){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=s.exec(n);)i[l[1]]=l[2];return i}const t6=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Z1(n,i,s,l,d){if(Ae.isFunction(l))return l.call(this,i,s);if(d&&(i=s),!!Ae.isString(i)){if(Ae.isString(l))return i.indexOf(l)!==-1;if(Ae.isRegExp(l))return l.test(i)}}function n6(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,l)=>s.toUpperCase()+l)}function r6(n,i){const s=Ae.toCamelCase(" "+i);["get","set","has"].forEach(l=>{Object.defineProperty(n,l+s,{value:function(d,f,m){return this[l].call(this,i,d,f,m)},configurable:!0})})}let Mr=class{constructor(i){i&&this.set(i)}set(i,s,l){const d=this;function f(E,b,g){const w=Zo(b);if(!w)throw new Error("header name must be a non-empty string");const C=Ae.findKey(d,w);(!C||d[C]===void 0||g===!0||g===void 0&&d[C]!==!1)&&(d[C||b]=cc(E))}const m=(E,b)=>Ae.forEach(E,(g,w)=>f(g,w,b));if(Ae.isPlainObject(i)||i instanceof this.constructor)m(i,s);else if(Ae.isString(i)&&(i=i.trim())&&!t6(i))m($C(i),s);else if(Ae.isHeaders(i))for(const[E,b]of i.entries())f(b,E,l);else i!=null&&f(s,i,l);return this}get(i,s){if(i=Zo(i),i){const l=Ae.findKey(this,i);if(l){const d=this[l];if(!s)return d;if(s===!0)return e6(d);if(Ae.isFunction(s))return s.call(this,d,l);if(Ae.isRegExp(s))return s.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=Zo(i),i){const l=Ae.findKey(this,i);return!!(l&&this[l]!==void 0&&(!s||Z1(this,this[l],l,s)))}return!1}delete(i,s){const l=this;let d=!1;function f(m){if(m=Zo(m),m){const E=Ae.findKey(l,m);E&&(!s||Z1(l,l[E],E,s))&&(delete l[E],d=!0)}}return Ae.isArray(i)?i.forEach(f):f(i),d}clear(i){const s=Object.keys(this);let l=s.length,d=!1;for(;l--;){const f=s[l];(!i||Z1(this,this[f],f,i,!0))&&(delete this[f],d=!0)}return d}normalize(i){const s=this,l={};return Ae.forEach(this,(d,f)=>{const m=Ae.findKey(l,f);if(m){s[m]=cc(d),delete s[f];return}const E=i?n6(f):String(f).trim();E!==f&&delete s[f],s[E]=cc(d),l[E]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return Ae.forEach(this,(l,d)=>{l!=null&&l!==!1&&(s[d]=i&&Ae.isArray(l)?l.join(", "):l)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const l=new this(i);return s.forEach(d=>l.set(d)),l}static accessor(i){const l=(this[Up]=this[Up]={accessors:{}}).accessors,d=this.prototype;function f(m){const E=Zo(m);l[E]||(r6(d,m),l[E]=!0)}return Ae.isArray(i)?i.forEach(f):f(i),this}};Mr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ae.reduceDescriptors(Mr.prototype,({value:n},i)=>{let s=i[0].toUpperCase()+i.slice(1);return{get:()=>n,set(l){this[s]=l}}});Ae.freezeMethods(Mr);function W1(n,i){const s=this||ou,l=i||s,d=Mr.from(l.headers);let f=l.data;return Ae.forEach(n,function(E){f=E.call(s,f,d.normalize(),i?i.status:void 0)}),d.normalize(),f}function c4(n){return!!(n&&n.__CANCEL__)}function Ql(n,i,s){mt.call(this,n??"canceled",mt.ERR_CANCELED,i,s),this.name="CanceledError"}Ae.inherits(Ql,mt,{__CANCEL__:!0});function f4(n,i,s){const l=s.config.validateStatus;!s.status||!l||l(s.status)?n(s):i(new mt("Request failed with status code "+s.status,[mt.ERR_BAD_REQUEST,mt.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function i6(n){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return i&&i[1]||""}function a6(n,i){n=n||10;const s=new Array(n),l=new Array(n);let d=0,f=0,m;return i=i!==void 0?i:1e3,function(b){const g=Date.now(),w=l[f];m||(m=g),s[d]=b,l[d]=g;let C=f,D=0;for(;C!==d;)D+=s[C++],C=C%n;if(d=(d+1)%n,d===f&&(f=(f+1)%n),g-m<i)return;const T=w&&g-w;return T?Math.round(D*1e3/T):void 0}}function s6(n,i){let s=0,l=1e3/i,d,f;const m=(g,w=Date.now())=>{s=w,d=null,f&&(clearTimeout(f),f=null),n.apply(null,g)};return[(...g)=>{const w=Date.now(),C=w-s;C>=l?m(g,w):(d=g,f||(f=setTimeout(()=>{f=null,m(d)},l-C)))},()=>d&&m(d)]}const mc=(n,i,s=3)=>{let l=0;const d=a6(50,250);return s6(f=>{const m=f.loaded,E=f.lengthComputable?f.total:void 0,b=m-l,g=d(b),w=m<=E;l=m;const C={loaded:m,total:E,progress:E?m/E:void 0,bytes:b,rate:g||void 0,estimated:g&&E&&w?(E-m)/g:void 0,event:f,lengthComputable:E!=null,[i?"download":"upload"]:!0};n(C)},s)},jp=(n,i)=>{const s=n!=null;return[l=>i[0]({lengthComputable:s,total:n,loaded:l}),i[1]]},zp=n=>(...i)=>Ae.asap(()=>n(...i)),l6=dr.hasStandardBrowserEnv?((n,i)=>s=>(s=new URL(s,dr.origin),n.protocol===s.protocol&&n.host===s.host&&(i||n.port===s.port)))(new URL(dr.origin),dr.navigator&&/(msie|trident)/i.test(dr.navigator.userAgent)):()=>!0,o6=dr.hasStandardBrowserEnv?{write(n,i,s,l,d,f){const m=[n+"="+encodeURIComponent(i)];Ae.isNumber(s)&&m.push("expires="+new Date(s).toGMTString()),Ae.isString(l)&&m.push("path="+l),Ae.isString(d)&&m.push("domain="+d),f===!0&&m.push("secure"),document.cookie=m.join("; ")},read(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function u6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function c6(n,i){return i?n.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):n}function d4(n,i,s){let l=!u6(i);return n&&(l||s==!1)?c6(n,i):i}const Hp=n=>n instanceof Mr?{...n}:n;function Js(n,i){i=i||{};const s={};function l(g,w,C,D){return Ae.isPlainObject(g)&&Ae.isPlainObject(w)?Ae.merge.call({caseless:D},g,w):Ae.isPlainObject(w)?Ae.merge({},w):Ae.isArray(w)?w.slice():w}function d(g,w,C,D){if(Ae.isUndefined(w)){if(!Ae.isUndefined(g))return l(void 0,g,C,D)}else return l(g,w,C,D)}function f(g,w){if(!Ae.isUndefined(w))return l(void 0,w)}function m(g,w){if(Ae.isUndefined(w)){if(!Ae.isUndefined(g))return l(void 0,g)}else return l(void 0,w)}function E(g,w,C){if(C in i)return l(g,w);if(C in n)return l(void 0,g)}const b={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:E,headers:(g,w,C)=>d(Hp(g),Hp(w),C,!0)};return Ae.forEach(Object.keys(Object.assign({},n,i)),function(w){const C=b[w]||d,D=C(n[w],i[w],w);Ae.isUndefined(D)&&C!==E||(s[w]=D)}),s}const h4=n=>{const i=Js({},n);let{data:s,withXSRFToken:l,xsrfHeaderName:d,xsrfCookieName:f,headers:m,auth:E}=i;i.headers=m=Mr.from(m),i.url=l4(d4(i.baseURL,i.url,i.allowAbsoluteUrls),n.params,n.paramsSerializer),E&&m.set("Authorization","Basic "+btoa((E.username||"")+":"+(E.password?unescape(encodeURIComponent(E.password)):"")));let b;if(Ae.isFormData(s)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((b=m.getContentType())!==!1){const[g,...w]=b?b.split(";").map(C=>C.trim()).filter(Boolean):[];m.setContentType([g||"multipart/form-data",...w].join("; "))}}if(dr.hasStandardBrowserEnv&&(l&&Ae.isFunction(l)&&(l=l(i)),l||l!==!1&&l6(i.url))){const g=d&&f&&o6.read(f);g&&m.set(d,g)}return i},f6=typeof XMLHttpRequest<"u",d6=f6&&function(n){return new Promise(function(s,l){const d=h4(n);let f=d.data;const m=Mr.from(d.headers).normalize();let{responseType:E,onUploadProgress:b,onDownloadProgress:g}=d,w,C,D,T,O;function N(){T&&T(),O&&O(),d.cancelToken&&d.cancelToken.unsubscribe(w),d.signal&&d.signal.removeEventListener("abort",w)}let B=new XMLHttpRequest;B.open(d.method.toUpperCase(),d.url,!0),B.timeout=d.timeout;function I(){if(!B)return;const k=Mr.from("getAllResponseHeaders"in B&&B.getAllResponseHeaders()),Q={data:!E||E==="text"||E==="json"?B.responseText:B.response,status:B.status,statusText:B.statusText,headers:k,config:n,request:B};f4(function(Y){s(Y),N()},function(Y){l(Y),N()},Q),B=null}"onloadend"in B?B.onloadend=I:B.onreadystatechange=function(){!B||B.readyState!==4||B.status===0&&!(B.responseURL&&B.responseURL.indexOf("file:")===0)||setTimeout(I)},B.onabort=function(){B&&(l(new mt("Request aborted",mt.ECONNABORTED,n,B)),B=null)},B.onerror=function(){l(new mt("Network Error",mt.ERR_NETWORK,n,B)),B=null},B.ontimeout=function(){let V=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const Q=d.transitional||o4;d.timeoutErrorMessage&&(V=d.timeoutErrorMessage),l(new mt(V,Q.clarifyTimeoutError?mt.ETIMEDOUT:mt.ECONNABORTED,n,B)),B=null},f===void 0&&m.setContentType(null),"setRequestHeader"in B&&Ae.forEach(m.toJSON(),function(V,Q){B.setRequestHeader(Q,V)}),Ae.isUndefined(d.withCredentials)||(B.withCredentials=!!d.withCredentials),E&&E!=="json"&&(B.responseType=d.responseType),g&&([D,O]=mc(g,!0),B.addEventListener("progress",D)),b&&B.upload&&([C,T]=mc(b),B.upload.addEventListener("progress",C),B.upload.addEventListener("loadend",T)),(d.cancelToken||d.signal)&&(w=k=>{B&&(l(!k||k.type?new Ql(null,n,B):k),B.abort(),B=null)},d.cancelToken&&d.cancelToken.subscribe(w),d.signal&&(d.signal.aborted?w():d.signal.addEventListener("abort",w)));const M=i6(d.url);if(M&&dr.protocols.indexOf(M)===-1){l(new mt("Unsupported protocol "+M+":",mt.ERR_BAD_REQUEST,n));return}B.send(f||null)})},h6=(n,i)=>{const{length:s}=n=n?n.filter(Boolean):[];if(i||s){let l=new AbortController,d;const f=function(g){if(!d){d=!0,E();const w=g instanceof Error?g:this.reason;l.abort(w instanceof mt?w:new Ql(w instanceof Error?w.message:w))}};let m=i&&setTimeout(()=>{m=null,f(new mt(`timeout ${i} of ms exceeded`,mt.ETIMEDOUT))},i);const E=()=>{n&&(m&&clearTimeout(m),m=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(f):g.removeEventListener("abort",f)}),n=null)};n.forEach(g=>g.addEventListener("abort",f));const{signal:b}=l;return b.unsubscribe=()=>Ae.asap(E),b}},x6=function*(n,i){let s=n.byteLength;if(s<i){yield n;return}let l=0,d;for(;l<s;)d=l+i,yield n.slice(l,d),l=d},g6=async function*(n,i){for await(const s of p6(n))yield*x6(s,i)},p6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const i=n.getReader();try{for(;;){const{done:s,value:l}=await i.read();if(s)break;yield l}}finally{await i.cancel()}},qp=(n,i,s,l)=>{const d=g6(n,i);let f=0,m,E=b=>{m||(m=!0,l&&l(b))};return new ReadableStream({async pull(b){try{const{done:g,value:w}=await d.next();if(g){E(),b.close();return}let C=w.byteLength;if(s){let D=f+=C;s(D)}b.enqueue(new Uint8Array(w))}catch(g){throw E(g),g}},cancel(b){return E(b),d.return()}},{highWaterMark:2})},Oc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",x4=Oc&&typeof ReadableStream=="function",m6=Oc&&(typeof TextEncoder=="function"?(n=>i=>n.encode(i))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),g4=(n,...i)=>{try{return!!n(...i)}catch{return!1}},y6=x4&&g4(()=>{let n=!1;const i=new Request(dr.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!i}),Vp=64*1024,Fd=x4&&g4(()=>Ae.isReadableStream(new Response("").body)),yc={stream:Fd&&(n=>n.body)};Oc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!yc[i]&&(yc[i]=Ae.isFunction(n[i])?s=>s[i]():(s,l)=>{throw new mt(`Response type '${i}' is not supported`,mt.ERR_NOT_SUPPORT,l)})})})(new Response);const E6=async n=>{if(n==null)return 0;if(Ae.isBlob(n))return n.size;if(Ae.isSpecCompliantForm(n))return(await new Request(dr.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Ae.isArrayBufferView(n)||Ae.isArrayBuffer(n))return n.byteLength;if(Ae.isURLSearchParams(n)&&(n=n+""),Ae.isString(n))return(await m6(n)).byteLength},v6=async(n,i)=>{const s=Ae.toFiniteNumber(n.getContentLength());return s??E6(i)},w6=Oc&&(async n=>{let{url:i,method:s,data:l,signal:d,cancelToken:f,timeout:m,onDownloadProgress:E,onUploadProgress:b,responseType:g,headers:w,withCredentials:C="same-origin",fetchOptions:D}=h4(n);g=g?(g+"").toLowerCase():"text";let T=h6([d,f&&f.toAbortSignal()],m),O;const N=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let B;try{if(b&&y6&&s!=="get"&&s!=="head"&&(B=await v6(w,l))!==0){let Q=new Request(i,{method:"POST",body:l,duplex:"half"}),q;if(Ae.isFormData(l)&&(q=Q.headers.get("content-type"))&&w.setContentType(q),Q.body){const[Y,ee]=jp(B,mc(zp(b)));l=qp(Q.body,Vp,Y,ee)}}Ae.isString(C)||(C=C?"include":"omit");const I="credentials"in Request.prototype;O=new Request(i,{...D,signal:T,method:s.toUpperCase(),headers:w.normalize().toJSON(),body:l,duplex:"half",credentials:I?C:void 0});let M=await fetch(O);const k=Fd&&(g==="stream"||g==="response");if(Fd&&(E||k&&N)){const Q={};["status","statusText","headers"].forEach(X=>{Q[X]=M[X]});const q=Ae.toFiniteNumber(M.headers.get("content-length")),[Y,ee]=E&&jp(q,mc(zp(E),!0))||[];M=new Response(qp(M.body,Vp,Y,()=>{ee&&ee(),N&&N()}),Q)}g=g||"text";let V=await yc[Ae.findKey(yc,g)||"text"](M,n);return!k&&N&&N(),await new Promise((Q,q)=>{f4(Q,q,{data:V,headers:Mr.from(M.headers),status:M.status,statusText:M.statusText,config:n,request:O})})}catch(I){throw N&&N(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new mt("Network Error",mt.ERR_NETWORK,n,O),{cause:I.cause||I}):mt.from(I,I&&I.code,n,O)}}),Pd={http:kC,xhr:d6,fetch:w6};Ae.forEach(Pd,(n,i)=>{if(n){try{Object.defineProperty(n,"name",{value:i})}catch{}Object.defineProperty(n,"adapterName",{value:i})}});const Gp=n=>`- ${n}`,b6=n=>Ae.isFunction(n)||n===null||n===!1,p4={getAdapter:n=>{n=Ae.isArray(n)?n:[n];const{length:i}=n;let s,l;const d={};for(let f=0;f<i;f++){s=n[f];let m;if(l=s,!b6(s)&&(l=Pd[(m=String(s)).toLowerCase()],l===void 0))throw new mt(`Unknown adapter '${m}'`);if(l)break;d[m||"#"+f]=l}if(!l){const f=Object.entries(d).map(([E,b])=>`adapter ${E} `+(b===!1?"is not supported by the environment":"is not available in the build"));let m=i?f.length>1?`since :
`+f.map(Gp).join(`
`):" "+Gp(f[0]):"as no adapter specified";throw new mt("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return l},adapters:Pd};function Q1(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ql(null,n)}function Yp(n){return Q1(n),n.headers=Mr.from(n.headers),n.data=W1.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),p4.getAdapter(n.adapter||ou.adapter)(n).then(function(l){return Q1(n),l.data=W1.call(n,n.transformResponse,l),l.headers=Mr.from(l.headers),l},function(l){return c4(l)||(Q1(n),l&&l.response&&(l.response.data=W1.call(n,n.transformResponse,l.response),l.response.headers=Mr.from(l.response.headers))),Promise.reject(l)})}const m4="1.8.4",Nc={};["object","boolean","number","function","string","symbol"].forEach((n,i)=>{Nc[n]=function(l){return typeof l===n||"a"+(i<1?"n ":" ")+n}});const Xp={};Nc.transitional=function(i,s,l){function d(f,m){return"[Axios v"+m4+"] Transitional option '"+f+"'"+m+(l?". "+l:"")}return(f,m,E)=>{if(i===!1)throw new mt(d(m," has been removed"+(s?" in "+s:"")),mt.ERR_DEPRECATED);return s&&!Xp[m]&&(Xp[m]=!0,console.warn(d(m," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(f,m,E):!0}};Nc.spelling=function(i){return(s,l)=>(console.warn(`${l} is likely a misspelling of ${i}`),!0)};function A6(n,i,s){if(typeof n!="object")throw new mt("options must be an object",mt.ERR_BAD_OPTION_VALUE);const l=Object.keys(n);let d=l.length;for(;d-- >0;){const f=l[d],m=i[f];if(m){const E=n[f],b=E===void 0||m(E,f,n);if(b!==!0)throw new mt("option "+f+" must be "+b,mt.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new mt("Unknown option "+f,mt.ERR_BAD_OPTION)}}const fc={assertOptions:A6,validators:Nc},Ui=fc.validators;let Ks=class{constructor(i){this.defaults=i,this.interceptors={request:new Pp,response:new Pp}}async request(i,s){try{return await this._request(i,s)}catch(l){if(l instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{l.stack?f&&!String(l.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+f):l.stack=f}catch{}}throw l}}_request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=Js(this.defaults,s);const{transitional:l,paramsSerializer:d,headers:f}=s;l!==void 0&&fc.assertOptions(l,{silentJSONParsing:Ui.transitional(Ui.boolean),forcedJSONParsing:Ui.transitional(Ui.boolean),clarifyTimeoutError:Ui.transitional(Ui.boolean)},!1),d!=null&&(Ae.isFunction(d)?s.paramsSerializer={serialize:d}:fc.assertOptions(d,{encode:Ui.function,serialize:Ui.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),fc.assertOptions(s,{baseUrl:Ui.spelling("baseURL"),withXsrfToken:Ui.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let m=f&&Ae.merge(f.common,f[s.method]);f&&Ae.forEach(["delete","get","head","post","put","patch","common"],O=>{delete f[O]}),s.headers=Mr.concat(m,f);const E=[];let b=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(b=b&&N.synchronous,E.unshift(N.fulfilled,N.rejected))});const g=[];this.interceptors.response.forEach(function(N){g.push(N.fulfilled,N.rejected)});let w,C=0,D;if(!b){const O=[Yp.bind(this),void 0];for(O.unshift.apply(O,E),O.push.apply(O,g),D=O.length,w=Promise.resolve(s);C<D;)w=w.then(O[C++],O[C++]);return w}D=E.length;let T=s;for(C=0;C<D;){const O=E[C++],N=E[C++];try{T=O(T)}catch(B){N.call(this,B);break}}try{w=Yp.call(this,T)}catch(O){return Promise.reject(O)}for(C=0,D=g.length;C<D;)w=w.then(g[C++],g[C++]);return w}getUri(i){i=Js(this.defaults,i);const s=d4(i.baseURL,i.url,i.allowAbsoluteUrls);return l4(s,i.params,i.paramsSerializer)}};Ae.forEach(["delete","get","head","options"],function(i){Ks.prototype[i]=function(s,l){return this.request(Js(l||{},{method:i,url:s,data:(l||{}).data}))}});Ae.forEach(["post","put","patch"],function(i){function s(l){return function(f,m,E){return this.request(Js(E||{},{method:i,headers:l?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}Ks.prototype[i]=s(),Ks.prototype[i+"Form"]=s(!0)});let C6=class y4{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(f){s=f});const l=this;this.promise.then(d=>{if(!l._listeners)return;let f=l._listeners.length;for(;f-- >0;)l._listeners[f](d);l._listeners=null}),this.promise.then=d=>{let f;const m=new Promise(E=>{l.subscribe(E),f=E}).then(d);return m.cancel=function(){l.unsubscribe(f)},m},i(function(f,m,E){l.reason||(l.reason=new Ql(f,m,E),s(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const i=new AbortController,s=l=>{i.abort(l)};return this.subscribe(s),i.signal.unsubscribe=()=>this.unsubscribe(s),i.signal}static source(){let i;return{token:new y4(function(d){i=d}),cancel:i}}};function S6(n){return function(s){return n.apply(null,s)}}function T6(n){return Ae.isObject(n)&&n.isAxiosError===!0}const Ud={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ud).forEach(([n,i])=>{Ud[i]=n});function E4(n){const i=new Ks(n),s=Qy(Ks.prototype.request,i);return Ae.extend(s,Ks.prototype,i,{allOwnKeys:!0}),Ae.extend(s,i,null,{allOwnKeys:!0}),s.create=function(d){return E4(Js(n,d))},s}const Nn=E4(ou);Nn.Axios=Ks;Nn.CanceledError=Ql;Nn.CancelToken=C6;Nn.isCancel=c4;Nn.VERSION=m4;Nn.toFormData=Dc;Nn.AxiosError=mt;Nn.Cancel=Nn.CanceledError;Nn.all=function(i){return Promise.all(i)};Nn.spread=S6;Nn.isAxiosError=T6;Nn.mergeConfig=Js;Nn.AxiosHeaders=Mr;Nn.formToJSON=n=>u4(Ae.isHTMLForm(n)?new FormData(n):n);Nn.getAdapter=p4.getAdapter;Nn.HttpStatusCode=Ud;Nn.default=Nn;const{Axios:gT,AxiosError:pT,CanceledError:mT,isCancel:yT,CancelToken:ET,VERSION:vT,all:wT,Cancel:bT,isAxiosError:AT,spread:CT,toFormData:ST,AxiosHeaders:TT,HttpStatusCode:_T,formToJSON:DT,getAdapter:OT,mergeConfig:NT}=Nn;var qs={},ga={},K1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Zp;function hi(){return Zp||(Zp=1,function(n){(function(){var i={}.hasOwnProperty;function s(){for(var f="",m=0;m<arguments.length;m++){var E=arguments[m];E&&(f=d(f,l(E)))}return f}function l(f){if(typeof f=="string"||typeof f=="number")return f;if(typeof f!="object")return"";if(Array.isArray(f))return s.apply(null,f);if(f.toString!==Object.prototype.toString&&!f.toString.toString().includes("[native code]"))return f.toString();var m="";for(var E in f)i.call(f,E)&&f[E]&&(m=d(m,E));return m}function d(f,m){return m?f?f+" "+m:f+m:f}n.exports?(s.default=s,n.exports=s):window.classNames=s})()}(K1)),K1.exports}var Vs={},Wp;function dh(){if(Wp)return Vs;Wp=1;var n=Vs&&Vs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.useFrame=void 0;const i=n(jn()),s=l=>i.default.useMemo(()=>l||{document:typeof document<"u"?document:void 0,window:typeof window<"u"?window:void 0},[l]);return Vs.useFrame=s,Vs}var pa={},ma={},Qp;function ds(){if(Qp)return ma;Qp=1;var n=ma&&ma.__rest||function(f,m){var E={};for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&m.indexOf(b)<0&&(E[b]=f[b]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,b=Object.getOwnPropertySymbols(f);g<b.length;g++)m.indexOf(b[g])<0&&Object.prototype.propertyIsEnumerable.call(f,b[g])&&(E[b[g]]=f[b[g]]);return E},i=ma&&ma.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ma,"__esModule",{value:!0}),ma.EmbedStyle=void 0;const s=i(hi()),l=i(jn()),d=f=>{var m=n(f,[]);return l.default.createElement("style",Object.assign({},m,{className:(0,s.default)(m.className),style:Object.assign({},m.style)}),`
        .rsme-embed .rsme-d-none {
          display: none;
        }
    
        .rsme-embed .twitter-tweet {
          margin: 0 !important;
        }
    
        .rsme-embed blockquote {
          margin: 0 !important;
          padding: 0 !important;
        }

        .rsme-embed.rsme-facebook-embed .fb-post iframe {
          width: 100% !important;
        }

        .rsme-embed.rsme-facebook-embed .fb-post span {
          width: 100% !important;
        }
      `)};return ma.EmbedStyle=d,ma}var ya={},Kp;function v4(){if(Kp)return ya;Kp=1;var n=ya&&ya.__rest||function(f,m){var E={};for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&m.indexOf(b)<0&&(E[b]=f[b]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,b=Object.getOwnPropertySymbols(f);g<b.length;g++)m.indexOf(b[g])<0&&Object.prototype.propertyIsEnumerable.call(f,b[g])&&(E[b[g]]=f[b[g]]);return E},i=ya&&ya.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ya,"__esModule",{value:!0}),ya.BorderSpinner=void 0;const s=i(hi()),l=i(jn()),d=f=>{var m=n(f,[]);return l.default.createElement(l.default.Fragment,null,l.default.createElement("style",null,`
        .rsme-spinner {
          border: 3px solid rgba(0,0,0,0.75);
          border-right-color: transparent;
          border-radius: 50%;
          animation: rsme-spin 1s linear infinite;
        }
        @keyframes rsme-spin {
          0% {
            transform: rotate(0deg);
          }
          100% {
            transform: rotate(360deg);
          }
        }  
      `),l.default.createElement("div",Object.assign({},m,{className:(0,s.default)("rsme-spinner",m.className),style:Object.assign({width:10,height:10},m.style)})))};return ya.BorderSpinner=d,ya}var Gs={},Jp;function _6(){return Jp||(Jp=1,function(n){var i=Gs&&Gs.__rest||function(g,w){var C={};for(var D in g)Object.prototype.hasOwnProperty.call(g,D)&&w.indexOf(D)<0&&(C[D]=g[D]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var T=0,D=Object.getOwnPropertySymbols(g);T<D.length;T++)w.indexOf(D[T])<0&&Object.prototype.propertyIsEnumerable.call(g,D[T])&&(C[D[T]]=g[D[T]]);return C},s=Gs&&Gs.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(n,"__esModule",{value:!0}),n.ShareArrowIcon=n.ChatBubbleIcon=n.HeartIcon=n.EngagementIconsPlaceholder=void 0;const l=s(hi()),d=s(jn()),f=g=>{var w=i(g,[]);return d.default.createElement("div",Object.assign({},w,{className:(0,l.default)(w.className),style:Object.assign({display:"flex",alignItems:"center",columnGap:14},w.style)}),d.default.createElement(n.HeartIcon,null),d.default.createElement(n.ChatBubbleIcon,null),d.default.createElement(n.ShareArrowIcon,null))};n.EngagementIconsPlaceholder=f;const m=g=>d.default.createElement("div",Object.assign({},g),d.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(0px) translateY(7px)"}}),d.default.createElement("div",{style:{backgroundColor:"#F4F4F4",height:"12.5px",transform:"rotate(-45deg) translateX(3px) translateY(1px)",width:"12.5px",flexGrow:0,marginRight:"6px",marginLeft:"2px"}}),d.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"12.5px",width:"12.5px",transform:"translateX(9px) translateY(-18px)"}}));n.HeartIcon=m;const E=g=>d.default.createElement("div",Object.assign({},g),d.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",height:"20px",width:"20px"}}),d.default.createElement("div",{style:{width:0,height:0,borderTop:"2px solid transparent",borderLeft:"6px solid #f4f4f4",borderBottom:"2px solid transparent",transform:"translateX(16px) translateY(-4px) rotate(30deg)"}}));n.ChatBubbleIcon=E;const b=g=>d.default.createElement("div",Object.assign({},g,{style:{height:25,width:25,transform:"translateX(0px) translateY(-2px)"}}),d.default.createElement("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve"},d.default.createElement("path",{style:{fill:"#F4F4F4"},d:`M295.204,180.593C132.168,180.593,0,312.759,0,475.796
c51.398-130.047,184.869-203.22,317.483-183.603L295.204,180.593z`}),d.default.createElement("path",{style:{fill:"#F4F4F4"},d:`M512,253L295.204,36.204v217.818C159.946,249.655,34.992,339.262,0,475.794
c59.905-109.171,178.724-165.463,295.204-151.033v145.035L512,253z`})));n.ShareArrowIcon=b}(Gs)),Gs}var Ea={},$p;function D6(){if($p)return Ea;$p=1;var n=Ea&&Ea.__rest||function(f,m){var E={};for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&m.indexOf(b)<0&&(E[b]=f[b]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,b=Object.getOwnPropertySymbols(f);g<b.length;g++)m.indexOf(b[g])<0&&Object.prototype.propertyIsEnumerable.call(f,b[g])&&(E[b[g]]=f[b[g]]);return E},i=Ea&&Ea.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.ProfilePlaceholder=void 0;const s=i(hi()),l=i(jn()),d=f=>{var m=n(f,[]);return l.default.createElement("div",Object.assign({},m,{className:(0,s.default)(m.className),style:Object.assign({},m.style)}),l.default.createElement("div",{style:{display:"flex",columnGap:14}},l.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:"50%",width:40,height:40}}),l.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",rowGap:6}},l.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:4,width:100,height:14}}),l.default.createElement("div",{style:{backgroundColor:"#F4F4F4",borderRadius:4,width:60,height:14}}))))};return Ea.ProfilePlaceholder=d,Ea}var em;function hs(){if(em)return pa;em=1;var n=pa&&pa.__rest||function(w,C){var D={};for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&C.indexOf(T)<0&&(D[T]=w[T]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,T=Object.getOwnPropertySymbols(w);O<T.length;O++)C.indexOf(T[O])<0&&Object.prototype.propertyIsEnumerable.call(w,T[O])&&(D[T[O]]=w[T[O]]);return D},i=pa&&pa.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(pa,"__esModule",{value:!0}),pa.PlaceholderEmbed=void 0;const s=i(hi()),l=i(jn()),d=ds(),f=v4(),m=_6(),E=D6(),b=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,g=w=>{var C,{url:D,linkText:T="View post",imageUrl:O,spinner:N=l.default.createElement(f.BorderSpinner,null),allowJavaScriptUrls:B=!0,spinnerDisabled:I}=w,M=n(w,["url","linkText","imageUrl","spinner","allowJavaScriptUrls","spinnerDisabled"]);return b.test(D)&&!B?(console.warn("PlaceholderEmbed has blocked a javascript: URL as a security precaution"),null):l.default.createElement("div",Object.assign({},M,{className:(0,s.default)(M.className),style:Object.assign({overflow:"hidden",border:"1px solid #dee2e6",backgroundColor:"#ffffff",borderRadius:0,boxSizing:"border-box",position:"relative"},M.style)}),l.default.createElement(d.EmbedStyle,null),l.default.createElement("a",{href:D,style:{textDecoration:"none"},target:"_blank",rel:"noopener noreferrer"},!O&&l.default.createElement("div",{style:{position:"absolute",top:0,left:0,display:"flex",justifyContent:"space-between",alignItems:"start",paddingLeft:16,paddingRight:16,paddingTop:16,paddingBottom:16,zIndex:2,backgroundColor:"#ffffff"}},l.default.createElement(E.ProfilePlaceholder,null)),l.default.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:O?"start":"center",height:"100%",width:"100%"}},!O&&l.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",rowGap:16,zIndex:3,padding:8,backgroundColor:"#ffffff"}},!I&&N,!!T&&l.default.createElement("div",{style:{color:"#000000",fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",fontWeight:550,lineHeight:"18px",textAlign:"center"}},T)),O&&(typeof((C=M.style)===null||C===void 0?void 0:C.height)<"u"?l.default.createElement("div",{style:{width:"100%",height:"100%",background:`url("${O}")`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",marginBottom:"40"}}):l.default.createElement("div",{style:{width:"100%",marginBottom:40}},l.default.createElement("img",{src:O,style:{width:"100%"}})))),l.default.createElement("div",{style:{position:"absolute",bottom:0,left:0,height:40,width:"100%",backgroundColor:"#ffffff",zIndex:1}},!O&&l.default.createElement(m.EngagementIconsPlaceholder,{style:{marginLeft:16}}),O&&l.default.createElement("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"space-between",columnGap:16}},l.default.createElement("div",{style:{color:"#0095f6",fontWeight:600,fontFamily:"Arial,sans-serif",fontSize:"14px",fontStyle:"normal",whiteSpace:"nowrap",marginLeft:16}},T),!I&&l.default.createElement("div",{style:{marginRight:16}},N)))))};return pa.PlaceholderEmbed=g,pa}var Wo={},tm;function hh(){if(tm)return Wo;tm=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.generateUUID=void 0;const n=()=>{let i=new Date().getTime(),s=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){let d=Math.random()*16;return i>0?(d=(i+d)%16|0,i=Math.floor(i/16)):(d=(s+d)%16|0,s=Math.floor(s/16)),(l==="x"?d:d&3|8).toString(16)})};return Wo.generateUUID=n,Wo}var Ys={},nm;function xh(){if(nm)return Ys;nm=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.Subs=Ys.Subscribe=void 0;class n{static subscribe(l){try{return l()}catch(d){console.error(d)}return()=>{}}static subscribeEvent(l,d,f){return l.addListener(d,f),()=>{l.removeListener(d,f)}}static subscribeDOMEvent(l,d,f,m){return l.addEventListener(d,f,m),()=>{l.removeEventListener(d,f,m)}}static setTimeout(l,d,...f){const m=setTimeout(l,d,f);return()=>clearTimeout(m)}static setInterval(l,d,...f){const m=setInterval(l,d,f);return()=>clearInterval(m)}static unsubAll(l){if(Array.isArray(l))l.forEach(d=>{try{d()}catch(f){console.error(f)}});else try{l()}catch(d){console.error(d)}}static createCleanup(l){return()=>n.unsubAll(l)}}Ys.Subscribe=n;class i{constructor(l=[]){this.list=l}subscribe(l){const d=n.subscribe(l);return this.push(d),d}subscribeEvent(l,d,f){const m=n.subscribeEvent(l,d,f);return this.push(m),m}subscribeDOMEvent(l,d,f){const m=n.subscribeDOMEvent(l,d,f);return this.push(m),m}setTimeout(l,d,...f){const m=setTimeout(l,d,f),E=()=>clearTimeout(m);return this.push(E),E}setInterval(l,d,...f){const m=setInterval(l,d,f),E=()=>clearInterval(m);return this.push(E),E}push(l){this.list.push(l)}unsubAll(){n.unsubAll(this.list),this.list.splice(0,this.list.length)}createCleanup(){return()=>{this.unsubAll()}}}return Ys.Subs=i,Ys}var rm;function O6(){if(rm)return ga;rm=1;var n=ga&&ga.__rest||function(q,Y){var ee={};for(var X in q)Object.prototype.hasOwnProperty.call(q,X)&&Y.indexOf(X)<0&&(ee[X]=q[X]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Z=0,X=Object.getOwnPropertySymbols(q);Z<X.length;Z++)Y.indexOf(X[Z])<0&&Object.prototype.propertyIsEnumerable.call(q,X[Z])&&(ee[X[Z]]=q[X[Z]]);return ee},i=ga&&ga.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(ga,"__esModule",{value:!0}),ga.FacebookEmbed=void 0;const s=i(hi()),l=i(jn()),d=dh(),f=hs(),m=hh(),E=ds(),b=xh(),g="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v16.0",w=550,C=w,D=372,T=3,O="check-script",N="load-script",B="confirm-script-loaded",I="process-embed",M="confirm-embed-success",k="retrying",V="embed-success",Q=q=>{var Y,ee,{url:X,width:Z,height:K,linkText:$="View post on Facebook",placeholderImageUrl:ne,placeholderSpinner:de,placeholderSpinnerDisabled:te=!1,placeholderProps:fe,embedPlaceholder:we,placeholderDisabled:_e=!1,scriptLoadDisabled:ke=!1,retryDelay:F=5e3,retryDisabled:ie=!1,frame:oe=void 0,debug:j=!1}=q,se=n(q,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","frame","debug"]);const[Le,me]=l.default.useState(O),st=l.default.useMemo(()=>Le===V,[Le]),Te=l.default.useRef((0,m.generateUUID)()),[Ye,Ze]=l.default.useState(Date.now()),ct=l.default.useMemo(()=>`${Te.current}-${Ye}`,[Ye]),ft=(0,d.useFrame)(oe);l.default.useEffect(()=>{j&&console.log(`[${new Date().toISOString()}]: ${Le}`)},[j,Le]),l.default.useEffect(()=>{var rt,Ke,Xe;Le===O&&(!((Xe=(Ke=(rt=ft.window)===null||rt===void 0?void 0:rt.FB)===null||Ke===void 0?void 0:Ke.XFBML)===null||Xe===void 0)&&Xe.parse?me(I):ke?console.error("Facebook embed script not found. Unable to process Facebook embed:",X):me(N))},[ke,Le,X,ft.window]),l.default.useEffect(()=>{if(Le===N&&ft.document){const rt=ft.document.createElement("script");rt.setAttribute("src",g),ft.document.head.appendChild(rt),me(B)}},[Le,ft.document]),l.default.useEffect(()=>{const rt=new b.Subs;return Le===B&&rt.setInterval(()=>{var Ke,Xe,an;!((an=(Xe=(Ke=ft.window)===null||Ke===void 0?void 0:Ke.FB)===null||Xe===void 0?void 0:Xe.XFBML)===null||an===void 0)&&an.parse&&me(I)},1),rt.createCleanup()},[Le,ft.window]),l.default.useEffect(()=>{var rt,Ke,Xe;if(Le===I){const an=(Xe=(Ke=(rt=ft.window)===null||rt===void 0?void 0:rt.FB)===null||Ke===void 0?void 0:Ke.XFBML)===null||Xe===void 0?void 0:Xe.parse;an?(an(),me(M)):console.error("Facebook embed script not found. Unable to process Facebook embed:",X)}},[Le,X,ft.window]),l.default.useEffect(()=>{const rt=new b.Subs;return Le===M&&(rt.setInterval(()=>{if(ft.document){const Ke=ft.document.getElementById(Te.current);if(Ke){const Xe=Ke.getElementsByClassName("fb-post")[0];Xe&&Xe.children.length>0&&me(V)}}},1),ie||rt.setTimeout(()=>{me(k)},F)),rt.createCleanup()},[ie,F,Le,ft.document]),l.default.useEffect(()=>{Le===k&&(Ze(Date.now()),me(I))},[Le]);const He=!!(Z!=null&&Z.toString().includes("%")),gt=!!(K!=null&&K.toString().includes("%")),yt={maxWidth:He?void 0:C,width:typeof Z<"u"?He?"100%":Z:"100%",height:gt?"100%":typeof K<"u"?K:typeof((Y=se.style)===null||Y===void 0?void 0:Y.height)<"u"||typeof((ee=se.style)===null||ee===void 0?void 0:ee.maxHeight)<"u"?"100%":D,border:"1px solid #dee2e6",borderRadius:T},Wt=we??l.default.createElement(f.PlaceholderEmbed,Object.assign({url:X,imageUrl:ne,linkText:$,spinner:de,spinnerDisabled:te},fe,{style:Object.assign(Object.assign({},yt),fe==null?void 0:fe.style)}));return l.default.createElement("div",Object.assign({},se,{className:(0,s.default)("rsme-embed rsme-facebook-embed",se.className),style:Object.assign({overflow:"hidden",width:Z??void 0,height:K??void 0,borderRadius:T},se.style)}),l.default.createElement(E.EmbedStyle,null),l.default.createElement("div",{id:Te.current,className:(0,s.default)(!st&&"rsme-d-none")},l.default.createElement("div",{key:ct,className:"fb-post","data-href":X,"data-width":He?"100%":Z??w,style:{width:He?"100%":Z??w,height:gt?"100%":K??void 0}})),!st&&!_e&&Wt)};return ga.FacebookEmbed=Q,ga}var br={},im;function N6(){if(im)return br;im=1;var n=br&&br.__createBinding||(Object.create?function(ee,X,Z,K){K===void 0&&(K=Z);var $=Object.getOwnPropertyDescriptor(X,Z);(!$||("get"in $?!X.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return X[Z]}}),Object.defineProperty(ee,K,$)}:function(ee,X,Z,K){K===void 0&&(K=Z),ee[K]=X[Z]}),i=br&&br.__setModuleDefault||(Object.create?function(ee,X){Object.defineProperty(ee,"default",{enumerable:!0,value:X})}:function(ee,X){ee.default=X}),s=br&&br.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var X={};if(ee!=null)for(var Z in ee)Z!=="default"&&Object.prototype.hasOwnProperty.call(ee,Z)&&n(X,ee,Z);return i(X,ee),X},l=br&&br.__rest||function(ee,X){var Z={};for(var K in ee)Object.prototype.hasOwnProperty.call(ee,K)&&X.indexOf(K)<0&&(Z[K]=ee[K]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,K=Object.getOwnPropertySymbols(ee);$<K.length;$++)X.indexOf(K[$])<0&&Object.prototype.propertyIsEnumerable.call(ee,K[$])&&(Z[K[$]]=ee[K[$]]);return Z},d=br&&br.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(br,"__esModule",{value:!0}),br.InstagramEmbed=void 0;const f=d(hi()),m=s(jn()),E=xh(),b=dh(),g=hs(),w=hh(),C=ds(),D="https://www.instagram.com/embed.js",T=328,O=372,N=3,B="check-script",I="load-script",M="confirm-script-loaded",k="process-embed",V="confirm-embed-success",Q="retrying",q="embed-success",Y=ee=>{var X,Z,{url:K,width:$,height:ne,linkText:de="View post on Instagram",captioned:te=!1,placeholderImageUrl:fe,placeholderSpinner:we,placeholderSpinnerDisabled:_e=!1,placeholderProps:ke,embedPlaceholder:F,placeholderDisabled:ie=!1,scriptLoadDisabled:oe=!1,retryDelay:j=5e3,retryDisabled:se=!1,igVersion:Le="14",frame:me=void 0,debug:st=!1}=ee,Te=l(ee,["url","width","height","linkText","captioned","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","igVersion","frame","debug"]);const[Ye,Ze]=m.useState(B),ct=m.useRef((0,w.generateUUID)()),[ft,He]=m.useState(Date.now()),gt=m.useMemo(()=>`${ct.current}-${ft}`,[ft]),yt=(0,b.useFrame)(me);m.useEffect(()=>{st&&console.log(`[${new Date().toISOString()}]: ${Ye}`)},[st,Ye]),m.useEffect(()=>{var wt,Qt,bt;Ye===B&&(!((bt=(Qt=(wt=yt.window)===null||wt===void 0?void 0:wt.instgrm)===null||Qt===void 0?void 0:Qt.Embeds)===null||bt===void 0)&&bt.process?Ze(k):oe?console.error("Instagram embed script not found. Unable to process Instagram embed:",K):Ze(I))},[oe,Ye,K,yt.window]),m.useEffect(()=>{if(Ye===I&&yt.document){const wt=yt.document.createElement("script");wt.setAttribute("src",D),yt.document.head.appendChild(wt),Ze(M)}},[Ye,yt.document]),m.useEffect(()=>{const wt=new E.Subs;return Ye===M&&wt.setInterval(()=>{var Qt,bt,$n;!(($n=(bt=(Qt=yt.window)===null||Qt===void 0?void 0:Qt.instgrm)===null||bt===void 0?void 0:bt.Embeds)===null||$n===void 0)&&$n.process&&Ze(k)},1),wt.createCleanup()},[Ye,yt.window]),m.useEffect(()=>{var wt,Qt,bt;if(Ye===k){const $n=(bt=(Qt=(wt=yt.window)===null||wt===void 0?void 0:wt.instgrm)===null||Qt===void 0?void 0:Qt.Embeds)===null||bt===void 0?void 0:bt.process;$n?($n(),Ze(V)):console.error("Instagram embed script not found. Unable to process Instagram embed:",K)}},[Ye,yt.window,K]),m.useEffect(()=>{const wt=new E.Subs;return Ye===V&&(wt.setInterval(()=>{yt.document&&(yt.document.getElementById(ct.current)||Ze(q))},1),se||wt.setTimeout(()=>{Ze(Q)},j)),wt.createCleanup()},[j,se,Ye,yt.document]),m.useEffect(()=>{Ye===Q&&(He(Date.now()),Ze(k))},[Ye]);const Wt=K.split(/[?#]/)[0].replace(/\.com\/.*?\/p/,".com/p").replace(/\.com\/.*?\/reel/,".com/reel"),rt=`${Wt}${Wt.endsWith("/")?"":"/"}`,Ke=!!($!=null&&$.toString().includes("%")),Xe=!!(ne!=null&&ne.toString().includes("%")),an={minWidth:Ke?void 0:T,width:typeof $<"u"?Ke?"100%":$:"100%",height:Xe?"100%":typeof ne<"u"?ne:typeof((X=Te.style)===null||X===void 0?void 0:X.height)<"u"||typeof((Z=Te.style)===null||Z===void 0?void 0:Z.maxHeight)<"u"?"100%":O,border:"1px solid #dee2e6",borderRadius:N},je=F??m.createElement(g.PlaceholderEmbed,Object.assign({url:rt,imageUrl:fe,linkText:de,spinner:we,spinnerDisabled:_e},ke,{style:Object.assign(Object.assign({},an),ke==null?void 0:ke.style)}));return m.createElement("div",Object.assign({},Te,{className:(0,f.default)("rsme-embed rsme-instagram-embed",ct.current,Te.className),style:Object.assign(Object.assign({overflow:"hidden",width:$??void 0,height:ne??void 0,borderRadius:N},Te.style),{position:"relative"})}),m.createElement(C.EmbedStyle,null),m.createElement("blockquote",{key:gt,className:"instagram-media","data-instgrm-permalink":`${rt}?utm_source=ig_embed&utm_campaign=loading`,"data-instgrm-version":Le,"data-instgrm-captioned":te||void 0,"data-width":Ke?"100%":$??void 0,style:{width:"calc(100% - 2px)"}},!ie&&je,m.createElement("div",{id:ct.current,className:"instagram-media-pre-embed rsme-d-none"},"")))};return br.InstagramEmbed=Y,br}var Ar={},am;function B6(){if(am)return Ar;am=1;var n=Ar&&Ar.__createBinding||(Object.create?function(O,N,B,I){I===void 0&&(I=B);var M=Object.getOwnPropertyDescriptor(N,B);(!M||("get"in M?!N.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return N[B]}}),Object.defineProperty(O,I,M)}:function(O,N,B,I){I===void 0&&(I=B),O[I]=N[B]}),i=Ar&&Ar.__setModuleDefault||(Object.create?function(O,N){Object.defineProperty(O,"default",{enumerable:!0,value:N})}:function(O,N){O.default=N}),s=Ar&&Ar.__importStar||function(O){if(O&&O.__esModule)return O;var N={};if(O!=null)for(var B in O)B!=="default"&&Object.prototype.hasOwnProperty.call(O,B)&&n(N,O,B);return i(N,O),N},l=Ar&&Ar.__rest||function(O,N){var B={};for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&N.indexOf(I)<0&&(B[I]=O[I]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,I=Object.getOwnPropertySymbols(O);M<I.length;M++)N.indexOf(I[M])<0&&Object.prototype.propertyIsEnumerable.call(O,I[M])&&(B[I[M]]=O[I[M]]);return B},d=Ar&&Ar.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.LinkedInEmbed=void 0;const f=d(hi()),m=s(jn()),E=hs(),b=ds(),g=250,w=550,C=550,D=8,T=O=>{var N,B,{url:I,postUrl:M,width:k,height:V=500,linkText:Q="View post on LinkedIn",placeholderImageUrl:q,placeholderSpinner:Y,placeholderSpinnerDisabled:ee=!1,placeholderProps:X,embedPlaceholder:Z,placeholderDisabled:K=!1}=O,$=l(O,["url","postUrl","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled"]);const[ne,de]=m.useState(!1),te={minWidth:g,maxWidth:w,width:typeof k<"u"?k:"100%",height:typeof V<"u"?V:typeof((N=$.style)===null||N===void 0?void 0:N.height)<"u"||typeof((B=$.style)===null||B===void 0?void 0:B.maxHeight)<"u"?"100%":C,border:"solid 1px rgba(0, 0, 0, 0.15)",borderRadius:D},fe=Z??m.createElement(E.PlaceholderEmbed,Object.assign({url:M??I,imageUrl:q,linkText:Q,spinner:Y,spinnerDisabled:ee},X,{style:Object.assign(Object.assign({},te),X==null?void 0:X.style)}));return m.createElement("div",Object.assign({},$,{className:(0,f.default)("rsme-embed rsme-linkedin-embed",$.className),style:Object.assign({overflow:"hidden",width:k??void 0,height:V??void 0,borderRadius:D},$.style)}),m.createElement(b.EmbedStyle,null),m.createElement("iframe",{className:(0,f.default)("linkedin-post",!ne&&"rsme-d-none"),src:I,width:"100%",height:ne?V:0,frameBorder:"0",onLoad:()=>de(!0)}),!ne&&!K&&fe)};return Ar.LinkedInEmbed=T,Ar}var Cr={},sm;function R6(){if(sm)return Cr;sm=1;var n=Cr&&Cr.__createBinding||(Object.create?function(O,N,B,I){I===void 0&&(I=B);var M=Object.getOwnPropertyDescriptor(N,B);(!M||("get"in M?!N.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return N[B]}}),Object.defineProperty(O,I,M)}:function(O,N,B,I){I===void 0&&(I=B),O[I]=N[B]}),i=Cr&&Cr.__setModuleDefault||(Object.create?function(O,N){Object.defineProperty(O,"default",{enumerable:!0,value:N})}:function(O,N){O.default=N}),s=Cr&&Cr.__importStar||function(O){if(O&&O.__esModule)return O;var N={};if(O!=null)for(var B in O)B!=="default"&&Object.prototype.hasOwnProperty.call(O,B)&&n(N,O,B);return i(N,O),N},l=Cr&&Cr.__rest||function(O,N){var B={};for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&N.indexOf(I)<0&&(B[I]=O[I]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,I=Object.getOwnPropertySymbols(O);M<I.length;M++)N.indexOf(I[M])<0&&Object.prototype.propertyIsEnumerable.call(O,I[M])&&(B[I[M]]=O[I[M]]);return B},d=Cr&&Cr.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.PinterestEmbed=void 0;const f=d(hi()),m=s(jn()),E=hs(),b=ds(),g=250,w=550,C=550,D=8,T=O=>{var N,B,I,{url:M,postUrl:k,width:V,height:Q=500,linkText:q="View post on Pinterest",placeholderImageUrl:Y,placeholderSpinner:ee,placeholderSpinnerDisabled:X=!1,placeholderProps:Z,embedPlaceholder:K,placeholderDisabled:$=!1}=O,ne=l(O,["url","postUrl","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled"]);const[de,te]=m.useState(!1),fe={minWidth:g,maxWidth:w,width:typeof V<"u"?V:"100%",height:typeof Q<"u"?Q:typeof((N=ne.style)===null||N===void 0?void 0:N.height)<"u"||typeof((B=ne.style)===null||B===void 0?void 0:B.maxHeight)<"u"?"100%":C,border:"solid 1px rgba(0, 0, 0, 0.15)",borderRadius:D},we=K??m.createElement(E.PlaceholderEmbed,Object.assign({url:k??M,imageUrl:Y,linkText:q,spinner:ee,spinnerDisabled:X},Z,{style:Object.assign(Object.assign({},fe),Z==null?void 0:Z.style)})),_e=(I=M.match(/pin\/([\w\d_-]+)/))===null||I===void 0?void 0:I[1],ke=_e??"000000000000000000";return m.createElement("div",Object.assign({},ne,{className:(0,f.default)("rsme-embed rsme-pinterest-embed",ne.className),style:Object.assign({overflow:"hidden",width:V??void 0,height:Q??void 0,borderRadius:D},ne.style)}),m.createElement(b.EmbedStyle,null),m.createElement("iframe",{className:(0,f.default)("pinterest-post",!de&&"rsme-d-none"),src:`https://assets.pinterest.com/ext/embed.html?id=${ke}`,width:"100%",height:de?Q:0,frameBorder:"0",scrolling:"no",onLoad:()=>te(!0)}),!de&&!$&&we)};return Cr.PinterestEmbed=T,Cr}var va={},lm;function I6(){if(lm)return va;lm=1;var n=va&&va.__rest||function(k,V){var Q={};for(var q in k)Object.prototype.hasOwnProperty.call(k,q)&&V.indexOf(q)<0&&(Q[q]=k[q]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Y=0,q=Object.getOwnPropertySymbols(k);Y<q.length;Y++)V.indexOf(q[Y])<0&&Object.prototype.propertyIsEnumerable.call(k,q[Y])&&(Q[q[Y]]=k[q[Y]]);return Q},i=va&&va.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(va,"__esModule",{value:!0}),va.TikTokEmbed=void 0;const s=i(hi()),l=i(jn()),d=xh(),f=dh(),m=hs(),E=hh(),b=ds(),g="https://www.tiktok.com/embed.js",w=325,C=480,D=550,T=8,O="process-embed",N="confirm-embed-success",B="retrying",I="embed-success",M=k=>{var V,Q,{url:q,width:Y,height:ee,linkText:X="View post on TikTok",placeholderImageUrl:Z,placeholderSpinner:K,placeholderSpinnerDisabled:$=!1,placeholderProps:ne,embedPlaceholder:de,placeholderDisabled:te=!1,scriptLoadDisabled:fe=!1,retryDelay:we=5e3,retryDisabled:_e=!1,frame:ke=void 0,debug:F=!1}=k,ie=n(k,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","scriptLoadDisabled","retryDelay","retryDisabled","frame","debug"]);const[oe,j]=l.default.useState(O),se=l.default.useRef((0,E.generateUUID)()),[Le,me]=l.default.useState(Date.now()),st=l.default.useMemo(()=>`${se.current}-${Le}`,[Le]),Te=(0,f.useFrame)(ke);l.default.useEffect(()=>{F&&console.log(`[${new Date().toISOString()}]: ${oe}`)},[F,oe]),l.default.useEffect(()=>{if(oe===O&&Te.document&&!fe){const ft="tiktok-embed-script",He=Te.document.getElementById(ft);He&&He.remove();const gt=Te.document.createElement("script");gt.setAttribute("src",`${g}?t=${Date.now()}`),gt.setAttribute("id",ft),Te.document.head.appendChild(gt),j(N)}},[fe,oe,Te.document]),l.default.useEffect(()=>{const ft=new d.Subs;return oe===N&&(ft.setInterval(()=>{Te.document&&(Te.document.getElementById(se.current)||j(I))},1),_e||ft.setTimeout(()=>{j(B)},we)),ft.createCleanup()},[we,_e,oe,Te.document]),l.default.useEffect(()=>{oe===B&&(me(Date.now()),j(O))},[oe]);const Ye=q.replace(/[?].*$/,"").replace(/^.+\//,""),Ze={minWidth:w,maxWidth:C,width:typeof Y<"u"?Y:"100%",height:typeof ee<"u"?ee:typeof((V=ie.style)===null||V===void 0?void 0:V.height)<"u"||typeof((Q=ie.style)===null||Q===void 0?void 0:Q.maxHeight)<"u"?"100%":D,border:"solid 1px rgba(22,24,35,0.12)",borderRadius:T},ct=de??l.default.createElement(m.PlaceholderEmbed,Object.assign({url:q,imageUrl:Z,linkText:X,spinner:K,spinnerDisabled:$},ne,{style:Object.assign(Object.assign({},Ze),ne==null?void 0:ne.style)}));return l.default.createElement("div",Object.assign({},ie,{className:(0,s.default)("rsme-embed rsme-tiktok-embed",ie.className),style:Object.assign({overflow:"hidden",width:Y??void 0,height:ee??void 0,borderRadius:T},ie.style)}),l.default.createElement(b.EmbedStyle,null),l.default.createElement("div",{className:"tiktok-embed-container"},l.default.createElement("blockquote",{key:st,className:"tiktok-embed",cite:q,"data-video-id":Ye},te?l.default.createElement("div",{id:se.current,style:{display:"none"}},""):l.default.createElement("div",{id:se.current,style:{display:"flex",justifyContent:"center"}},ct))))};return va.TikTokEmbed=M,va}var Qo={},Sr={},Gi="https://platform.twitter.com/widgets.js",J1="createTimeline",M6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1],m=function(){var g=Object.assign({},i.options);if(i!=null&&i.autoHeight){var w,C;g.height=(w=s.current)===null||w===void 0||(C=w.parentNode)===null||C===void 0?void 0:C.offsetHeight}return g=Object.assign({},g,{theme:i==null?void 0:i.theme,linkColor:i==null?void 0:i.linkColor,borderColor:i==null?void 0:i.borderColor,lang:i==null?void 0:i.lang,tweetLimit:i==null?void 0:i.tweetLimit,ariaPolite:i==null?void 0:i.ariaPolite}),g},E=function(g){return g.chrome="",i.noHeader&&(g.chrome=g.chrome+" noheader"),i.noFooter&&(g.chrome=g.chrome+" nofooter"),i.noBorders&&(g.chrome=g.chrome+" noborders"),i.noScrollbar&&(g.chrome=g.chrome+" noscrollbar"),i.transparent&&(g.chrome=g.chrome+" transparent"),g};return Ue.useEffect(function(){var b=!0,g=require("scriptjs");return g(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(b){if(!window.twttr.widgets[J1]){console.error("Method "+J1+" is not present anymore in twttr.widget api");return}var w=m();w=E(w),window.twttr.widgets[J1]({sourceType:i.sourceType,screenName:i.screenName,userId:i.userId,ownerScreenName:i.ownerScreenName,slug:i.slug,id:i.id||i.widgetId,url:i.url},s==null?void 0:s.current,w).then(function(C){f(!1),i.onLoad&&i.onLoad(C)})}}),function(){b=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},$1="createShareButton",L6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[$1]){console.error("Method "+$1+" is not present anymore in twttr.widget api");return}window.twttr.widgets[$1](i.url,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},ed="createFollowButton",k6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[ed]){console.error("Method "+ed+" is not present anymore in twttr.widget api");return}window.twttr.widgets[ed](i.screenName,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},td="createHashtagButton",F6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[td]){console.error("Method "+td+" is not present anymore in twttr.widget api");return}window.twttr.widgets[td](i.tag,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},nd="createMentionButton",P6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[nd]){console.error("Method "+nd+" is not present anymore in twttr.widget api");return}window.twttr.widgets[nd](i.screenName,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},rd="createTweet",U6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[rd]){console.error("Method "+rd+" is not present anymore in twttr.widget api");return}window.twttr.widgets[rd](i.tweetId,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},id="createMoment",j6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[id]){console.error("Method "+id+" is not present anymore in twttr.widget api");return}window.twttr.widgets[id](i.momentId,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},ad="createDMButton",z6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[ad]){console.error("Method "+ad+" is not present anymore in twttr.widget api");return}window.twttr.widgets[ad](i.id,s==null?void 0:s.current,i.options).then(function(b){m&&(f(!1),i.onLoad&&i.onLoad(b))})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},sd="createVideo",H6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[sd]){console.error("Method "+sd+" is not present anymore in twttr.widget api");return}window.twttr.widgets[sd](i.id,s==null?void 0:s.current).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))},ld="createPeriscopeOnAirButton",q6=function(i){var s=Ue.useRef(null),l=Ue.useState(!0),d=l[0],f=l[1];return Ue.useEffect(function(){var m=!0,E=require("scriptjs");return E(Gi,"twitter-embed",function(){if(!window.twttr){console.error("Failure to load window.twttr, aborting load");return}if(m){if(!window.twttr.widgets[ld]){console.error("Method "+ld+" is not present anymore in twttr.widget api");return}window.twttr.widgets[ld](i.username,s==null?void 0:s.current,i.options).then(function(b){f(!1),i.onLoad&&i.onLoad(b)})}}),function(){m=!1}},[]),Ue.createElement(Ue.Fragment,null,d&&Ue.createElement(Ue.Fragment,null,i.placeholder),Ue.createElement("div",{ref:s}))};const V6=Object.freeze(Object.defineProperty({__proto__:null,TwitterDMButton:z6,TwitterFollowButton:k6,TwitterHashtagButton:F6,TwitterMentionButton:P6,TwitterMomentShare:j6,TwitterOnAirButton:q6,TwitterShareButton:L6,TwitterTimelineEmbed:M6,TwitterTweetEmbed:U6,TwitterVideoEmbed:H6},Symbol.toStringTag,{value:"Module"})),G6=Gd(V6);var om;function w4(){if(om)return Sr;om=1;var n=Sr&&Sr.__createBinding||(Object.create?function(N,B,I,M){M===void 0&&(M=I);var k=Object.getOwnPropertyDescriptor(B,I);(!k||("get"in k?!B.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return B[I]}}),Object.defineProperty(N,M,k)}:function(N,B,I,M){M===void 0&&(M=I),N[M]=B[I]}),i=Sr&&Sr.__setModuleDefault||(Object.create?function(N,B){Object.defineProperty(N,"default",{enumerable:!0,value:B})}:function(N,B){N.default=B}),s=Sr&&Sr.__importStar||function(N){if(N&&N.__esModule)return N;var B={};if(N!=null)for(var I in N)I!=="default"&&Object.prototype.hasOwnProperty.call(N,I)&&n(B,N,I);return i(B,N),B},l=Sr&&Sr.__rest||function(N,B){var I={};for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&B.indexOf(M)<0&&(I[M]=N[M]);if(N!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,M=Object.getOwnPropertySymbols(N);k<M.length;k++)B.indexOf(M[k])<0&&Object.prototype.propertyIsEnumerable.call(N,M[k])&&(I[M[k]]=N[M[k]]);return I},d=Sr&&Sr.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.XEmbed=void 0;const f=d(hi()),m=s(jn()),E=G6,b=hs(),g=ds(),w=250,C=550,D=350,T=12,O=N=>{var B,I,{url:M,width:k,height:V,linkText:Q="View post on X",placeholderImageUrl:q,placeholderSpinner:Y,placeholderSpinnerDisabled:ee=!1,placeholderProps:X,embedPlaceholder:Z,placeholderDisabled:K,twitterTweetEmbedProps:$}=N,ne=l(N,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","twitterTweetEmbedProps"]);const de=M.substring(M.lastIndexOf("/")+1).replace(/[?].*$/,""),te=!!(k!=null&&k.toString().includes("%")),fe=!!(V!=null&&V.toString().includes("%")),we={minWidth:w,maxWidth:C,width:typeof k<"u"?te?"100%":k:"100%",height:fe?"100%":typeof V<"u"?V:typeof((B=ne.style)===null||B===void 0?void 0:B.height)<"u"||typeof((I=ne.style)===null||I===void 0?void 0:I.maxHeight)<"u"?"100%":D,border:"solid 1px #c9d4d9",borderRadius:T},_e=Z??m.createElement(b.PlaceholderEmbed,Object.assign({url:M,imageUrl:q,linkText:Q,spinner:Y,spinnerDisabled:ee},X,{style:Object.assign(Object.assign({},we),X==null?void 0:X.style)}));return m.createElement("div",Object.assign({},ne,{className:(0,f.default)("rsme-embed rsme-twitter-embed",ne.className),style:Object.assign({overflow:"hidden",width:k??void 0,height:V??void 0,borderRadius:T},ne.style)}),m.createElement(g.EmbedStyle,null),m.createElement(E.TwitterTweetEmbed,Object.assign({tweetId:de,placeholder:K?void 0:_e},$)))};return Sr.XEmbed=O,Sr}var um;function Y6(){if(um)return Qo;um=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.TwitterEmbed=void 0;const n=w4();return Qo.TwitterEmbed=n.XEmbed,Qo}var Tr={},od={exports:{}},ud,cm;function X6(){if(cm)return ud;cm=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ud=n,ud}var cd,fm;function Z6(){if(fm)return cd;fm=1;var n=X6();function i(){}function s(){}return s.resetWarningCache=i,cd=function(){function l(m,E,b,g,w,C){if(C!==n){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}}l.isRequired=l;function d(){return l}var f={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:d,element:l,elementType:l,instanceOf:d,node:l,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:s,resetWarningCache:i};return f.PropTypes=f,f},cd}var dm;function gh(){return dm||(dm=1,od.exports=Z6()()),od.exports}var W6=gh();const sr=Vi(W6);var fd,hm;function Q6(){return hm||(hm=1,fd=function n(i,s){if(i===s)return!0;if(i&&s&&typeof i=="object"&&typeof s=="object"){if(i.constructor!==s.constructor)return!1;var l,d,f;if(Array.isArray(i)){if(l=i.length,l!=s.length)return!1;for(d=l;d--!==0;)if(!n(i[d],s[d]))return!1;return!0}if(i.constructor===RegExp)return i.source===s.source&&i.flags===s.flags;if(i.valueOf!==Object.prototype.valueOf)return i.valueOf()===s.valueOf();if(i.toString!==Object.prototype.toString)return i.toString()===s.toString();if(f=Object.keys(i),l=f.length,l!==Object.keys(s).length)return!1;for(d=l;d--!==0;)if(!Object.prototype.hasOwnProperty.call(s,f[d]))return!1;for(d=l;d--!==0;){var m=f[d];if(!n(i[m],s[m]))return!1}return!0}return i!==i&&s!==s}),fd}var K6=Q6();const J6=Vi(K6);var p0={exports:{}},dd,xm;function $6(){if(xm)return dd;xm=1;var n;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/return n=function(){var i={},s={};return i.on=function(l,d){var f={name:l,handler:d};return s[l]=s[l]||[],s[l].unshift(f),f},i.off=function(l){var d=s[l.name].indexOf(l);d!==-1&&s[l.name].splice(d,1)},i.trigger=function(l,d){var f=s[l],m;if(f)for(m=f.length;m--;)f[m].handler(d)},i},dd=n,dd}var m0={exports:{}},hd,gm;function eS(){if(gm)return hd;gm=1,hd=function(d,f,m){var E=document.head||document.getElementsByTagName("head")[0],b=document.createElement("script");typeof f=="function"&&(m=f,f={}),f=f||{},m=m||function(){},b.type=f.type||"text/javascript",b.charset=f.charset||"utf8",b.async="async"in f?!!f.async:!0,b.src=d,f.attrs&&n(b,f.attrs),f.text&&(b.text=""+f.text);var g="onload"in b?i:s;g(b,m),b.onload||i(b,m),E.appendChild(b)};function n(l,d){for(var f in d)l.setAttribute(f,d[f])}function i(l,d){l.onload=function(){this.onerror=this.onload=null,d(null,l)},l.onerror=function(){this.onerror=this.onload=null,d(new Error("Failed to load "+this.src),l)}}function s(l,d){l.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,d(null,l))}}return hd}var pm;function tS(){return pm||(pm=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=eS(),l=d(s);function d(f){return f&&f.__esModule?f:{default:f}}i.default=function(f){var m=new Promise(function(E){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){E(window.YT);return}else{var b=window.location.protocol==="http:"?"http:":"https:";(0,l.default)(b+"//www.youtube.com/iframe_api",function(w){w&&f.trigger("error",w)})}var g=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){g&&g(),E(window.YT)}});return m},n.exports=i.default}(m0,m0.exports)),m0.exports}var y0={exports:{}},E0={exports:{}},v0={exports:{}},xd,mm;function nS(){if(mm)return xd;mm=1;var n=1e3,i=n*60,s=i*60,l=s*24,d=l*365.25;xd=function(g,w){w=w||{};var C=typeof g;if(C==="string"&&g.length>0)return f(g);if(C==="number"&&isNaN(g)===!1)return w.long?E(g):m(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function f(g){if(g=String(g),!(g.length>100)){var w=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(g);if(w){var C=parseFloat(w[1]),D=(w[2]||"ms").toLowerCase();switch(D){case"years":case"year":case"yrs":case"yr":case"y":return C*d;case"days":case"day":case"d":return C*l;case"hours":case"hour":case"hrs":case"hr":case"h":return C*s;case"minutes":case"minute":case"mins":case"min":case"m":return C*i;case"seconds":case"second":case"secs":case"sec":case"s":return C*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}function m(g){return g>=l?Math.round(g/l)+"d":g>=s?Math.round(g/s)+"h":g>=i?Math.round(g/i)+"m":g>=n?Math.round(g/n)+"s":g+"ms"}function E(g){return b(g,l,"day")||b(g,s,"hour")||b(g,i,"minute")||b(g,n,"second")||g+" ms"}function b(g,w,C){if(!(g<w))return g<w*1.5?Math.floor(g/w)+" "+C:Math.ceil(g/w)+" "+C+"s"}return xd}var ym;function rS(){return ym||(ym=1,function(n,i){i=n.exports=d.debug=d.default=d,i.coerce=b,i.disable=m,i.enable=f,i.enabled=E,i.humanize=nS(),i.names=[],i.skips=[],i.formatters={};var s;function l(g){var w=0,C;for(C in g)w=(w<<5)-w+g.charCodeAt(C),w|=0;return i.colors[Math.abs(w)%i.colors.length]}function d(g){function w(){if(w.enabled){var C=w,D=+new Date,T=D-(s||D);C.diff=T,C.prev=s,C.curr=D,s=D;for(var O=new Array(arguments.length),N=0;N<O.length;N++)O[N]=arguments[N];O[0]=i.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");var B=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,function(M,k){if(M==="%%")return M;B++;var V=i.formatters[k];if(typeof V=="function"){var Q=O[B];M=V.call(C,Q),O.splice(B,1),B--}return M}),i.formatArgs.call(C,O);var I=w.log||i.log||console.log.bind(console);I.apply(C,O)}}return w.namespace=g,w.enabled=i.enabled(g),w.useColors=i.useColors(),w.color=l(g),typeof i.init=="function"&&i.init(w),w}function f(g){i.save(g),i.names=[],i.skips=[];for(var w=(typeof g=="string"?g:"").split(/[\s,]+/),C=w.length,D=0;D<C;D++)w[D]&&(g=w[D].replace(/\*/g,".*?"),g[0]==="-"?i.skips.push(new RegExp("^"+g.substr(1)+"$")):i.names.push(new RegExp("^"+g+"$")))}function m(){i.enable("")}function E(g){var w,C;for(w=0,C=i.skips.length;w<C;w++)if(i.skips[w].test(g))return!1;for(w=0,C=i.names.length;w<C;w++)if(i.names[w].test(g))return!0;return!1}function b(g){return g instanceof Error?g.stack||g.message:g}}(v0,v0.exports)),v0.exports}var Em;function iS(){return Em||(Em=1,function(n,i){var s={};i=n.exports=rS(),i.log=f,i.formatArgs=d,i.save=m,i.load=E,i.useColors=l,i.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:b(),i.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function l(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}i.formatters.j=function(g){try{return JSON.stringify(g)}catch(w){return"[UnexpectedJSONParseError]: "+w.message}};function d(g){var w=this.useColors;if(g[0]=(w?"%c":"")+this.namespace+(w?" %c":" ")+g[0]+(w?"%c ":" ")+"+"+i.humanize(this.diff),!!w){var C="color: "+this.color;g.splice(1,0,C,"color: inherit");var D=0,T=0;g[0].replace(/%[a-zA-Z%]/g,function(O){O!=="%%"&&(D++,O==="%c"&&(T=D))}),g.splice(T,0,C)}}function f(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function m(g){try{g==null?i.storage.removeItem("debug"):i.storage.debug=g}catch{}}function E(){var g;try{g=i.storage.debug}catch{}return!g&&typeof process<"u"&&"env"in process&&(g=s.DEBUG),g}i.enable(E());function b(){try{return window.localStorage}catch{}}}(E0,E0.exports)),E0.exports}var w0={exports:{}},vm;function aS(){return vm||(vm=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],n.exports=i.default}(w0,w0.exports)),w0.exports}var b0={exports:{}},wm;function sS(){return wm||(wm=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],n.exports=i.default}(b0,b0.exports)),b0.exports}var A0={exports:{}},C0={exports:{}},bm;function lS(){return bm||(bm=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0}),i.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},n.exports=i.default}(C0,C0.exports)),C0.exports}var Am;function oS(){return Am||(Am=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=lS(),l=d(s);function d(f){return f&&f.__esModule?f:{default:f}}i.default={pauseVideo:{acceptableStates:[l.default.ENDED,l.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[l.default.ENDED,l.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[l.default.ENDED,l.default.PLAYING,l.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},n.exports=i.default}(A0,A0.exports)),A0.exports}var Cm;function uS(){return Cm||(Cm=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=iS(),l=w(s),d=aS(),f=w(d),m=sS(),E=w(m),b=oS(),g=w(b);function w(T){return T&&T.__esModule?T:{default:T}}var C=(0,l.default)("youtube-player"),D={};D.proxyEvents=function(T){var O={},N=function(Y){var ee="on"+Y.slice(0,1).toUpperCase()+Y.slice(1);O[ee]=function(X){C('event "%s"',ee,X),T.trigger(Y,X)}},B=!0,I=!1,M=void 0;try{for(var k=E.default[Symbol.iterator](),V;!(B=(V=k.next()).done);B=!0){var Q=V.value;N(Q)}}catch(q){I=!0,M=q}finally{try{!B&&k.return&&k.return()}finally{if(I)throw M}}return O},D.promisifyPlayer=function(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N={},B=function(ee){O&&g.default[ee]?N[ee]=function(){for(var X=arguments.length,Z=Array(X),K=0;K<X;K++)Z[K]=arguments[K];return T.then(function($){var ne=g.default[ee],de=$.getPlayerState(),te=$[ee].apply($,Z);return ne.stateChangeRequired||Array.isArray(ne.acceptableStates)&&ne.acceptableStates.indexOf(de)===-1?new Promise(function(fe){var we=function _e(){var ke=$.getPlayerState(),F=void 0;typeof ne.timeout=="number"&&(F=setTimeout(function(){$.removeEventListener("onStateChange",_e),fe()},ne.timeout)),Array.isArray(ne.acceptableStates)&&ne.acceptableStates.indexOf(ke)!==-1&&($.removeEventListener("onStateChange",_e),clearTimeout(F),fe())};$.addEventListener("onStateChange",we)}).then(function(){return te}):te})}:N[ee]=function(){for(var X=arguments.length,Z=Array(X),K=0;K<X;K++)Z[K]=arguments[K];return T.then(function($){return $[ee].apply($,Z)})}},I=!0,M=!1,k=void 0;try{for(var V=f.default[Symbol.iterator](),Q;!(I=(Q=V.next()).done);I=!0){var q=Q.value;B(q)}}catch(Y){M=!0,k=Y}finally{try{!I&&V.return&&V.return()}finally{if(M)throw k}}return N},i.default=D,n.exports=i.default}(y0,y0.exports)),y0.exports}var Sm;function cS(){return Sm||(Sm=1,function(n,i){Object.defineProperty(i,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},l=$6(),d=g(l),f=tS(),m=g(f),E=uS(),b=g(E);function g(C){return C&&C.__esModule?C:{default:C}}var w=void 0;i.default=function(C){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=(0,d.default)();if(w||(w=(0,m.default)(O)),D.events)throw new Error("Event handlers cannot be overwritten.");if(typeof C=="string"&&!document.getElementById(C))throw new Error('Element "'+C+'" does not exist.');D.events=b.default.proxyEvents(O);var N=new Promise(function(I){if((typeof C>"u"?"undefined":s(C))==="object"&&C.playVideo instanceof Function){var M=C;I(M)}else w.then(function(k){var V=new k.Player(C,D);return O.on("ready",function(){I(V)}),null})}),B=b.default.promisifyPlayer(N,T);return B.on=O.on,B.off=O.off,B},n.exports=i.default}(p0,p0.exports)),p0.exports}var fS=cS();const dS=Vi(fS);var hS=Object.defineProperty,xS=Object.defineProperties,gS=Object.getOwnPropertyDescriptors,Tm=Object.getOwnPropertySymbols,pS=Object.prototype.hasOwnProperty,mS=Object.prototype.propertyIsEnumerable,_m=(n,i,s)=>i in n?hS(n,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[i]=s,jd=(n,i)=>{for(var s in i||(i={}))pS.call(i,s)&&_m(n,s,i[s]);if(Tm)for(var s of Tm(i))mS.call(i,s)&&_m(n,s,i[s]);return n},zd=(n,i)=>xS(n,gS(i)),yS=(n,i,s)=>new Promise((l,d)=>{var f=b=>{try{E(s.next(b))}catch(g){d(g)}},m=b=>{try{E(s.throw(b))}catch(g){d(g)}},E=b=>b.done?l(b.value):Promise.resolve(b.value).then(f,m);E((s=s.apply(n,i)).next())});function ES(n,i){var s,l;if(n.videoId!==i.videoId)return!0;const d=((s=n.opts)==null?void 0:s.playerVars)||{},f=((l=i.opts)==null?void 0:l.playerVars)||{};return d.start!==f.start||d.end!==f.end}function Dm(n={}){return zd(jd({},n),{height:0,width:0,playerVars:zd(jd({},n.playerVars),{autoplay:0,start:0,end:0})})}function vS(n,i){return n.videoId!==i.videoId||!J6(Dm(n.opts),Dm(i.opts))}function wS(n,i){var s,l,d,f;return n.id!==i.id||n.className!==i.className||((s=n.opts)==null?void 0:s.width)!==((l=i.opts)==null?void 0:l.width)||((d=n.opts)==null?void 0:d.height)!==((f=i.opts)==null?void 0:f.height)||n.iframeClassName!==i.iframeClassName||n.title!==i.title}var bS={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},AS={videoId:sr.string,id:sr.string,className:sr.string,iframeClassName:sr.string,style:sr.object,title:sr.string,loading:sr.oneOf(["lazy","eager"]),opts:sr.objectOf(sr.any),onReady:sr.func,onError:sr.func,onPlay:sr.func,onPause:sr.func,onEnd:sr.func,onStateChange:sr.func,onPlaybackRateChange:sr.func,onPlaybackQualityChange:sr.func},dc=class extends Ue.Component{constructor(n){super(n),this.destroyPlayerPromise=void 0,this.onPlayerReady=i=>{var s,l;return(l=(s=this.props).onReady)==null?void 0:l.call(s,i)},this.onPlayerError=i=>{var s,l;return(l=(s=this.props).onError)==null?void 0:l.call(s,i)},this.onPlayerStateChange=i=>{var s,l,d,f,m,E,b,g;switch((l=(s=this.props).onStateChange)==null||l.call(s,i),i.data){case dc.PlayerState.ENDED:(f=(d=this.props).onEnd)==null||f.call(d,i);break;case dc.PlayerState.PLAYING:(E=(m=this.props).onPlay)==null||E.call(m,i);break;case dc.PlayerState.PAUSED:(g=(b=this.props).onPause)==null||g.call(b,i);break}},this.onPlayerPlaybackRateChange=i=>{var s,l;return(l=(s=this.props).onPlaybackRateChange)==null?void 0:l.call(s,i)},this.onPlayerPlaybackQualityChange=i=>{var s,l;return(l=(s=this.props).onPlaybackQualityChange)==null?void 0:l.call(s,i)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const i=zd(jd({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=dS(this.container,i),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(s=>{this.props.title&&s.setAttribute("title",this.props.title),this.props.loading&&s.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var i;(i=this.internalPlayer)==null||i.getIframe().then(s=>{this.props.id?s.setAttribute("id",this.props.id):s.removeAttribute("id"),this.props.iframeClassName?s.setAttribute("class",this.props.iframeClassName):s.removeAttribute("class"),this.props.opts&&this.props.opts.width?s.setAttribute("width",this.props.opts.width.toString()):s.removeAttribute("width"),this.props.opts&&this.props.opts.height?s.setAttribute("height",this.props.opts.height.toString()):s.removeAttribute("height"),this.props.title?s.setAttribute("title",this.props.title):s.setAttribute("title","YouTube video player"),this.props.loading?s.setAttribute("loading",this.props.loading):s.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var i,s,l,d;if(typeof this.props.videoId>"u"||this.props.videoId===null){(i=this.internalPlayer)==null||i.stopVideo();return}let f=!1;const m={videoId:this.props.videoId};if((s=this.props.opts)!=null&&s.playerVars&&(f=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(m.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(m.endSeconds=this.props.opts.playerVars.end)),f){(l=this.internalPlayer)==null||l.loadVideoById(m);return}(d=this.internalPlayer)==null||d.cueVideoById(m)},this.refContainer=i=>{this.container=i},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(n){return yS(this,null,function*(){wS(n,this.props)&&this.updatePlayer(),vS(n,this.props)&&(yield this.resetPlayer()),ES(n,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return Ue.createElement("div",{className:this.props.className,style:this.props.style},Ue.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Bc=dc;Bc.propTypes=AS;Bc.defaultProps=bS;Bc.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var CS=Bc;const SS=Object.freeze(Object.defineProperty({__proto__:null,default:CS},Symbol.toStringTag,{value:"Module"})),TS=Gd(SS);var Om;function _S(){if(Om)return Tr;Om=1;var n=Tr&&Tr.__createBinding||(Object.create?function(O,N,B,I){I===void 0&&(I=B);var M=Object.getOwnPropertyDescriptor(N,B);(!M||("get"in M?!N.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return N[B]}}),Object.defineProperty(O,I,M)}:function(O,N,B,I){I===void 0&&(I=B),O[I]=N[B]}),i=Tr&&Tr.__setModuleDefault||(Object.create?function(O,N){Object.defineProperty(O,"default",{enumerable:!0,value:N})}:function(O,N){O.default=N}),s=Tr&&Tr.__importStar||function(O){if(O&&O.__esModule)return O;var N={};if(O!=null)for(var B in O)B!=="default"&&Object.prototype.hasOwnProperty.call(O,B)&&n(N,O,B);return i(N,O),N},l=Tr&&Tr.__rest||function(O,N){var B={};for(var I in O)Object.prototype.hasOwnProperty.call(O,I)&&N.indexOf(I)<0&&(B[I]=O[I]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,I=Object.getOwnPropertySymbols(O);M<I.length;M++)N.indexOf(I[M])<0&&Object.prototype.propertyIsEnumerable.call(O,I[M])&&(B[I[M]]=O[I[M]]);return B},d=Tr&&Tr.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.YouTubeEmbed=void 0;const f=d(hi()),m=s(jn()),E=d(TS),b=hs(),g=ds(),w=640,C=360,D=0,T=O=>{var N,B,I,M,k,V,Q,q,Y,ee,X,Z,K,{url:$,width:ne,height:de,linkText:te="Watch on YouTube",placeholderImageUrl:fe,placeholderSpinner:we,placeholderSpinnerDisabled:_e=!1,placeholderProps:ke,embedPlaceholder:F,placeholderDisabled:ie,youTubeProps:oe}=O,j=l(O,["url","width","height","linkText","placeholderImageUrl","placeholderSpinner","placeholderSpinnerDisabled","placeholderProps","embedPlaceholder","placeholderDisabled","youTubeProps"]);const[se,Le]=m.useState(!1),me=(N=$.match(/[?&]v=(.+?)(?:$|[&?])/))===null||N===void 0?void 0:N[1],st=(B=$.match(/https:\/\/(?:www\.)?youtube\.com\/shorts\/(.+?)(?:$|[&?])/))===null||B===void 0?void 0:B[1],Te=(I=$.match(/https:\/\/youtu\.be\/(.+?)(?:$|[&?])/))===null||I===void 0?void 0:I[1],Ye=(M=$.match(/https:\/\/(?:www\.)youtube(-nocookie)?\.com\/embed\/(.+?)(?:$|[&?])/))===null||M===void 0?void 0:M[2],Ze=(Q=(V=(k=me??st)!==null&&k!==void 0?k:Te)!==null&&V!==void 0?V:Ye)!==null&&Q!==void 0?Q:"00000000",ct=+((Y=(q=$.match(/(.+?)(?:$|[&?])start=(\d+)/))===null||q===void 0?void 0:q[2])!==null&&Y!==void 0?Y:0),ft=!!(ne!=null&&ne.toString().includes("%")),He=!!(de!=null&&de.toString().includes("%"));let gt={};ct&&(gt.playerVars={start:ct}),typeof ne<"u"&&(gt.width=ft?"100%":`${ne}`),typeof de<"u"&&(gt.height=He?"100%":`${de}`),gt=Object.assign(Object.assign({},gt),oe==null?void 0:oe.opts);const yt={maxWidth:ft?void 0:w,width:typeof ne<"u"?ft?"100%":ne:"100%",height:He?"100%":typeof de<"u"?de:typeof((ee=j.style)===null||ee===void 0?void 0:ee.height)<"u"||typeof((X=j.style)===null||X===void 0?void 0:X.maxHeight)<"u"?"100%":C,border:"1px solid #dee2e6",borderRadius:D},Wt=F??m.createElement(b.PlaceholderEmbed,Object.assign({url:$,imageUrl:fe,linkText:te,spinner:we,spinnerDisabled:_e},ke,{style:Object.assign(Object.assign({},yt),ke==null?void 0:ke.style)}));return m.createElement("div",Object.assign({},j,{className:(0,f.default)("rsme-embed rsme-youtube-embed",j.className),style:Object.assign({overflow:"hidden",width:ne??void 0,height:de??void 0,borderRadius:D},j.style)}),m.createElement(g.EmbedStyle,null),m.createElement("div",{className:(0,f.default)(!se&&"rsme-d-none")},m.createElement(E.default,Object.assign({},oe,{className:(Z=oe==null?void 0:oe.className)!==null&&Z!==void 0?Z:"youtube-iframe",videoId:(K=oe==null?void 0:oe.videoId)!==null&&K!==void 0?K:Ze,opts:gt,onReady:rt=>{Le(!0),oe&&oe.onReady&&(oe==null||oe.onReady(rt))}}))),!se&&!ie&&Wt)};return Tr.YouTubeEmbed=T,Tr}var Nm;function DS(){return Nm||(Nm=1,function(n){var i=qs&&qs.__createBinding||(Object.create?function(l,d,f,m){m===void 0&&(m=f);var E=Object.getOwnPropertyDescriptor(d,f);(!E||("get"in E?!d.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(l,m,E)}:function(l,d,f,m){m===void 0&&(m=f),l[m]=d[f]}),s=qs&&qs.__exportStar||function(l,d){for(var f in l)f!=="default"&&!Object.prototype.hasOwnProperty.call(d,f)&&i(d,l,f)};Object.defineProperty(n,"__esModule",{value:!0}),s(O6(),n),s(N6(),n),s(B6(),n),s(R6(),n),s(I6(),n),s(Y6(),n),s(w4(),n),s(_S(),n),s(hs(),n),s(v4(),n)}(qs)),qs}var Xs=DS(),gd={exports:{}},Bm;function OS(){return Bm||(Bm=1,function(n){n.exports=function(i){var s={};function l(d){if(s[d])return s[d].exports;var f=s[d]={i:d,l:!1,exports:{}};return i[d].call(f.exports,f,f.exports,l),f.l=!0,f.exports}return l.m=i,l.c=s,l.i=function(d){return d},l.d=function(d,f,m){l.o(d,f)||Object.defineProperty(d,f,{configurable:!1,enumerable:!0,get:m})},l.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(f,"a",f),f},l.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},l.p="",l(l.s=1)}([function(i,s){i.exports=jn()},function(i,s,l){Object.defineProperty(s,"__esModule",{value:!0});var d=function(){function T(O,N){for(var B=0;B<N.length;B++){var I=N[B];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,I.key,I)}}return function(O,N,B){return N&&T(O.prototype,N),B&&T(O,B),O}}(),f=l(0),m=E(f);function E(T){return T&&T.__esModule?T:{default:T}}function b(T,O){if(!(T instanceof O))throw new TypeError("Cannot call a class as a function")}function g(T,O){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:T}function w(T,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);T.prototype=Object.create(O&&O.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(T,O):T.__proto__=O)}var C={width:"100%",frameBorder:"0",scrolling:"no",border:"none",overflow:"hidden"},D=function(T){w(O,T);function O(N){b(this,O);var B=g(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N));return B.state={src:B.props.src,id:"",height:"80px"},B.messageHandler=B.messageHandler.bind(B),B.urlObj=document.createElement("a"),B}return d(O,[{key:"componentDidMount",value:function(){var B=this;window.addEventListener("message",this.messageHandler),this.iFrame.addEventListener("load",function(){B.checkFrame(B.state.id)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.messageHandler)}},{key:"messageHandler",value:function(B){var I=B.data,M=B.source;if(!(!I||typeof I!="string"||M!==this.iFrame.contentWindow)){var k=JSON.parse(I);k.event==="resize"&&k.height&&this.setState({height:k.height+"px"})}}},{key:"checkFrame",value:function(B){this.iFrame.contentWindow.postMessage(JSON.stringify({event:"visible",frame:B}),"*")}},{key:"componentWillReceiveProps",value:function(B){var I=this,M=B.src;if(this.state.src!==M){this.urlObj.href=M;var k="telegram-post"+this.urlObj.pathname.replace(/[^a-z0-9_]/ig,"-");this.setState({src:M,id:k},function(){return I.checkFrame(k)})}}},{key:"render",value:function(){var B=this,I=this.state,M=I.src,k=I.height,V=this.props.container;return m.default.createElement("div",{"data-sharing-id":V},m.default.createElement("iframe",{ref:function(q){return B.iFrame=q},src:M+"?embed=1",height:k,id:"telegram-post"+this.urlObj.pathname.replace(/[^a-z0-9_]/ig,"-"),style:C}))}}]),O}(f.Component);s.default=D}])}(gd)),gd.exports}var NS=OS();const BS=({url:n,width:i,height:s})=>{const l=Je.useRef(null);return Je.useEffect(()=>{if(l.current&&!document.querySelector('script[src="https://embed.redditmedia.com/widgets/platform.js"]')){const d=document.createElement("script");d.src="https://embed.redditmedia.com/widgets/platform.js",d.async=!0,document.head.appendChild(d)}},[]),H.jsx("div",{ref:l,style:{width:i,height:s},children:H.jsx("blockquote",{className:"reddit-embed-bq","data-embed-height":"30dvh","data-url":n,style:{width:i,height:s},children:H.jsx("a",{href:n,children:"Loading post..."})})})};function hc({src:n,alt:i,alternative:s,style:l,...d}){const[f,m]=Je.useState(!0);return!f&&s?s:H.jsx("img",{...d,src:n,style:{...l,display:f?(l==null?void 0:l.display)||"block":"none"},alt:i,onError:E=>{E.preventDefault(),m(!1)}})}function RS({src:n,alt:i,alternative:s,style:l,...d}){const[f,m]=Je.useState(!0);return!f&&s?s:H.jsx("video",{controls:!0,...d,src:n,style:{...l,display:f?(l==null?void 0:l.display)||"block":"none",aspectRatio:"16/9",height:"auto",maxHeight:"300px",backgroundColor:"black",borderRadius:"5px"},alt:i,onError:E=>{E.preventDefault(),m(!1)}})}function IS({src:n,alt:i,alternative:s,style:l,...d}){const[f,m]=Je.useState(!0);return!f&&s?s:H.jsx("audio",{controls:!0,...d,src:n,style:{...l,display:f?(l==null?void 0:l.display)||"block":"none",height:"50px"},alt:i,onError:E=>{E.preventDefault(),m(!1)}})}async function MS(n){try{const s=(await Nn.get(n)).data.match(/<title>(.*?)<\/title>/);return s?s[1]:null}catch(i){return console.error("Error fetching title:",i),null}}const LS=n=>n.replace(/(^|\s)(https?:\/\/[^\s]+)/g,"$1<$2>"),ui=({origin:n,href:i,children:s,embedContent:l,linkTitles:d})=>{const[f,m]=Je.useState(!1);return H.jsxs("div",{className:"link-view",children:[H.jsxs("div",{children:[H.jsxs("a",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},href:i,target:"_blank",rel:"noopener noreferrer",children:[H.jsx(hc,{alt:"Logo",style:{width:"32px",height:"32px",objectFit:"contain",backgroundColor:"transparent"},src:n+"/favicon.ico"}),d[i]&&H.jsx("span",{children:d[i]}),H.jsx("span",{children:s})]}),H.jsx("button",{style:{marginBottom:f?"5px":""},onClick:()=>m(E=>!E),children:f?"Hide":"See"})]}),l&&f&&H.jsx("div",{children:l})]})};function kS(n){return n.replace(/(?:^|\s)(?!(?:tel:|mailto:|https?:\/\/))([\w.-]+\.[a-zA-Z]{2,})(?=\s|$)/g," https://$1")}function Hd({text:n}){const i=Je.useMemo(()=>kS(n),[n]),s=LS(i.replaceAll(`
`,`

`)),[l,d]=Je.useState({});Je.useEffect(()=>{(async()=>{const E=[".jpg",".jpeg",".png",".gif",".mp4",".webm",".ogg",".mp3",".wav"],b=(s.match(/https?:\/\/[^\s>]+/g)||[]).filter(g=>!E.some(w=>g.toLowerCase().endsWith(w)));if(b.length){const g={};for(let w of b){const C=await MS(w);C&&(g[w]=C)}d(g)}})()},[s]);const f={a:({href:m,children:E})=>{if(!m)return H.jsx(H.Fragment,{children:E});let b,g;try{const C=new URL(m);b=C.origin,g=C.pathname}catch{return console.error("Invalid URL:",m),H.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",children:E})}const w=[".jpg",".jpeg",".png",".gif",".ico",".mp4",".webm",".ogg",".mp3",".wav"];for(const C of w){const D=T=>H.jsx("a",{href:m,children:T});if(g.endsWith(C)){if(C==".jpg"||C==".jepg"||C==".ico"||C==".png"||C==".gif")return H.jsx(ui,{children:E,embedContent:H.jsx(hc,{style:{width:"100%",height:"30dvh",objectFit:"contain"},src:m,alternative:D("No Image")}),href:m,linkTitles:l,origin:b});if(C==".mp4"||C==".webm")return H.jsx(ui,{children:E,embedContent:H.jsx(RS,{style:{width:"100%",height:"30dvh",objectFit:"contain"},src:m,alternative:D("No Video")}),href:m,linkTitles:l,origin:b});if(C==".mp3"||C==".wav")return H.jsx(ui,{children:E,embedContent:H.jsx(IS,{style:{width:"100%",height:"30dvh",objectFit:"contain"},src:m,alternative:D("No Audio")}),href:m,linkTitles:l,origin:b})}}return b.includes("facebook.com")&&!m.includes("messenger.com")&&!m.includes("fb.me")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.FacebookEmbed,{url:m,width:"100%",height:"30dvh",style:{objectFit:"contain"}}),children:E}):b.includes("instagram.com")||b.includes("instagr.am")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.InstagramEmbed,{url:m,height:"30dvh",style:{objectFit:"contain"},width:"100%",hideCaption:!1,containerTagName:"div",protocol:"",injectScript:!0}),children:E}):b.includes("linkedin.com")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.LinkedInEmbed,{url:m,postUrl:m,height:"30dvh",style:{objectFit:"contain"},width:"100%"}),children:E}):b.includes("pinterest.com")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.PinterestEmbed,{url:m,height:"30dvh",style:{objectFit:"contain"},width:"100%"}),children:E}):b.includes("tiktok.com")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.TikTokEmbed,{url:m,height:"30dvh",style:{objectFit:"contain"},width:"100%"}),children:E}):b.includes("twitter.com")||b.includes("x.com")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.XEmbed,{url:m,height:"30dvh",style:{objectFit:"contain"},width:"100%"}),children:E}):b.includes("youtube.com")||b.includes("youtu.be")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(Xs.YouTubeEmbed,{url:m,height:"30dvh",style:{objectFit:"contain"},width:"100%"}),children:E}):b.includes("t.me")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(NS.TelegramEmbed,{src:m,height:"30dvh",style:{objectFit:"contain"},width:"100%"}),children:E}):b.includes("reddit.com")?H.jsx(ui,{origin:b,href:m,linkTitles:l,embedContent:H.jsx(BS,{height:"30dvh",style:{objectFit:"contain"},width:"100%",url:m}),children:E}):H.jsx("div",{className:"link-view",children:H.jsxs("a",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"5px"},href:m,target:"_blank",rel:"noopener noreferrer",children:[H.jsx(hc,{alt:"Logo",style:{width:"32px",height:"32px",objectFit:"contain",backgroundColor:"transparent"},src:b+"/favicon.ico"}),l[m]&&H.jsx("span",{children:l[m]}),H.jsx("span",{children:E})]})})},img:({node:m,...E})=>H.jsx(hc,{...E}),video:({node:m,...E})=>H.jsx("video",{controls:!0,...E}),audio:({node:m,...E})=>H.jsx("audio",{controls:!0,...E})};return H.jsx(XA,{children:s,components:f})}function FS({author:n,data:i,date:s,type:l,comments:d,addComment:f,deleteMessage:m,authorUser:E,react:b,id:g}){const[w,C]=Je.useState((d==null?void 0:d.length)!=0);Je.useEffect(()=>{(d==null?void 0:d.length)>0&&!w&&C(!0)},[d==null?void 0:d.length]);const D=b4.includes(l);return H.jsxs("div",{className:"menu-active",children:[b&&H.jsxs("div",{className:"reaction-text",onClick:T=>{T.preventDefault();const O=document.getElementById(b[0]);O&&(O.scrollIntoView({behavior:"smooth",block:"center"}),console.log(O),O.classList.add("focus"),setTimeout(()=>O.classList.remove("focus"),1500))},style:{backgroundColor:b[1].author!=E?Qs[b[1].author]:"var(--own-msg-bg)",padding:"5px",borderRadius:"5px",height:"30px",cursor:"pointer"},children:[H.jsx("b",{children:b[1].author}),":"," ",H.jsx("span",{children:H.jsx("i",{children:b[1].data})})]}),H.jsx("div",{children:Array.from(i).length>5?H.jsx(Hd,{text:i}):H.jsx("span",{style:{fontSize:(14-2.2*Array.from(i).length)*.5+"rem"},children:i})}),w&&D&&H.jsxs("fieldset",{className:"comments",children:[H.jsx("legend",{children:"Comments"}),d.map(({author:T,data:O,date:N,id:B})=>(Qs[T]||(Qs[T]=`rgb(${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)})`),H.jsxs("div",{style:{backgroundColor:E!=T?Qs[T]:"var(--own-msg-bg)"},className:"comment",children:[H.jsx("div",{children:H.jsx(Hd,{text:O})}),H.jsxs("div",{children:[H.jsx("b",{children:H.jsx("span",{children:T})})," ",H.jsx("i",{children:H.jsx("span",{children:N})})]})]},B))),H.jsxs("form",{onSubmit:T=>{T.preventDefault();const O=new FormData(T.target);f(O.get("data")),T.target.reset()},children:[H.jsx("input",{type:"text",name:"data",placeholder:"comment..."}),H.jsx("button",{type:"submit",title:"Send",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})})})]})]}),D&&H.jsxs("div",{className:"menu",children:[H.jsx("button",{title:"delete message",className:"danger",onClick:m,children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})}),H.jsxs("button",{title:"View Comments",onClick:()=>C(T=>!T),children:[H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M240-400h480v-80H240v80Zm0-120h480v-80H240v80Zm0-120h480v-80H240v80ZM880-80 720-240H160q-33 0-56.5-23.5T80-320v-480q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v720ZM160-320h594l46 45v-525H160v480Zm0 0v-480 480Z"})}),"(",d.length,")"]}),H.jsx("button",{title:"Reply",onClick:T=>{var O;T.preventDefault(),(O=window==null?void 0:window.setReactId)==null||O.call(window,g),document.querySelector(".message-form textarea").focus()},children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M760-200v-160q0-50-35-85t-85-35H273l144 144-57 56-240-240 240-240 57 56-144 144h367q83 0 141.5 58.5T840-360v160h-80Z"})})}),H.jsx("button",{title:"share with other groups",onClick:T=>{var O;T.preventDefault(),(O=window.setShareData)==null||O.call(window,`## Shared 
${s} ${n}:

${i}

------------

${d.map(({author:N,data:B,date:I})=>`***${I} ${N}***:

 ${B}`).join(`

`)}`)},children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M320-280 80-520l240-240 57 56-184 184 184 184-57 56Zm480 80v-160q0-50-35-85t-85-35H433l144 144-57 56-240-240 240-240 57 56-144 144h247q83 0 141.5 58.5T880-360v160h-80Z"})})})]}),H.jsxs("p",{className:"meta",children:[H.jsx("i",{children:H.jsx("span",{children:s})})," ",H.jsx("b",{children:H.jsx("span",{children:n})})," ",H.jsx("i",{children:H.jsxs("span",{children:["[",l,"]"]})})]})]})}const Qs={},b4=["text"];function PS({chatData:n,msg:i,index:s,client:l,chatId:d,setData:f}){Qs[i.author]||(Qs[i.author]=`rgb(${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)})`);const E=!b4.includes(i.type)?"menagement-msg":i.author==n.author?"own-msg":"other",b=async w=>{w.preventDefault(),await l.get("delete-message",{id:i.id,chatId:d})||alert("error: message isn't deleted");const D=n.messages;for(const T of D)if(T.type=="update"){const[O]=T.data;if(O==i.id&&!await l.get("delete-message",{chatId:d,id:T.id}))return alert("error: message isn't deleted")}else if(T.react){const[O]=T.react;if(O==i.id&&!await l.get("delete-message",{chatId:d,id:T.id}))return alert("error: message isn't deleted")}f(T=>{let O=T[d].messages.filter(N=>{var B;return N.id!==i.id&&((B=N==null?void 0:N.react)==null?void 0:B[0])!==i.id});return{...T,[d]:{...T[d],messages:O}}})},g=async w=>{const C={data:[i.id,"comment",{author:n.author,data:w,date:new Date().toLocaleString(),id:Ci(2).toString($t.enc.Hex)}],type:"update"},D=Ci(4).toString($t.enc.Hex),T=await l.get("send",{chatId:d,message:fi(n.password,JSON.stringify(C)),id:D});f(O=>{const N=O[d].messages.findIndex(({id:B})=>B==C.data[0]);return N!=-1&&O[d].messages[N].comments.push(C.data[2]),{...O,[d]:{...O[d],messages:[...O[d].messages,{...C,id:D}]}}}),T||alert("A send error occurred")};return H.jsx("div",{id:i.id,style:{backgroundColor:Qs[i.author]},className:"message "+E,children:H.jsx(FS,{...i,deleteMessage:b,addComment:g,authorUser:n.author})},s)}const US=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M798-120q-125 0-247-54.5T329-329Q229-429 174.5-551T120-798q0-18 12-30t30-12h162q14 0 25 9.5t13 22.5l26 140q2 16-1 27t-11 19l-97 98q20 37 47.5 71.5T387-386q31 31 65 57.5t72 48.5l94-94q9-9 23.5-13.5T670-390l138 28q14 4 23 14.5t9 23.5v162q0 18-12 30t-30 12ZM241-600l66-66-17-94h-89q5 41 14 81t26 79Zm358 358q39 17 79.5 27t81.5 13v-88l-94-19-67 67ZM241-600Zm358 358Z"})}),jS=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"})}),zS=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})}),HS=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})}),qS=()=>H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M280-160v-80h400v80H280Zm160-160v-327L336-544l-56-56 200-200 200 200-56 56-104-103v327h-80Z"})});var zl={},pd,Rm;function A4(){return Rm||(Rm=1,pd={L:1,M:0,Q:3,H:2}),pd}var md,Im;function C4(){return Im||(Im=1,md={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),md}var yd,Mm;function VS(){if(Mm)return yd;Mm=1;var n=C4();function i(s){this.mode=n.MODE_8BIT_BYTE,this.data=s}return i.prototype={getLength:function(s){return this.data.length},write:function(s){for(var l=0;l<this.data.length;l++)s.put(this.data.charCodeAt(l),8)}},yd=i,yd}var Ed,Lm;function GS(){if(Lm)return Ed;Lm=1;var n=A4();function i(s,l){this.totalCount=s,this.dataCount=l}return i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(s,l){var d=i.getRsBlockTable(s,l);if(d==null)throw new Error("bad rs block @ typeNumber:"+s+"/errorCorrectLevel:"+l);for(var f=d.length/3,m=new Array,E=0;E<f;E++)for(var b=d[E*3+0],g=d[E*3+1],w=d[E*3+2],C=0;C<b;C++)m.push(new i(g,w));return m},i.getRsBlockTable=function(s,l){switch(l){case n.L:return i.RS_BLOCK_TABLE[(s-1)*4+0];case n.M:return i.RS_BLOCK_TABLE[(s-1)*4+1];case n.Q:return i.RS_BLOCK_TABLE[(s-1)*4+2];case n.H:return i.RS_BLOCK_TABLE[(s-1)*4+3];default:return}},Ed=i,Ed}var vd,km;function YS(){if(km)return vd;km=1;function n(){this.buffer=new Array,this.length=0}return n.prototype={get:function(i){var s=Math.floor(i/8);return(this.buffer[s]>>>7-i%8&1)==1},put:function(i,s){for(var l=0;l<s;l++)this.putBit((i>>>s-l-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(i){var s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),i&&(this.buffer[s]|=128>>>this.length%8),this.length++}},vd=n,vd}var wd,Fm;function S4(){if(Fm)return wd;Fm=1;for(var n={glog:function(s){if(s<1)throw new Error("glog("+s+")");return n.LOG_TABLE[s]},gexp:function(s){for(;s<0;)s+=255;for(;s>=256;)s-=255;return n.EXP_TABLE[s]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;i<8;i++)n.EXP_TABLE[i]=1<<i;for(var i=8;i<256;i++)n.EXP_TABLE[i]=n.EXP_TABLE[i-4]^n.EXP_TABLE[i-5]^n.EXP_TABLE[i-6]^n.EXP_TABLE[i-8];for(var i=0;i<255;i++)n.LOG_TABLE[n.EXP_TABLE[i]]=i;return wd=n,wd}var bd,Pm;function T4(){if(Pm)return bd;Pm=1;var n=S4();function i(s,l){if(s.length==null)throw new Error(s.length+"/"+l);for(var d=0;d<s.length&&s[d]==0;)d++;this.num=new Array(s.length-d+l);for(var f=0;f<s.length-d;f++)this.num[f]=s[f+d]}return i.prototype={get:function(s){return this.num[s]},getLength:function(){return this.num.length},multiply:function(s){for(var l=new Array(this.getLength()+s.getLength()-1),d=0;d<this.getLength();d++)for(var f=0;f<s.getLength();f++)l[d+f]^=n.gexp(n.glog(this.get(d))+n.glog(s.get(f)));return new i(l,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var l=n.glog(this.get(0))-n.glog(s.get(0)),d=new Array(this.getLength()),f=0;f<this.getLength();f++)d[f]=this.get(f);for(var f=0;f<s.getLength();f++)d[f]^=n.gexp(n.glog(s.get(f))+l);return new i(d,0).mod(s)}},bd=i,bd}var Ad,Um;function XS(){if(Um)return Ad;Um=1;var n=C4(),i=T4(),s=S4(),l={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(f){for(var m=f<<10;d.getBCHDigit(m)-d.getBCHDigit(d.G15)>=0;)m^=d.G15<<d.getBCHDigit(m)-d.getBCHDigit(d.G15);return(f<<10|m)^d.G15_MASK},getBCHTypeNumber:function(f){for(var m=f<<12;d.getBCHDigit(m)-d.getBCHDigit(d.G18)>=0;)m^=d.G18<<d.getBCHDigit(m)-d.getBCHDigit(d.G18);return f<<12|m},getBCHDigit:function(f){for(var m=0;f!=0;)m++,f>>>=1;return m},getPatternPosition:function(f){return d.PATTERN_POSITION_TABLE[f-1]},getMask:function(f,m,E){switch(f){case l.PATTERN000:return(m+E)%2==0;case l.PATTERN001:return m%2==0;case l.PATTERN010:return E%3==0;case l.PATTERN011:return(m+E)%3==0;case l.PATTERN100:return(Math.floor(m/2)+Math.floor(E/3))%2==0;case l.PATTERN101:return m*E%2+m*E%3==0;case l.PATTERN110:return(m*E%2+m*E%3)%2==0;case l.PATTERN111:return(m*E%3+(m+E)%2)%2==0;default:throw new Error("bad maskPattern:"+f)}},getErrorCorrectPolynomial:function(f){for(var m=new i([1],0),E=0;E<f;E++)m=m.multiply(new i([1,s.gexp(E)],0));return m},getLengthInBits:function(f,m){if(1<=m&&m<10)switch(f){case n.MODE_NUMBER:return 10;case n.MODE_ALPHA_NUM:return 9;case n.MODE_8BIT_BYTE:return 8;case n.MODE_KANJI:return 8;default:throw new Error("mode:"+f)}else if(m<27)switch(f){case n.MODE_NUMBER:return 12;case n.MODE_ALPHA_NUM:return 11;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 10;default:throw new Error("mode:"+f)}else if(m<41)switch(f){case n.MODE_NUMBER:return 14;case n.MODE_ALPHA_NUM:return 13;case n.MODE_8BIT_BYTE:return 16;case n.MODE_KANJI:return 12;default:throw new Error("mode:"+f)}else throw new Error("type:"+m)},getLostPoint:function(f){for(var m=f.getModuleCount(),E=0,b=0;b<m;b++)for(var g=0;g<m;g++){for(var w=0,C=f.isDark(b,g),D=-1;D<=1;D++)if(!(b+D<0||m<=b+D))for(var T=-1;T<=1;T++)g+T<0||m<=g+T||D==0&&T==0||C==f.isDark(b+D,g+T)&&w++;w>5&&(E+=3+w-5)}for(var b=0;b<m-1;b++)for(var g=0;g<m-1;g++){var O=0;f.isDark(b,g)&&O++,f.isDark(b+1,g)&&O++,f.isDark(b,g+1)&&O++,f.isDark(b+1,g+1)&&O++,(O==0||O==4)&&(E+=3)}for(var b=0;b<m;b++)for(var g=0;g<m-6;g++)f.isDark(b,g)&&!f.isDark(b,g+1)&&f.isDark(b,g+2)&&f.isDark(b,g+3)&&f.isDark(b,g+4)&&!f.isDark(b,g+5)&&f.isDark(b,g+6)&&(E+=40);for(var g=0;g<m;g++)for(var b=0;b<m-6;b++)f.isDark(b,g)&&!f.isDark(b+1,g)&&f.isDark(b+2,g)&&f.isDark(b+3,g)&&f.isDark(b+4,g)&&!f.isDark(b+5,g)&&f.isDark(b+6,g)&&(E+=40);for(var N=0,g=0;g<m;g++)for(var b=0;b<m;b++)f.isDark(b,g)&&N++;var B=Math.abs(100*N/m/m-50)/5;return E+=B*10,E}};return Ad=d,Ad}var Cd,jm;function ZS(){if(jm)return Cd;jm=1;var n=VS(),i=GS(),s=YS(),l=XS(),d=T4();function f(E,b){this.typeNumber=E,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var m=f.prototype;return m.addData=function(E){var b=new n(E);this.dataList.push(b),this.dataCache=null},m.isDark=function(E,b){if(E<0||this.moduleCount<=E||b<0||this.moduleCount<=b)throw new Error(E+","+b);return this.modules[E][b]},m.getModuleCount=function(){return this.moduleCount},m.make=function(){if(this.typeNumber<1){var E=1;for(E=1;E<40;E++){for(var b=i.getRSBlocks(E,this.errorCorrectLevel),g=new s,w=0,C=0;C<b.length;C++)w+=b[C].dataCount;for(var C=0;C<this.dataList.length;C++){var D=this.dataList[C];g.put(D.mode,4),g.put(D.getLength(),l.getLengthInBits(D.mode,E)),D.write(g)}if(g.getLengthInBits()<=w*8)break}this.typeNumber=E}this.makeImpl(!1,this.getBestMaskPattern())},m.makeImpl=function(E,b){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++){this.modules[g]=new Array(this.moduleCount);for(var w=0;w<this.moduleCount;w++)this.modules[g][w]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(E,b),this.typeNumber>=7&&this.setupTypeNumber(E),this.dataCache==null&&(this.dataCache=f.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,b)},m.setupPositionProbePattern=function(E,b){for(var g=-1;g<=7;g++)if(!(E+g<=-1||this.moduleCount<=E+g))for(var w=-1;w<=7;w++)b+w<=-1||this.moduleCount<=b+w||(0<=g&&g<=6&&(w==0||w==6)||0<=w&&w<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=w&&w<=4?this.modules[E+g][b+w]=!0:this.modules[E+g][b+w]=!1)},m.getBestMaskPattern=function(){for(var E=0,b=0,g=0;g<8;g++){this.makeImpl(!0,g);var w=l.getLostPoint(this);(g==0||E>w)&&(E=w,b=g)}return b},m.createMovieClip=function(E,b,g){var w=E.createEmptyMovieClip(b,g),C=1;this.make();for(var D=0;D<this.modules.length;D++)for(var T=D*C,O=0;O<this.modules[D].length;O++){var N=O*C,B=this.modules[D][O];B&&(w.beginFill(0,100),w.moveTo(N,T),w.lineTo(N+C,T),w.lineTo(N+C,T+C),w.lineTo(N,T+C),w.endFill())}return w},m.setupTimingPattern=function(){for(var E=8;E<this.moduleCount-8;E++)this.modules[E][6]==null&&(this.modules[E][6]=E%2==0);for(var b=8;b<this.moduleCount-8;b++)this.modules[6][b]==null&&(this.modules[6][b]=b%2==0)},m.setupPositionAdjustPattern=function(){for(var E=l.getPatternPosition(this.typeNumber),b=0;b<E.length;b++)for(var g=0;g<E.length;g++){var w=E[b],C=E[g];if(this.modules[w][C]==null)for(var D=-2;D<=2;D++)for(var T=-2;T<=2;T++)D==-2||D==2||T==-2||T==2||D==0&&T==0?this.modules[w+D][C+T]=!0:this.modules[w+D][C+T]=!1}},m.setupTypeNumber=function(E){for(var b=l.getBCHTypeNumber(this.typeNumber),g=0;g<18;g++){var w=!E&&(b>>g&1)==1;this.modules[Math.floor(g/3)][g%3+this.moduleCount-8-3]=w}for(var g=0;g<18;g++){var w=!E&&(b>>g&1)==1;this.modules[g%3+this.moduleCount-8-3][Math.floor(g/3)]=w}},m.setupTypeInfo=function(E,b){for(var g=this.errorCorrectLevel<<3|b,w=l.getBCHTypeInfo(g),C=0;C<15;C++){var D=!E&&(w>>C&1)==1;C<6?this.modules[C][8]=D:C<8?this.modules[C+1][8]=D:this.modules[this.moduleCount-15+C][8]=D}for(var C=0;C<15;C++){var D=!E&&(w>>C&1)==1;C<8?this.modules[8][this.moduleCount-C-1]=D:C<9?this.modules[8][15-C-1+1]=D:this.modules[8][15-C-1]=D}this.modules[this.moduleCount-8][8]=!E},m.mapData=function(E,b){for(var g=-1,w=this.moduleCount-1,C=7,D=0,T=this.moduleCount-1;T>0;T-=2)for(T==6&&T--;;){for(var O=0;O<2;O++)if(this.modules[w][T-O]==null){var N=!1;D<E.length&&(N=(E[D]>>>C&1)==1);var B=l.getMask(b,w,T-O);B&&(N=!N),this.modules[w][T-O]=N,C--,C==-1&&(D++,C=7)}if(w+=g,w<0||this.moduleCount<=w){w-=g,g=-g;break}}},f.PAD0=236,f.PAD1=17,f.createData=function(E,b,g){for(var w=i.getRSBlocks(E,b),C=new s,D=0;D<g.length;D++){var T=g[D];C.put(T.mode,4),C.put(T.getLength(),l.getLengthInBits(T.mode,E)),T.write(C)}for(var O=0,D=0;D<w.length;D++)O+=w[D].dataCount;if(C.getLengthInBits()>O*8)throw new Error("code length overflow. ("+C.getLengthInBits()+">"+O*8+")");for(C.getLengthInBits()+4<=O*8&&C.put(0,4);C.getLengthInBits()%8!=0;)C.putBit(!1);for(;!(C.getLengthInBits()>=O*8||(C.put(f.PAD0,8),C.getLengthInBits()>=O*8));)C.put(f.PAD1,8);return f.createBytes(C,w)},f.createBytes=function(E,b){for(var g=0,w=0,C=0,D=new Array(b.length),T=new Array(b.length),O=0;O<b.length;O++){var N=b[O].dataCount,B=b[O].totalCount-N;w=Math.max(w,N),C=Math.max(C,B),D[O]=new Array(N);for(var I=0;I<D[O].length;I++)D[O][I]=255&E.buffer[I+g];g+=N;var M=l.getErrorCorrectPolynomial(B),k=new d(D[O],M.getLength()-1),V=k.mod(M);T[O]=new Array(M.getLength()-1);for(var I=0;I<T[O].length;I++){var Q=I+V.getLength()-T[O].length;T[O][I]=Q>=0?V.get(Q):0}}for(var q=0,I=0;I<b.length;I++)q+=b[I].totalCount;for(var Y=new Array(q),ee=0,I=0;I<w;I++)for(var O=0;O<b.length;O++)I<D[O].length&&(Y[ee++]=D[O][I]);for(var I=0;I<C;I++)for(var O=0;O<b.length;O++)I<T[O].length&&(Y[ee++]=T[O][I]);return Y},Cd=f,Cd}var S0={},zm;function WS(){if(zm)return S0;zm=1,Object.defineProperty(S0,"__esModule",{value:!0});var n=Object.assign||function(g){for(var w=1;w<arguments.length;w++){var C=arguments[w];for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(g[D]=C[D])}return g},i=gh(),s=f(i),l=jn(),d=f(l);function f(g){return g&&g.__esModule?g:{default:g}}function m(g,w){var C={};for(var D in g)w.indexOf(D)>=0||Object.prototype.hasOwnProperty.call(g,D)&&(C[D]=g[D]);return C}var E={bgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,bgD:s.default.string.isRequired,fgColor:s.default.oneOfType([s.default.object,s.default.string]).isRequired,fgD:s.default.string.isRequired,size:s.default.number.isRequired,title:s.default.string,viewBoxSize:s.default.number.isRequired,xmlns:s.default.string},b=(0,l.forwardRef)(function(g,w){var C=g.bgColor,D=g.bgD,T=g.fgD,O=g.fgColor,N=g.size,B=g.title,I=g.viewBoxSize,M=g.xmlns,k=M===void 0?"http://www.w3.org/2000/svg":M,V=m(g,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return d.default.createElement("svg",n({},V,{height:N,ref:w,viewBox:"0 0 "+I+" "+I,width:N,xmlns:k}),B?d.default.createElement("title",null,B):null,d.default.createElement("path",{d:D,fill:C}),d.default.createElement("path",{d:T,fill:O}))});return b.displayName="QRCodeSvg",b.propTypes=E,S0.default=b,S0}var Hm;function QS(){if(Hm)return zl;Hm=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.QRCode=void 0;var n=Object.assign||function(N){for(var B=1;B<arguments.length;B++){var I=arguments[B];for(var M in I)Object.prototype.hasOwnProperty.call(I,M)&&(N[M]=I[M])}return N},i=gh(),s=C(i),l=A4(),d=C(l),f=ZS(),m=C(f),E=jn(),b=C(E),g=WS(),w=C(g);function C(N){return N&&N.__esModule?N:{default:N}}function D(N,B){var I={};for(var M in N)B.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(N,M)&&(I[M]=N[M]);return I}var T={bgColor:s.default.oneOfType([s.default.object,s.default.string]),fgColor:s.default.oneOfType([s.default.object,s.default.string]),level:s.default.string,size:s.default.number,value:s.default.string.isRequired},O=(0,E.forwardRef)(function(N,B){var I=N.bgColor,M=I===void 0?"#FFFFFF":I,k=N.fgColor,V=k===void 0?"#000000":k,Q=N.level,q=Q===void 0?"L":Q,Y=N.size,ee=Y===void 0?256:Y,X=N.value,Z=D(N,["bgColor","fgColor","level","size","value"]),K=new m.default(-1,d.default[q]);K.addData(X),K.make();var $=K.modules;return b.default.createElement(w.default,n({},Z,{bgColor:M,bgD:$.map(function(ne,de){return ne.map(function(te,fe){return te?"":"M "+fe+" "+de+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:V,fgD:$.map(function(ne,de){return ne.map(function(te,fe){return te?"M "+fe+" "+de+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:B,size:ee,viewBoxSize:$.length}))});return zl.QRCode=O,O.displayName="QRCode",O.propTypes=T,zl.default=O,zl}var KS=QS();const JS=Vi(KS);function $S({chatId:n,chatData:i,setData:s,client:l}){function d(E){E.preventDefault(),document.getElementById("chat-data-form").classList.add("none")}function f(E){E.preventDefault();const b=new FormData(E.target);confirm("Are you sure you want to change your public chat username?")&&(s(g=>({...g,[n]:{...g[n],author:b.get("author")}})),d(E))}async function m(E){E.preventDefault(),await l.get("delete-all-messages",n),s(b=>({...b,[n]:{...b[n],messages:[{type:"deleted-messages",data:"all messages deleted"}]}})),d(E)}return H.jsxs("form",{id:"chat-data-form",className:"none",onSubmit:f,children:[H.jsx("button",{className:"danger",type:"reset",onClick:d,title:"Close",children:H.jsx(zS,{})}),H.jsxs("fieldset",{children:[H.jsx("legend",{children:"Delete All Messages"}),H.jsxs("button",{type:"button",className:"danger",onClick:m,children:[H.jsx(HS,{})," Delete All Messages"]})]}),H.jsxs("fieldset",{children:[H.jsx("legend",{children:"Change Username"}),H.jsx("input",{name:"author",type:"text",placeholder:"name...",defaultValue:i.author}),H.jsxs("button",{style:{marginTop:"10px"},type:"submit",children:[H.jsx(qS,{})," Update Username"]})]}),H.jsxs("fieldset",{children:[H.jsx("legend",{children:"Chat-ID"}),H.jsx("input",{name:"chat-id",type:"text",readOnly:!0,value:i.rawChatId})]}),H.jsxs("fieldset",{children:[H.jsx("legend",{children:"Password"}),H.jsx("input",{name:"password",type:"text",readOnly:!0,value:i.rawPassword})]}),H.jsx(JS,{className:"qr-code",value:`${i.rawChatId}
${i.rawPassword}`,size:60,tabIndex:-1})]})}function e5({chatId:n,chatData:i,setData:s,client:l}){function d(){document.getElementById("chat-data-form").classList.toggle("none")}return H.jsxs("header",{children:[H.jsxs("h3",{children:[(window==null?void 0:window.setPage)&&H.jsx("button",{onClick:()=>window.setPage(!0),type:"button",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m313-440 224 224-57 56-320-320 320-320 57 56-224 224h487v80H313Z"})})}),i==null?void 0:i.chatName]}),H.jsx("div",{className:"user-states",children:Object.keys((i==null?void 0:i.userStates)||{}).filter(f=>{var m;return((m=i==null?void 0:i.userStates)==null?void 0:m[f])==="is-writing"}).map(f=>H.jsxs("span",{children:[f,H.jsx("span",{children:""})]},f))}),H.jsxs("div",{className:"right",children:[H.jsx("button",{className:i.isCalling?"calling":"",type:"button",title:"Chat Settings",onClick:f=>{var m;f.preventDefault(),(m=window==null?void 0:window.acceptCall)==null||m.call(window)},children:H.jsx(US,{})}),H.jsx("button",{type:"button",title:"Chat Settings",onClick:d,children:H.jsx(jS,{})})]}),H.jsx($S,{chatId:n,chatData:i,setData:s,client:l})]},n)}let qm;function t5({chatId:n,chatData:i,client:s,setData:l}){var C;const d="inp-"+Cv(n),[f,m]=Je.useState(""),[E,b]=Je.useState(!1);Je.useEffect(()=>{const D=localStorage.getItem(d);m(D?di(i.password,D):"")},[n]),window.setReactId=b,window.reactId=E;const g=i.messages.find(({id:D})=>D==E);((C=g==null?void 0:g.data)==null?void 0:C.length)>100&&(g.data=g.data.slice(0,100));const w=async D=>{var M,k;D.preventDefault();const T=new FormData(D.target),O={type:T.get("type"),data:T.get("text"),date:new Date().toLocaleString(),author:i.author,comments:[],react:E&&g?[E,{author:g.author,data:g.data}]:!1},N={id:Ci(4).toString()};l(V=>({...V,[n]:{...V[n],messages:[...V[n].messages,{...O,...N}]}})),D.target.reset(),m(""),localStorage.setItem(d,fi(i.password,"")),await s.get("send",{chatId:n,message:fi(i.password,JSON.stringify(O)),...N})||alert("A send error occurred. Your message isnt send!"),b(!1);const I=document.querySelector(".messages");I&&((k=(M=I.lastChild)==null?void 0:M.scrollIntoView)==null||k.call(M,{behavior:"smooth",block:"center"})),s.say("user-state-change",{chatId:n,message:fi(i.password,JSON.stringify({author:i==null?void 0:i.author,state:"idle"}))})};return H.jsxs("form",{onSubmit:w,onKeyDown:D=>{D.key=="Escape"&&w({preventDefault:()=>0,target:document.querySelector(".message-form")})},className:"message-form",children:[H.jsx("input",{type:"hidden",value:"text",name:"type"}),H.jsx("textarea",{value:f||"",autoFocus:innerWidth>768,name:"text",placeholder:"Type your message...",onInput:D=>{m(D.target.value),localStorage.setItem(d,fi(i.password,D.target.value)),!(qm>Date.now()-3e3)&&(qm=Date.now(),s.say("user-state-change",{chatId:n,message:fi(i.password,JSON.stringify({author:i==null?void 0:i.author,state:"is-writing"}))}))},required:!0}),H.jsx("button",{type:"submit",className:"send-button",title:"Send",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})})}),g&&H.jsxs("div",{className:"react-elem",children:[H.jsx("button",{type:"button",onClick:D=>{D.preventDefault(),b(!1)},className:"danger",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})}),H.jsxs("div",{onClick:D=>{D.preventDefault(),document.getElementById(E).scrollIntoView({behavior:"smooth",block:"center"})},children:[H.jsx("b",{children:g.author}),":",H.jsx("span",{children:H.jsx("i",{children:g.data})})]})]})]})}function n5({isCalling:n,broadcast:i,onBroadcast:s,exit:l}){const d=Je.useRef(null),f=Je.useRef(null),m=Je.useRef(null),E=Je.useRef(null),[b,g]=Je.useState(!1),[w,C]=Je.useState(!1),[D,T]=Je.useState(!0);Je.useEffect(()=>(n?navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(I=>{E.current=I,d.current&&(d.current.srcObject=I),O(I),N()}).catch(console.error):B(),B),[n]);const O=I=>{m.current=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"}]}),I.getTracks().forEach(M=>m.current.addTrack(M,I)),m.current.ontrack=M=>{f.current&&(f.current.srcObject=M.streams[0])},m.current.onicecandidate=M=>{M.candidate&&i({type:"candidate",candidate:M.candidate})}},N=async()=>{if(!m.current)return;const I=await m.current.createOffer();await m.current.setLocalDescription(I),i({type:"offer",offer:I})};Je.useEffect(()=>{s(async I=>{if(m.current)if(I.type==="offer"){await m.current.setRemoteDescription(new RTCSessionDescription(I.offer));const M=await m.current.createAnswer();await m.current.setLocalDescription(M),i({type:"answer",answer:M})}else I.type==="answer"?await m.current.setRemoteDescription(new RTCSessionDescription(I.answer)):I.type==="candidate"&&await m.current.addIceCandidate(new RTCIceCandidate(I.candidate))})},[s]);function B(){E.current&&(E.current.getTracks().forEach(I=>I.stop()),E.current=null),d.current&&(d.current.srcObject=null),f.current&&(f.current.srcObject=null),m.current&&(m.current.close(),m.current=null)}return Je.useEffect(()=>{E.current&&(E.current.getAudioTracks().forEach(I=>{I.enabled=!w}),E.current.getVideoTracks().forEach(I=>{I.enabled=D}))},[w,D]),H.jsxs("div",{className:"call-view "+(n?"":"hidden-call-view"),children:[H.jsxs("div",{className:"video-container",children:[H.jsx("video",{className:b?"big":"small",onClick:()=>{console.log("Switching self-watch off"),g(I=>!I)},ref:d,autoPlay:!0,playsInline:!0,muted:!0}),H.jsx("video",{tabIndex:-1,className:b?"small":"big",onClick:()=>{console.log("Switching self-watch on"),g(I=>!I)},ref:f,autoFocus:!0,autoPlay:!0,playsInline:!0})]}),H.jsxs("div",{className:"content",children:[H.jsx("button",{className:"danger",onClick:()=>{console.log("Exit button clicked"),B(),l()},children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m136-304-92-90q-12-12-12-28t12-28q88-95 203-142.5T480-640q118 0 232.5 47.5T916-450q12 12 12 28t-12 28l-92 90q-11 11-25.5 12t-26.5-8l-116-88q-8-6-12-14t-4-18v-114q-38-12-78-19t-82-7q-42 0-82 7t-78 19v114q0 10-4 18t-12 14l-116 88q-12 9-26.5 8T136-304Zm104-198q-29 15-56 34.5T128-424l40 40 72-56v-62Zm480 2v60l72 56 40-38q-29-26-56-45t-56-33Zm-480-2Zm480 2Z"})})}),H.jsx("button",{onClick:()=>C(I=>!I),children:w?H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M480-400q-50 0-85-35t-35-85v-240q0-50 35-85t85-35q50 0 85 35t35 85v240q0 50-35 85t-85 35Zm0-240Zm-40 520v-123q-104-14-172-93t-68-184h80q0 83 58.5 141.5T480-320q83 0 141.5-58.5T680-520h80q0 105-68 184t-172 93v123h-80Zm40-360q17 0 28.5-11.5T520-520v-240q0-17-11.5-28.5T480-800q-17 0-28.5 11.5T440-760v240q0 17 11.5 28.5T480-480Z"})}):H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m710-362-58-58q14-23 21-48t7-52h80q0 44-13 83.5T710-362ZM480-594Zm112 112-72-72v-206q0-17-11.5-28.5T480-800q-17 0-28.5 11.5T440-760v126l-80-80v-46q0-50 35-85t85-35q50 0 85 35t35 85v240q0 11-2.5 20t-5.5 18ZM440-120v-123q-104-14-172-93t-68-184h80q0 83 57.5 141.5T480-320q34 0 64.5-10.5T600-360l57 57q-29 23-63.5 39T520-243v123h-80Zm352 64L56-792l56-56 736 736-56 56Z"})})}),H.jsx("button",{onClick:()=>T(I=>!I),children:D?H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M880-260 720-420v67l-80-80v-287H353l-80-80h367q33 0 56.5 23.5T720-720v180l160-160v440ZM822-26 26-822l56-56L878-82l-56 56ZM498-575ZM382-464ZM160-800l80 80h-80v480h480v-80l80 80q0 33-23.5 56.5T640-160H160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800Z"})}):H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h480q33 0 56.5 23.5T720-720v180l160-160v440L720-420v180q0 33-23.5 56.5T640-160H160Zm0-80h480v-480H160v480Zm0 0v-480 480Z"})})})]})]})}function _4({chatId:n,chatData:i,client:s,setData:l,page:d}){const[f,m]=Je.useState(!1);return window.acceptCall=()=>{m(!0),s.say("join-call",n)},Je.useEffect(()=>{if(!d){const E=document.querySelectorAll(".message");E&&E[E.length-1]&&E[E.length-1].scrollIntoView({behavior:"smooth",block:"center"})}},[n,d]),H.jsxs("div",{className:"chat-room",children:[H.jsx(e5,{client:s,chatData:i,chatId:n,setData:l}),H.jsx("div",{className:"messages",children:i.messages.filter(({type:E})=>E!=="update").map((E,b)=>H.jsx(PS,{msg:E,chatData:i,index:b,chatId:n,client:s,setData:l},E.id))}),H.jsx(t5,{chatData:i,chatId:n,setData:l,client:s}),H.jsx(n5,{onBroadcast:E=>s.onSay("borascast-inner-group",E,!0),broadcast:E=>{s.say("call-broadcast",{chatId:n,data:E})},exit:()=>{s.say("exit-call",n),m(!1)},isCalling:f})]})}function r5({handleJoin:n,setScanQrCode:i,defaultPassword:s}){return H.jsxs("form",{onSubmit:n,className:"join-form",children:[H.jsx("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text",name:"id",placeholder:"Group to join...",required:!0}),H.jsx("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"password",name:"password",placeholder:"Encryption password...",required:!0,defaultValue:s,onFocus:l=>{l.target.type="text"},onBlur:l=>{l.target.type="password"}}),H.jsx("input",{type:"text",name:"author",placeholder:"Your name...",required:!0}),H.jsx("button",{type:"submit",children:"Join Chat"}),H.jsx("button",{type:"button",onClick:l=>{l.preventDefault(),i(!0)},children:"Scan QR Code"})]})}var qe;(function(n){n[n.QR_CODE=0]="QR_CODE",n[n.AZTEC=1]="AZTEC",n[n.CODABAR=2]="CODABAR",n[n.CODE_39=3]="CODE_39",n[n.CODE_93=4]="CODE_93",n[n.CODE_128=5]="CODE_128",n[n.DATA_MATRIX=6]="DATA_MATRIX",n[n.MAXICODE=7]="MAXICODE",n[n.ITF=8]="ITF",n[n.EAN_13=9]="EAN_13",n[n.EAN_8=10]="EAN_8",n[n.PDF_417=11]="PDF_417",n[n.RSS_14=12]="RSS_14",n[n.RSS_EXPANDED=13]="RSS_EXPANDED",n[n.UPC_A=14]="UPC_A",n[n.UPC_E=15]="UPC_E",n[n.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(qe||(qe={}));var Vm=new Map([[qe.QR_CODE,"QR_CODE"],[qe.AZTEC,"AZTEC"],[qe.CODABAR,"CODABAR"],[qe.CODE_39,"CODE_39"],[qe.CODE_93,"CODE_93"],[qe.CODE_128,"CODE_128"],[qe.DATA_MATRIX,"DATA_MATRIX"],[qe.MAXICODE,"MAXICODE"],[qe.ITF,"ITF"],[qe.EAN_13,"EAN_13"],[qe.EAN_8,"EAN_8"],[qe.PDF_417,"PDF_417"],[qe.RSS_14,"RSS_14"],[qe.RSS_EXPANDED,"RSS_EXPANDED"],[qe.UPC_A,"UPC_A"],[qe.UPC_E,"UPC_E"],[qe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Gm;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.URL=1]="URL"})(Gm||(Gm={}));function i5(n){return Object.values(qe).includes(n)}var us;(function(n){n[n.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",n[n.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(us||(us={}));var Ai=function(){function n(){}return n.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",n.SCAN_DEFAULT_FPS=2,n.DEFAULT_DISABLE_FLIP=!1,n.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,n.DEFAULT_SUPPORTED_SCAN_TYPE=[us.SCAN_TYPE_CAMERA,us.SCAN_TYPE_FILE],n}(),D4=function(){function n(i,s){this.format=i,this.formatName=s}return n.prototype.toString=function(){return this.formatName},n.create=function(i){if(!Vm.has(i))throw"".concat(i," not in html5QrcodeSupportedFormatsTextMap");return new n(i,Vm.get(i))},n}(),Ym=function(){function n(){}return n.createFromText=function(i){var s={text:i};return{decodedText:i,result:s}},n.createFromQrcodeResult=function(i){return{decodedText:i.text,result:i}},n}(),qd;(function(n){n[n.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",n[n.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",n[n.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(qd||(qd={}));var O4=function(){function n(){}return n.createFrom=function(i){return{errorMessage:i,type:qd.UNKWOWN_ERROR}},n}(),N4=function(){function n(i){this.verbose=i}return n.prototype.log=function(i){this.verbose&&console.log(i)},n.prototype.warn=function(i){this.verbose&&console.warn(i)},n.prototype.logError=function(i,s){(this.verbose||s===!0)&&console.error(i)},n.prototype.logErrors=function(i){if(i.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(i)},n}();function zi(n){return typeof n>"u"||n===null}function a5(n,i,s){return n>s?s:n<i?i:n}var Vl=function(){function n(){}return n.codeParseError=function(i){return"QR code parse error, error = ".concat(i)},n.errorGettingUserMedia=function(i){return"Error getting userMedia, error = ".concat(i)},n.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},n.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},n.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},n.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},n.scannerPaused=function(){return"Scanner paused"},n}(),Zt=function(){function n(){}return n.scanningStatus=function(){return"Scanning"},n.idleStatus=function(){return"Idle"},n.errorStatus=function(){return"Error"},n.permissionStatus=function(){return"Permission"},n.noCameraFoundErrorStatus=function(){return"No Cameras"},n.lastMatch=function(i){return"Last Match: ".concat(i)},n.codeScannerTitle=function(){return"Code Scanner"},n.cameraPermissionTitle=function(){return"Request Camera Permissions"},n.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},n.noCameraFound=function(){return"No camera found"},n.scanButtonStopScanningText=function(){return"Stop Scanning"},n.scanButtonStartScanningText=function(){return"Start Scanning"},n.torchOnButton=function(){return"Switch On Torch"},n.torchOffButton=function(){return"Switch Off Torch"},n.torchOnFailedMessage=function(){return"Failed to turn on torch"},n.torchOffFailedMessage=function(){return"Failed to turn off torch"},n.scanButtonScanningStarting=function(){return"Launching Camera..."},n.textIfCameraScanSelected=function(){return"Scan an Image File"},n.textIfFileScanSelected=function(){return"Scan using camera directly"},n.selectCamera=function(){return"Select Camera"},n.fileSelectionChooseImage=function(){return"Choose Image"},n.fileSelectionChooseAnother=function(){return"Choose Another"},n.fileSelectionNoImageSelected=function(){return"No image choosen"},n.anonymousCameraPrefix=function(){return"Anonymous Camera"},n.dragAndDropMessage=function(){return"Or drop an image to scan"},n.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},n.zoom=function(){return"zoom"},n.loadingImage=function(){return"Loading image..."},n.cameraScanAltText=function(){return"Camera based scan"},n.fileScanAltText=function(){return"Fule based scan"},n}(),Xm=function(){function n(){}return n.poweredBy=function(){return"Powered by "},n.reportIssues=function(){return"Report issues"},n}(),B4=function(){function n(){}return n.isMediaStreamConstraintsValid=function(i,s){if(typeof i!="object"){var l=typeof i;return s.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(l,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(d),m=Object.keys(i),E=0,b=m;E<b.length;E++){var g=b[E];if(f.has(g))return s.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},n}(),Jo={exports:{}},s5=Jo.exports,Zm;function l5(){return Zm||(Zm=1,function(n,i){(function(s,l){l(i)})(s5,function(s){function l(P){return P==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,t){P.__proto__=t}||function(P,t){for(var a in t)t.hasOwnProperty(a)&&(P[a]=t[a])};function f(P,t){d(P,t);function a(){this.constructor=P}P.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}function m(P,t){var a=Object.setPrototypeOf;a?a(P,t):P.__proto__=t}function E(P,t){t===void 0&&(t=P.constructor);var a=Error.captureStackTrace;a&&a(P,t)}var b=function(P){f(t,P);function t(a){var o=this.constructor,c=P.call(this,a)||this;return Object.defineProperty(c,"name",{value:o.name,enumerable:!1}),m(c,o.prototype),E(c),c}return t}(Error);class g extends b{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}g.kind="Exception";class w extends g{}w.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class D{constructor(t){if(this.binarizer=t,t===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,a){return this.binarizer.getBlackRow(t,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,a,o,c){const h=this.binarizer.getLuminanceSource().crop(t,a,o,c);return new D(this.binarizer.createBinarizer(h))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new D(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new D(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends g{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class O{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(t,a,o,c,h){for(;h--;)o[c++]=t[a++]}static currentTimeMillis(){return Date.now()}}class B extends g{}B.kind="IndexOutOfBoundsException";class I extends B{constructor(t=void 0,a=void 0){super(a),this.index=t,this.message=a}}I.kind="ArrayIndexOutOfBoundsException";class M{static fill(t,a){for(let o=0,c=t.length;o<c;o++)t[o]=a}static fillWithin(t,a,o,c){M.rangeCheck(t.length,a,o);for(let h=a;h<o;h++)t[h]=c}static rangeCheck(t,a,o){if(a>o)throw new C("fromIndex("+a+") > toIndex("+o+")");if(a<0)throw new I(a);if(o>t)throw new I(o)}static asList(...t){return t}static create(t,a,o){return Array.from({length:t}).map(h=>Array.from({length:a}).fill(o))}static createInt32Array(t,a,o){return Array.from({length:t}).map(h=>Int32Array.from({length:a}).fill(o))}static equals(t,a){if(!t||!a||!t.length||!a.length||t.length!==a.length)return!1;for(let o=0,c=t.length;o<c;o++)if(t[o]!==a[o])return!1;return!0}static hashCode(t){if(t===null)return 0;let a=1;for(const o of t)a=31*a+o;return a}static fillUint8Array(t,a){for(let o=0;o!==t.length;o++)t[o]=a}static copyOf(t,a){return t.slice(0,a)}static copyOfUint8Array(t,a){if(t.length<=a){const o=new Uint8Array(a);return o.set(t),o}return t.slice(0,a)}static copyOfRange(t,a,o){const c=o-a,h=new Int32Array(c);return N.arraycopy(t,a,h,0,c),h}static binarySearch(t,a,o){o===void 0&&(o=M.numberComparator);let c=0,h=t.length-1;for(;c<=h;){const p=h+c>>1,y=o(a,t[p]);if(y>0)c=p+1;else if(y<0)h=p-1;else return p}return-c-1}static numberComparator(t,a){return t-a}}class k{static numberOfTrailingZeros(t){let a;if(t===0)return 32;let o=31;return a=t<<16,a!==0&&(o-=16,t=a),a=t<<8,a!==0&&(o-=8,t=a),a=t<<4,a!==0&&(o-=4,t=a),a=t<<2,a!==0&&(o-=2,t=a),o-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let a=1;return t>>>16||(a+=16,t<<=16),t>>>24||(a+=8,t<<=8),t>>>28||(a+=4,t<<=4),t>>>30||(a+=2,t<<=2),a-=t>>>31,a}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,a){return Math.trunc(t/a)}static parseInt(t,a=void 0){return parseInt(t,a)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class V{constructor(t,a){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,a==null?this.bits=V.makeArray(t):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const a=V.makeArray(t);N.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const a=this.size;if(t>=a)return a;const o=this.bits;let c=Math.floor(t/32),h=o[c];h&=~((1<<(t&31))-1);const p=o.length;for(;h===0;){if(++c===p)return a;h=o[c]}const y=c*32+k.numberOfTrailingZeros(h);return y>a?a:y}getNextUnset(t){const a=this.size;if(t>=a)return a;const o=this.bits;let c=Math.floor(t/32),h=~o[c];h&=~((1<<(t&31))-1);const p=o.length;for(;h===0;){if(++c===p)return a;h=~o[c]}const y=c*32+k.numberOfTrailingZeros(h);return y>a?a:y}setBulk(t,a){this.bits[Math.floor(t/32)]=a}setRange(t,a){if(a<t||t<0||a>this.size)throw new C;if(a===t)return;a--;const o=Math.floor(t/32),c=Math.floor(a/32),h=this.bits;for(let p=o;p<=c;p++){const y=p>o?0:t&31,_=(2<<(p<c?31:a&31))-(1<<y);h[p]|=_}}clear(){const t=this.bits.length,a=this.bits;for(let o=0;o<t;o++)a[o]=0}isRange(t,a,o){if(a<t||t<0||a>this.size)throw new C;if(a===t)return!0;a--;const c=Math.floor(t/32),h=Math.floor(a/32),p=this.bits;for(let y=c;y<=h;y++){const A=y>c?0:t&31,R=(2<<(y<h?31:a&31))-(1<<A)&4294967295;if((p[y]&R)!==(o?R:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,a){if(a<0||a>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let o=a;o>0;o--)this.appendBit((t>>o-1&1)===1)}appendBitArray(t){const a=t.size;this.ensureCapacity(this.size+a);for(let o=0;o<a;o++)this.appendBit(t.get(o))}xor(t){if(this.size!==t.size)throw new C("Sizes don't match");const a=this.bits;for(let o=0,c=a.length;o<c;o++)a[o]^=t.bits[o]}toBytes(t,a,o,c){for(let h=0;h<c;h++){let p=0;for(let y=0;y<8;y++)this.get(t)&&(p|=1<<7-y),t++;a[o+h]=p}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),o=a+1,c=this.bits;for(let h=0;h<o;h++){let p=c[h];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,t[a-h]=p}if(this.size!==o*32){const h=o*32-this.size;let p=t[0]>>>h;for(let y=1;y<o;y++){const A=t[y];p|=A<<32-h,t[y-1]=p,p=A>>>h}t[o-1]=p}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof V))return!1;const a=t;return this.size===a.size&&M.equals(this.bits,a.bits)}hashCode(){return 31*this.size+M.hashCode(this.bits)}toString(){let t="";for(let a=0,o=this.size;a<o;a++)(a&7)===0&&(t+=" "),t+=this.get(a)?"X":".";return t}clone(){return new V(this.size,this.bits.slice())}}var Q;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var q=Q;class Y extends g{static getFormatInstance(){return new Y}}Y.kind="FormatException";var ee;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(ee||(ee={}));class X{constructor(t,a,o,...c){this.valueIdentifier=t,this.name=o,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=c,X.VALUE_IDENTIFIER_TO_ECI.set(t,this),X.NAME_TO_ECI.set(o,this);const h=this.values;for(let p=0,y=h.length;p!==y;p++){const A=h[p];X.VALUES_TO_ECI.set(A,this)}for(const p of c)X.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new Y("incorect value");const a=X.VALUES_TO_ECI.get(t);if(a===void 0)throw new Y("incorect value");return a}static getCharacterSetECIByName(t){const a=X.NAME_TO_ECI.get(t);if(a===void 0)throw new Y("incorect value");return a}equals(t){if(!(t instanceof X))return!1;const a=t;return this.getName()===a.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(ee.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(ee.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(ee.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(ee.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(ee.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(ee.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(ee.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(ee.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(ee.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(ee.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(ee.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(ee.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(ee.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(ee.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(ee.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(ee.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(ee.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(ee.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(ee.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(ee.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(ee.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(ee.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(ee.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(ee.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(ee.Big5,28,"Big5"),X.GB18030=new X(ee.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(ee.EUC_KR,30,"EUC_KR","EUC-KR");class Z extends g{}Z.kind="UnsupportedOperationException";class K{static decode(t,a){const o=this.encodingName(a);return this.customDecoder?this.customDecoder(t,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(t,o):new TextDecoder(o).decode(t)}static shouldDecodeOnFallback(t){return!K.isBrowser()&&t==="ISO-8859-1"}static encode(t,a){const o=this.encodingName(a);return this.customEncoder?this.customEncoder(t,o):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof X?t:X.getCharacterSetECIByName(t)}static decodeFallback(t,a){const o=this.encodingCharacterSet(a);if(K.isDecodeFallbackSupported(o)){let c="";for(let h=0,p=t.length;h<p;h++){let y=t[h].toString(16);y.length<2&&(y="0"+y),c+="%"+y}return decodeURIComponent(c)}if(o.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Z(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(X.UTF8)||t.equals(X.ISO8859_1)||t.equals(X.ASCII)}static encodeFallback(t){const o=btoa(unescape(encodeURIComponent(t))).split(""),c=[];for(let h=0;h<o.length;h++)c.push(o[h].charCodeAt(0));return new Uint8Array(c)}}class ${static castAsNonUtf8Char(t,a=null){const o=a?a.getName():this.ISO88591;return K.decode(new Uint8Array([t]),o)}static guessEncoding(t,a){if(a!=null&&a.get(q.CHARACTER_SET)!==void 0)return a.get(q.CHARACTER_SET).toString();const o=t.length;let c=!0,h=!0,p=!0,y=0,A=0,_=0,R=0,U=0,z=0,J=0,ae=0,le=0,xe=0,ve=0;const Ie=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Me=0;Me<o&&(c||h||p);Me++){const Be=t[Me]&255;p&&(y>0?(Be&128)===0?p=!1:y--:(Be&128)!==0&&((Be&64)===0?p=!1:(y++,(Be&32)===0?A++:(y++,(Be&16)===0?_++:(y++,(Be&8)===0?R++:p=!1))))),c&&(Be>127&&Be<160?c=!1:Be>159&&(Be<192||Be===215||Be===247)&&ve++),h&&(U>0?Be<64||Be===127||Be>252?h=!1:U--:Be===128||Be===160||Be>239?h=!1:Be>160&&Be<224?(z++,ae=0,J++,J>le&&(le=J)):Be>127?(U++,J=0,ae++,ae>xe&&(xe=ae)):(J=0,ae=0))}return p&&y>0&&(p=!1),h&&U>0&&(h=!1),p&&(Ie||A+_+R>0)?$.UTF8:h&&($.ASSUME_SHIFT_JIS||le>=3||xe>=3)?$.SHIFT_JIS:c&&h?le===2&&z===2||ve*10>=o?$.SHIFT_JIS:$.ISO88591:c?$.ISO88591:h?$.SHIFT_JIS:p?$.UTF8:$.PLATFORM_DEFAULT_ENCODING}static format(t,...a){let o=-1;function c(p,y,A,_,R,U){if(p==="%%")return"%";if(a[++o]===void 0)return;p=_?parseInt(_.substr(1)):void 0;let z=R?parseInt(R.substr(1)):void 0,J;switch(U){case"s":J=a[o];break;case"c":J=a[o][0];break;case"f":J=parseFloat(a[o]).toFixed(p);break;case"p":J=parseFloat(a[o]).toPrecision(p);break;case"e":J=parseFloat(a[o]).toExponential(p);break;case"x":J=parseInt(a[o]).toString(z||16);break;case"d":J=parseFloat(parseInt(a[o],z||10).toPrecision(p)).toFixed(0);break}J=typeof J=="object"?JSON.stringify(J):(+J).toString(z);let ae=parseInt(A),le=A&&A[0]+""=="0"?"0":" ";for(;J.length<ae;)J=y!==void 0?J+le:le+J;return J}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,c)}static getBytes(t,a){return K.encode(t,a)}static getCharCode(t,a=0){return t.charCodeAt(a)}static getCharAt(t){return String.fromCharCode(t)}}$.SHIFT_JIS=X.SJIS.getName(),$.GB2312="GB2312",$.ISO88591=X.ISO8859_1.getName(),$.EUC_JP="EUC_JP",$.UTF8=X.UTF8.getName(),$.PLATFORM_DEFAULT_ENCODING=$.UTF8,$.ASSUME_SHIFT_JIS=!1;class ne{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=$.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,a,o){for(let c=a;a<a+o;c++)this.append(t[c]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+1)}substring(t,a){return this.value.substring(t,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,a){this.value=this.value.substr(0,t)+a+this.value.substr(t+a.length)}}class de{constructor(t,a,o,c){if(this.width=t,this.height=a,this.rowSize=o,this.bits=c,a==null&&(a=t),this.height=a,t<1||a<1)throw new C("Both dimensions must be greater than 0");o==null&&(o=Math.floor((t+31)/32)),this.rowSize=o,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const a=t.length,o=t[0].length,c=new de(o,a);for(let h=0;h<a;h++){const p=t[h];for(let y=0;y<o;y++)p[y]&&c.set(y,h)}return c}static parseFromString(t,a,o){if(t===null)throw new C("stringRepresentation cannot be null");const c=new Array(t.length);let h=0,p=0,y=-1,A=0,_=0;for(;_<t.length;)if(t.charAt(_)===`
`||t.charAt(_)==="\r"){if(h>p){if(y===-1)y=h-p;else if(h-p!==y)throw new C("row lengths do not match");p=h,A++}_++}else if(t.substring(_,_+a.length)===a)_+=a.length,c[h]=!0,h++;else if(t.substring(_,_+o.length)===o)_+=o.length,c[h]=!1,h++;else throw new C("illegal character encountered: "+t.substring(_));if(h>p){if(y===-1)y=h-p;else if(h-p!==y)throw new C("row lengths do not match");A++}const R=new de(y,A);for(let U=0;U<h;U++)c[U]&&R.set(Math.floor(U%y),Math.floor(U/y));return R}get(t,a){const o=a*this.rowSize+Math.floor(t/32);return(this.bits[o]>>>(t&31)&1)!==0}set(t,a){const o=a*this.rowSize+Math.floor(t/32);this.bits[o]|=1<<(t&31)&4294967295}unset(t,a){const o=a*this.rowSize+Math.floor(t/32);this.bits[o]&=~(1<<(t&31)&4294967295)}flip(t,a){const o=a*this.rowSize+Math.floor(t/32);this.bits[o]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new C("input matrix dimensions do not match");const a=new V(Math.floor(this.width/32)+1),o=this.rowSize,c=this.bits;for(let h=0,p=this.height;h<p;h++){const y=h*o,A=t.getRow(h,a).getBitArray();for(let _=0;_<o;_++)c[y+_]^=A[_]}}clear(){const t=this.bits,a=t.length;for(let o=0;o<a;o++)t[o]=0}setRegion(t,a,o,c){if(a<0||t<0)throw new C("Left and top must be nonnegative");if(c<1||o<1)throw new C("Height and width must be at least 1");const h=t+o,p=a+c;if(p>this.height||h>this.width)throw new C("The region must fit inside the matrix");const y=this.rowSize,A=this.bits;for(let _=a;_<p;_++){const R=_*y;for(let U=t;U<h;U++)A[R+Math.floor(U/32)]|=1<<(U&31)&4294967295}}getRow(t,a){a==null||a.getSize()<this.width?a=new V(this.width):a.clear();const o=this.rowSize,c=this.bits,h=t*o;for(let p=0;p<o;p++)a.setBulk(p*32,c[h+p]);return a}setRow(t,a){N.arraycopy(a.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),a=this.getHeight();let o=new V(t),c=new V(t);for(let h=0,p=Math.floor((a+1)/2);h<p;h++)o=this.getRow(h,o),c=this.getRow(a-1-h,c),o.reverse(),c.reverse(),this.setRow(h,c),this.setRow(a-1-h,o)}getEnclosingRectangle(){const t=this.width,a=this.height,o=this.rowSize,c=this.bits;let h=t,p=a,y=-1,A=-1;for(let _=0;_<a;_++)for(let R=0;R<o;R++){const U=c[_*o+R];if(U!==0){if(_<p&&(p=_),_>A&&(A=_),R*32<h){let z=0;for(;(U<<31-z&4294967295)===0;)z++;R*32+z<h&&(h=R*32+z)}if(R*32+31>y){let z=31;for(;!(U>>>z);)z--;R*32+z>y&&(y=R*32+z)}}}return y<h||A<p?null:Int32Array.from([h,p,y-h+1,A-p+1])}getTopLeftOnBit(){const t=this.rowSize,a=this.bits;let o=0;for(;o<a.length&&a[o]===0;)o++;if(o===a.length)return null;const c=o/t;let h=o%t*32;const p=a[o];let y=0;for(;(p<<31-y&4294967295)===0;)y++;return h+=y,Int32Array.from([h,c])}getBottomRightOnBit(){const t=this.rowSize,a=this.bits;let o=a.length-1;for(;o>=0&&a[o]===0;)o--;if(o<0)return null;const c=Math.floor(o/t);let h=Math.floor(o%t)*32;const p=a[o];let y=31;for(;!(p>>>y);)y--;return h+=y,Int32Array.from([h,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof de))return!1;const a=t;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&M.equals(this.bits,a.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+M.hashCode(this.bits),t}toString(t="X ",a="  ",o=`
`){return this.buildToString(t,a,o)}buildToString(t,a,o){let c=new ne;for(let h=0,p=this.height;h<p;h++){for(let y=0,A=this.width;y<A;y++)c.append(this.get(y,h)?t:a);c.append(o)}return c.toString()}clone(){return new de(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends g{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class fe extends O{constructor(t){super(t),this.luminances=fe.EMPTY,this.buckets=new Int32Array(fe.LUMINANCE_BUCKETS)}getBlackRow(t,a){const o=this.getLuminanceSource(),c=o.getWidth();a==null||a.getSize()<c?a=new V(c):a.clear(),this.initArrays(c);const h=o.getRow(t,this.luminances),p=this.buckets;for(let A=0;A<c;A++)p[(h[A]&255)>>fe.LUMINANCE_SHIFT]++;const y=fe.estimateBlackPoint(p);if(c<3)for(let A=0;A<c;A++)(h[A]&255)<y&&a.set(A);else{let A=h[0]&255,_=h[1]&255;for(let R=1;R<c-1;R++){const U=h[R+1]&255;(_*4-A-U)/2<y&&a.set(R),A=_,_=U}}return a}getBlackMatrix(){const t=this.getLuminanceSource(),a=t.getWidth(),o=t.getHeight(),c=new de(a,o);this.initArrays(a);const h=this.buckets;for(let A=1;A<5;A++){const _=Math.floor(o*A/5),R=t.getRow(_,this.luminances),U=Math.floor(a*4/5);for(let z=Math.floor(a/5);z<U;z++){const J=R[z]&255;h[J>>fe.LUMINANCE_SHIFT]++}}const p=fe.estimateBlackPoint(h),y=t.getMatrix();for(let A=0;A<o;A++){const _=A*a;for(let R=0;R<a;R++)(y[_+R]&255)<p&&c.set(R,A)}return c}createBinarizer(t){return new fe(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const a=this.buckets;for(let o=0;o<fe.LUMINANCE_BUCKETS;o++)a[o]=0}static estimateBlackPoint(t){const a=t.length;let o=0,c=0,h=0;for(let R=0;R<a;R++)t[R]>h&&(c=R,h=t[R]),t[R]>o&&(o=t[R]);let p=0,y=0;for(let R=0;R<a;R++){const U=R-c,z=t[R]*U*U;z>y&&(p=R,y=z)}if(c>p){const R=c;c=p,p=R}if(p-c<=a/16)throw new te;let A=p-1,_=-1;for(let R=p-1;R>c;R--){const U=R-c,z=U*U*(p-R)*(o-t[R]);z>_&&(A=R,_=z)}return A<<fe.LUMINANCE_SHIFT}}fe.LUMINANCE_BITS=5,fe.LUMINANCE_SHIFT=8-fe.LUMINANCE_BITS,fe.LUMINANCE_BUCKETS=1<<fe.LUMINANCE_BITS,fe.EMPTY=Uint8ClampedArray.from([0]);class we extends fe{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),a=t.getWidth(),o=t.getHeight();if(a>=we.MINIMUM_DIMENSION&&o>=we.MINIMUM_DIMENSION){const c=t.getMatrix();let h=a>>we.BLOCK_SIZE_POWER;(a&we.BLOCK_SIZE_MASK)!==0&&h++;let p=o>>we.BLOCK_SIZE_POWER;(o&we.BLOCK_SIZE_MASK)!==0&&p++;const y=we.calculateBlackPoints(c,h,p,a,o),A=new de(a,o);we.calculateThresholdForBlock(c,h,p,a,o,y,A),this.matrix=A}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new we(t)}static calculateThresholdForBlock(t,a,o,c,h,p,y){const A=h-we.BLOCK_SIZE,_=c-we.BLOCK_SIZE;for(let R=0;R<o;R++){let U=R<<we.BLOCK_SIZE_POWER;U>A&&(U=A);const z=we.cap(R,2,o-3);for(let J=0;J<a;J++){let ae=J<<we.BLOCK_SIZE_POWER;ae>_&&(ae=_);const le=we.cap(J,2,a-3);let xe=0;for(let Ie=-2;Ie<=2;Ie++){const Me=p[z+Ie];xe+=Me[le-2]+Me[le-1]+Me[le]+Me[le+1]+Me[le+2]}const ve=xe/25;we.thresholdBlock(t,ae,U,ve,c,y)}}}static cap(t,a,o){return t<a?a:t>o?o:t}static thresholdBlock(t,a,o,c,h,p){for(let y=0,A=o*h+a;y<we.BLOCK_SIZE;y++,A+=h)for(let _=0;_<we.BLOCK_SIZE;_++)(t[A+_]&255)<=c&&p.set(a+_,o+y)}static calculateBlackPoints(t,a,o,c,h){const p=h-we.BLOCK_SIZE,y=c-we.BLOCK_SIZE,A=new Array(o);for(let _=0;_<o;_++){A[_]=new Int32Array(a);let R=_<<we.BLOCK_SIZE_POWER;R>p&&(R=p);for(let U=0;U<a;U++){let z=U<<we.BLOCK_SIZE_POWER;z>y&&(z=y);let J=0,ae=255,le=0;for(let ve=0,Ie=R*c+z;ve<we.BLOCK_SIZE;ve++,Ie+=c){for(let Me=0;Me<we.BLOCK_SIZE;Me++){const Be=t[Ie+Me]&255;J+=Be,Be<ae&&(ae=Be),Be>le&&(le=Be)}if(le-ae>we.MIN_DYNAMIC_RANGE)for(ve++,Ie+=c;ve<we.BLOCK_SIZE;ve++,Ie+=c)for(let Me=0;Me<we.BLOCK_SIZE;Me++)J+=t[Ie+Me]&255}let xe=J>>we.BLOCK_SIZE_POWER*2;if(le-ae<=we.MIN_DYNAMIC_RANGE&&(xe=ae/2,_>0&&U>0)){const ve=(A[_-1][U]+2*A[_][U-1]+A[_-1][U-1])/4;ae<ve&&(xe=ve)}A[_][U]=xe}}return A}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class _e{constructor(t,a){this.width=t,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,a,o,c){throw new Z("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Z("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Z("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let a=new ne;for(let o=0;o<this.height;o++){const c=this.getRow(o,t);for(let h=0;h<this.width;h++){const p=c[h]&255;let y;p<64?y="#":p<128?y="+":p<192?y=".":y=" ",a.append(y)}a.append(`
`)}return a.toString()}}class ke extends _e{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,a){const o=this.delegate.getRow(t,a),c=this.getWidth();for(let h=0;h<c;h++)o[h]=255-(o[h]&255);return o}getMatrix(){const t=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(a);for(let c=0;c<a;c++)o[c]=255-(t[c]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(t,a,o,c){return new ke(this.delegate.crop(t,a,o,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ke(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ke(this.delegate.rotateCounterClockwise45())}}class F extends _e{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=F.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const a=t.getContext("2d").getImageData(0,0,t.width,t.height);return F.toGrayscaleBuffer(a.data,t.width,t.height)}static toGrayscaleBuffer(t,a,o){const c=new Uint8ClampedArray(a*o);for(let h=0,p=0,y=t.length;h<y;h+=4,p++){let A;if(t[h+3]===0)A=255;else{const R=t[h],U=t[h+1],z=t[h+2];A=306*R+601*U+117*z+512>>10}c[p]=A}return c}getRow(t,a){if(t<0||t>=this.getHeight())throw new C("Requested row is outside the image: "+t);const o=this.getWidth(),c=t*o;return a===null?a=this.buffer.slice(c,c+o):(a.length<o&&(a=new Uint8ClampedArray(o)),a.set(this.buffer.slice(c,c+o))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,a,o,c){return super.crop(t,a,o,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const a=this.getTempCanvasElement(),o=a.getContext("2d"),c=t*F.DEGREE_TO_RADIANS,h=this.canvas.width,p=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(c))*h+Math.abs(Math.sin(c))*p),A=Math.ceil(Math.abs(Math.sin(c))*h+Math.abs(Math.cos(c))*p);return a.width=y,a.height=A,o.translate(y/2,A/2),o.rotate(c),o.drawImage(this.canvas,h/-2,p/-2),this.buffer=F.makeBufferFromCanvasImageData(a),this}invert(){return new ke(this)}}F.DEGREE_TO_RADIANS=Math.PI/180;class ie{constructor(t,a,o){this.deviceId=t,this.label=a,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var oe=(globalThis||Zs||self||window||void 0)&&(globalThis||Zs||self||window||void 0).__awaiter||function(P,t,a,o){function c(h){return h instanceof a?h:new a(function(p){p(h)})}return new(a||(a=Promise))(function(h,p){function y(R){try{_(o.next(R))}catch(U){p(U)}}function A(R){try{_(o.throw(R))}catch(U){p(U)}}function _(R){R.done?h(R.value):c(R.value).then(y,A)}_((o=o.apply(P,t||[])).next())})};class j{constructor(t,a=500,o){this.reader=t,this.timeBetweenScansMillis=a,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const o of t){const c=o.kind==="video"?"videoinput":o.kind;if(c!=="videoinput")continue;const h=o.deviceId||o.id,p=o.label||`Video device ${a.length+1}`,y=o.groupId,A={deviceId:h,label:p,kind:c,groupId:y};a.push(A)}return a})}getVideoInputDevices(){return oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ie(a.deviceId,a.label))})}findDeviceById(t){return oe(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(o=>o.deviceId===t):null})}decodeFromInputVideoDevice(t,a){return oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,a)})}decodeOnceFromVideoDevice(t,a){return oe(this,void 0,void 0,function*(){this.reset();let o;t?o={deviceId:{exact:t}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeOnceFromConstraints(c,a)})}decodeOnceFromConstraints(t,a){return oe(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(o,a)})}decodeOnceFromStream(t,a){return oe(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(t,a);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(t,a,o){return oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,a,o)})}decodeFromVideoDevice(t,a,o){return oe(this,void 0,void 0,function*(){let c;t?c={deviceId:{exact:t}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeFromConstraints(h,a,o)})}decodeFromConstraints(t,a,o){return oe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(c,a,o)})}decodeFromStream(t,a,o){return oe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(t,a);return yield this.decodeContinuously(c,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,a){return oe(this,void 0,void 0,function*(){const o=this.prepareVideoElement(a);return this.addVideoSource(o,t),this.videoElement=o,this.stream=t,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(t){return new Promise((a,o)=>this.playVideoOnLoad(t,()=>a()))}playVideoOnLoad(t,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",a),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,a){const o=document.getElementById(t);if(!o)throw new w(`element with id '${t}' not found`);if(o.nodeName.toLowerCase()!==a.toLowerCase())throw new w(`element with id '${t}' must be an ${a} element`);return o}decodeFromImage(t,a){if(!t&&!a)throw new w("either imageElement with a src set or an url must be provided");return a&&!t?this.decodeFromImageUrl(a):this.decodeFromImageElement(t)}decodeFromVideo(t,a){if(!t&&!a)throw new w("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,a,o){if(t===void 0&&a===void 0)throw new w("Either an element with a src set or an URL must be provided");return a&&!t?this.decodeFromVideoUrlContinuously(a,o):this.decodeFromVideoElementContinuously(t,o)}decodeFromImageElement(t){if(!t)throw new w("An image element must be provided.");this.reset();const a=this.prepareImageElement(t);this.imageElement=a;let o;return this.isImageLoaded(a)?o=this.decodeOnce(a,!1,!0):o=this._decodeOnLoadImage(a),o}decodeFromVideoElement(t){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(t,a){const o=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(o,a)}_decodeFromVideoElementSetup(t){if(!t)throw new w("A video element must be provided.");this.reset();const a=this.prepareVideoElement(t);return this.videoElement=a,a}decodeFromImageUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const o=this._decodeOnLoadImage(a);return a.src=t,o}decodeFromVideoUrl(t){if(!t)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),o=this.decodeFromVideoElement(a);return a.src=t,o}decodeFromVideoUrlContinuously(t,a){if(!t)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(o,a);return o.src=t,c}_decodeOnLoadImage(t){return new Promise((a,o)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(a,o),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,a){return oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,a)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let a;return typeof t>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(a=t),a}prepareVideoElement(t){let a;return!t&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof t=="string"&&(a=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(a=t),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(t,a=!0,o=!0){this._stopAsyncDecode=!1;const c=(h,p)=>{if(this._stopAsyncDecode){p(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(t);h(y)}catch(y){const A=a&&y instanceof te,R=(y instanceof T||y instanceof Y)&&o;if(A||R)return setTimeout(c,this._timeBetweenDecodingAttempts,h,p);p(y)}};return new Promise((h,p)=>c(h,p))}decodeContinuously(t,a){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(t);a(c,null),setTimeout(o,this.timeBetweenScansMillis)}catch(c){a(null,c);const h=c instanceof T||c instanceof Y,p=c instanceof te;(h||p)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(t){const a=this.createBinaryBitmap(t);return this.decodeBitmap(a)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,a,o){a||(a={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(t,a,o=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(t,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const a=this.getCaptureCanvas(t),o=new F(a),c=new we(o);return new D(c)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const a=this.createCaptureCanvas(t);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let o,c;return typeof t<"u"&&(t instanceof HTMLVideoElement?(o=t.videoWidth,c=t.videoHeight):t instanceof HTMLImageElement&&(o=t.naturalWidth||t.width,c=t.naturalHeight||t.height)),a.style.width=o+"px",a.style.height=c+"px",a.width=o,a.height=c,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,a){try{t.srcObject=a}catch{t.src=URL.createObjectURL(a)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class se{constructor(t,a,o=a==null?0:8*a.length,c,h,p=N.currentTimeMillis()){this.text=t,this.rawBytes=a,this.numBits=o,this.resultPoints=c,this.format=h,this.timestamp=p,this.text=t,this.rawBytes=a,o==null?this.numBits=a==null?0:8*a.length:this.numBits=o,this.resultPoints=c,this.format=h,this.resultMetadata=null,p==null?this.timestamp=N.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,a)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const a=this.resultPoints;if(a===null)this.resultPoints=t;else if(t!==null&&t.length>0){const o=new Array(a.length+t.length);N.arraycopy(a,0,o,0,a.length),N.arraycopy(t,0,o,a.length,t.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Le;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Le||(Le={}));var me=Le,st;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(st||(st={}));var Te=st;class Ye{constructor(t,a,o,c,h=-1,p=-1){this.rawBytes=t,this.text=a,this.byteSegments=o,this.ecLevel=c,this.structuredAppendSequenceNumber=h,this.structuredAppendParity=p,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ze{exp(t){return this.expTable[t]}log(t){if(t===0)throw new C;return this.logTable[t]}static addOrSubtract(t,a){return t^a}}class ct{constructor(t,a){if(a.length===0)throw new C;this.field=t;const o=a.length;if(o>1&&a[0]===0){let c=1;for(;c<o&&a[c]===0;)c++;c===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-c),N.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const a=this.coefficients;let o;if(t===1){o=0;for(let p=0,y=a.length;p!==y;p++){const A=a[p];o=Ze.addOrSubtract(o,A)}return o}o=a[0];const c=a.length,h=this.field;for(let p=1;p<c;p++)o=Ze.addOrSubtract(h.multiply(t,o),a[p]);return o}addOrSubtract(t){if(!this.field.equals(t.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,o=t.coefficients;if(a.length>o.length){const p=a;a=o,o=p}let c=new Int32Array(o.length);const h=o.length-a.length;N.arraycopy(o,0,c,0,h);for(let p=h;p<o.length;p++)c[p]=Ze.addOrSubtract(a[p-h],o[p]);return new ct(this.field,c)}multiply(t){if(!this.field.equals(t.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const a=this.coefficients,o=a.length,c=t.coefficients,h=c.length,p=new Int32Array(o+h-1),y=this.field;for(let A=0;A<o;A++){const _=a[A];for(let R=0;R<h;R++)p[A+R]=Ze.addOrSubtract(p[A+R],y.multiply(_,c[R]))}return new ct(y,p)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const a=this.coefficients.length,o=this.field,c=new Int32Array(a),h=this.coefficients;for(let p=0;p<a;p++)c[p]=o.multiply(h[p],t);return new ct(o,c)}multiplyByMonomial(t,a){if(t<0)throw new C;if(a===0)return this.field.getZero();const o=this.coefficients,c=o.length,h=new Int32Array(c+t),p=this.field;for(let y=0;y<c;y++)h[y]=p.multiply(o[y],a);return new ct(p,h)}divide(t){if(!this.field.equals(t.field))throw new C("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new C("Divide by 0");const a=this.field;let o=a.getZero(),c=this;const h=t.getCoefficient(t.getDegree()),p=a.inverse(h);for(;c.getDegree()>=t.getDegree()&&!c.isZero();){const y=c.getDegree()-t.getDegree(),A=a.multiply(c.getCoefficient(c.getDegree()),p),_=t.multiplyByMonomial(y,A),R=a.buildMonomial(y,A);o=o.addOrSubtract(R),c=c.addOrSubtract(_)}return[o,c]}toString(){let t="";for(let a=this.getDegree();a>=0;a--){let o=this.getCoefficient(a);if(o!==0){if(o<0?(t+=" - ",o=-o):t.length>0&&(t+=" + "),a===0||o!==1){const c=this.field.log(o);c===0?t+="1":c===1?t+="a":(t+="a^",t+=c)}a!==0&&(a===1?t+="x":(t+="x^",t+=a))}}return t}}class ft extends g{}ft.kind="ArithmeticException";class He extends Ze{constructor(t,a,o){super(),this.primitive=t,this.size=a,this.generatorBase=o;const c=new Int32Array(a);let h=1;for(let y=0;y<a;y++)c[y]=h,h*=2,h>=a&&(h^=t,h&=a-1);this.expTable=c;const p=new Int32Array(a);for(let y=0;y<a-1;y++)p[c[y]]=y;this.logTable=p,this.zero=new ct(this,Int32Array.from([0])),this.one=new ct(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new C;if(a===0)return this.zero;const o=new Int32Array(t+1);return o[0]=a,new ct(this,o)}inverse(t){if(t===0)throw new ft;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}He.AZTEC_DATA_12=new He(4201,4096,1),He.AZTEC_DATA_10=new He(1033,1024,1),He.AZTEC_DATA_6=new He(67,64,1),He.AZTEC_PARAM=new He(19,16,1),He.QR_CODE_FIELD_256=new He(285,256,0),He.DATA_MATRIX_FIELD_256=new He(301,256,1),He.AZTEC_DATA_8=He.DATA_MATRIX_FIELD_256,He.MAXICODE_FIELD_64=He.AZTEC_DATA_6;class gt extends g{}gt.kind="ReedSolomonException";class yt extends g{}yt.kind="IllegalStateException";class Wt{constructor(t){this.field=t}decode(t,a){const o=this.field,c=new ct(o,t),h=new Int32Array(a);let p=!0;for(let J=0;J<a;J++){const ae=c.evaluateAt(o.exp(J+o.getGeneratorBase()));h[h.length-1-J]=ae,ae!==0&&(p=!1)}if(p)return;const y=new ct(o,h),A=this.runEuclideanAlgorithm(o.buildMonomial(a,1),y,a),_=A[0],R=A[1],U=this.findErrorLocations(_),z=this.findErrorMagnitudes(R,U);for(let J=0;J<U.length;J++){const ae=t.length-1-o.log(U[J]);if(ae<0)throw new gt("Bad error location");t[ae]=He.addOrSubtract(t[ae],z[J])}}runEuclideanAlgorithm(t,a,o){if(t.getDegree()<a.getDegree()){const J=t;t=a,a=J}const c=this.field;let h=t,p=a,y=c.getZero(),A=c.getOne();for(;p.getDegree()>=(o/2|0);){let J=h,ae=y;if(h=p,y=A,h.isZero())throw new gt("r_{i-1} was zero");p=J;let le=c.getZero();const xe=h.getCoefficient(h.getDegree()),ve=c.inverse(xe);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){const Ie=p.getDegree()-h.getDegree(),Me=c.multiply(p.getCoefficient(p.getDegree()),ve);le=le.addOrSubtract(c.buildMonomial(Ie,Me)),p=p.addOrSubtract(h.multiplyByMonomial(Ie,Me))}if(A=le.multiply(y).addOrSubtract(ae),p.getDegree()>=h.getDegree())throw new yt("Division algorithm failed to reduce polynomial?")}const _=A.getCoefficient(0);if(_===0)throw new gt("sigmaTilde(0) was zero");const R=c.inverse(_),U=A.multiplyScalar(R),z=p.multiplyScalar(R);return[U,z]}findErrorLocations(t){const a=t.getDegree();if(a===1)return Int32Array.from([t.getCoefficient(1)]);const o=new Int32Array(a);let c=0;const h=this.field;for(let p=1;p<h.getSize()&&c<a;p++)t.evaluateAt(p)===0&&(o[c]=h.inverse(p),c++);if(c!==a)throw new gt("Error locator degree does not match number of roots");return o}findErrorMagnitudes(t,a){const o=a.length,c=new Int32Array(o),h=this.field;for(let p=0;p<o;p++){const y=h.inverse(a[p]);let A=1;for(let _=0;_<o;_++)if(p!==_){const R=h.multiply(a[_],y),U=(R&1)===0?R|1:R&-2;A=h.multiply(A,U)}c[p]=h.multiply(t.evaluateAt(y),h.inverse(A)),h.getGeneratorBase()!==0&&(c[p]=h.multiply(c[p],y))}return c}}var rt;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(rt||(rt={}));class Ke{decode(t){this.ddata=t;let a=t.getBits(),o=this.extractBits(a),c=this.correctBits(o),h=Ke.convertBoolArrayToByteArray(c),p=Ke.getEncodedData(c),y=new Ye(h,p,null,null);return y.setNumBits(c.length),y}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let a=t.length,o=rt.UPPER,c=rt.UPPER,h="",p=0;for(;p<a;)if(c===rt.BINARY){if(a-p<5)break;let y=Ke.readCode(t,p,5);if(p+=5,y===0){if(a-p<11)break;y=Ke.readCode(t,p,11)+31,p+=11}for(let A=0;A<y;A++){if(a-p<8){p=a;break}const _=Ke.readCode(t,p,8);h+=$.castAsNonUtf8Char(_),p+=8}c=o}else{let y=c===rt.DIGIT?4:5;if(a-p<y)break;let A=Ke.readCode(t,p,y);p+=y;let _=Ke.getCharacter(c,A);_.startsWith("CTRL_")?(o=c,c=Ke.getTable(_.charAt(5)),_.charAt(6)==="L"&&(o=c)):(h+=_,c=o)}return h}static getTable(t){switch(t){case"L":return rt.LOWER;case"P":return rt.PUNCT;case"M":return rt.MIXED;case"D":return rt.DIGIT;case"B":return rt.BINARY;case"U":default:return rt.UPPER}}static getCharacter(t,a){switch(t){case rt.UPPER:return Ke.UPPER_TABLE[a];case rt.LOWER:return Ke.LOWER_TABLE[a];case rt.MIXED:return Ke.MIXED_TABLE[a];case rt.PUNCT:return Ke.PUNCT_TABLE[a];case rt.DIGIT:return Ke.DIGIT_TABLE[a];default:throw new yt("Bad table")}}correctBits(t){let a,o;this.ddata.getNbLayers()<=2?(o=6,a=He.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,a=He.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,a=He.AZTEC_DATA_10):(o=12,a=He.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),h=t.length/o;if(h<c)throw new Y;let p=t.length%o,y=new Int32Array(h);for(let z=0;z<h;z++,p+=o)y[z]=Ke.readCode(t,p,o);try{new Wt(a).decode(y,h-c)}catch(z){throw new Y(z)}let A=(1<<o)-1,_=0;for(let z=0;z<c;z++){let J=y[z];if(J===0||J===A)throw new Y;(J===1||J===A-1)&&_++}let R=new Array(c*o-_),U=0;for(let z=0;z<c;z++){let J=y[z];if(J===1||J===A-1)R.fill(J>1,U,U+o-1),U+=o-1;else for(let ae=o-1;ae>=0;--ae)R[U++]=(J&1<<ae)!==0}return R}extractBits(t){let a=this.ddata.isCompact(),o=this.ddata.getNbLayers(),c=(a?11:14)+o*4,h=new Int32Array(c),p=new Array(this.totalBitsInLayer(o,a));if(a)for(let y=0;y<h.length;y++)h[y]=y;else{let y=c+1+2*k.truncDivision(k.truncDivision(c,2)-1,15),A=c/2,_=k.truncDivision(y,2);for(let R=0;R<A;R++){let U=R+k.truncDivision(R,15);h[A-R-1]=_-U-1,h[A+R]=_+U+1}}for(let y=0,A=0;y<o;y++){let _=(o-y)*4+(a?9:12),R=y*2,U=c-1-R;for(let z=0;z<_;z++){let J=z*2;for(let ae=0;ae<2;ae++)p[A+J+ae]=t.get(h[R+ae],h[R+z]),p[A+2*_+J+ae]=t.get(h[R+z],h[U-ae]),p[A+4*_+J+ae]=t.get(h[U-ae],h[U-z]),p[A+6*_+J+ae]=t.get(h[U-z],h[R+ae])}A+=_*8}return p}static readCode(t,a,o){let c=0;for(let h=a;h<a+o;h++)c<<=1,t[h]&&(c|=1);return c}static readByte(t,a){let o=t.length-a;return o>=8?Ke.readCode(t,a,8):Ke.readCode(t,a,o)<<8-o}static convertBoolArrayToByteArray(t){let a=new Uint8Array((t.length+7)/8);for(let o=0;o<a.length;o++)a[o]=Ke.readByte(t,8*o);return a}totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}Ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Xe{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,a,o,c){const h=t-o,p=a-c;return Math.sqrt(h*h+p*p)}static sum(t){let a=0;for(let o=0,c=t.length;o!==c;o++){const h=t[o];a+=h}return a}}class an{static floatToIntBits(t){return t}}an.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(t,a){this.x=t,this.y=a}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof je){const a=t;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*an.floatToIntBits(this.x)+an.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const a=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),c=this.distance(t[0],t[2]);let h,p,y;if(o>=a&&o>=c?(p=t[0],h=t[1],y=t[2]):c>=o&&c>=a?(p=t[1],h=t[0],y=t[2]):(p=t[2],h=t[0],y=t[1]),this.crossProductZ(h,p,y)<0){const A=h;h=y,y=A}t[0]=h,t[1]=p,t[2]=y}static distance(t,a){return Xe.distance(t.x,t.y,a.x,a.y)}static crossProductZ(t,a,o){const c=a.x,h=a.y;return(o.x-c)*(t.y-h)-(o.y-h)*(t.x-c)}}class wt{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Qt extends wt{constructor(t,a,o,c,h){super(t,a),this.compact=o,this.nbDatablocks=c,this.nbLayers=h}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class bt{constructor(t,a,o,c){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),a==null&&(a=bt.INIT_SIZE),o==null&&(o=t.getWidth()/2|0),c==null&&(c=t.getHeight()/2|0);const h=a/2|0;if(this.leftInit=o-h,this.rightInit=o+h,this.upInit=c-h,this.downInit=c+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let t=this.leftInit,a=this.rightInit,o=this.upInit,c=this.downInit,h=!1,p=!0,y=!1,A=!1,_=!1,R=!1,U=!1;const z=this.width,J=this.height;for(;p;){p=!1;let ae=!0;for(;(ae||!A)&&a<z;)ae=this.containsBlackPoint(o,c,a,!1),ae?(a++,p=!0,A=!0):A||a++;if(a>=z){h=!0;break}let le=!0;for(;(le||!_)&&c<J;)le=this.containsBlackPoint(t,a,c,!0),le?(c++,p=!0,_=!0):_||c++;if(c>=J){h=!0;break}let xe=!0;for(;(xe||!R)&&t>=0;)xe=this.containsBlackPoint(o,c,t,!1),xe?(t--,p=!0,R=!0):R||t--;if(t<0){h=!0;break}let ve=!0;for(;(ve||!U)&&o>=0;)ve=this.containsBlackPoint(t,a,o,!0),ve?(o--,p=!0,U=!0):U||o--;if(o<0){h=!0;break}p&&(y=!0)}if(!h&&y){const ae=a-t;let le=null;for(let Me=1;le===null&&Me<ae;Me++)le=this.getBlackPointOnSegment(t,c-Me,t+Me,c);if(le==null)throw new te;let xe=null;for(let Me=1;xe===null&&Me<ae;Me++)xe=this.getBlackPointOnSegment(t,o+Me,t+Me,o);if(xe==null)throw new te;let ve=null;for(let Me=1;ve===null&&Me<ae;Me++)ve=this.getBlackPointOnSegment(a,o+Me,a-Me,o);if(ve==null)throw new te;let Ie=null;for(let Me=1;Ie===null&&Me<ae;Me++)Ie=this.getBlackPointOnSegment(a,c-Me,a-Me,c);if(Ie==null)throw new te;return this.centerEdges(Ie,le,ve,xe)}else throw new te}getBlackPointOnSegment(t,a,o,c){const h=Xe.round(Xe.distance(t,a,o,c)),p=(o-t)/h,y=(c-a)/h,A=this.image;for(let _=0;_<h;_++){const R=Xe.round(t+_*p),U=Xe.round(a+_*y);if(A.get(R,U))return new je(R,U)}return null}centerEdges(t,a,o,c){const h=t.getX(),p=t.getY(),y=a.getX(),A=a.getY(),_=o.getX(),R=o.getY(),U=c.getX(),z=c.getY(),J=bt.CORR;return h<this.width/2?[new je(U-J,z+J),new je(y+J,A+J),new je(_-J,R-J),new je(h+J,p-J)]:[new je(U+J,z+J),new je(y+J,A-J),new je(_-J,R+J),new je(h-J,p-J)]}containsBlackPoint(t,a,o,c){const h=this.image;if(c){for(let p=t;p<=a;p++)if(h.get(p,o))return!0}else for(let p=t;p<=a;p++)if(h.get(o,p))return!0;return!1}}bt.INIT_SIZE=10,bt.CORR=1;class $n{static checkAndNudgePoints(t,a){const o=t.getWidth(),c=t.getHeight();let h=!0;for(let p=0;p<a.length&&h;p+=2){const y=Math.floor(a[p]),A=Math.floor(a[p+1]);if(y<-1||y>o||A<-1||A>c)throw new te;h=!1,y===-1?(a[p]=0,h=!0):y===o&&(a[p]=o-1,h=!0),A===-1?(a[p+1]=0,h=!0):A===c&&(a[p+1]=c-1,h=!0)}h=!0;for(let p=a.length-2;p>=0&&h;p-=2){const y=Math.floor(a[p]),A=Math.floor(a[p+1]);if(y<-1||y>o||A<-1||A>c)throw new te;h=!1,y===-1?(a[p]=0,h=!0):y===o&&(a[p]=o-1,h=!0),A===-1?(a[p+1]=0,h=!0):A===c&&(a[p+1]=c-1,h=!0)}}}class be{constructor(t,a,o,c,h,p,y,A,_){this.a11=t,this.a21=a,this.a31=o,this.a12=c,this.a22=h,this.a32=p,this.a13=y,this.a23=A,this.a33=_}static quadrilateralToQuadrilateral(t,a,o,c,h,p,y,A,_,R,U,z,J,ae,le,xe){const ve=be.quadrilateralToSquare(t,a,o,c,h,p,y,A);return be.squareToQuadrilateral(_,R,U,z,J,ae,le,xe).times(ve)}transformPoints(t){const a=t.length,o=this.a11,c=this.a12,h=this.a13,p=this.a21,y=this.a22,A=this.a23,_=this.a31,R=this.a32,U=this.a33;for(let z=0;z<a;z+=2){const J=t[z],ae=t[z+1],le=h*J+A*ae+U;t[z]=(o*J+p*ae+_)/le,t[z+1]=(c*J+y*ae+R)/le}}transformPointsWithValues(t,a){const o=this.a11,c=this.a12,h=this.a13,p=this.a21,y=this.a22,A=this.a23,_=this.a31,R=this.a32,U=this.a33,z=t.length;for(let J=0;J<z;J++){const ae=t[J],le=a[J],xe=h*ae+A*le+U;t[J]=(o*ae+p*le+_)/xe,a[J]=(c*ae+y*le+R)/xe}}static squareToQuadrilateral(t,a,o,c,h,p,y,A){const _=t-o+h-y,R=a-c+p-A;if(_===0&&R===0)return new be(o-t,h-o,t,c-a,p-c,a,0,0,1);{const U=o-h,z=y-h,J=c-p,ae=A-p,le=U*ae-z*J,xe=(_*ae-z*R)/le,ve=(U*R-_*J)/le;return new be(o-t+xe*o,y-t+ve*y,t,c-a+xe*c,A-a+ve*A,a,xe,ve,1)}}static quadrilateralToSquare(t,a,o,c,h,p,y,A){return be.squareToQuadrilateral(t,a,o,c,h,p,y,A).buildAdjoint()}buildAdjoint(){return new be(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new be(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Fe extends $n{sampleGrid(t,a,o,c,h,p,y,A,_,R,U,z,J,ae,le,xe,ve,Ie,Me){const Be=be.quadrilateralToQuadrilateral(c,h,p,y,A,_,R,U,z,J,ae,le,xe,ve,Ie,Me);return this.sampleGridWithTransform(t,a,o,Be)}sampleGridWithTransform(t,a,o,c){if(a<=0||o<=0)throw new te;const h=new de(a,o),p=new Float32Array(2*a);for(let y=0;y<o;y++){const A=p.length,_=y+.5;for(let R=0;R<A;R+=2)p[R]=R/2+.5,p[R+1]=_;c.transformPoints(p),$n.checkAndNudgePoints(t,p);try{for(let R=0;R<A;R+=2)t.get(Math.floor(p[R]),Math.floor(p[R+1]))&&h.set(R/2,y)}catch{throw new te}}return h}}class We{static setGridSampler(t){We.gridSampler=t}static getInstance(){return We.gridSampler}}We.gridSampler=new Fe;class $e{constructor(t,a){this.x=t,this.y=a}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Bt{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let a=this.getMatrixCenter(),o=this.getBullsEyeCorners(a);if(t){let p=o[0];o[0]=o[2],o[2]=p}this.extractParameters(o);let c=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),h=this.getMatrixCornerPoints(o);return new Qt(c,h,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new te;let a=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(t[0],t[1],a),this.sampleLine(t[1],t[2],a),this.sampleLine(t[2],t[3],a),this.sampleLine(t[3],t[0],a)]);this.shift=this.getRotation(o,a);let c=0;for(let p=0;p<4;p++){let y=o[(this.shift+p)%4];this.compact?(c<<=7,c+=y>>1&127):(c<<=10,c+=(y>>2&992)+(y>>1&31))}let h=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(h>>6)+1,this.nbDataBlocks=(h&63)+1):(this.nbLayers=(h>>11)+1,this.nbDataBlocks=(h&2047)+1)}getRotation(t,a){let o=0;t.forEach((c,h,p)=>{let y=(c>>a-2<<1)+(c&1);o=(o<<3)+y}),o=((o&1)<<11)+(o>>1);for(let c=0;c<4;c++)if(k.bitCount(o^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new te}getCorrectedParameterData(t,a){let o,c;a?(o=7,c=2):(o=10,c=4);let h=o-c,p=new Int32Array(o);for(let A=o-1;A>=0;--A)p[A]=t&15,t>>=4;try{new Wt(He.AZTEC_PARAM).decode(p,h)}catch{throw new te}let y=0;for(let A=0;A<c;A++)y=(y<<4)+p[A];return y}getBullsEyeCorners(t){let a=t,o=t,c=t,h=t,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let U=this.getFirstDifferent(a,p,1,-1),z=this.getFirstDifferent(o,p,1,1),J=this.getFirstDifferent(c,p,-1,1),ae=this.getFirstDifferent(h,p,-1,-1);if(this.nbCenterLayers>2){let le=this.distancePoint(ae,U)*this.nbCenterLayers/(this.distancePoint(h,a)*(this.nbCenterLayers+2));if(le<.75||le>1.25||!this.isWhiteOrBlackRectangle(U,z,J,ae))break}a=U,o=z,c=J,h=ae,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let y=new je(a.getX()+.5,a.getY()-.5),A=new je(o.getX()+.5,o.getY()+.5),_=new je(c.getX()-.5,c.getY()+.5),R=new je(h.getX()-.5,h.getY()-.5);return this.expandSquare([y,A,_,R],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,a,o,c;try{let y=new bt(this.image).detect();t=y[0],a=y[1],o=y[2],c=y[3]}catch{let A=this.image.getWidth()/2,_=this.image.getHeight()/2;t=this.getFirstDifferent(new $e(A+7,_-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new $e(A+7,_+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new $e(A-7,_+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $e(A-7,_-7),!1,-1,-1).toResultPoint()}let h=Xe.round((t.getX()+c.getX()+a.getX()+o.getX())/4),p=Xe.round((t.getY()+c.getY()+a.getY()+o.getY())/4);try{let y=new bt(this.image,15,h,p).detect();t=y[0],a=y[1],o=y[2],c=y[3]}catch{t=this.getFirstDifferent(new $e(h+7,p-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new $e(h+7,p+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new $e(h-7,p+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new $e(h-7,p-7),!1,-1,-1).toResultPoint()}return h=Xe.round((t.getX()+c.getX()+a.getX()+o.getX())/4),p=Xe.round((t.getY()+c.getY()+a.getY()+o.getY())/4),new $e(h,p)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,a,o,c,h){let p=We.getInstance(),y=this.getDimension(),A=y/2-this.nbCenterLayers,_=y/2+this.nbCenterLayers;return p.sampleGrid(t,y,y,A,A,_,A,_,_,A,_,a.getX(),a.getY(),o.getX(),o.getY(),c.getX(),c.getY(),h.getX(),h.getY())}sampleLine(t,a,o){let c=0,h=this.distanceResultPoint(t,a),p=h/o,y=t.getX(),A=t.getY(),_=p*(a.getX()-t.getX())/h,R=p*(a.getY()-t.getY())/h;for(let U=0;U<o;U++)this.image.get(Xe.round(y+U*_),Xe.round(A+U*R))&&(c|=1<<o-U-1);return c}isWhiteOrBlackRectangle(t,a,o,c){let h=3;t=new $e(t.getX()-h,t.getY()+h),a=new $e(a.getX()-h,a.getY()-h),o=new $e(o.getX()+h,o.getY()-h),c=new $e(c.getX()+h,c.getY()+h);let p=this.getColor(c,t);if(p===0)return!1;let y=this.getColor(t,a);return y!==p||(y=this.getColor(a,o),y!==p)?!1:(y=this.getColor(o,c),y===p)}getColor(t,a){let o=this.distancePoint(t,a),c=(a.getX()-t.getX())/o,h=(a.getY()-t.getY())/o,p=0,y=t.getX(),A=t.getY(),_=this.image.get(t.getX(),t.getY()),R=Math.ceil(o);for(let z=0;z<R;z++)y+=c,A+=h,this.image.get(Xe.round(y),Xe.round(A))!==_&&p++;let U=p/o;return U>.1&&U<.9?0:U<=.1===_?1:-1}getFirstDifferent(t,a,o,c){let h=t.getX()+o,p=t.getY()+c;for(;this.isValid(h,p)&&this.image.get(h,p)===a;)h+=o,p+=c;for(h-=o,p-=c;this.isValid(h,p)&&this.image.get(h,p)===a;)h+=o;for(h-=o;this.isValid(h,p)&&this.image.get(h,p)===a;)p+=c;return p-=c,new $e(h,p)}expandSquare(t,a,o){let c=o/(2*a),h=t[0].getX()-t[2].getX(),p=t[0].getY()-t[2].getY(),y=(t[0].getX()+t[2].getX())/2,A=(t[0].getY()+t[2].getY())/2,_=new je(y+c*h,A+c*p),R=new je(y-c*h,A-c*p);h=t[1].getX()-t[3].getX(),p=t[1].getY()-t[3].getY(),y=(t[1].getX()+t[3].getX())/2,A=(t[1].getY()+t[3].getY())/2;let U=new je(y+c*h,A+c*p),z=new je(y-c*h,A-c*p);return[_,U,R,z]}isValid(t,a){return t>=0&&t<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(t){let a=Xe.round(t.getX()),o=Xe.round(t.getY());return this.isValid(a,o)}distancePoint(t,a){return Xe.distance(t.getX(),t.getY(),a.getX(),a.getY())}distanceResultPoint(t,a){return Xe.distance(t.getX(),t.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class fn{decode(t,a=null){let o=null,c=new Bt(t.getBlackMatrix()),h=null,p=null;try{let R=c.detectMirror(!1);h=R.getPoints(),this.reportFoundResultPoints(a,h),p=new Ke().decode(R)}catch(R){o=R}if(p==null)try{let R=c.detectMirror(!0);h=R.getPoints(),this.reportFoundResultPoints(a,h),p=new Ke().decode(R)}catch(R){throw o??R}let y=new se(p.getText(),p.getRawBytes(),p.getNumBits(),h,me.AZTEC,N.currentTimeMillis()),A=p.getByteSegments();A!=null&&y.putMetadata(Te.BYTE_SEGMENTS,A);let _=p.getECLevel();return _!=null&&y.putMetadata(Te.ERROR_CORRECTION_LEVEL,_),y}reportFoundResultPoints(t,a){if(t!=null){let o=t.get(q.NEED_RESULT_POINT_CALLBACK);o!=null&&a.forEach((c,h,p)=>{o.foundPossibleResultPoint(c)})}}reset(){}}class er extends j{constructor(t=500){super(new fn,t)}}class Tt{decode(t,a){try{return this.doDecode(t,a)}catch{if(a&&a.get(q.TRY_HARDER)===!0&&t.isRotateSupported()){const h=t.rotateCounterClockwise(),p=this.doDecode(h,a),y=p.getResultMetadata();let A=270;y!==null&&y.get(Te.ORIENTATION)===!0&&(A=A+y.get(Te.ORIENTATION)%360),p.putMetadata(Te.ORIENTATION,A);const _=p.getResultPoints();if(_!==null){const R=h.getHeight();for(let U=0;U<_.length;U++)_[U]=new je(R-_[U].getY()-1,_[U].getX())}return p}else throw new te}}reset(){}doDecode(t,a){const o=t.getWidth(),c=t.getHeight();let h=new V(o);const p=a&&a.get(q.TRY_HARDER)===!0,y=Math.max(1,c>>(p?8:5));let A;p?A=c:A=15;const _=Math.trunc(c/2);for(let R=0;R<A;R++){const U=Math.trunc((R+1)/2),z=(R&1)===0,J=_+y*(z?U:-U);if(J<0||J>=c)break;try{h=t.getBlackRow(J,h)}catch{continue}for(let ae=0;ae<2;ae++){if(ae===1&&(h.reverse(),a&&a.get(q.NEED_RESULT_POINT_CALLBACK)===!0)){const le=new Map;a.forEach((xe,ve)=>le.set(ve,xe)),le.delete(q.NEED_RESULT_POINT_CALLBACK),a=le}try{const le=this.decodeRow(J,h,a);if(ae===1){le.putMetadata(Te.ORIENTATION,180);const xe=le.getResultPoints();xe!==null&&(xe[0]=new je(o-xe[0].getX()-1,xe[0].getY()),xe[1]=new je(o-xe[1].getX()-1,xe[1].getY()))}return le}catch{}}}throw new te}static recordPattern(t,a,o){const c=o.length;for(let _=0;_<c;_++)o[_]=0;const h=t.getSize();if(a>=h)throw new te;let p=!t.get(a),y=0,A=a;for(;A<h;){if(t.get(A)!==p)o[y]++;else{if(++y===c)break;o[y]=1,p=!p}A++}if(!(y===c||y===c-1&&A===h))throw new te}static recordPatternInReverse(t,a,o){let c=o.length,h=t.get(a);for(;a>0&&c>=0;)t.get(--a)!==h&&(c--,h=!h);if(c>=0)throw new te;Tt.recordPattern(t,a+1,o)}static patternMatchVariance(t,a,o){const c=t.length;let h=0,p=0;for(let _=0;_<c;_++)h+=t[_],p+=a[_];if(h<p)return Number.POSITIVE_INFINITY;const y=h/p;o*=y;let A=0;for(let _=0;_<c;_++){const R=t[_],U=a[_]*y,z=R>U?R-U:U-R;if(z>o)return Number.POSITIVE_INFINITY;A+=z}return A/h}}class Ne extends Tt{static findStartPattern(t){const a=t.getSize(),o=t.getNextSet(0);let c=0,h=Int32Array.from([0,0,0,0,0,0]),p=o,y=!1;const A=6;for(let _=o;_<a;_++)if(t.get(_)!==y)h[c]++;else{if(c===A-1){let R=Ne.MAX_AVG_VARIANCE,U=-1;for(let z=Ne.CODE_START_A;z<=Ne.CODE_START_C;z++){const J=Tt.patternMatchVariance(h,Ne.CODE_PATTERNS[z],Ne.MAX_INDIVIDUAL_VARIANCE);J<R&&(R=J,U=z)}if(U>=0&&t.isRange(Math.max(0,p-(_-p)/2),p,!1))return Int32Array.from([p,_,U]);p+=h[0]+h[1],h=h.slice(2,h.length-1),h[c-1]=0,h[c]=0,c--}else c++;h[c]=1,y=!y}throw new te}static decodeCode(t,a,o){Tt.recordPattern(t,o,a);let c=Ne.MAX_AVG_VARIANCE,h=-1;for(let p=0;p<Ne.CODE_PATTERNS.length;p++){const y=Ne.CODE_PATTERNS[p],A=this.patternMatchVariance(a,y,Ne.MAX_INDIVIDUAL_VARIANCE);A<c&&(c=A,h=p)}if(h>=0)return h;throw new te}decodeRow(t,a,o){const c=o&&o.get(q.ASSUME_GS1)===!0,h=Ne.findStartPattern(a),p=h[2];let y=0;const A=new Uint8Array(20);A[y++]=p;let _;switch(p){case Ne.CODE_START_A:_=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:_=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:_=Ne.CODE_CODE_C;break;default:throw new Y}let R=!1,U=!1,z="",J=h[0],ae=h[1];const le=Int32Array.from([0,0,0,0,0,0]);let xe=0,ve=0,Ie=p,Me=0,Be=!0,Ct=!1,lt=!1;for(;!R;){const $i=U;switch(U=!1,xe=ve,ve=Ne.decodeCode(a,le,ae),A[y++]=ve,ve!==Ne.CODE_STOP&&(Be=!0),ve!==Ne.CODE_STOP&&(Me++,Ie+=Me*ve),J=ae,ae+=le.reduce((gu,Pr)=>gu+Pr,0),ve){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new Y}switch(_){case Ne.CODE_CODE_A:if(ve<64)lt===Ct?z+=String.fromCharCode(32+ve):z+=String.fromCharCode(32+ve+128),lt=!1;else if(ve<96)lt===Ct?z+=String.fromCharCode(ve-64):z+=String.fromCharCode(ve+64),lt=!1;else switch(ve!==Ne.CODE_STOP&&(Be=!1),ve){case Ne.CODE_FNC_1:c&&(z.length===0?z+="]C1":z+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!Ct&&lt?(Ct=!0,lt=!1):Ct&&lt?(Ct=!1,lt=!1):lt=!0;break;case Ne.CODE_SHIFT:U=!0,_=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:_=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:_=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:R=!0;break}break;case Ne.CODE_CODE_B:if(ve<96)lt===Ct?z+=String.fromCharCode(32+ve):z+=String.fromCharCode(32+ve+128),lt=!1;else switch(ve!==Ne.CODE_STOP&&(Be=!1),ve){case Ne.CODE_FNC_1:c&&(z.length===0?z+="]C1":z+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!Ct&&lt?(Ct=!0,lt=!1):Ct&&lt?(Ct=!1,lt=!1):lt=!0;break;case Ne.CODE_SHIFT:U=!0,_=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:_=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:_=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:R=!0;break}break;case Ne.CODE_CODE_C:if(ve<100)ve<10&&(z+="0"),z+=ve;else switch(ve!==Ne.CODE_STOP&&(Be=!1),ve){case Ne.CODE_FNC_1:c&&(z.length===0?z+="]C1":z+="");break;case Ne.CODE_CODE_A:_=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:_=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:R=!0;break}break}$i&&(_=_===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const tr=ae-J;if(ae=a.getNextUnset(ae),!a.isRange(ae,Math.min(a.getSize(),ae+(ae-J)/2),!1))throw new te;if(Ie-=Me*xe,Ie%103!==xe)throw new T;const Nr=z.length;if(Nr===0)throw new te;Nr>0&&Be&&(_===Ne.CODE_CODE_C?z=z.substring(0,Nr-2):z=z.substring(0,Nr-1));const nr=(h[1]+h[0])/2,Xt=J+tr/2,qn=A.length,Er=new Uint8Array(qn);for(let $i=0;$i<qn;$i++)Er[$i]=A[$i];const Ji=[new je(nr,t),new je(Xt,t)];return new se(z,Er,0,Ji,me.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class Ht extends Tt{constructor(t=!1,a=!1){super(),this.usingCheckDigit=t,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,a,o){let c=this.counters;c.fill(0),this.decodeRowResult="";let h=Ht.findAsteriskPattern(a,c),p=a.getNextSet(h[1]),y=a.getSize(),A,_;do{Ht.recordPattern(a,p,c);let le=Ht.toNarrowWidePattern(c);if(le<0)throw new te;A=Ht.patternToChar(le),this.decodeRowResult+=A,_=p;for(let xe of c)p+=xe;p=a.getNextSet(p)}while(A!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let R=0;for(let le of c)R+=le;let U=p-_-R;if(p!==y&&U*2<R)throw new te;if(this.usingCheckDigit){let le=this.decodeRowResult.length-1,xe=0;for(let ve=0;ve<le;ve++)xe+=Ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ve));if(this.decodeRowResult.charAt(le)!==Ht.ALPHABET_STRING.charAt(xe%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,le)}if(this.decodeRowResult.length===0)throw new te;let z;this.extendedMode?z=Ht.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;let J=(h[1]+h[0])/2,ae=_+R/2;return new se(z,null,0,[new je(J,t),new je(ae,t)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(t,a){let o=t.getSize(),c=t.getNextSet(0),h=0,p=c,y=!1,A=a.length;for(let _=c;_<o;_++)if(t.get(_)!==y)a[h]++;else{if(h===A-1){if(this.toNarrowWidePattern(a)===Ht.ASTERISK_ENCODING&&t.isRange(Math.max(0,p-Math.floor((_-p)/2)),p,!1))return[p,_];p+=a[0]+a[1],a.copyWithin(0,2,2+h-1),a[h-1]=0,a[h]=0,h--}else h++;a[h]=1,y=!y}throw new te}static toNarrowWidePattern(t){let a=t.length,o=0,c;do{let h=2147483647;for(let A of t)A<h&&A>o&&(h=A);o=h,c=0;let p=0,y=0;for(let A=0;A<a;A++){let _=t[A];_>o&&(y|=1<<a-1-A,c++,p+=_)}if(c===3){for(let A=0;A<a&&c>0;A++){let _=t[A];if(_>o&&(c--,_*2>=p))return-1}return y}}while(c>3);return-1}static patternToChar(t){for(let a=0;a<Ht.CHARACTER_ENCODINGS.length;a++)if(Ht.CHARACTER_ENCODINGS[a]===t)return Ht.ALPHABET_STRING.charAt(a);if(t===Ht.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(t){let a=t.length,o="";for(let c=0;c<a;c++){let h=t.charAt(c);if(h==="+"||h==="$"||h==="%"||h==="/"){let p=t.charAt(c+1),y="\0";switch(h){case"+":if(p>="A"&&p<="Z")y=String.fromCharCode(p.charCodeAt(0)+32);else throw new Y;break;case"$":if(p>="A"&&p<="Z")y=String.fromCharCode(p.charCodeAt(0)-64);else throw new Y;break;case"%":if(p>="A"&&p<="E")y=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")y=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")y=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")y="\0";else if(p==="V")y="@";else if(p==="W")y="`";else if(p==="X"||p==="Y"||p==="Z")y="";else throw new Y;break;case"/":if(p>="A"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")y=":";else throw new Y;break}o+=y,c++}else o+=h}return o}}Ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ht.ASTERISK_ENCODING=148;class it extends Tt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,a,o){let c=this.decodeStart(a),h=this.decodeEnd(a),p=new ne;it.decodeMiddle(a,c[1],h[0],p);let y=p.toString(),A=null;o!=null&&(A=o.get(q.ALLOWED_LENGTHS)),A==null&&(A=it.DEFAULT_ALLOWED_LENGTHS);let _=y.length,R=!1,U=0;for(let ae of A){if(_===ae){R=!0;break}ae>U&&(U=ae)}if(!R&&_>U&&(R=!0),!R)throw new Y;const z=[new je(c[1],t),new je(h[0],t)];return new se(y,null,0,z,me.ITF,new Date().getTime())}static decodeMiddle(t,a,o,c){let h=new Int32Array(10),p=new Int32Array(5),y=new Int32Array(5);for(h.fill(0),p.fill(0),y.fill(0);a<o;){Tt.recordPattern(t,a,h);for(let _=0;_<5;_++){let R=2*_;p[_]=h[R],y[_]=h[R+1]}let A=it.decodeDigit(p);c.append(A.toString()),A=this.decodeDigit(y),c.append(A.toString()),h.forEach(function(_){a+=_})}}decodeStart(t){let a=it.skipWhiteSpace(t),o=it.findGuardPattern(t,a,it.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(t,o[0]),o}validateQuietZone(t,a){let o=this.narrowLineWidth*10;o=o<a?o:a;for(let c=a-1;o>0&&c>=0&&!t.get(c);c--)o--;if(o!==0)throw new te}static skipWhiteSpace(t){const a=t.getSize(),o=t.getNextSet(0);if(o===a)throw new te;return o}decodeEnd(t){t.reverse();try{let a=it.skipWhiteSpace(t),o;try{o=it.findGuardPattern(t,a,it.END_PATTERN_REVERSED[0])}catch(h){h instanceof te&&(o=it.findGuardPattern(t,a,it.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,o[0]);let c=o[0];return o[0]=t.getSize()-o[1],o[1]=t.getSize()-c,o}finally{t.reverse()}}static findGuardPattern(t,a,o){let c=o.length,h=new Int32Array(c),p=t.getSize(),y=!1,A=0,_=a;h.fill(0);for(let R=a;R<p;R++)if(t.get(R)!==y)h[A]++;else{if(A===c-1){if(Tt.patternMatchVariance(h,o,it.MAX_INDIVIDUAL_VARIANCE)<it.MAX_AVG_VARIANCE)return[_,R];_+=h[0]+h[1],N.arraycopy(h,2,h,0,A-1),h[A-1]=0,h[A]=0,A--}else A++;h[A]=1,y=!y}throw new te}static decodeDigit(t){let a=it.MAX_AVG_VARIANCE,o=-1,c=it.PATTERNS.length;for(let h=0;h<c;h++){let p=it.PATTERNS[h],y=Tt.patternMatchVariance(t,p,it.MAX_INDIVIDUAL_VARIANCE);y<a?(a=y,o=h):y===a&&(o=-1)}if(o>=0)return o%10;throw new te}}it.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],it.MAX_AVG_VARIANCE=.38,it.MAX_INDIVIDUAL_VARIANCE=.5,it.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],it.START_PATTERN=Int32Array.from([1,1,1,1]),it.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends Tt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let a=!1,o,c=0,h=Int32Array.from([0,0,0]);for(;!a;){h=Int32Array.from([0,0,0]),o=dt.findGuardPattern(t,c,!1,this.START_END_PATTERN,h);let p=o[0];c=o[1];let y=p-(c-p);y>=0&&(a=t.isRange(y,p,!1))}return o}static checkChecksum(t){return dt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let o=parseInt(t.charAt(a-1),10);return dt.getStandardUPCEANChecksum(t.substring(0,a-1))===o}static getStandardUPCEANChecksum(t){let a=t.length,o=0;for(let c=a-1;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new Y;o+=h}o*=3;for(let c=a-2;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new Y;o+=h}return(1e3-o)%10}static decodeEnd(t,a){return dt.findGuardPattern(t,a,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,a,o,c){return this.findGuardPattern(t,a,o,c,new Int32Array(c.length))}static findGuardPattern(t,a,o,c,h){let p=t.getSize();a=o?t.getNextUnset(a):t.getNextSet(a);let y=0,A=a,_=c.length,R=o;for(let U=a;U<p;U++)if(t.get(U)!==R)h[y]++;else{if(y===_-1){if(Tt.patternMatchVariance(h,c,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([A,U]);A+=h[0]+h[1];let z=h.slice(2,h.length-1);for(let J=0;J<y-1;J++)h[J]=z[J];h[y-1]=0,h[y]=0,y--}else y++;h[y]=1,R=!R}throw new te}static decodeDigit(t,a,o,c){this.recordPattern(t,o,a);let h=this.MAX_AVG_VARIANCE,p=-1,y=c.length;for(let A=0;A<y;A++){let _=c[A],R=Tt.patternMatchVariance(a,_,dt.MAX_INDIVIDUAL_VARIANCE);R<h&&(h=R,p=A)}if(p>=0)return p;throw new te}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Bn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,o){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(a,o,c),p=c.toString(),y=Bn.parseExtensionString(p),A=[new je((o[0]+o[1])/2,t),new je(h,t)],_=new se(p,null,0,A,me.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&_.putAllMetadata(y),_}decodeMiddle(t,a,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),p=a[1],y=0;for(let _=0;_<5&&p<h;_++){let R=dt.decodeDigit(t,c,p,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+R%10);for(let U of c)p+=U;R>=10&&(y|=1<<4-_),_!==4&&(p=t.getNextSet(p),p=t.getNextUnset(p))}if(o.length!==5)throw new te;let A=this.determineCheckDigit(y);if(Bn.extensionChecksum(o.toString())!==A)throw new te;return p}static extensionChecksum(t){let a=t.length,o=0;for(let c=a-2;c>=0;c-=2)o+=t.charAt(c).charCodeAt(0)-48;o*=3;for(let c=a-1;c>=0;c-=2)o+=t.charAt(c).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(t){for(let a=0;a<10;a++)if(t===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new te}static parseExtensionString(t){if(t.length!==5)return null;let a=Bn.parseExtension5String(t);return a==null?null:new Map([[Te.SUGGESTED_PRICE,a]])}static parseExtension5String(t){let a;switch(t.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let o=parseInt(t.substring(1)),c=(o/100).toString(),h=o%100,p=h<10?"0"+h:h.toString();return a+c+"."+p}}class xs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,a,o){let c=this.decodeRowStringBuffer,h=this.decodeMiddle(a,o,c),p=c.toString(),y=xs.parseExtensionString(p),A=[new je((o[0]+o[1])/2,t),new je(h,t)],_=new se(p,null,0,A,me.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&_.putAllMetadata(y),_}decodeMiddle(t,a,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),p=a[1],y=0;for(let A=0;A<2&&p<h;A++){let _=dt.decodeDigit(t,c,p,dt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+_%10);for(let R of c)p+=R;_>=10&&(y|=1<<1-A),A!==1&&(p=t.getNextSet(p),p=t.getNextUnset(p))}if(o.length!==2)throw new te;if(parseInt(o.toString())%4!==y)throw new te;return p}static parseExtensionString(t){return t.length!==2?null:new Map([[Te.ISSUE_NUMBER,parseInt(t)]])}}class gs{static decodeRow(t,a,o){let c=dt.findGuardPattern(a,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Bn().decodeRow(t,a,c)}catch{return new xs().decodeRow(t,a,c)}}}gs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class _t extends dt{constructor(){super(),this.decodeRowStringBuffer="",_t.L_AND_G_PATTERNS=_t.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let a=_t.L_PATTERNS[t-10],o=new Int32Array(a.length);for(let c=0;c<a.length;c++)o[c]=a[a.length-c-1];_t.L_AND_G_PATTERNS[t]=o}}decodeRow(t,a,o){let c=_t.findStartGuardPattern(a),h=o==null?null:o.get(q.NEED_RESULT_POINT_CALLBACK);if(h!=null){const Be=new je((c[0]+c[1])/2,t);h.foundPossibleResultPoint(Be)}let p=this.decodeMiddle(a,c,this.decodeRowStringBuffer),y=p.rowOffset,A=p.resultString;if(h!=null){const Be=new je(y,t);h.foundPossibleResultPoint(Be)}let _=this.decodeEnd(a,y);if(h!=null){const Be=new je((_[0]+_[1])/2,t);h.foundPossibleResultPoint(Be)}let R=_[1],U=R+(R-_[0]);if(U>=a.getSize()||!a.isRange(R,U,!1))throw new te;let z=A.toString();if(z.length<8)throw new Y;if(!_t.checkChecksum(z))throw new T;let J=(c[1]+c[0])/2,ae=(_[1]+_[0])/2,le=this.getBarcodeFormat(),xe=[new je(J,t),new je(ae,t)],ve=new se(z,null,0,xe,le,new Date().getTime()),Ie=0;try{let Be=gs.decodeRow(t,a,_[1]);ve.putMetadata(Te.UPC_EAN_EXTENSION,Be.getText()),ve.putAllMetadata(Be.getResultMetadata()),ve.addResultPoints(Be.getResultPoints()),Ie=Be.getText().length}catch{}let Me=o==null?null:o.get(q.ALLOWED_EAN_EXTENSIONS);if(Me!=null){let Be=!1;for(let Ct in Me)if(Ie.toString()===Ct){Be=!0;break}if(!Be)throw new te}return ve}decodeEnd(t,a){return _t.findGuardPattern(t,a,!1,_t.START_END_PATTERN,new Int32Array(_t.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return _t.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let a=t.length;if(a===0)return!1;let o=parseInt(t.charAt(a-1),10);return _t.getStandardUPCEANChecksum(t.substring(0,a-1))===o}static getStandardUPCEANChecksum(t){let a=t.length,o=0;for(let c=a-1;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new Y;o+=h}o*=3;for(let c=a-2;c>=0;c-=2){let h=t.charAt(c).charCodeAt(0)-48;if(h<0||h>9)throw new Y;o+=h}return(1e3-o)%10}}class xr extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),p=a[1],y=0;for(let _=0;_<6&&p<h;_++){let R=_t.decodeDigit(t,c,p,_t.L_AND_G_PATTERNS);o+=String.fromCharCode(48+R%10);for(let U of c)p+=U;R>=10&&(y|=1<<5-_)}o=xr.determineFirstDigit(o,y),p=_t.findGuardPattern(t,p,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&p<h;_++){let R=_t.decodeDigit(t,c,p,_t.L_PATTERNS);o+=String.fromCharCode(48+R);for(let U of c)p+=U}return{rowOffset:p,resultString:o}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(t,a){for(let o=0;o<10;o++)if(a===this.FIRST_DIGIT_ENCODINGS[o])return t=String.fromCharCode(48+o)+t,t;throw new te}}xr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wr extends _t{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,a,o){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),p=a[1];for(let A=0;A<4&&p<h;A++){let _=_t.decodeDigit(t,c,p,_t.L_PATTERNS);o+=String.fromCharCode(48+_);for(let R of c)p+=R}p=_t.findGuardPattern(t,p,!0,_t.MIDDLE_PATTERN,new Int32Array(_t.MIDDLE_PATTERN.length).fill(0))[1];for(let A=0;A<4&&p<h;A++){let _=_t.decodeDigit(t,c,p,_t.L_PATTERNS);o+=String.fromCharCode(48+_);for(let R of c)p+=R}return{rowOffset:p,resultString:o}}getBarcodeFormat(){return me.EAN_8}}class Yi extends _t{constructor(){super(...arguments),this.ean13Reader=new xr}getBarcodeFormat(){return me.UPC_A}decode(t,a){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,a,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,a,o))}decodeMiddle(t,a,o){return this.ean13Reader.decodeMiddle(t,a,o)}maybeReturnResult(t){let a=t.getText();if(a.charAt(0)==="0"){let o=new se(a.substring(1),null,null,t.getResultPoints(),me.UPC_A);return t.getResultMetadata()!=null&&o.putAllMetadata(t.getResultMetadata()),o}else throw new te}reset(){this.ean13Reader.reset()}}class zn extends _t{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,a,o){const c=this.decodeMiddleCounters.map(_=>_);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const h=t.getSize();let p=a[1],y=0;for(let _=0;_<6&&p<h;_++){const R=zn.decodeDigit(t,c,p,zn.L_AND_G_PATTERNS);o+=String.fromCharCode(48+R%10);for(let U of c)p+=U;R>=10&&(y|=1<<5-_)}let A=zn.determineNumSysAndCheckDigit(o,y);return{rowOffset:p,resultString:A}}decodeEnd(t,a){return zn.findGuardPatternWithoutCounters(t,a,!0,zn.MIDDLE_END_PATTERN)}checkChecksum(t){return _t.checkChecksum(zn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,a){for(let o=0;o<=1;o++)for(let c=0;c<10;c++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][c]){let h=String.fromCharCode(48+o),p=String.fromCharCode(48+c);return h+t+p}throw te.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(t){const a=t.slice(1,7).split("").map(h=>h.charCodeAt(0)),o=new ne;o.append(t.charAt(0));let c=a[5];switch(c){case 0:case 1:case 2:o.appendChars(a,0,2),o.append(c),o.append("0000"),o.appendChars(a,2,3);break;case 3:o.appendChars(a,0,3),o.append("00000"),o.appendChars(a,3,2);break;case 4:o.appendChars(a,0,4),o.append("00000"),o.append(a[4]);break;default:o.appendChars(a,0,5),o.append("0000"),o.append(c);break}return t.length>=8&&o.append(t.charAt(7)),o.toString()}}zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Aa extends Tt{constructor(t){super();let a=t==null?null:t.get(q.POSSIBLE_FORMATS),o=[];l(a)?(o.push(new xr),o.push(new Yi),o.push(new Wr),o.push(new zn)):(a.indexOf(me.EAN_13)>-1&&o.push(new xr),a.indexOf(me.UPC_A)>-1&&o.push(new Yi),a.indexOf(me.EAN_8)>-1&&o.push(new Wr),a.indexOf(me.UPC_E)>-1&&o.push(new zn)),this.readers=o}decodeRow(t,a,o){for(let c of this.readers)try{const h=c.decodeRow(t,a,o),p=h.getBarcodeFormat()===me.EAN_13&&h.getText().charAt(0)==="0",y=o==null?null:o.get(q.POSSIBLE_FORMATS),A=y==null||y.includes(me.UPC_A);if(p&&A){const _=h.getRawBytes(),R=new se(h.getText().substring(1),_,_?_.length:null,h.getResultPoints(),me.UPC_A);return R.putAllMetadata(h.getResultMetadata()),R}return h}catch{}throw new te}reset(){for(let t of this.readers)t.reset()}}class Sn extends Tt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,a){for(let o=0;o<a.length;o++)if(Tt.patternMatchVariance(t,a[o],Sn.MAX_INDIVIDUAL_VARIANCE)<Sn.MAX_AVG_VARIANCE)return o;throw new te}static count(t){return Xe.sum(new Int32Array(t))}static increment(t,a){let o=0,c=a[0];for(let h=1;h<t.length;h++)a[h]>c&&(c=a[h],o=h);t[o]++}static decrement(t,a){let o=0,c=a[0];for(let h=1;h<t.length;h++)a[h]<c&&(c=a[h],o=h);t[o]--}static isFinderPattern(t){let a=t[0]+t[1],o=a+t[2]+t[3],c=a/o;if(c>=Sn.MIN_FINDER_PATTERN_RATIO&&c<=Sn.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let y of t)y>p&&(p=y),y<h&&(h=y);return p<10*h}return!1}}Sn.MAX_AVG_VARIANCE=.2,Sn.MAX_INDIVIDUAL_VARIANCE=.45,Sn.MIN_FINDER_PATTERN_RATIO=9.5/12,Sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class xi{constructor(t,a){this.value=t,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof xi))return!1;const a=t;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class gi{constructor(t,a,o,c,h){this.value=t,this.startEnd=a,this.value=t,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new je(o,h)),this.resultPoints.push(new je(c,h))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof gi))return!1;const a=t;return this.value===a.value}hashCode(){return this.value}}class Yn{constructor(){}static getRSSvalue(t,a,o){let c=0;for(let A of t)c+=A;let h=0,p=0,y=t.length;for(let A=0;A<y-1;A++){let _;for(_=1,p|=1<<A;_<t[A];_++,p&=~(1<<A)){let R=Yn.combins(c-_-1,y-A-2);if(o&&p===0&&c-_-(y-A-1)>=y-A-1&&(R-=Yn.combins(c-_-(y-A),y-A-2)),y-A-1>1){let U=0;for(let z=c-_-(y-A-2);z>a;z--)U+=Yn.combins(c-_-z-1,y-A-3);R-=U*(y-1-A)}else c-_>a&&R--;h+=R}c-=_}return h}static combins(t,a){let o,c;t-a>a?(c=a,o=t-a):(c=t-a,o=a);let h=1,p=1;for(let y=t;y>o;y--)h*=y,p<=c&&(h/=p,p++);for(;p<=c;)h/=p,p++;return h}}class nl{static buildBitArray(t){let a=t.length*2-1;t[t.length-1].getRightChar()==null&&(a-=1);let o=12*a,c=new V(o),h=0,y=t[0].getRightChar().getValue();for(let A=11;A>=0;--A)(y&1<<A)!=0&&c.set(h),h++;for(let A=1;A<t.length;++A){let _=t[A],R=_.getLeftChar().getValue();for(let U=11;U>=0;--U)(R&1<<U)!=0&&c.set(h),h++;if(_.getRightChar()!=null){let U=_.getRightChar().getValue();for(let z=11;z>=0;--z)(U&1<<z)!=0&&c.set(h),h++}}return c}}class xn{constructor(t,a){a?this.decodedInformation=null:(this.finished=t,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class gr{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class Rn extends gr{constructor(t,a){super(t),this.value=a}getValue(){return this.value}isFNC1(){return this.value===Rn.FNC1}}Rn.FNC1="$";class Qr extends gr{constructor(t,a,o){super(t),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dr extends gr{constructor(t,a,o){if(super(t),a<0||a>10||o<0||o>10)throw new Y;this.firstDigit=a,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dr.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dr.FNC1}isAnyFNC1(){return this.firstDigit===Dr.FNC1||this.secondDigit===Dr.FNC1}}Dr.FNC1=10;class ze{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new te;let a=t.substring(0,2);for(let h of ze.TWO_DIGIT_DATA_LENGTH)if(h[0]===a)return h[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(2,h[2],t):ze.processFixedAI(2,h[1],t);if(t.length<3)throw new te;let o=t.substring(0,3);for(let h of ze.THREE_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(3,h[2],t):ze.processFixedAI(3,h[1],t);for(let h of ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(h[0]===o)return h[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,h[2],t):ze.processFixedAI(4,h[1],t);if(t.length<4)throw new te;let c=t.substring(0,4);for(let h of ze.FOUR_DIGIT_DATA_LENGTH)if(h[0]===c)return h[1]===ze.VARIABLE_LENGTH?ze.processVariableAI(4,h[2],t):ze.processFixedAI(4,h[1],t);throw new te}static processFixedAI(t,a,o){if(o.length<t)throw new te;let c=o.substring(0,t);if(o.length<t+a)throw new te;let h=o.substring(t,t+a),p=o.substring(t+a),y="("+c+")"+h,A=ze.parseFieldsInGeneralPurpose(p);return A==null?y:y+A}static processVariableAI(t,a,o){let c=o.substring(0,t),h;o.length<t+a?h=o.length:h=t+a;let p=o.substring(t,h),y=o.substring(h),A="("+c+")"+p,_=ze.parseFieldsInGeneralPurpose(y);return _==null?A:A+_}}ze.VARIABLE_LENGTH=[],ze.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ze.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ze.VARIABLE_LENGTH,20],["22",ze.VARIABLE_LENGTH,29],["30",ze.VARIABLE_LENGTH,8],["37",ze.VARIABLE_LENGTH,8],["90",ze.VARIABLE_LENGTH,30],["91",ze.VARIABLE_LENGTH,30],["92",ze.VARIABLE_LENGTH,30],["93",ze.VARIABLE_LENGTH,30],["94",ze.VARIABLE_LENGTH,30],["95",ze.VARIABLE_LENGTH,30],["96",ze.VARIABLE_LENGTH,30],["97",ze.VARIABLE_LENGTH,3],["98",ze.VARIABLE_LENGTH,30],["99",ze.VARIABLE_LENGTH,30]],ze.THREE_DIGIT_DATA_LENGTH=[["240",ze.VARIABLE_LENGTH,30],["241",ze.VARIABLE_LENGTH,30],["242",ze.VARIABLE_LENGTH,6],["250",ze.VARIABLE_LENGTH,30],["251",ze.VARIABLE_LENGTH,30],["253",ze.VARIABLE_LENGTH,17],["254",ze.VARIABLE_LENGTH,20],["400",ze.VARIABLE_LENGTH,30],["401",ze.VARIABLE_LENGTH,30],["402",17],["403",ze.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ze.VARIABLE_LENGTH,20],["421",ze.VARIABLE_LENGTH,15],["422",3],["423",ze.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ze.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ze.VARIABLE_LENGTH,15],["391",ze.VARIABLE_LENGTH,18],["392",ze.VARIABLE_LENGTH,15],["393",ze.VARIABLE_LENGTH,18],["703",ze.VARIABLE_LENGTH,30]],ze.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ze.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ze.VARIABLE_LENGTH,20],["8003",ze.VARIABLE_LENGTH,30],["8004",ze.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ze.VARIABLE_LENGTH,30],["8008",ze.VARIABLE_LENGTH,12],["8018",18],["8020",ze.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ze.VARIABLE_LENGTH,70],["8200",ze.VARIABLE_LENGTH,70]];class pn{constructor(t){this.buffer=new ne,this.information=t}decodeAllCodes(t,a){let o=a,c=null;do{let h=this.decodeGeneralPurposeField(o,c),p=ze.parseFieldsInGeneralPurpose(h.getNewString());if(p!=null&&t.append(p),h.isRemaining()?c=""+h.getRemainingValue():c=null,o===h.getNewPosition())break;o=h.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let a=t;a<t+3;++a)if(this.information.get(a))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let h=this.extractNumericValueFromBitArray(t,4);return h===0?new Dr(this.information.getSize(),Dr.FNC1,Dr.FNC1):new Dr(this.information.getSize(),h-1,Dr.FNC1)}let a=this.extractNumericValueFromBitArray(t,7),o=(a-8)/11,c=(a-8)%11;return new Dr(t+7,o,c)}extractNumericValueFromBitArray(t,a){return pn.extractNumericValueFromBitArray(this.information,t,a)}static extractNumericValueFromBitArray(t,a,o){let c=0;for(let h=0;h<o;++h)t.get(a+h)&&(c|=1<<o-h-1);return c}decodeGeneralPurposeField(t,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(t);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Qr(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Qr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,a;do{let o=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),t=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),t=a.isFinished()):(a=this.parseNumericBlock(),t=a.isFinished()),!(o!==this.current.getPosition())&&!t)break}while(!t);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let a;return t.isSecondDigitFNC1()?a=new Qr(this.current.getPosition(),this.buffer.toString()):a=new Qr(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new xn(!0,a)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new xn(!0,a)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new xn(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let a=new Qr(this.current.getPosition(),this.buffer.toString());return new xn(!0,a)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xn(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<116)return!0;if(t+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(t,8);return c>=232&&c<253}decodeIsoIec646(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Rn(t+5,Rn.FNC1);if(a>=5&&a<15)return new Rn(t+5,"0"+(a-5));let o=this.extractNumericValueFromBitArray(t,7);if(o>=64&&o<90)return new Rn(t+7,""+(o+1));if(o>=90&&o<116)return new Rn(t+7,""+(o+7));let c=this.extractNumericValueFromBitArray(t,8),h;switch(c){case 232:h="!";break;case 233:h='"';break;case 234:h="%";break;case 235:h="&";break;case 236:h="'";break;case 237:h="(";break;case 238:h=")";break;case 239:h="*";break;case 240:h="+";break;case 241:h=",";break;case 242:h="-";break;case 243:h=".";break;case 244:h="/";break;case 245:h=":";break;case 246:h=";";break;case 247:h="<";break;case 248:h="=";break;case 249:h=">";break;case 250:h="?";break;case 251:h="_";break;case 252:h=" ";break;default:throw new Y}return new Rn(t+8,h)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,5);if(a>=5&&a<16)return!0;if(t+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(t,6);return o>=16&&o<63}decodeAlphanumeric(t){let a=this.extractNumericValueFromBitArray(t,5);if(a===15)return new Rn(t+5,Rn.FNC1);if(a>=5&&a<15)return new Rn(t+5,"0"+(a-5));let o=this.extractNumericValueFromBitArray(t,6);if(o>=32&&o<58)return new Rn(t+6,""+(o+33));let c;switch(o){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new yt("Decoding invalid alphanumeric value: "+o)}return new Rn(t+6,c)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<5&&a+t<this.information.getSize();++a)if(a===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+a))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let a=t;a<t+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let a=0;a<4&&a+t<this.information.getSize();++a)if(this.information.get(t+a))return!1;return!0}}class Xn{constructor(t){this.information=t,this.generalDecoder=new pn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Tn extends Xn{constructor(t){super(t)}encodeCompressedGtin(t,a){t.append("(01)");let o=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,a,o)}encodeCompressedGtinWithoutAI(t,a,o){for(let c=0;c<4;++c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*c,10);h/100===0&&t.append("0"),h/10===0&&t.append("0"),t.append(h)}Tn.appendCheckDigit(t,o)}static appendCheckDigit(t,a){let o=0;for(let c=0;c<13;c++){let h=t.charAt(c+a).charCodeAt(0)-48;o+=(c&1)===0?3*h:h}o=10-o%10,o===10&&(o=0),t.append(o)}}Tn.GTIN_SIZE=40;class Ti extends Tn{constructor(t){super(t)}parseInformation(){let t=new ne;t.append("(01)");let a=t.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ti.HEADER_SIZE,4);return t.append(o),this.encodeCompressedGtinWithoutAI(t,Ti.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(t,Ti.HEADER_SIZE+44)}}Ti.HEADER_SIZE=4;class rl extends Xn{constructor(t){super(t)}parseInformation(){let t=new ne;return this.getGeneralDecoder().decodeAllCodes(t,rl.HEADER_SIZE)}}rl.HEADER_SIZE=5;class il extends Tn{constructor(t){super(t)}encodeCompressedWeight(t,a,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,o);this.addWeightCode(t,c);let h=this.checkWeight(c),p=1e5;for(let y=0;y<5;++y)h/p===0&&t.append("0"),p/=10;t.append(h)}}class kr extends il{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=kr.HEADER_SIZE+il.GTIN_SIZE+kr.WEIGHT_SIZE)throw new te;let t=new ne;return this.encodeCompressedGtin(t,kr.HEADER_SIZE),this.encodeCompressedWeight(t,kr.HEADER_SIZE+il.GTIN_SIZE,kr.WEIGHT_SIZE),t.toString()}}kr.HEADER_SIZE=5,kr.WEIGHT_SIZE=15;class ps extends kr{constructor(t){super(t)}addWeightCode(t,a){t.append("(3103)")}checkWeight(t){return t}}class Kl extends kr{constructor(t){super(t)}addWeightCode(t,a){a<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Zn extends Tn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Zn.HEADER_SIZE+Tn.GTIN_SIZE)throw new te;let t=new ne;this.encodeCompressedGtin(t,Zn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Zn.HEADER_SIZE+Tn.GTIN_SIZE,Zn.LAST_DIGIT_SIZE);t.append("(392"),t.append(a),t.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Zn.HEADER_SIZE+Tn.GTIN_SIZE+Zn.LAST_DIGIT_SIZE,null);return t.append(o.getNewString()),t.toString()}}Zn.HEADER_SIZE=8,Zn.LAST_DIGIT_SIZE=2;class vn extends Tn{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<vn.HEADER_SIZE+Tn.GTIN_SIZE)throw new te;let t=new ne;this.encodeCompressedGtin(t,vn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(vn.HEADER_SIZE+Tn.GTIN_SIZE,vn.LAST_DIGIT_SIZE);t.append("(393"),t.append(a),t.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(vn.HEADER_SIZE+Tn.GTIN_SIZE+vn.LAST_DIGIT_SIZE,vn.FIRST_THREE_DIGITS_SIZE);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o);let c=this.getGeneralDecoder().decodeGeneralPurposeField(vn.HEADER_SIZE+Tn.GTIN_SIZE+vn.LAST_DIGIT_SIZE+vn.FIRST_THREE_DIGITS_SIZE,null);return t.append(c.getNewString()),t.toString()}}vn.HEADER_SIZE=8,vn.LAST_DIGIT_SIZE=2,vn.FIRST_THREE_DIGITS_SIZE=10;class qt extends il{constructor(t,a,o){super(t),this.dateCode=o,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE+qt.DATE_SIZE)throw new te;let t=new ne;return this.encodeCompressedGtin(t,qt.HEADER_SIZE),this.encodeCompressedWeight(t,qt.HEADER_SIZE+qt.GTIN_SIZE,qt.WEIGHT_SIZE),this.encodeCompressedDate(t,qt.HEADER_SIZE+qt.GTIN_SIZE+qt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,a){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(a,qt.DATE_SIZE);if(o==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let c=o%32;o/=32;let h=o%12+1;o/=12;let p=o;p/10==0&&t.append("0"),t.append(p),h/10==0&&t.append("0"),t.append(h),c/10==0&&t.append("0"),t.append(c)}addWeightCode(t,a){t.append("("),t.append(this.firstAIdigits),t.append(a/1e5),t.append(")")}checkWeight(t){return t%1e5}}qt.HEADER_SIZE=8,qt.WEIGHT_SIZE=20,qt.DATE_SIZE=16;function Xi(P){try{if(P.get(1))return new Ti(P);if(!P.get(2))return new rl(P);switch(pn.extractNumericValueFromBitArray(P,1,4)){case 4:return new ps(P);case 5:return new Kl(P)}switch(pn.extractNumericValueFromBitArray(P,1,5)){case 12:return new Zn(P);case 13:return new vn(P)}switch(pn.extractNumericValueFromBitArray(P,1,7)){case 56:return new qt(P,"310","11");case 57:return new qt(P,"320","11");case 58:return new qt(P,"310","13");case 59:return new qt(P,"320","13");case 60:return new qt(P,"310","15");case 61:return new qt(P,"320","15");case 62:return new qt(P,"310","17");case 63:return new qt(P,"320","17")}}catch(t){throw console.log(t),new yt("unknown decoder: "+P)}}class en{constructor(t,a,o,c){this.leftchar=t,this.rightchar=a,this.finderpattern=o,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,a){return t instanceof en?en.equalsOrNull(t.leftchar,a.leftchar)&&en.equalsOrNull(t.rightchar,a.rightchar)&&en.equalsOrNull(t.finderpattern,a.finderpattern):!1}static equalsOrNull(t,a){return t===null?a===null:en.equals(t,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class al{constructor(t,a,o){this.pairs=t,this.rowNumber=a,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,a){return t instanceof al?this.checkEqualitity(t,a)&&t.wasReversed===a.wasReversed:!1}checkEqualitity(t,a){if(!t||!a)return;let o;return t.forEach((c,h)=>{a.forEach(p=>{c.getLeftChar().getValue()===p.getLeftChar().getValue()&&c.getRightChar().getValue()===p.getRightChar().getValue()&&c.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(o=!0)})}),o}}class Oe extends Sn{constructor(t){super(...arguments),this.pairs=new Array(Oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,a,o){this.pairs.length=0,this.startFromEven=!1;try{return Oe.constructResult(this.decodeRow2pairs(t,a))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,Oe.constructResult(this.decodeRow2pairs(t,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,a){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,t))}catch(h){if(h instanceof te){if(!this.pairs.length)throw new te;o=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(t,!1),c){let h=this.checkRowsBoolean(!1);if(h!=null||(h=this.checkRowsBoolean(!0),h!=null))return h}throw new te}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return t&&(this.rows=this.rows.reverse()),a}checkRows(t,a){for(let o=a;o<this.rows.length;o++){let c=this.rows[o];this.pairs.length=0;for(let p of t)this.pairs.push(p.getPairs());if(this.pairs.push(c.getPairs()),!Oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let h=new Array(t);h.push(c);try{return this.checkRows(h,o+1)}catch(p){this.verbose&&console.log(p)}}throw new te}static isValidSequence(t){for(let a of Oe.FINDER_PATTERN_SEQUENCES){if(t.length>a.length)continue;let o=!0;for(let c=0;c<t.length;c++)if(t[c].getFinderPattern().getValue()!=a[c]){o=!1;break}if(o)return!0}return!1}storeRow(t,a){let o=0,c=!1,h=!1;for(;o<this.rows.length;){let p=this.rows[o];if(p.getRowNumber()>t){h=p.isEquivalent(this.pairs);break}c=p.isEquivalent(this.pairs),o++}h||c||Oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new al(this.pairs,t,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,a){for(let o of a)if(o.getPairs().length!==t.length){for(let c of o.getPairs())for(let h of t)if(en.equals(c,h))break}}static isPartialRow(t,a){for(let o of a){let c=!0;for(let h of t){let p=!1;for(let y of o.getPairs())if(h.equals(y)){p=!0;break}if(!p){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(t){let a=nl.buildBitArray(t),c=Xi(a).parseInformation(),h=t[0].getFinderPattern().getResultPoints(),p=t[t.length-1].getFinderPattern().getResultPoints(),y=[h[0],h[1],p[0],p[1]];return new se(c,null,null,y,me.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),a=t.getLeftChar(),o=t.getRightChar();if(o==null)return!1;let c=o.getChecksumPortion(),h=2;for(let y=1;y<this.pairs.size();++y){let A=this.pairs.get(y);c+=A.getLeftChar().getChecksumPortion(),h++;let _=A.getRightChar();_!=null&&(c+=_.getChecksumPortion(),h++)}return c%=211,211*(h-4)+c==a.getValue()}static getNextSecondBar(t,a){let o;return t.get(a)?(o=t.getNextUnset(a),o=t.getNextSet(o)):(o=t.getNextSet(a),o=t.getNextUnset(o)),o}retrieveNextPair(t,a,o){let c=a.length%2==0;this.startFromEven&&(c=!c);let h,p=!0,y=-1;do this.findNextPair(t,a,y),h=this.parseFoundFinderPattern(t,o,c),h==null?y=Oe.getNextSecondBar(t,this.startEnd[0]):p=!1;while(p);let A=this.decodeDataCharacter(t,h,c,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new te;let _;try{_=this.decodeDataCharacter(t,h,c,!1)}catch(R){_=null,this.verbose&&console.log(R)}return new en(A,_,h,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,a,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=t.getSize(),p;o>=0?p=o:this.isEmptyPair(a)?p=0:p=a[a.length-1].getFinderPattern().getStartEnd()[1];let y=a.length%2!=0;this.startFromEven&&(y=!y);let A=!1;for(;p<h&&(A=!t.get(p),!!A);)p++;let _=0,R=p;for(let U=p;U<h;U++)if(t.get(U)!=A)c[_]++;else{if(_==3){if(y&&Oe.reverseCounters(c),Oe.isFinderPattern(c)){this.startEnd[0]=R,this.startEnd[1]=U;return}y&&Oe.reverseCounters(c),R+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,_--}else _++;c[_]=1,A=!A}throw new te}static reverseCounters(t){let a=t.length;for(let o=0;o<a/2;++o){let c=t[o];t[o]=t[a-o-1],t[a-o-1]=c}}parseFoundFinderPattern(t,a,o){let c,h,p;if(o){let _=this.startEnd[0]-1;for(;_>=0&&!t.get(_);)_--;_++,c=this.startEnd[0]-_,h=_,p=this.startEnd[1]}else h=this.startEnd[0],p=t.getNextUnset(this.startEnd[1]+1),c=p-this.startEnd[1];let y=this.getDecodeFinderCounters();N.arraycopy(y,0,y,1,y.length-1),y[0]=c;let A;try{A=this.parseFinderValue(y,Oe.FINDER_PATTERNS)}catch{return null}return new gi(A,[h,p],h,p,a)}decodeDataCharacter(t,a,o,c){let h=this.getDataCharacterCounters();for(let Xt=0;Xt<h.length;Xt++)h[Xt]=0;if(c)Oe.recordPatternInReverse(t,a.getStartEnd()[0],h);else{Oe.recordPattern(t,a.getStartEnd()[1],h);for(let Xt=0,qn=h.length-1;Xt<qn;Xt++,qn--){let Er=h[Xt];h[Xt]=h[qn],h[qn]=Er}}let p=17,y=Xe.sum(new Int32Array(h))/p,A=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(y-A)/A>.3)throw new te;let _=this.getOddCounts(),R=this.getEvenCounts(),U=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let Xt=0;Xt<h.length;Xt++){let qn=1*h[Xt]/y,Er=qn+.5;if(Er<1){if(qn<.3)throw new te;Er=1}else if(Er>8){if(qn>8.7)throw new te;Er=8}let Ji=Xt/2;(Xt&1)==0?(_[Ji]=Er,U[Ji]=qn-Er):(R[Ji]=Er,z[Ji]=qn-Er)}this.adjustOddEvenCounts(p);let J=4*a.getValue()+(o?0:2)+(c?0:1)-1,ae=0,le=0;for(let Xt=_.length-1;Xt>=0;Xt--){if(Oe.isNotA1left(a,o,c)){let qn=Oe.WEIGHTS[J][2*Xt];le+=_[Xt]*qn}ae+=_[Xt]}let xe=0;for(let Xt=R.length-1;Xt>=0;Xt--)if(Oe.isNotA1left(a,o,c)){let qn=Oe.WEIGHTS[J][2*Xt+1];xe+=R[Xt]*qn}let ve=le+xe;if((ae&1)!=0||ae>13||ae<4)throw new te;let Ie=(13-ae)/2,Me=Oe.SYMBOL_WIDEST[Ie],Be=9-Me,Ct=Yn.getRSSvalue(_,Me,!0),lt=Yn.getRSSvalue(R,Be,!1),tr=Oe.EVEN_TOTAL_SUBSET[Ie],Nr=Oe.GSUM[Ie],nr=Ct*tr+lt+Nr;return new xi(nr,ve)}static isNotA1left(t,a,o){return!(t.getValue()==0&&a&&o)}adjustOddEvenCounts(t){let a=Xe.sum(new Int32Array(this.getOddCounts())),o=Xe.sum(new Int32Array(this.getEvenCounts())),c=!1,h=!1;a>13?h=!0:a<4&&(c=!0);let p=!1,y=!1;o>13?y=!0:o<4&&(p=!0);let A=a+o-t,_=(a&1)==1,R=(o&1)==0;if(A==1)if(_){if(R)throw new te;h=!0}else{if(!R)throw new te;y=!0}else if(A==-1)if(_){if(R)throw new te;c=!0}else{if(!R)throw new te;p=!0}else if(A==0){if(_){if(!R)throw new te;a<o?(c=!0,y=!0):(h=!0,p=!0)}else if(R)throw new te}else throw new te;if(c){if(h)throw new te;Oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new te;Oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Oe.SYMBOL_WIDEST=[7,5,4,3,1],Oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Oe.GSUM=[0,348,1388,2948,3988],Oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Oe.FINDER_PAT_A=0,Oe.FINDER_PAT_B=1,Oe.FINDER_PAT_C=2,Oe.FINDER_PAT_D=3,Oe.FINDER_PAT_E=4,Oe.FINDER_PAT_F=5,Oe.FINDER_PATTERN_SEQUENCES=[[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_C,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_C],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_E],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F]],Oe.MAX_PAIRS=11;class Zi extends xi{constructor(t,a,o){super(t,a),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Gt extends Sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,a,o){const c=this.decodePair(a,!1,t,o);Gt.addOrTally(this.possibleLeftPairs,c),a.reverse();let h=this.decodePair(a,!0,t,o);Gt.addOrTally(this.possibleRightPairs,h),a.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&Gt.checkChecksum(p,y))return Gt.constructResult(p,y)}throw new te}static addOrTally(t,a){if(a==null)return;let o=!1;for(let c of t)if(c.getValue()===a.getValue()){c.incrementCount(),o=!0;break}o||t.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,a){let o=4537077*t.getValue()+a.getValue(),c=new String(o).toString(),h=new ne;for(let _=13-c.length;_>0;_--)h.append("0");h.append(c);let p=0;for(let _=0;_<13;_++){let R=h.charAt(_).charCodeAt(0)-48;p+=(_&1)===0?3*R:R}p=10-p%10,p===10&&(p=0),h.append(p.toString());let y=t.getFinderPattern().getResultPoints(),A=a.getFinderPattern().getResultPoints();return new se(h.toString(),null,0,[y[0],y[1],A[0],A[1]],me.RSS_14,new Date().getTime())}static checkChecksum(t,a){let o=(t.getChecksumPortion()+16*a.getChecksumPortion())%79,c=9*t.getFinderPattern().getValue()+a.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,o===c}decodePair(t,a,o,c){try{let h=this.findFinderPattern(t,a),p=this.parseFoundFinderPattern(t,o,a,h),y=c==null?null:c.get(q.NEED_RESULT_POINT_CALLBACK);if(y!=null){let R=(h[0]+h[1])/2;a&&(R=t.getSize()-1-R),y.foundPossibleResultPoint(new je(R,o))}let A=this.decodeDataCharacter(t,p,!0),_=this.decodeDataCharacter(t,p,!1);return new Zi(1597*A.getValue()+_.getValue(),A.getChecksumPortion()+4*_.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(t,a,o){let c=this.getDataCharacterCounters();for(let xe=0;xe<c.length;xe++)c[xe]=0;if(o)Tt.recordPatternInReverse(t,a.getStartEnd()[0],c);else{Tt.recordPattern(t,a.getStartEnd()[1]+1,c);for(let xe=0,ve=c.length-1;xe<ve;xe++,ve--){let Ie=c[xe];c[xe]=c[ve],c[ve]=Ie}}let h=o?16:15,p=Xe.sum(new Int32Array(c))/h,y=this.getOddCounts(),A=this.getEvenCounts(),_=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let xe=0;xe<c.length;xe++){let ve=c[xe]/p,Ie=Math.floor(ve+.5);Ie<1?Ie=1:Ie>8&&(Ie=8);let Me=Math.floor(xe/2);(xe&1)===0?(y[Me]=Ie,_[Me]=ve-Ie):(A[Me]=Ie,R[Me]=ve-Ie)}this.adjustOddEvenCounts(o,h);let U=0,z=0;for(let xe=y.length-1;xe>=0;xe--)z*=9,z+=y[xe],U+=y[xe];let J=0,ae=0;for(let xe=A.length-1;xe>=0;xe--)J*=9,J+=A[xe],ae+=A[xe];let le=z+3*J;if(o){if((U&1)!==0||U>12||U<4)throw new te;let xe=(12-U)/2,ve=Gt.OUTSIDE_ODD_WIDEST[xe],Ie=9-ve,Me=Yn.getRSSvalue(y,ve,!1),Be=Yn.getRSSvalue(A,Ie,!0),Ct=Gt.OUTSIDE_EVEN_TOTAL_SUBSET[xe],lt=Gt.OUTSIDE_GSUM[xe];return new xi(Me*Ct+Be+lt,le)}else{if((ae&1)!==0||ae>10||ae<4)throw new te;let xe=(10-ae)/2,ve=Gt.INSIDE_ODD_WIDEST[xe],Ie=9-ve,Me=Yn.getRSSvalue(y,ve,!0),Be=Yn.getRSSvalue(A,Ie,!1),Ct=Gt.INSIDE_ODD_TOTAL_SUBSET[xe],lt=Gt.INSIDE_GSUM[xe];return new xi(Be*Ct+Me+lt,le)}}findFinderPattern(t,a){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=t.getSize(),h=!1,p=0;for(;p<c&&(h=!t.get(p),a!==h);)p++;let y=0,A=p;for(let _=p;_<c;_++)if(t.get(_)!==h)o[y]++;else{if(y===3){if(Sn.isFinderPattern(o))return[A,_];A+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,y--}else y++;o[y]=1,h=!h}throw new te}parseFoundFinderPattern(t,a,o,c){let h=t.get(c[0]),p=c[0]-1;for(;p>=0&&h!==t.get(p);)p--;p++;const y=c[0]-p,A=this.getDecodeFinderCounters(),_=new Int32Array(A.length);N.arraycopy(A,0,_,1,A.length-1),_[0]=y;const R=this.parseFinderValue(_,Gt.FINDER_PATTERNS);let U=p,z=c[1];return o&&(U=t.getSize()-1-U,z=t.getSize()-1-z),new gi(R,[p,c[1]],U,z,a)}adjustOddEvenCounts(t,a){let o=Xe.sum(new Int32Array(this.getOddCounts())),c=Xe.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1,y=!1,A=!1;t?(o>12?p=!0:o<4&&(h=!0),c>12?A=!0:c<4&&(y=!0)):(o>11?p=!0:o<5&&(h=!0),c>10?A=!0:c<4&&(y=!0));let _=o+c-a,R=(o&1)===(t?1:0),U=(c&1)===1;if(_===1)if(R){if(U)throw new te;p=!0}else{if(!U)throw new te;A=!0}else if(_===-1)if(R){if(U)throw new te;h=!0}else{if(!U)throw new te;y=!0}else if(_===0){if(R){if(!U)throw new te;o<c?(h=!0,A=!0):(p=!0,y=!0)}else if(U)throw new te}else throw new te;if(h){if(p)throw new te;Sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(A)throw new te;Sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&Sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Gt.OUTSIDE_GSUM=[0,161,961,2015,2715],Gt.INSIDE_GSUM=[0,336,1036,1516],Gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Gt.INSIDE_ODD_WIDEST=[2,4,6,8],Gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class lr extends Tt{constructor(t,a){super(),this.readers=[],this.verbose=a===!0;const o=t?t.get(q.POSSIBLE_FORMATS):null,c=t&&t.get(q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(me.EAN_13)||o.includes(me.UPC_A)||o.includes(me.EAN_8)||o.includes(me.UPC_E))&&this.readers.push(new Aa(t)),o.includes(me.CODE_39)&&this.readers.push(new Ht(c)),o.includes(me.CODE_128)&&this.readers.push(new Ne),o.includes(me.ITF)&&this.readers.push(new it),o.includes(me.RSS_14)&&this.readers.push(new Gt),o.includes(me.RSS_EXPANDED)&&this.readers.push(new Oe(this.verbose))):(this.readers.push(new Aa(t)),this.readers.push(new Ht),this.readers.push(new Aa(t)),this.readers.push(new Ne),this.readers.push(new it),this.readers.push(new Gt),this.readers.push(new Oe(this.verbose)))}decodeRow(t,a,o){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(t,a,o)}catch{}throw new te}reset(){this.readers.forEach(t=>t.reset())}}class Rc extends j{constructor(t=500,a){super(new lr(a),t,a)}}class Ft{constructor(t,a,o){this.ecCodewords=t,this.ecBlocks=[a],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Lt{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ot{constructor(t,a,o,c,h,p){this.versionNumber=t,this.symbolSizeRows=a,this.symbolSizeColumns=o,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=h,this.ecBlocks=p;let y=0;const A=p.getECCodewords(),_=p.getECBlocks();for(let R of _)y+=R.getCount()*(R.getDataCodewords()+A);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,a){if((t&1)!==0||(a&1)!==0)throw new Y;for(let o of Ot.VERSIONS)if(o.symbolSizeRows===t&&o.symbolSizeColumns===a)return o;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new Ot(1,10,10,8,8,new Ft(5,new Lt(1,3))),new Ot(2,12,12,10,10,new Ft(7,new Lt(1,5))),new Ot(3,14,14,12,12,new Ft(10,new Lt(1,8))),new Ot(4,16,16,14,14,new Ft(12,new Lt(1,12))),new Ot(5,18,18,16,16,new Ft(14,new Lt(1,18))),new Ot(6,20,20,18,18,new Ft(18,new Lt(1,22))),new Ot(7,22,22,20,20,new Ft(20,new Lt(1,30))),new Ot(8,24,24,22,22,new Ft(24,new Lt(1,36))),new Ot(9,26,26,24,24,new Ft(28,new Lt(1,44))),new Ot(10,32,32,14,14,new Ft(36,new Lt(1,62))),new Ot(11,36,36,16,16,new Ft(42,new Lt(1,86))),new Ot(12,40,40,18,18,new Ft(48,new Lt(1,114))),new Ot(13,44,44,20,20,new Ft(56,new Lt(1,144))),new Ot(14,48,48,22,22,new Ft(68,new Lt(1,174))),new Ot(15,52,52,24,24,new Ft(42,new Lt(2,102))),new Ot(16,64,64,14,14,new Ft(56,new Lt(2,140))),new Ot(17,72,72,16,16,new Ft(36,new Lt(4,92))),new Ot(18,80,80,18,18,new Ft(48,new Lt(4,114))),new Ot(19,88,88,20,20,new Ft(56,new Lt(4,144))),new Ot(20,96,96,22,22,new Ft(68,new Lt(4,174))),new Ot(21,104,104,24,24,new Ft(56,new Lt(6,136))),new Ot(22,120,120,18,18,new Ft(68,new Lt(6,175))),new Ot(23,132,132,20,20,new Ft(62,new Lt(8,163))),new Ot(24,144,144,22,22,new Ft(62,new Lt(8,156),new Lt(2,155))),new Ot(25,8,18,6,16,new Ft(7,new Lt(1,5))),new Ot(26,8,32,6,14,new Ft(11,new Lt(1,10))),new Ot(27,12,26,10,24,new Ft(14,new Lt(1,16))),new Ot(28,12,36,10,16,new Ft(18,new Lt(1,22))),new Ot(29,16,36,14,16,new Ft(24,new Lt(1,32))),new Ot(30,16,48,14,22,new Ft(28,new Lt(1,49)))]}}Ot.VERSIONS=Ot.buildVersions();class Ca{constructor(t){const a=t.getHeight();if(a<8||a>144||(a&1)!==0)throw new Y;this.version=Ca.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new de(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const a=t.getHeight(),o=t.getWidth();return Ot.getVersionForDimensions(a,o)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let a=0,o=4,c=0;const h=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let y=!1,A=!1,_=!1,R=!1;do if(o===h&&c===0&&!y)t[a++]=this.readCorner1(h,p)&255,o-=2,c+=2,y=!0;else if(o===h-2&&c===0&&(p&3)!==0&&!A)t[a++]=this.readCorner2(h,p)&255,o-=2,c+=2,A=!0;else if(o===h+4&&c===2&&(p&7)===0&&!_)t[a++]=this.readCorner3(h,p)&255,o-=2,c+=2,_=!0;else if(o===h-2&&c===0&&(p&7)===4&&!R)t[a++]=this.readCorner4(h,p)&255,o-=2,c+=2,R=!0;else{do o<h&&c>=0&&!this.readMappingMatrix.get(c,o)&&(t[a++]=this.readUtah(o,c,h,p)&255),o-=2,c+=2;while(o>=0&&c<p);o+=1,c+=3;do o>=0&&c<p&&!this.readMappingMatrix.get(c,o)&&(t[a++]=this.readUtah(o,c,h,p)&255),o+=2,c-=2;while(o<h&&c>=0);o+=3,c+=1}while(o<h||c<p);if(a!==this.version.getTotalCodewords())throw new Y;return t}readModule(t,a,o,c){return t<0&&(t+=o,a+=4-(o+4&7)),a<0&&(a+=c,t+=4-(c+4&7)),this.readMappingMatrix.set(a,t),this.mappingBitMatrix.get(a,t)}readUtah(t,a,o,c){let h=0;return this.readModule(t-2,a-2,o,c)&&(h|=1),h<<=1,this.readModule(t-2,a-1,o,c)&&(h|=1),h<<=1,this.readModule(t-1,a-2,o,c)&&(h|=1),h<<=1,this.readModule(t-1,a-1,o,c)&&(h|=1),h<<=1,this.readModule(t-1,a,o,c)&&(h|=1),h<<=1,this.readModule(t,a-2,o,c)&&(h|=1),h<<=1,this.readModule(t,a-1,o,c)&&(h|=1),h<<=1,this.readModule(t,a,o,c)&&(h|=1),h}readCorner1(t,a){let o=0;return this.readModule(t-1,0,t,a)&&(o|=1),o<<=1,this.readModule(t-1,1,t,a)&&(o|=1),o<<=1,this.readModule(t-1,2,t,a)&&(o|=1),o<<=1,this.readModule(0,a-2,t,a)&&(o|=1),o<<=1,this.readModule(0,a-1,t,a)&&(o|=1),o<<=1,this.readModule(1,a-1,t,a)&&(o|=1),o<<=1,this.readModule(2,a-1,t,a)&&(o|=1),o<<=1,this.readModule(3,a-1,t,a)&&(o|=1),o}readCorner2(t,a){let o=0;return this.readModule(t-3,0,t,a)&&(o|=1),o<<=1,this.readModule(t-2,0,t,a)&&(o|=1),o<<=1,this.readModule(t-1,0,t,a)&&(o|=1),o<<=1,this.readModule(0,a-4,t,a)&&(o|=1),o<<=1,this.readModule(0,a-3,t,a)&&(o|=1),o<<=1,this.readModule(0,a-2,t,a)&&(o|=1),o<<=1,this.readModule(0,a-1,t,a)&&(o|=1),o<<=1,this.readModule(1,a-1,t,a)&&(o|=1),o}readCorner3(t,a){let o=0;return this.readModule(t-1,0,t,a)&&(o|=1),o<<=1,this.readModule(t-1,a-1,t,a)&&(o|=1),o<<=1,this.readModule(0,a-3,t,a)&&(o|=1),o<<=1,this.readModule(0,a-2,t,a)&&(o|=1),o<<=1,this.readModule(0,a-1,t,a)&&(o|=1),o<<=1,this.readModule(1,a-3,t,a)&&(o|=1),o<<=1,this.readModule(1,a-2,t,a)&&(o|=1),o<<=1,this.readModule(1,a-1,t,a)&&(o|=1),o}readCorner4(t,a){let o=0;return this.readModule(t-3,0,t,a)&&(o|=1),o<<=1,this.readModule(t-2,0,t,a)&&(o|=1),o<<=1,this.readModule(t-1,0,t,a)&&(o|=1),o<<=1,this.readModule(0,a-2,t,a)&&(o|=1),o<<=1,this.readModule(0,a-1,t,a)&&(o|=1),o<<=1,this.readModule(1,a-1,t,a)&&(o|=1),o<<=1,this.readModule(2,a-1,t,a)&&(o|=1),o<<=1,this.readModule(3,a-1,t,a)&&(o|=1),o}extractDataRegion(t){const a=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(t.getHeight()!==a)throw new C("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),h=this.version.getDataRegionSizeColumns(),p=a/c|0,y=o/h|0,A=p*c,_=y*h,R=new de(_,A);for(let U=0;U<p;++U){const z=U*c;for(let J=0;J<y;++J){const ae=J*h;for(let le=0;le<c;++le){const xe=U*(c+2)+1+le,ve=z+le;for(let Ie=0;Ie<h;++Ie){const Me=J*(h+2)+1+Ie;if(t.get(Me,xe)){const Be=ae+Ie;R.set(Be,ve)}}}}}return R}}class Sa{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a){const o=a.getECBlocks();let c=0;const h=o.getECBlocks();for(let le of h)c+=le.getCount();const p=new Array(c);let y=0;for(let le of h)for(let xe=0;xe<le.getCount();xe++){const ve=le.getDataCodewords(),Ie=o.getECCodewords()+ve;p[y++]=new Sa(ve,new Uint8Array(Ie))}const _=p[0].codewords.length-o.getECCodewords(),R=_-1;let U=0;for(let le=0;le<R;le++)for(let xe=0;xe<y;xe++)p[xe].codewords[le]=t[U++];const z=a.getVersionNumber()===24,J=z?8:y;for(let le=0;le<J;le++)p[le].codewords[_-1]=t[U++];const ae=p[0].codewords.length;for(let le=_;le<ae;le++)for(let xe=0;xe<y;xe++){const ve=z?(xe+8)%y:xe,Ie=z&&ve>7?le-1:le;p[ve].codewords[Ie]=t[U++]}if(U!==t.length)throw new C;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Fr{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new C(""+t);let a=0,o=this.bitOffset,c=this.byteOffset;const h=this.bytes;if(o>0){const p=8-o,y=t<p?t:p,A=p-y,_=255>>8-y<<A;a=(h[c]&_)>>A,t-=y,o+=y,o===8&&(o=0,c++)}if(t>0){for(;t>=8;)a=a<<8|h[c]&255,c++,t-=8;if(t>0){const p=8-t,y=255>>p<<p;a=a<<t|(h[c]&y)>>p,o+=t}}return this.bitOffset=o,this.byteOffset=c,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Pt;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(Pt||(Pt={}));class pi{static decode(t){const a=new Fr(t),o=new ne,c=new ne,h=new Array;let p=Pt.ASCII_ENCODE;do if(p===Pt.ASCII_ENCODE)p=this.decodeAsciiSegment(a,o,c);else{switch(p){case Pt.C40_ENCODE:this.decodeC40Segment(a,o);break;case Pt.TEXT_ENCODE:this.decodeTextSegment(a,o);break;case Pt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,o);break;case Pt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,o);break;case Pt.BASE256_ENCODE:this.decodeBase256Segment(a,o,h);break;default:throw new Y}p=Pt.ASCII_ENCODE}while(p!==Pt.PAD_ENCODE&&a.available()>0);return c.length()>0&&o.append(c.toString()),new Ye(t,o.toString(),h.length===0?null:h,null)}static decodeAsciiSegment(t,a,o){let c=!1;do{let h=t.readBits(8);if(h===0)throw new Y;if(h<=128)return c&&(h+=128),a.append(String.fromCharCode(h-1)),Pt.ASCII_ENCODE;if(h===129)return Pt.PAD_ENCODE;if(h<=229){const p=h-130;p<10&&a.append("0"),a.append(""+p)}else switch(h){case 230:return Pt.C40_ENCODE;case 231:return Pt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:a.append("[)>05"),o.insert(0,"");break;case 237:a.append("[)>06"),o.insert(0,"");break;case 238:return Pt.ANSIX12_ENCODE;case 239:return Pt.TEXT_ENCODE;case 240:return Pt.EDIFACT_ENCODE;case 241:break;default:if(h!==254||t.available()!==0)throw new Y;break}}while(t.available()>0);return Pt.ASCII_ENCODE}static decodeC40Segment(t,a){let o=!1;const c=[];let h=0;do{if(t.available()===8)return;const p=t.readBits(8);if(p===254)return;this.parseTwoBytes(p,t.readBits(8),c);for(let y=0;y<3;y++){const A=c[y];switch(h){case 0:if(A<3)h=A+1;else if(A<this.C40_BASIC_SET_CHARS.length){const _=this.C40_BASIC_SET_CHARS[A];o?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):a.append(_)}else throw new Y;break;case 1:o?(a.append(String.fromCharCode(A+128)),o=!1):a.append(String.fromCharCode(A)),h=0;break;case 2:if(A<this.C40_SHIFT2_SET_CHARS.length){const _=this.C40_SHIFT2_SET_CHARS[A];o?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):a.append(_)}else switch(A){case 27:a.append("");break;case 30:o=!0;break;default:throw new Y}h=0;break;case 3:o?(a.append(String.fromCharCode(A+224)),o=!1):a.append(String.fromCharCode(A+96)),h=0;break;default:throw new Y}}}while(t.available()>0)}static decodeTextSegment(t,a){let o=!1,c=[],h=0;do{if(t.available()===8)return;const p=t.readBits(8);if(p===254)return;this.parseTwoBytes(p,t.readBits(8),c);for(let y=0;y<3;y++){const A=c[y];switch(h){case 0:if(A<3)h=A+1;else if(A<this.TEXT_BASIC_SET_CHARS.length){const _=this.TEXT_BASIC_SET_CHARS[A];o?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):a.append(_)}else throw new Y;break;case 1:o?(a.append(String.fromCharCode(A+128)),o=!1):a.append(String.fromCharCode(A)),h=0;break;case 2:if(A<this.TEXT_SHIFT2_SET_CHARS.length){const _=this.TEXT_SHIFT2_SET_CHARS[A];o?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):a.append(_)}else switch(A){case 27:a.append("");break;case 30:o=!0;break;default:throw new Y}h=0;break;case 3:if(A<this.TEXT_SHIFT3_SET_CHARS.length){const _=this.TEXT_SHIFT3_SET_CHARS[A];o?(a.append(String.fromCharCode(_.charCodeAt(0)+128)),o=!1):a.append(_),h=0}else throw new Y;break;default:throw new Y}}}while(t.available()>0)}static decodeAnsiX12Segment(t,a){const o=[];do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),o);for(let h=0;h<3;h++){const p=o[h];switch(p){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(p<14)a.append(String.fromCharCode(p+44));else if(p<40)a.append(String.fromCharCode(p+51));else throw new Y;break}}}while(t.available()>0)}static parseTwoBytes(t,a,o){let c=(t<<8)+a-1,h=Math.floor(c/1600);o[0]=h,c-=h*1600,h=Math.floor(c/40),o[1]=h,o[2]=c-h*40}static decodeEdifactSegment(t,a){do{if(t.available()<=16)return;for(let o=0;o<4;o++){let c=t.readBits(6);if(c===31){const h=8-t.getBitOffset();h!==8&&t.readBits(h);return}(c&32)===0&&(c|=64),a.append(String.fromCharCode(c))}}while(t.available()>0)}static decodeBase256Segment(t,a,o){let c=1+t.getByteOffset();const h=this.unrandomize255State(t.readBits(8),c++);let p;if(h===0?p=t.available()/8|0:h<250?p=h:p=250*(h-249)+this.unrandomize255State(t.readBits(8),c++),p<0)throw new Y;const y=new Uint8Array(p);for(let A=0;A<p;A++){if(t.available()<8)throw new Y;y[A]=this.unrandomize255State(t.readBits(8),c++)}o.push(y);try{a.append(K.decode(y,$.ISO88591))}catch(A){throw new yt("Platform does not support required encoding: "+A.message)}}static unrandomize255State(t,a){const o=149*a%255+1,c=t-o;return c>=0?c:c+256}}pi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],pi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],pi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],pi.TEXT_SHIFT2_SET_CHARS=pi.C40_SHIFT2_SET_CHARS,pi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ic{constructor(){this.rsDecoder=new Wt(He.DATA_MATRIX_FIELD_256)}decode(t){const a=new Ca(t),o=a.getVersion(),c=a.readCodewords(),h=Sa.getDataBlocks(c,o);let p=0;for(let _ of h)p+=_.getNumDataCodewords();const y=new Uint8Array(p),A=h.length;for(let _=0;_<A;_++){const R=h[_],U=R.getCodewords(),z=R.getNumDataCodewords();this.correctErrors(U,z);for(let J=0;J<z;J++)y[J*A+_]=U[J]}return pi.decode(y)}correctErrors(t,a){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-a)}catch{throw new T}for(let c=0;c<a;c++)t[c]=o[c]}}class sn{constructor(t){this.image=t,this.rectangleDetector=new bt(this.image)}detect(){const t=this.rectangleDetector.detect();let a=this.detectSolid1(t);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new te;a=this.shiftToModuleCenter(a);const o=a[0],c=a[1],h=a[2],p=a[3];let y=this.transitionsBetween(o,p)+1,A=this.transitionsBetween(h,p)+1;(y&1)===1&&(y+=1),(A&1)===1&&(A+=1),4*y<7*A&&4*A<7*y&&(y=A=Math.max(y,A));let _=sn.sampleGrid(this.image,o,c,h,p,y,A);return new wt(_,[o,c,h,p])}static shiftPoint(t,a,o){let c=(a.getX()-t.getX())/(o+1),h=(a.getY()-t.getY())/(o+1);return new je(t.getX()+c,t.getY()+h)}static moveAway(t,a,o){let c=t.getX(),h=t.getY();return c<a?c-=1:c+=1,h<o?h-=1:h+=1,new je(c,h)}detectSolid1(t){let a=t[0],o=t[1],c=t[3],h=t[2],p=this.transitionsBetween(a,o),y=this.transitionsBetween(o,c),A=this.transitionsBetween(c,h),_=this.transitionsBetween(h,a),R=p,U=[h,a,o,c];return R>y&&(R=y,U[0]=a,U[1]=o,U[2]=c,U[3]=h),R>A&&(R=A,U[0]=o,U[1]=c,U[2]=h,U[3]=a),R>_&&(U[0]=c,U[1]=h,U[2]=a,U[3]=o),U}detectSolid2(t){let a=t[0],o=t[1],c=t[2],h=t[3],p=this.transitionsBetween(a,h),y=sn.shiftPoint(o,c,(p+1)*4),A=sn.shiftPoint(c,o,(p+1)*4),_=this.transitionsBetween(y,a),R=this.transitionsBetween(A,h);return _<R?(t[0]=a,t[1]=o,t[2]=c,t[3]=h):(t[0]=o,t[1]=c,t[2]=h,t[3]=a),t}correctTopRight(t){let a=t[0],o=t[1],c=t[2],h=t[3],p=this.transitionsBetween(a,h),y=this.transitionsBetween(o,h),A=sn.shiftPoint(a,o,(y+1)*4),_=sn.shiftPoint(c,o,(p+1)*4);p=this.transitionsBetween(A,h),y=this.transitionsBetween(_,h);let R=new je(h.getX()+(c.getX()-o.getX())/(p+1),h.getY()+(c.getY()-o.getY())/(p+1)),U=new je(h.getX()+(a.getX()-o.getX())/(y+1),h.getY()+(a.getY()-o.getY())/(y+1));if(!this.isValid(R))return this.isValid(U)?U:null;if(!this.isValid(U))return R;let z=this.transitionsBetween(A,R)+this.transitionsBetween(_,R),J=this.transitionsBetween(A,U)+this.transitionsBetween(_,U);return z>J?R:U}shiftToModuleCenter(t){let a=t[0],o=t[1],c=t[2],h=t[3],p=this.transitionsBetween(a,h)+1,y=this.transitionsBetween(c,h)+1,A=sn.shiftPoint(a,o,y*4),_=sn.shiftPoint(c,o,p*4);p=this.transitionsBetween(A,h)+1,y=this.transitionsBetween(_,h)+1,(p&1)===1&&(p+=1),(y&1)===1&&(y+=1);let R=(a.getX()+o.getX()+c.getX()+h.getX())/4,U=(a.getY()+o.getY()+c.getY()+h.getY())/4;a=sn.moveAway(a,R,U),o=sn.moveAway(o,R,U),c=sn.moveAway(c,R,U),h=sn.moveAway(h,R,U);let z,J;return A=sn.shiftPoint(a,o,y*4),A=sn.shiftPoint(A,h,p*4),z=sn.shiftPoint(o,a,y*4),z=sn.shiftPoint(z,c,p*4),_=sn.shiftPoint(c,h,y*4),_=sn.shiftPoint(_,o,p*4),J=sn.shiftPoint(h,c,y*4),J=sn.shiftPoint(J,a,p*4),[A,z,_,J]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,a,o,c,h,p,y){return We.getInstance().sampleGrid(t,p,y,.5,.5,p-.5,.5,p-.5,y-.5,.5,y-.5,a.getX(),a.getY(),h.getX(),h.getY(),c.getX(),c.getY(),o.getX(),o.getY())}transitionsBetween(t,a){let o=Math.trunc(t.getX()),c=Math.trunc(t.getY()),h=Math.trunc(a.getX()),p=Math.trunc(a.getY()),y=Math.abs(p-c)>Math.abs(h-o);if(y){let le=o;o=c,c=le,le=h,h=p,p=le}let A=Math.abs(h-o),_=Math.abs(p-c),R=-A/2,U=c<p?1:-1,z=o<h?1:-1,J=0,ae=this.image.get(y?c:o,y?o:c);for(let le=o,xe=c;le!==h;le+=z){let ve=this.image.get(y?xe:le,y?le:xe);if(ve!==ae&&(J++,ae=ve),R+=_,R>0){if(xe===p)break;xe+=U,R-=A}}return J}}class mi{constructor(){this.decoder=new Ic}decode(t,a=null){let o,c;if(a!=null&&a.has(q.PURE_BARCODE)){const _=mi.extractPureBits(t.getBlackMatrix());o=this.decoder.decode(_),c=mi.NO_POINTS}else{const _=new sn(t.getBlackMatrix()).detect();o=this.decoder.decode(_.getBits()),c=_.getPoints()}const h=o.getRawBytes(),p=new se(o.getText(),h,8*h.length,c,me.DATA_MATRIX,N.currentTimeMillis()),y=o.getByteSegments();y!=null&&p.putMetadata(Te.BYTE_SEGMENTS,y);const A=o.getECLevel();return A!=null&&p.putMetadata(Te.ERROR_CORRECTION_LEVEL,A),p}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(a==null||o==null)throw new te;const c=this.moduleSize(a,t);let h=a[1];const p=o[1];let y=a[0];const _=(o[0]-y+1)/c,R=(p-h+1)/c;if(_<=0||R<=0)throw new te;const U=c/2;h+=U,y+=U;const z=new de(_,R);for(let J=0;J<R;J++){const ae=h+J*c;for(let le=0;le<_;le++)t.get(y+le*c,ae)&&z.set(le,J)}return z}static moduleSize(t,a){const o=a.getWidth();let c=t[0];const h=t[1];for(;c<o&&a.get(c,h);)c++;if(c===o)throw new te;const p=c-t[0];if(p===0)throw new te;return p}}mi.NO_POINTS=[];class sl extends j{constructor(t=500){super(new mi,t)}}var Ta;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(Ta||(Ta={}));class At{constructor(t,a,o){this.value=t,this.stringValue=a,this.bits=o,At.FOR_BITS.set(o,this),At.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return At.L;case"M":return At.M;case"Q":return At.Q;case"H":return At.H;default:throw new w(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof At))return!1;const a=t;return this.value===a.value}static forBits(t){if(t<0||t>=At.FOR_BITS.size)throw new C;return At.FOR_BITS.get(t)}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.L=new At(Ta.L,"L",1),At.M=new At(Ta.M,"M",0),At.Q=new At(Ta.Q,"Q",3),At.H=new At(Ta.H,"H",2);class In{constructor(t){this.errorCorrectionLevel=At.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,a){return k.bitCount(t^a)}static decodeFormatInformation(t,a){const o=In.doDecodeFormatInformation(t,a);return o!==null?o:In.doDecodeFormatInformation(t^In.FORMAT_INFO_MASK_QR,a^In.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,a){let o=Number.MAX_SAFE_INTEGER,c=0;for(const h of In.FORMAT_INFO_DECODE_LOOKUP){const p=h[0];if(p===t||p===a)return new In(h[1]);let y=In.numBitsDiffering(t,p);y<o&&(c=h[1],o=y),t!==a&&(y=In.numBitsDiffering(a,p),y<o&&(c=h[1],o=y))}return o<=3?new In(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof In))return!1;const a=t;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}In.FORMAT_INFO_MASK_QR=21522,In.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ge{constructor(t,...a){this.ecCodewordsPerBlock=t,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const a=this.ecBlocks;for(const o of a)t+=o.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class W{constructor(t,a){this.count=t,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(t,a,...o){this.versionNumber=t,this.alignmentPatternCenters=a,this.ecBlocks=o;let c=0;const h=o[0].getECCodewordsPerBlock(),p=o[0].getECBlocks();for(const y of p)c+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new Y;try{return this.getVersionForNumber((t-17)/4)}catch{throw new Y}}static getVersionForNumber(t){if(t<1||t>40)throw new C;return Ge.VERSIONS[t-1]}static decodeVersionInformation(t){let a=Number.MAX_SAFE_INTEGER,o=0;for(let c=0;c<Ge.VERSION_DECODE_INFO.length;c++){const h=Ge.VERSION_DECODE_INFO[c];if(h===t)return Ge.getVersionForNumber(c+7);const p=In.numBitsDiffering(t,h);p<a&&(o=c+7,a=p)}return a<=3?Ge.getVersionForNumber(o):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),a=new de(t);a.setRegion(0,0,9,9),a.setRegion(t-8,0,8,9),a.setRegion(0,t-8,9,8);const o=this.alignmentPatternCenters.length;for(let c=0;c<o;c++){const h=this.alignmentPatternCenters[c]-2;for(let p=0;p<o;p++)c===0&&(p===0||p===o-1)||c===o-1&&p===0||a.setRegion(this.alignmentPatternCenters[p]-2,h,5,5)}return a.setRegion(6,9,1,t-17),a.setRegion(9,6,t-17,1),this.versionNumber>6&&(a.setRegion(t-11,0,3,6),a.setRegion(0,t-11,6,3)),a}toString(){return""+this.versionNumber}}Ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ge.VERSIONS=[new Ge(1,new Int32Array(0),new ge(7,new W(1,19)),new ge(10,new W(1,16)),new ge(13,new W(1,13)),new ge(17,new W(1,9))),new Ge(2,Int32Array.from([6,18]),new ge(10,new W(1,34)),new ge(16,new W(1,28)),new ge(22,new W(1,22)),new ge(28,new W(1,16))),new Ge(3,Int32Array.from([6,22]),new ge(15,new W(1,55)),new ge(26,new W(1,44)),new ge(18,new W(2,17)),new ge(22,new W(2,13))),new Ge(4,Int32Array.from([6,26]),new ge(20,new W(1,80)),new ge(18,new W(2,32)),new ge(26,new W(2,24)),new ge(16,new W(4,9))),new Ge(5,Int32Array.from([6,30]),new ge(26,new W(1,108)),new ge(24,new W(2,43)),new ge(18,new W(2,15),new W(2,16)),new ge(22,new W(2,11),new W(2,12))),new Ge(6,Int32Array.from([6,34]),new ge(18,new W(2,68)),new ge(16,new W(4,27)),new ge(24,new W(4,19)),new ge(28,new W(4,15))),new Ge(7,Int32Array.from([6,22,38]),new ge(20,new W(2,78)),new ge(18,new W(4,31)),new ge(18,new W(2,14),new W(4,15)),new ge(26,new W(4,13),new W(1,14))),new Ge(8,Int32Array.from([6,24,42]),new ge(24,new W(2,97)),new ge(22,new W(2,38),new W(2,39)),new ge(22,new W(4,18),new W(2,19)),new ge(26,new W(4,14),new W(2,15))),new Ge(9,Int32Array.from([6,26,46]),new ge(30,new W(2,116)),new ge(22,new W(3,36),new W(2,37)),new ge(20,new W(4,16),new W(4,17)),new ge(24,new W(4,12),new W(4,13))),new Ge(10,Int32Array.from([6,28,50]),new ge(18,new W(2,68),new W(2,69)),new ge(26,new W(4,43),new W(1,44)),new ge(24,new W(6,19),new W(2,20)),new ge(28,new W(6,15),new W(2,16))),new Ge(11,Int32Array.from([6,30,54]),new ge(20,new W(4,81)),new ge(30,new W(1,50),new W(4,51)),new ge(28,new W(4,22),new W(4,23)),new ge(24,new W(3,12),new W(8,13))),new Ge(12,Int32Array.from([6,32,58]),new ge(24,new W(2,92),new W(2,93)),new ge(22,new W(6,36),new W(2,37)),new ge(26,new W(4,20),new W(6,21)),new ge(28,new W(7,14),new W(4,15))),new Ge(13,Int32Array.from([6,34,62]),new ge(26,new W(4,107)),new ge(22,new W(8,37),new W(1,38)),new ge(24,new W(8,20),new W(4,21)),new ge(22,new W(12,11),new W(4,12))),new Ge(14,Int32Array.from([6,26,46,66]),new ge(30,new W(3,115),new W(1,116)),new ge(24,new W(4,40),new W(5,41)),new ge(20,new W(11,16),new W(5,17)),new ge(24,new W(11,12),new W(5,13))),new Ge(15,Int32Array.from([6,26,48,70]),new ge(22,new W(5,87),new W(1,88)),new ge(24,new W(5,41),new W(5,42)),new ge(30,new W(5,24),new W(7,25)),new ge(24,new W(11,12),new W(7,13))),new Ge(16,Int32Array.from([6,26,50,74]),new ge(24,new W(5,98),new W(1,99)),new ge(28,new W(7,45),new W(3,46)),new ge(24,new W(15,19),new W(2,20)),new ge(30,new W(3,15),new W(13,16))),new Ge(17,Int32Array.from([6,30,54,78]),new ge(28,new W(1,107),new W(5,108)),new ge(28,new W(10,46),new W(1,47)),new ge(28,new W(1,22),new W(15,23)),new ge(28,new W(2,14),new W(17,15))),new Ge(18,Int32Array.from([6,30,56,82]),new ge(30,new W(5,120),new W(1,121)),new ge(26,new W(9,43),new W(4,44)),new ge(28,new W(17,22),new W(1,23)),new ge(28,new W(2,14),new W(19,15))),new Ge(19,Int32Array.from([6,30,58,86]),new ge(28,new W(3,113),new W(4,114)),new ge(26,new W(3,44),new W(11,45)),new ge(26,new W(17,21),new W(4,22)),new ge(26,new W(9,13),new W(16,14))),new Ge(20,Int32Array.from([6,34,62,90]),new ge(28,new W(3,107),new W(5,108)),new ge(26,new W(3,41),new W(13,42)),new ge(30,new W(15,24),new W(5,25)),new ge(28,new W(15,15),new W(10,16))),new Ge(21,Int32Array.from([6,28,50,72,94]),new ge(28,new W(4,116),new W(4,117)),new ge(26,new W(17,42)),new ge(28,new W(17,22),new W(6,23)),new ge(30,new W(19,16),new W(6,17))),new Ge(22,Int32Array.from([6,26,50,74,98]),new ge(28,new W(2,111),new W(7,112)),new ge(28,new W(17,46)),new ge(30,new W(7,24),new W(16,25)),new ge(24,new W(34,13))),new Ge(23,Int32Array.from([6,30,54,78,102]),new ge(30,new W(4,121),new W(5,122)),new ge(28,new W(4,47),new W(14,48)),new ge(30,new W(11,24),new W(14,25)),new ge(30,new W(16,15),new W(14,16))),new Ge(24,Int32Array.from([6,28,54,80,106]),new ge(30,new W(6,117),new W(4,118)),new ge(28,new W(6,45),new W(14,46)),new ge(30,new W(11,24),new W(16,25)),new ge(30,new W(30,16),new W(2,17))),new Ge(25,Int32Array.from([6,32,58,84,110]),new ge(26,new W(8,106),new W(4,107)),new ge(28,new W(8,47),new W(13,48)),new ge(30,new W(7,24),new W(22,25)),new ge(30,new W(22,15),new W(13,16))),new Ge(26,Int32Array.from([6,30,58,86,114]),new ge(28,new W(10,114),new W(2,115)),new ge(28,new W(19,46),new W(4,47)),new ge(28,new W(28,22),new W(6,23)),new ge(30,new W(33,16),new W(4,17))),new Ge(27,Int32Array.from([6,34,62,90,118]),new ge(30,new W(8,122),new W(4,123)),new ge(28,new W(22,45),new W(3,46)),new ge(30,new W(8,23),new W(26,24)),new ge(30,new W(12,15),new W(28,16))),new Ge(28,Int32Array.from([6,26,50,74,98,122]),new ge(30,new W(3,117),new W(10,118)),new ge(28,new W(3,45),new W(23,46)),new ge(30,new W(4,24),new W(31,25)),new ge(30,new W(11,15),new W(31,16))),new Ge(29,Int32Array.from([6,30,54,78,102,126]),new ge(30,new W(7,116),new W(7,117)),new ge(28,new W(21,45),new W(7,46)),new ge(30,new W(1,23),new W(37,24)),new ge(30,new W(19,15),new W(26,16))),new Ge(30,Int32Array.from([6,26,52,78,104,130]),new ge(30,new W(5,115),new W(10,116)),new ge(28,new W(19,47),new W(10,48)),new ge(30,new W(15,24),new W(25,25)),new ge(30,new W(23,15),new W(25,16))),new Ge(31,Int32Array.from([6,30,56,82,108,134]),new ge(30,new W(13,115),new W(3,116)),new ge(28,new W(2,46),new W(29,47)),new ge(30,new W(42,24),new W(1,25)),new ge(30,new W(23,15),new W(28,16))),new Ge(32,Int32Array.from([6,34,60,86,112,138]),new ge(30,new W(17,115)),new ge(28,new W(10,46),new W(23,47)),new ge(30,new W(10,24),new W(35,25)),new ge(30,new W(19,15),new W(35,16))),new Ge(33,Int32Array.from([6,30,58,86,114,142]),new ge(30,new W(17,115),new W(1,116)),new ge(28,new W(14,46),new W(21,47)),new ge(30,new W(29,24),new W(19,25)),new ge(30,new W(11,15),new W(46,16))),new Ge(34,Int32Array.from([6,34,62,90,118,146]),new ge(30,new W(13,115),new W(6,116)),new ge(28,new W(14,46),new W(23,47)),new ge(30,new W(44,24),new W(7,25)),new ge(30,new W(59,16),new W(1,17))),new Ge(35,Int32Array.from([6,30,54,78,102,126,150]),new ge(30,new W(12,121),new W(7,122)),new ge(28,new W(12,47),new W(26,48)),new ge(30,new W(39,24),new W(14,25)),new ge(30,new W(22,15),new W(41,16))),new Ge(36,Int32Array.from([6,24,50,76,102,128,154]),new ge(30,new W(6,121),new W(14,122)),new ge(28,new W(6,47),new W(34,48)),new ge(30,new W(46,24),new W(10,25)),new ge(30,new W(2,15),new W(64,16))),new Ge(37,Int32Array.from([6,28,54,80,106,132,158]),new ge(30,new W(17,122),new W(4,123)),new ge(28,new W(29,46),new W(14,47)),new ge(30,new W(49,24),new W(10,25)),new ge(30,new W(24,15),new W(46,16))),new Ge(38,Int32Array.from([6,32,58,84,110,136,162]),new ge(30,new W(4,122),new W(18,123)),new ge(28,new W(13,46),new W(32,47)),new ge(30,new W(48,24),new W(14,25)),new ge(30,new W(42,15),new W(32,16))),new Ge(39,Int32Array.from([6,26,54,82,110,138,166]),new ge(30,new W(20,117),new W(4,118)),new ge(28,new W(40,47),new W(7,48)),new ge(30,new W(43,24),new W(22,25)),new ge(30,new W(10,15),new W(67,16))),new Ge(40,Int32Array.from([6,30,58,86,114,142,170]),new ge(30,new W(19,118),new W(6,119)),new ge(28,new W(18,47),new W(31,48)),new ge(30,new W(34,24),new W(34,25)),new ge(30,new W(20,15),new W(61,16)))];var _n;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(_n||(_n={}));class pr{constructor(t,a){this.value=t,this.isMasked=a}unmaskBitMatrix(t,a){for(let o=0;o<a;o++)for(let c=0;c<a;c++)this.isMasked(o,c)&&t.flip(c,o)}}pr.values=new Map([[_n.DATA_MASK_000,new pr(_n.DATA_MASK_000,(P,t)=>(P+t&1)===0)],[_n.DATA_MASK_001,new pr(_n.DATA_MASK_001,(P,t)=>(P&1)===0)],[_n.DATA_MASK_010,new pr(_n.DATA_MASK_010,(P,t)=>t%3===0)],[_n.DATA_MASK_011,new pr(_n.DATA_MASK_011,(P,t)=>(P+t)%3===0)],[_n.DATA_MASK_100,new pr(_n.DATA_MASK_100,(P,t)=>(Math.floor(P/2)+Math.floor(t/3)&1)===0)],[_n.DATA_MASK_101,new pr(_n.DATA_MASK_101,(P,t)=>P*t%6===0)],[_n.DATA_MASK_110,new pr(_n.DATA_MASK_110,(P,t)=>P*t%6<3)],[_n.DATA_MASK_111,new pr(_n.DATA_MASK_111,(P,t)=>(P+t+P*t%3&1)===0)]]);class _a{constructor(t){const a=t.getHeight();if(a<21||(a&3)!==1)throw new Y;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let h=0;h<6;h++)t=this.copyBit(h,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let h=5;h>=0;h--)t=this.copyBit(8,h,t);const a=this.bitMatrix.getHeight();let o=0;const c=a-7;for(let h=a-1;h>=c;h--)o=this.copyBit(8,h,o);for(let h=a-8;h<a;h++)o=this.copyBit(h,8,o);if(this.parsedFormatInfo=In.decodeFormatInformation(t,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),a=Math.floor((t-17)/4);if(a<=6)return Ge.getVersionForNumber(a);let o=0;const c=t-11;for(let p=5;p>=0;p--)for(let y=t-9;y>=c;y--)o=this.copyBit(y,p,o);let h=Ge.decodeVersionInformation(o);if(h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;o=0;for(let p=5;p>=0;p--)for(let y=t-9;y>=c;y--)o=this.copyBit(p,y,o);if(h=Ge.decodeVersionInformation(o),h!==null&&h.getDimensionForVersion()===t)return this.parsedVersion=h,h;throw new Y}copyBit(t,a,o){return(this.isMirror?this.bitMatrix.get(a,t):this.bitMatrix.get(t,a))?o<<1|1:o<<1}readCodewords(){const t=this.readFormatInformation(),a=this.readVersion(),o=pr.values.get(t.getDataMask()),c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c);const h=a.buildFunctionPattern();let p=!0;const y=new Uint8Array(a.getTotalCodewords());let A=0,_=0,R=0;for(let U=c-1;U>0;U-=2){U===6&&U--;for(let z=0;z<c;z++){const J=p?c-1-z:z;for(let ae=0;ae<2;ae++)h.get(U-ae,J)||(R++,_<<=1,this.bitMatrix.get(U-ae,J)&&(_|=1),R===8&&(y[A++]=_,R=0,_=0))}p=!p}if(A!==a.getTotalCodewords())throw new Y;return y}remask(){if(this.parsedFormatInfo===null)return;const t=pr.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,a)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let a=0,o=t.getWidth();a<o;a++)for(let c=a+1,h=t.getHeight();c<h;c++)t.get(a,c)!==t.get(c,a)&&(t.flip(c,a),t.flip(a,c))}}class Jl{constructor(t,a){this.numDataCodewords=t,this.codewords=a}static getDataBlocks(t,a,o){if(t.length!==a.getTotalCodewords())throw new C;const c=a.getECBlocksForLevel(o);let h=0;const p=c.getECBlocks();for(const ae of p)h+=ae.getCount();const y=new Array(h);let A=0;for(const ae of p)for(let le=0;le<ae.getCount();le++){const xe=ae.getDataCodewords(),ve=c.getECCodewordsPerBlock()+xe;y[A++]=new Jl(xe,new Uint8Array(ve))}const _=y[0].codewords.length;let R=y.length-1;for(;R>=0&&y[R].codewords.length!==_;)R--;R++;const U=_-c.getECCodewordsPerBlock();let z=0;for(let ae=0;ae<U;ae++)for(let le=0;le<A;le++)y[le].codewords[ae]=t[z++];for(let ae=R;ae<A;ae++)y[ae].codewords[U]=t[z++];const J=y[0].codewords.length;for(let ae=U;ae<J;ae++)for(let le=0;le<A;le++){const xe=le<R?ae:ae+1;y[le].codewords[xe]=t[z++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var mr;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(mr||(mr={}));class et{constructor(t,a,o,c){this.value=t,this.stringValue=a,this.characterCountBitsForVersions=o,this.bits=c,et.FOR_BITS.set(c,this),et.FOR_VALUE.set(t,this)}static forBits(t){const a=et.FOR_BITS.get(t);if(a===void 0)throw new C;return a}getCharacterCountBits(t){const a=t.getVersionNumber();let o;return a<=9?o=0:a<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof et))return!1;const a=t;return this.value===a.value}toString(){return this.stringValue}}et.FOR_BITS=new Map,et.FOR_VALUE=new Map,et.TERMINATOR=new et(mr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),et.NUMERIC=new et(mr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),et.ALPHANUMERIC=new et(mr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),et.STRUCTURED_APPEND=new et(mr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),et.BYTE=new et(mr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),et.ECI=new et(mr.ECI,"ECI",Int32Array.from([0,0,0]),7),et.KANJI=new et(mr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),et.FNC1_FIRST_POSITION=new et(mr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),et.FNC1_SECOND_POSITION=new et(mr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),et.HANZI=new et(mr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class tn{static decode(t,a,o,c){const h=new Fr(t);let p=new ne;const y=new Array;let A=-1,_=-1;try{let R=null,U=!1,z;do{if(h.available()<4)z=et.TERMINATOR;else{const J=h.readBits(4);z=et.forBits(J)}switch(z){case et.TERMINATOR:break;case et.FNC1_FIRST_POSITION:case et.FNC1_SECOND_POSITION:U=!0;break;case et.STRUCTURED_APPEND:if(h.available()<16)throw new Y;A=h.readBits(8),_=h.readBits(8);break;case et.ECI:const J=tn.parseECIValue(h);if(R=X.getCharacterSetECIByValue(J),R===null)throw new Y;break;case et.HANZI:const ae=h.readBits(4),le=h.readBits(z.getCharacterCountBits(a));ae===tn.GB2312_SUBSET&&tn.decodeHanziSegment(h,p,le);break;default:const xe=h.readBits(z.getCharacterCountBits(a));switch(z){case et.NUMERIC:tn.decodeNumericSegment(h,p,xe);break;case et.ALPHANUMERIC:tn.decodeAlphanumericSegment(h,p,xe,U);break;case et.BYTE:tn.decodeByteSegment(h,p,xe,R,y,c);break;case et.KANJI:tn.decodeKanjiSegment(h,p,xe);break;default:throw new Y}break}}while(z!==et.TERMINATOR)}catch{throw new Y}return new Ye(t,p.toString(),y.length===0?null:y,o===null?null:o.toString(),A,_)}static decodeHanziSegment(t,a,o){if(o*13>t.available())throw new Y;const c=new Uint8Array(2*o);let h=0;for(;o>0;){const p=t.readBits(13);let y=p/96<<8&4294967295|p%96;y<959?y+=41377:y+=42657,c[h]=y>>8&255,c[h+1]=y&255,h+=2,o--}try{a.append(K.decode(c,$.GB2312))}catch(p){throw new Y(p)}}static decodeKanjiSegment(t,a,o){if(o*13>t.available())throw new Y;const c=new Uint8Array(2*o);let h=0;for(;o>0;){const p=t.readBits(13);let y=p/192<<8&4294967295|p%192;y<7936?y+=33088:y+=49472,c[h]=y>>8,c[h+1]=y,h+=2,o--}try{a.append(K.decode(c,$.SHIFT_JIS))}catch(p){throw new Y(p)}}static decodeByteSegment(t,a,o,c,h,p){if(8*o>t.available())throw new Y;const y=new Uint8Array(o);for(let _=0;_<o;_++)y[_]=t.readBits(8);let A;c===null?A=$.guessEncoding(y,p):A=c.getName();try{a.append(K.decode(y,A))}catch(_){throw new Y(_)}h.push(y)}static toAlphaNumericChar(t){if(t>=tn.ALPHANUMERIC_CHARS.length)throw new Y;return tn.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,a,o,c){const h=a.length();for(;o>1;){if(t.available()<11)throw new Y;const p=t.readBits(11);a.append(tn.toAlphaNumericChar(Math.floor(p/45))),a.append(tn.toAlphaNumericChar(p%45)),o-=2}if(o===1){if(t.available()<6)throw new Y;a.append(tn.toAlphaNumericChar(t.readBits(6)))}if(c)for(let p=h;p<a.length();p++)a.charAt(p)==="%"&&(p<a.length()-1&&a.charAt(p+1)==="%"?a.deleteCharAt(p+1):a.setCharAt(p,""))}static decodeNumericSegment(t,a,o){for(;o>=3;){if(t.available()<10)throw new Y;const c=t.readBits(10);if(c>=1e3)throw new Y;a.append(tn.toAlphaNumericChar(Math.floor(c/100))),a.append(tn.toAlphaNumericChar(Math.floor(c/10)%10)),a.append(tn.toAlphaNumericChar(c%10)),o-=3}if(o===2){if(t.available()<7)throw new Y;const c=t.readBits(7);if(c>=100)throw new Y;a.append(tn.toAlphaNumericChar(Math.floor(c/10))),a.append(tn.toAlphaNumericChar(c%10))}else if(o===1){if(t.available()<4)throw new Y;const c=t.readBits(4);if(c>=10)throw new Y;a.append(tn.toAlphaNumericChar(c))}}static parseECIValue(t){const a=t.readBits(8);if((a&128)===0)return a&127;if((a&192)===128){const o=t.readBits(8);return(a&63)<<8&4294967295|o}if((a&224)===192){const o=t.readBits(16);return(a&31)<<16&4294967295|o}throw new Y}}tn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",tn.GB2312_SUBSET=1;class uu{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const a=t[0];t[0]=t[2],t[2]=a}}class Mc{constructor(){this.rsDecoder=new Wt(He.QR_CODE_FIELD_256)}decodeBooleanArray(t,a){return this.decodeBitMatrix(de.parseFromBooleanArray(t),a)}decodeBitMatrix(t,a){const o=new _a(t);let c=null;try{return this.decodeBitMatrixParser(o,a)}catch(h){c=h}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const h=this.decodeBitMatrixParser(o,a);return h.setOther(new uu(!0)),h}catch(h){throw c!==null?c:h}}decodeBitMatrixParser(t,a){const o=t.readVersion(),c=t.readFormatInformation().getErrorCorrectionLevel(),h=t.readCodewords(),p=Jl.getDataBlocks(h,o,c);let y=0;for(const R of p)y+=R.getNumDataCodewords();const A=new Uint8Array(y);let _=0;for(const R of p){const U=R.getCodewords(),z=R.getNumDataCodewords();this.correctErrors(U,z);for(let J=0;J<z;J++)A[_++]=U[J]}return tn.decode(A,o,c,a)}correctErrors(t,a){const o=new Int32Array(t);try{this.rsDecoder.decode(o,t.length-a)}catch{throw new T}for(let c=0;c<a;c++)t[c]=o[c]}}class Da extends je{constructor(t,a,o){super(t,a),this.estimatedModuleSize=o}aboutEquals(t,a,o){if(Math.abs(a-this.getY())<=t&&Math.abs(o-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,a,o){const c=(this.getX()+a)/2,h=(this.getY()+t)/2,p=(this.estimatedModuleSize+o)/2;return new Da(c,h,p)}}class Oa{constructor(t,a,o,c,h,p,y){this.image=t,this.startX=a,this.startY=o,this.width=c,this.height=h,this.moduleSize=p,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,a=this.height,o=this.width,c=t+o,h=this.startY+a/2,p=new Int32Array(3),y=this.image;for(let A=0;A<a;A++){const _=h+((A&1)===0?Math.floor((A+1)/2):-Math.floor((A+1)/2));p[0]=0,p[1]=0,p[2]=0;let R=t;for(;R<c&&!y.get(R,_);)R++;let U=0;for(;R<c;){if(y.get(R,_))if(U===1)p[1]++;else if(U===2){if(this.foundPatternCross(p)){const z=this.handlePossibleCenter(p,_,R);if(z!==null)return z}p[0]=p[2],p[1]=1,p[2]=0,U=1}else p[++U]++;else U===1&&U++,p[U]++;R++}if(this.foundPatternCross(p)){const z=this.handlePossibleCenter(p,_,c);if(z!==null)return z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(t,a){return a-t[2]-t[1]/2}foundPatternCross(t){const a=this.moduleSize,o=a/2;for(let c=0;c<3;c++)if(Math.abs(a-t[c])>=o)return!1;return!0}crossCheckVertical(t,a,o,c){const h=this.image,p=h.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let A=t;for(;A>=0&&h.get(a,A)&&y[1]<=o;)y[1]++,A--;if(A<0||y[1]>o)return NaN;for(;A>=0&&!h.get(a,A)&&y[0]<=o;)y[0]++,A--;if(y[0]>o)return NaN;for(A=t+1;A<p&&h.get(a,A)&&y[1]<=o;)y[1]++,A++;if(A===p||y[1]>o)return NaN;for(;A<p&&!h.get(a,A)&&y[2]<=o;)y[2]++,A++;if(y[2]>o)return NaN;const _=y[0]+y[1]+y[2];return 5*Math.abs(_-c)>=2*c?NaN:this.foundPatternCross(y)?Oa.centerFromEnd(y,A):NaN}handlePossibleCenter(t,a,o){const c=t[0]+t[1]+t[2],h=Oa.centerFromEnd(t,o),p=this.crossCheckVertical(a,h,2*t[1],c);if(!isNaN(p)){const y=(t[0]+t[1]+t[2])/3;for(const _ of this.possibleCenters)if(_.aboutEquals(y,p,h))return _.combineEstimate(p,h,y);const A=new Da(h,p,y);this.possibleCenters.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return null}}class ms extends je{constructor(t,a,o,c){super(t,a),this.estimatedModuleSize=o,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,a,o){if(Math.abs(a-this.getY())<=t&&Math.abs(o-this.getX())<=t){const c=Math.abs(t-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(t,a,o){const c=this.count+1,h=(this.count*this.getX()+a)/c,p=(this.count*this.getY()+t)/c,y=(this.count*this.estimatedModuleSize+o)/c;return new ms(h,p,y,c)}}class Na{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class dn{constructor(t,a){this.image=t,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const a=t!=null&&t.get(q.TRY_HARDER)!==void 0,o=t!=null&&t.get(q.PURE_BARCODE)!==void 0,c=this.image,h=c.getHeight(),p=c.getWidth();let y=Math.floor(3*h/(4*dn.MAX_MODULES));(y<dn.MIN_SKIP||a)&&(y=dn.MIN_SKIP);let A=!1;const _=new Int32Array(5);for(let U=y-1;U<h&&!A;U+=y){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let z=0;for(let J=0;J<p;J++)if(c.get(J,U))(z&1)===1&&z++,_[z]++;else if((z&1)===0)if(z===4)if(dn.foundPatternCross(_)){if(this.handlePossibleCenter(_,U,J,o)===!0)if(y=2,this.hasSkipped===!0)A=this.haveMultiplyConfirmedCenters();else{const le=this.findRowSkip();le>_[2]&&(U+=le-_[2]-y,J=p-1)}else{_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,z=3;continue}z=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,z=3;else _[++z]++;else _[z]++;dn.foundPatternCross(_)&&this.handlePossibleCenter(_,U,p,o)===!0&&(y=_[0],this.hasSkipped&&(A=this.haveMultiplyConfirmedCenters()))}const R=this.selectBestPatterns();return je.orderBestPatterns(R),new Na(R)}static centerFromEnd(t,a){return a-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let a=0;for(let h=0;h<5;h++){const p=t[h];if(p===0)return!1;a+=p}if(a<7)return!1;const o=a/7,c=o/2;return Math.abs(o-t[0])<c&&Math.abs(o-t[1])<c&&Math.abs(3*o-t[2])<3*c&&Math.abs(o-t[3])<c&&Math.abs(o-t[4])<c}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,a,o,c){const h=this.getCrossCheckStateCount();let p=0;const y=this.image;for(;t>=p&&a>=p&&y.get(a-p,t-p);)h[2]++,p++;if(t<p||a<p)return!1;for(;t>=p&&a>=p&&!y.get(a-p,t-p)&&h[1]<=o;)h[1]++,p++;if(t<p||a<p||h[1]>o)return!1;for(;t>=p&&a>=p&&y.get(a-p,t-p)&&h[0]<=o;)h[0]++,p++;if(h[0]>o)return!1;const A=y.getHeight(),_=y.getWidth();for(p=1;t+p<A&&a+p<_&&y.get(a+p,t+p);)h[2]++,p++;if(t+p>=A||a+p>=_)return!1;for(;t+p<A&&a+p<_&&!y.get(a+p,t+p)&&h[3]<o;)h[3]++,p++;if(t+p>=A||a+p>=_||h[3]>=o)return!1;for(;t+p<A&&a+p<_&&y.get(a+p,t+p)&&h[4]<o;)h[4]++,p++;if(h[4]>=o)return!1;const R=h[0]+h[1]+h[2]+h[3]+h[4];return Math.abs(R-c)<2*c&&dn.foundPatternCross(h)}crossCheckVertical(t,a,o,c){const h=this.image,p=h.getHeight(),y=this.getCrossCheckStateCount();let A=t;for(;A>=0&&h.get(a,A);)y[2]++,A--;if(A<0)return NaN;for(;A>=0&&!h.get(a,A)&&y[1]<=o;)y[1]++,A--;if(A<0||y[1]>o)return NaN;for(;A>=0&&h.get(a,A)&&y[0]<=o;)y[0]++,A--;if(y[0]>o)return NaN;for(A=t+1;A<p&&h.get(a,A);)y[2]++,A++;if(A===p)return NaN;for(;A<p&&!h.get(a,A)&&y[3]<o;)y[3]++,A++;if(A===p||y[3]>=o)return NaN;for(;A<p&&h.get(a,A)&&y[4]<o;)y[4]++,A++;if(y[4]>=o)return NaN;const _=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(_-c)>=2*c?NaN:dn.foundPatternCross(y)?dn.centerFromEnd(y,A):NaN}crossCheckHorizontal(t,a,o,c){const h=this.image,p=h.getWidth(),y=this.getCrossCheckStateCount();let A=t;for(;A>=0&&h.get(A,a);)y[2]++,A--;if(A<0)return NaN;for(;A>=0&&!h.get(A,a)&&y[1]<=o;)y[1]++,A--;if(A<0||y[1]>o)return NaN;for(;A>=0&&h.get(A,a)&&y[0]<=o;)y[0]++,A--;if(y[0]>o)return NaN;for(A=t+1;A<p&&h.get(A,a);)y[2]++,A++;if(A===p)return NaN;for(;A<p&&!h.get(A,a)&&y[3]<o;)y[3]++,A++;if(A===p||y[3]>=o)return NaN;for(;A<p&&h.get(A,a)&&y[4]<o;)y[4]++,A++;if(y[4]>=o)return NaN;const _=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(_-c)>=c?NaN:dn.foundPatternCross(y)?dn.centerFromEnd(y,A):NaN}handlePossibleCenter(t,a,o,c){const h=t[0]+t[1]+t[2]+t[3]+t[4];let p=dn.centerFromEnd(t,o),y=this.crossCheckVertical(a,Math.floor(p),t[2],h);if(!isNaN(y)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(y),t[2],h),!isNaN(p)&&(!c||this.crossCheckDiagonal(Math.floor(y),Math.floor(p),t[2],h)))){const A=h/7;let _=!1;const R=this.possibleCenters;for(let U=0,z=R.length;U<z;U++){const J=R[U];if(J.aboutEquals(A,y,p)){R[U]=J.combineEstimate(y,p,A),_=!0;break}}if(!_){const U=new ms(p,y,A);R.push(U),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(U)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const o of this.possibleCenters)if(o.getCount()>=dn.CENTER_QUORUM)if(a==null)a=o;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-o.getX())-Math.abs(a.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,a=0;const o=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=dn.CENTER_QUORUM&&(t++,a+=p.getEstimatedModuleSize());if(t<3)return!1;const c=a/o;let h=0;for(const p of this.possibleCenters)h+=Math.abs(p.getEstimatedModuleSize()-c);return h<=.05*a}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new te;const a=this.possibleCenters;let o;if(t>3){let c=0,h=0;for(const A of this.possibleCenters){const _=A.getEstimatedModuleSize();c+=_,h+=_*_}o=c/t;let p=Math.sqrt(h/t-o*o);a.sort((A,_)=>{const R=Math.abs(_.getEstimatedModuleSize()-o),U=Math.abs(A.getEstimatedModuleSize()-o);return R<U?-1:R>U?1:0});const y=Math.max(.2*o,p);for(let A=0;A<a.length&&a.length>3;A++){const _=a[A];Math.abs(_.getEstimatedModuleSize()-o)>y&&(a.splice(A,1),A--)}}if(a.length>3){let c=0;for(const h of a)c+=h.getEstimatedModuleSize();o=c/a.length,a.sort((h,p)=>{if(p.getCount()===h.getCount()){const y=Math.abs(p.getEstimatedModuleSize()-o),A=Math.abs(h.getEstimatedModuleSize()-o);return y<A?1:y>A?-1:0}else return p.getCount()-h.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}dn.CENTER_QUORUM=2,dn.MIN_SKIP=3,dn.MAX_MODULES=57;class Ba{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(q.NEED_RESULT_POINT_CALLBACK);const o=new dn(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(o)}processFinderPatternInfo(t){const a=t.getTopLeft(),o=t.getTopRight(),c=t.getBottomLeft(),h=this.calculateModuleSize(a,o,c);if(h<1)throw new te("No pattern found in proccess finder.");const p=Ba.computeDimension(a,o,c,h),y=Ge.getProvisionalVersionForDimension(p),A=y.getDimensionForVersion()-7;let _=null;if(y.getAlignmentPatternCenters().length>0){const J=o.getX()-a.getX()+c.getX(),ae=o.getY()-a.getY()+c.getY(),le=1-3/A,xe=Math.floor(a.getX()+le*(J-a.getX())),ve=Math.floor(a.getY()+le*(ae-a.getY()));for(let Ie=4;Ie<=16;Ie<<=1)try{_=this.findAlignmentInRegion(h,xe,ve,Ie);break}catch(Me){if(!(Me instanceof te))throw Me}}const R=Ba.createTransform(a,o,c,_,p),U=Ba.sampleGrid(this.image,R,p);let z;return _===null?z=[c,a,o]:z=[c,a,o,_],new wt(U,z)}static createTransform(t,a,o,c,h){const p=h-3.5;let y,A,_,R;return c!==null?(y=c.getX(),A=c.getY(),_=p-3,R=_):(y=a.getX()-t.getX()+o.getX(),A=a.getY()-t.getY()+o.getY(),_=p,R=p),be.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,_,R,3.5,p,t.getX(),t.getY(),a.getX(),a.getY(),y,A,o.getX(),o.getY())}static sampleGrid(t,a,o){return We.getInstance().sampleGridWithTransform(t,o,o,a)}static computeDimension(t,a,o,c){const h=Xe.round(je.distance(t,a)/c),p=Xe.round(je.distance(t,o)/c);let y=Math.floor((h+p)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new te("Dimensions could be not found.")}return y}calculateModuleSize(t,a,o){return(this.calculateModuleSizeOneWay(t,a)+this.calculateModuleSizeOneWay(t,o))/2}calculateModuleSizeOneWay(t,a){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(a.getX()),Math.floor(a.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(o)?c/7:isNaN(c)?o/7:(o+c)/14}sizeOfBlackWhiteBlackRunBothWays(t,a,o,c){let h=this.sizeOfBlackWhiteBlackRun(t,a,o,c),p=1,y=t-(o-t);y<0?(p=t/(t-y),y=0):y>=this.image.getWidth()&&(p=(this.image.getWidth()-1-t)/(y-t),y=this.image.getWidth()-1);let A=Math.floor(a-(c-a)*p);return p=1,A<0?(p=a/(a-A),A=0):A>=this.image.getHeight()&&(p=(this.image.getHeight()-1-a)/(A-a),A=this.image.getHeight()-1),y=Math.floor(t+(y-t)*p),h+=this.sizeOfBlackWhiteBlackRun(t,a,y,A),h-1}sizeOfBlackWhiteBlackRun(t,a,o,c){const h=Math.abs(c-a)>Math.abs(o-t);if(h){let J=t;t=a,a=J,J=o,o=c,c=J}const p=Math.abs(o-t),y=Math.abs(c-a);let A=-p/2;const _=t<o?1:-1,R=a<c?1:-1;let U=0;const z=o+_;for(let J=t,ae=a;J!==z;J+=_){const le=h?ae:J,xe=h?J:ae;if(U===1===this.image.get(le,xe)){if(U===2)return Xe.distance(J,ae,t,a);U++}if(A+=y,A>0){if(ae===c)break;ae+=R,A-=p}}return U===2?Xe.distance(o+_,c,t,a):NaN}findAlignmentInRegion(t,a,o,c){const h=Math.floor(c*t),p=Math.max(0,a-h),y=Math.min(this.image.getWidth()-1,a+h);if(y-p<t*3)throw new te("Alignment top exceeds estimated module size.");const A=Math.max(0,o-h),_=Math.min(this.image.getHeight()-1,o+h);if(_-A<t*3)throw new te("Alignment bottom exceeds estimated module size.");return new Oa(this.image,p,A,y-p,_-A,t,this.resultPointCallback).find()}}class Kr{constructor(){this.decoder=new Mc}getDecoder(){return this.decoder}decode(t,a){let o,c;if(a!=null&&a.get(q.PURE_BARCODE)!==void 0){const A=Kr.extractPureBits(t.getBlackMatrix());o=this.decoder.decodeBitMatrix(A,a),c=Kr.NO_POINTS}else{const A=new Ba(t.getBlackMatrix()).detect(a);o=this.decoder.decodeBitMatrix(A.getBits(),a),c=A.getPoints()}o.getOther()instanceof uu&&o.getOther().applyMirroredCorrection(c);const h=new se(o.getText(),o.getRawBytes(),void 0,c,me.QR_CODE,void 0),p=o.getByteSegments();p!==null&&h.putMetadata(Te.BYTE_SEGMENTS,p);const y=o.getECLevel();return y!==null&&h.putMetadata(Te.ERROR_CORRECTION_LEVEL,y),o.hasStructuredAppend()&&(h.putMetadata(Te.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),h.putMetadata(Te.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),h}reset(){}static extractPureBits(t){const a=t.getTopLeftOnBit(),o=t.getBottomRightOnBit();if(a===null||o===null)throw new te;const c=this.moduleSize(a,t);let h=a[1],p=o[1],y=a[0],A=o[0];if(y>=A||h>=p)throw new te;if(p-h!==A-y&&(A=y+(p-h),A>=t.getWidth()))throw new te;const _=Math.round((A-y+1)/c),R=Math.round((p-h+1)/c);if(_<=0||R<=0)throw new te;if(R!==_)throw new te;const U=Math.floor(c/2);h+=U,y+=U;const z=y+Math.floor((_-1)*c)-A;if(z>0){if(z>U)throw new te;y-=z}const J=h+Math.floor((R-1)*c)-p;if(J>0){if(J>U)throw new te;h-=J}const ae=new de(_,R);for(let le=0;le<R;le++){const xe=h+Math.floor(le*c);for(let ve=0;ve<_;ve++)t.get(y+Math.floor(ve*c),xe)&&ae.set(ve,le)}return ae}static moduleSize(t,a){const o=a.getHeight(),c=a.getWidth();let h=t[0],p=t[1],y=!0,A=0;for(;h<c&&p<o;){if(y!==a.get(h,p)){if(++A===5)break;y=!y}h++,p++}if(h===c||p===o)throw new te;return(h-t[0])/7}}Kr.NO_POINTS=new Array;class at{PDF417Common(){}static getBitCountSum(t){return Xe.sum(t)}static toIntArray(t){if(t==null||!t.length)return at.EMPTY_INT_ARRAY;const a=new Int32Array(t.length);let o=0;for(const c of t)a[o++]=c;return a}static getCodeword(t){const a=M.binarySearch(at.SYMBOL_TABLE,t&262143);return a<0?-1:(at.CODEWORD_TABLE[a]-1)%at.NUMBER_OF_CODEWORDS}}at.NUMBER_OF_CODEWORDS=929,at.MAX_CODEWORDS_IN_BARCODE=at.NUMBER_OF_CODEWORDS-1,at.MIN_ROWS_IN_BARCODE=3,at.MAX_ROWS_IN_BARCODE=90,at.MODULES_IN_CODEWORD=17,at.MODULES_IN_STOP_PATTERN=18,at.BARS_IN_MODULE=8,at.EMPTY_INT_ARRAY=new Int32Array([]),at.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),at.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class ys{constructor(t,a){this.bits=t,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class ht{static detectMultiple(t,a,o){let c=t.getBlackMatrix(),h=ht.detect(o,c);return h.length||(c=c.clone(),c.rotate180(),h=ht.detect(o,c)),new ys(c,h)}static detect(t,a){const o=new Array;let c=0,h=0,p=!1;for(;c<a.getHeight();){const y=ht.findVertices(a,c,h);if(y[0]==null&&y[3]==null){if(!p)break;p=!1,h=0;for(const A of o)A[1]!=null&&(c=Math.trunc(Math.max(c,A[1].getY()))),A[3]!=null&&(c=Math.max(c,Math.trunc(A[3].getY())));c+=ht.ROW_STEP;continue}if(p=!0,o.push(y),!t)break;y[2]!=null?(h=Math.trunc(y[2].getX()),c=Math.trunc(y[2].getY())):(h=Math.trunc(y[4].getX()),c=Math.trunc(y[4].getY()))}return o}static findVertices(t,a,o){const c=t.getHeight(),h=t.getWidth(),p=new Array(8);return ht.copyToResult(p,ht.findRowsWithPattern(t,c,h,a,o,ht.START_PATTERN),ht.INDEXES_START_PATTERN),p[4]!=null&&(o=Math.trunc(p[4].getX()),a=Math.trunc(p[4].getY())),ht.copyToResult(p,ht.findRowsWithPattern(t,c,h,a,o,ht.STOP_PATTERN),ht.INDEXES_STOP_PATTERN),p}static copyToResult(t,a,o){for(let c=0;c<o.length;c++)t[o[c]]=a[c]}static findRowsWithPattern(t,a,o,c,h,p){const y=new Array(4);let A=!1;const _=new Int32Array(p.length);for(;c<a;c+=ht.ROW_STEP){let U=ht.findGuardPattern(t,h,c,o,!1,p,_);if(U!=null){for(;c>0;){const z=ht.findGuardPattern(t,h,--c,o,!1,p,_);if(z!=null)U=z;else{c++;break}}y[0]=new je(U[0],c),y[1]=new je(U[1],c),A=!0;break}}let R=c+1;if(A){let U=0,z=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;R<a;R++){const J=ht.findGuardPattern(t,z[0],R,o,!1,p,_);if(J!=null&&Math.abs(z[0]-J[0])<ht.MAX_PATTERN_DRIFT&&Math.abs(z[1]-J[1])<ht.MAX_PATTERN_DRIFT)z=J,U=0;else{if(U>ht.SKIPPED_ROW_COUNT_MAX)break;U++}}R-=U+1,y[2]=new je(z[0],R),y[3]=new je(z[1],R)}return R-c<ht.BARCODE_MIN_HEIGHT&&M.fill(y,null),y}static findGuardPattern(t,a,o,c,h,p,y){M.fillWithin(y,0,y.length,0);let A=a,_=0;for(;t.get(A,o)&&A>0&&_++<ht.MAX_PIXEL_DRIFT;)A--;let R=A,U=0,z=p.length;for(let J=h;R<c;R++)if(t.get(R,o)!==J)y[U]++;else{if(U===z-1){if(ht.patternMatchVariance(y,p,ht.MAX_INDIVIDUAL_VARIANCE)<ht.MAX_AVG_VARIANCE)return new Int32Array([A,R]);A+=y[0]+y[1],N.arraycopy(y,2,y,0,U-1),y[U-1]=0,y[U]=0,U--}else U++;y[U]=1,J=!J}return U===z-1&&ht.patternMatchVariance(y,p,ht.MAX_INDIVIDUAL_VARIANCE)<ht.MAX_AVG_VARIANCE?new Int32Array([A,R-1]):null}static patternMatchVariance(t,a,o){let c=t.length,h=0,p=0;for(let _=0;_<c;_++)h+=t[_],p+=a[_];if(h<p)return 1/0;let y=h/p;o*=y;let A=0;for(let _=0;_<c;_++){let R=t[_],U=a[_]*y,z=R>U?R-U:U-R;if(z>o)return 1/0;A+=z}return A/h}}ht.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ht.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ht.MAX_AVG_VARIANCE=.42,ht.MAX_INDIVIDUAL_VARIANCE=.8,ht.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ht.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ht.MAX_PIXEL_DRIFT=3,ht.MAX_PATTERN_DRIFT=5,ht.SKIPPED_ROW_COUNT_MAX=25,ht.ROW_STEP=5,ht.BARCODE_MIN_HEIGHT=10;class mn{constructor(t,a){if(a.length===0)throw new C;this.field=t;let o=a.length;if(o>1&&a[0]===0){let c=1;for(;c<o&&a[c]===0;)c++;c===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-c),N.arraycopy(a,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let c=0;for(let h of this.coefficients)c=this.field.add(c,h);return c}let a=this.coefficients[0],o=this.coefficients.length;for(let c=1;c<o;c++)a=this.field.add(this.field.multiply(t,a),this.coefficients[c]);return a}add(t){if(!this.field.equals(t.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let a=this.coefficients,o=t.coefficients;if(a.length>o.length){let p=a;a=o,o=p}let c=new Int32Array(o.length),h=o.length-a.length;N.arraycopy(o,0,c,0,h);for(let p=h;p<o.length;p++)c[p]=this.field.add(a[p-h],o[p]);return new mn(this.field,c)}subtract(t){if(!this.field.equals(t.field))throw new C("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof mn?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new mn(this.field,new Int32Array([0]));let a=this.coefficients,o=a.length,c=t.coefficients,h=c.length,p=new Int32Array(o+h-1);for(let y=0;y<o;y++){let A=a[y];for(let _=0;_<h;_++)p[y+_]=this.field.add(p[y+_],this.field.multiply(A,c[_]))}return new mn(this.field,p)}negative(){let t=this.coefficients.length,a=new Int32Array(t);for(let o=0;o<t;o++)a[o]=this.field.subtract(0,this.coefficients[o]);return new mn(this.field,a)}multiplyScalar(t){if(t===0)return new mn(this.field,new Int32Array([0]));if(t===1)return this;let a=this.coefficients.length,o=new Int32Array(a);for(let c=0;c<a;c++)o[c]=this.field.multiply(this.coefficients[c],t);return new mn(this.field,o)}multiplyByMonomial(t,a){if(t<0)throw new C;if(a===0)return new mn(this.field,new Int32Array([0]));let o=this.coefficients.length,c=new Int32Array(o+t);for(let h=0;h<o;h++)c[h]=this.field.multiply(this.coefficients[h],a);return new mn(this.field,c)}toString(){let t=new ne;for(let a=this.getDegree();a>=0;a--){let o=this.getCoefficient(a);o!==0&&(o<0?(t.append(" - "),o=-o):t.length()>0&&t.append(" + "),(a===0||o!==1)&&t.append(o),a!==0&&(a===1?t.append("x"):(t.append("x^"),t.append(a))))}return t.toString()}}class _i{add(t,a){return(t+a)%this.modulus}subtract(t,a){return(this.modulus+t-a)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new C;return this.logTable[t]}inverse(t){if(t===0)throw new ft;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,a){return t===0||a===0?0:this.expTable[(this.logTable[t]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class Es extends _i{constructor(t,a){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let o=1;for(let c=0;c<t;c++)this.expTable[c]=o,o=o*a%t;for(let c=0;c<t-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new mn(this,new Int32Array([0])),this.one=new mn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,a){if(t<0)throw new C;if(a===0)return this.zero;let o=new Int32Array(t+1);return o[0]=a,new mn(this,o)}}Es.PDF417_GF=new Es(at.NUMBER_OF_CODEWORDS,3);class vs{constructor(){this.field=Es.PDF417_GF}decode(t,a,o){let c=new mn(this.field,t),h=new Int32Array(a),p=!1;for(let ae=a;ae>0;ae--){let le=c.evaluateAt(this.field.exp(ae));h[a-ae]=le,le!==0&&(p=!0)}if(!p)return 0;let y=this.field.getOne();if(o!=null)for(const ae of o){let le=this.field.exp(t.length-1-ae),xe=new mn(this.field,new Int32Array([this.field.subtract(0,le),1]));y=y.multiply(xe)}let A=new mn(this.field,h),_=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),A,a),R=_[0],U=_[1],z=this.findErrorLocations(R),J=this.findErrorMagnitudes(U,R,z);for(let ae=0;ae<z.length;ae++){let le=t.length-1-this.field.log(z[ae]);if(le<0)throw T.getChecksumInstance();t[le]=this.field.subtract(t[le],J[ae])}return z.length}runEuclideanAlgorithm(t,a,o){if(t.getDegree()<a.getDegree()){let z=t;t=a,a=z}let c=t,h=a,p=this.field.getZero(),y=this.field.getOne();for(;h.getDegree()>=Math.round(o/2);){let z=c,J=p;if(c=h,p=y,c.isZero())throw T.getChecksumInstance();h=z;let ae=this.field.getZero(),le=c.getCoefficient(c.getDegree()),xe=this.field.inverse(le);for(;h.getDegree()>=c.getDegree()&&!h.isZero();){let ve=h.getDegree()-c.getDegree(),Ie=this.field.multiply(h.getCoefficient(h.getDegree()),xe);ae=ae.add(this.field.buildMonomial(ve,Ie)),h=h.subtract(c.multiplyByMonomial(ve,Ie))}y=ae.multiply(p).subtract(J).negative()}let A=y.getCoefficient(0);if(A===0)throw T.getChecksumInstance();let _=this.field.inverse(A),R=y.multiply(_),U=h.multiply(_);return[R,U]}findErrorLocations(t){let a=t.getDegree(),o=new Int32Array(a),c=0;for(let h=1;h<this.field.getSize()&&c<a;h++)t.evaluateAt(h)===0&&(o[c]=this.field.inverse(h),c++);if(c!==a)throw T.getChecksumInstance();return o}findErrorMagnitudes(t,a,o){let c=a.getDegree(),h=new Int32Array(c);for(let _=1;_<=c;_++)h[c-_]=this.field.multiply(_,a.getCoefficient(_));let p=new mn(this.field,h),y=o.length,A=new Int32Array(y);for(let _=0;_<y;_++){let R=this.field.inverse(o[_]),U=this.field.subtract(0,t.evaluateAt(R)),z=this.field.inverse(p.evaluateAt(R));A[_]=this.field.multiply(U,z)}return A}}class Di{constructor(t,a,o,c,h){t instanceof Di?this.constructor_2(t):this.constructor_1(t,a,o,c,h)}constructor_1(t,a,o,c,h){const p=a==null||o==null,y=c==null||h==null;if(p&&y)throw new te;p?(a=new je(0,c.getY()),o=new je(0,h.getY())):y&&(c=new je(t.getWidth()-1,a.getY()),h=new je(t.getWidth()-1,o.getY())),this.image=t,this.topLeft=a,this.bottomLeft=o,this.topRight=c,this.bottomRight=h,this.minX=Math.trunc(Math.min(a.getX(),o.getX())),this.maxX=Math.trunc(Math.max(c.getX(),h.getX())),this.minY=Math.trunc(Math.min(a.getY(),c.getY())),this.maxY=Math.trunc(Math.max(o.getY(),h.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,a){return t==null?a:a==null?t:new Di(t.image,t.topLeft,t.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(t,a,o){let c=this.topLeft,h=this.bottomLeft,p=this.topRight,y=this.bottomRight;if(t>0){let A=o?this.topLeft:this.topRight,_=Math.trunc(A.getY()-t);_<0&&(_=0);let R=new je(A.getX(),_);o?c=R:p=R}if(a>0){let A=o?this.bottomLeft:this.bottomRight,_=Math.trunc(A.getY()+a);_>=this.image.getHeight()&&(_=this.image.getHeight()-1);let R=new je(A.getX(),_);o?h=R:y=R}return new Di(this.image,c,h,p,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ll{constructor(t,a,o,c){this.columnCount=t,this.errorCorrectionLevel=c,this.rowCountUpperPart=a,this.rowCountLowerPart=o,this.rowCount=a+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Oi{constructor(){this.buffer=""}static form(t,a){let o=-1;function c(p,y,A,_,R,U){if(p==="%%")return"%";if(a[++o]===void 0)return;p=_?parseInt(_.substr(1)):void 0;let z=R?parseInt(R.substr(1)):void 0,J;switch(U){case"s":J=a[o];break;case"c":J=a[o][0];break;case"f":J=parseFloat(a[o]).toFixed(p);break;case"p":J=parseFloat(a[o]).toPrecision(p);break;case"e":J=parseFloat(a[o]).toExponential(p);break;case"x":J=parseInt(a[o]).toString(z||16);break;case"d":J=parseFloat(parseInt(a[o],z||10).toPrecision(p)).toFixed(0);break}J=typeof J=="object"?JSON.stringify(J):(+J).toString(z);let ae=parseInt(A),le=A&&A[0]+""=="0"?"0":" ";for(;J.length<ae;)J=y!==void 0?J+le:le+J;return J}let h=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(h,c)}format(t,...a){this.buffer+=Oi.form(t,a)}toString(){return this.buffer}}class Ra{constructor(t){this.boundingBox=new Di(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let a=this.getCodeword(t);if(a!=null)return a;for(let o=1;o<Ra.MAX_NEARBY_DISTANCE;o++){let c=this.imageRowToCodewordIndex(t)-o;if(c>=0&&(a=this.codewords[c],a!=null)||(c=this.imageRowToCodewordIndex(t)+o,c<this.codewords.length&&(a=this.codewords[c],a!=null)))return a}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,a){this.codewords[this.imageRowToCodewordIndex(t)]=a}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Oi;let a=0;for(const o of this.codewords){if(o==null){t.format("%3d:    |   %n",a++);continue}t.format("%3d: %3d|%3d%n",a++,o.getRowNumber(),o.getValue())}return t.toString()}}Ra.MAX_NEARBY_DISTANCE=5;class Mn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let a=this.values.get(t);a==null&&(a=0),a++,this.values.set(t,a)}getValue(){let t=-1,a=new Array;for(const[o,c]of this.values.entries()){const h={getKey:()=>o,getValue:()=>c};h.getValue()>t?(t=h.getValue(),a=[],a.push(h.getKey())):h.getValue()===t&&a.push(h.getKey())}return at.toIntArray(a)}getConfidence(t){return this.values.get(t)}}class Ni extends Ra{constructor(t,a){super(t),this._isLeft=a}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,t);let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),h=this._isLeft?o.getBottomLeft():o.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=this.imageRowToCodewordIndex(Math.trunc(h.getY())),A=-1,_=1,R=0;for(let U=p;U<y;U++){if(a[U]==null)continue;let z=a[U],J=z.getRowNumber()-A;if(J===0)R++;else if(J===1)_=Math.max(_,R),R=1,A=z.getRowNumber();else if(J<0||z.getRowNumber()>=t.getRowCount()||J>U)a[U]=null;else{let ae;_>2?ae=(_-2)*J:ae=J;let le=ae>=U;for(let xe=1;xe<=ae&&!le;xe++)le=a[U-xe]!=null;le?a[U]=null:(A=z.getRowNumber(),R=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let a=new Int32Array(t.getRowCount());for(let o of this.getCodewords())if(o!=null){let c=o.getRowNumber();if(c>=a.length)continue;a[c]++}return a}adjustIncompleteIndicatorColumnRowNumbers(t){let a=this.getBoundingBox(),o=this._isLeft?a.getTopLeft():a.getTopRight(),c=this._isLeft?a.getBottomLeft():a.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(o.getY())),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),y=this.getCodewords(),A=-1;for(let _=h;_<p;_++){if(y[_]==null)continue;let R=y[_];R.setRowNumberAsRowIndicatorColumn();let U=R.getRowNumber()-A;U===0||(U===1?A=R.getRowNumber():R.getRowNumber()>=t.getRowCount()?y[_]=null:A=R.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),a=new Mn,o=new Mn,c=new Mn,h=new Mn;for(let y of t){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let A=y.getValue()%30,_=y.getRowNumber();switch(this._isLeft||(_+=2),_%3){case 0:o.setValue(A*3+1);break;case 1:h.setValue(A/3),c.setValue(A%3);break;case 2:a.setValue(A+1);break}}if(a.getValue().length===0||o.getValue().length===0||c.getValue().length===0||h.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+c.getValue()[0]<at.MIN_ROWS_IN_BARCODE||o.getValue()[0]+c.getValue()[0]>at.MAX_ROWS_IN_BARCODE)return null;let p=new ll(a.getValue()[0],o.getValue()[0],c.getValue()[0],h.getValue()[0]);return this.removeIncorrectCodewords(t,p),p}removeIncorrectCodewords(t,a){for(let o=0;o<t.length;o++){let c=t[o];if(t[o]==null)continue;let h=c.getValue()%30,p=c.getRowNumber();if(p>a.getRowCount()){t[o]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:h*3+1!==a.getRowCountUpperPart()&&(t[o]=null);break;case 1:(Math.trunc(h/3)!==a.getErrorCorrectionLevel()||h%3!==a.getRowCountLowerPart())&&(t[o]=null);break;case 2:h+1!==a.getColumnCount()&&(t[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bi{constructor(t,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=at.MAX_CODEWORDS_IN_BARCODE,a;do a=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let o=this.detectionResultColumns[a].getCodewords();for(let c=0;c<o.length;c++)o[c]!=null&&(o[c].hasValidRowNumber()||this.adjustRowNumbers(a,c,o))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<t.length;o++)if(t[o]!=null&&a[o]!=null&&t[o].getRowNumber()===a[o].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let h=this.detectionResultColumns[c].getCodewords()[o];h!=null&&(h.setRowNumber(t[o].getRowNumber()),h.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<a.length;o++){if(a[o]==null)continue;let c=a[o].getRowNumber(),h=0;for(let p=this.barcodeColumnCount+1;p>0&&h<this.ADJUST_ROW_NUMBER_SKIP;p--){let y=this.detectionResultColumns[p].getCodewords()[o];y!=null&&(h=Bi.adjustRowNumberIfValid(c,h,y),y.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,a=this.detectionResultColumns[0].getCodewords();for(let o=0;o<a.length;o++){if(a[o]==null)continue;let c=a[o].getRowNumber(),h=0;for(let p=1;p<this.barcodeColumnCount+1&&h<this.ADJUST_ROW_NUMBER_SKIP;p++){let y=this.detectionResultColumns[p].getCodewords()[o];y!=null&&(h=Bi.adjustRowNumberIfValid(c,h,y),y.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,a,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(t)?(o.setRowNumber(t),a=0):++a),a}adjustRowNumbers(t,a,o){if(!this.detectionResultColumns[t-1])return;let c=o[a],h=this.detectionResultColumns[t-1].getCodewords(),p=h;this.detectionResultColumns[t+1]!=null&&(p=this.detectionResultColumns[t+1].getCodewords());let y=new Array(14);y[2]=h[a],y[3]=p[a],a>0&&(y[0]=o[a-1],y[4]=h[a-1],y[5]=p[a-1]),a>1&&(y[8]=o[a-2],y[10]=h[a-2],y[11]=p[a-2]),a<o.length-1&&(y[1]=o[a+1],y[6]=h[a+1],y[7]=p[a+1]),a<o.length-2&&(y[9]=o[a+2],y[12]=h[a+2],y[13]=p[a+2]);for(let A of y)if(Bi.adjustRowNumber(c,A))return}static adjustRowNumber(t,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===t.getBucket()?(t.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,a){this.detectionResultColumns[t]=a}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Oi;for(let o=0;o<t.getCodewords().length;o++){a.format("CW %3d:",o);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){a.format("    |   ");continue}let h=this.detectionResultColumns[c].getCodewords()[o];if(h==null){a.format("    |   ");continue}a.format(" %3d|%3d",h.getRowNumber(),h.getValue())}a.format("%n")}return a.toString()}}class yi{constructor(t,a,o,c){this.rowNumber=yi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(a),this.bucket=Math.trunc(o),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==yi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}yi.BARCODE_ROW_UNKNOWN=-1;class or{static initialize(){for(let t=0;t<at.SYMBOL_TABLE.length;t++){let a=at.SYMBOL_TABLE[t],o=a&1;for(let c=0;c<at.BARS_IN_MODULE;c++){let h=0;for(;(a&1)===o;)h+=1,a>>=1;o=a&1,or.RATIOS_TABLE[t]||(or.RATIOS_TABLE[t]=new Array(at.BARS_IN_MODULE)),or.RATIOS_TABLE[t][at.BARS_IN_MODULE-c-1]=Math.fround(h/at.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let a=or.getDecodedCodewordValue(or.sampleBitCounts(t));return a!==-1?a:or.getClosestDecodedValue(t)}static sampleBitCounts(t){let a=Xe.sum(t),o=new Int32Array(at.BARS_IN_MODULE),c=0,h=0;for(let p=0;p<at.MODULES_IN_CODEWORD;p++){let y=a/(2*at.MODULES_IN_CODEWORD)+p*a/at.MODULES_IN_CODEWORD;h+t[c]<=y&&(h+=t[c],c++),o[c]++}return o}static getDecodedCodewordValue(t){let a=or.getBitValue(t);return at.getCodeword(a)===-1?-1:a}static getBitValue(t){let a=0;for(let o=0;o<t.length;o++)for(let c=0;c<t[o];c++)a=a<<1|(o%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(t){let a=Xe.sum(t),o=new Array(at.BARS_IN_MODULE);if(a>1)for(let p=0;p<o.length;p++)o[p]=Math.fround(t[p]/a);let c=an.MAX_VALUE,h=-1;this.bSymbolTableReady||or.initialize();for(let p=0;p<or.RATIOS_TABLE.length;p++){let y=0,A=or.RATIOS_TABLE[p];for(let _=0;_<at.BARS_IN_MODULE;_++){let R=Math.fround(A[_]-o[_]);if(y+=Math.fround(R*R),y>=c)break}y<c&&(c=y,h=at.SYMBOL_TABLE[p])}return h}}or.bSymbolTableReady=!1,or.RATIOS_TABLE=new Array(at.SYMBOL_TABLE.length).map(P=>new Array(at.BARS_IN_MODULE));class ol{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class ul{static parseLong(t,a=void 0){return parseInt(t,a)}}class Ia extends g{}Ia.kind="NullPointerException";class cl{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,a,o){if(t==null)throw new Ia;if(a<0||a>t.length||o<0||a+o>t.length||a+o<0)throw new B;if(o===0)return;for(let c=0;c<o;c++)this.write(t[a+c])}flush(){}close(){}}class cu extends g{}class Lc extends cl{constructor(t=32){if(super(),this.count=0,t<0)throw new C("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let o=this.buf.length<<1;if(o-t<0&&(o=t),o<0){if(t<0)throw new cu;o=k.MAX_VALUE}this.buf=M.copyOfUint8Array(this.buf,o)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,a,o){if(a<0||a>t.length||o<0||a+o-t.length>0)throw new B;this.ensureCapacity(this.count+o),N.arraycopy(t,a,this.buf,this.count,o),this.count+=o}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return M.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Vt;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Vt||(Vt={}));function fu(){if(typeof window<"u")return window.BigInt||null;if(typeof Zs<"u")return Zs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ma;function Ri(P){if(typeof Ma>"u"&&(Ma=fu()),Ma===null)throw new Error("BigInt is not supported!");return Ma(P)}function kc(){let P=[];P[0]=Ri(1);let t=Ri(900);P[1]=t;for(let a=2;a<16;a++)P[a]=P[a-1]*t;return P}class Ee{static decode(t,a){let o=new ne(""),c=X.ISO8859_1;o.enableDecoding(c);let h=1,p=t[h++],y=new ol;for(;h<t[0];){switch(p){case Ee.TEXT_COMPACTION_MODE_LATCH:h=Ee.textCompaction(t,h,o);break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:h=Ee.byteCompaction(p,t,c,h,o);break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(t[h++]);break;case Ee.NUMERIC_COMPACTION_MODE_LATCH:h=Ee.numericCompaction(t,h,o);break;case Ee.ECI_CHARSET:X.getCharacterSetECIByValue(t[h++]);break;case Ee.ECI_GENERAL_PURPOSE:h+=2;break;case Ee.ECI_USER_DEFINED:h++;break;case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:h=Ee.decodeMacroBlock(t,h,y);break;case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:throw new Y;default:h--,h=Ee.textCompaction(t,h,o);break}if(h<t.length)p=t[h++];else throw Y.getFormatInstance()}if(o.length()===0)throw Y.getFormatInstance();let A=new Ye(null,o.toString(),null,a);return A.setOther(y),A}static decodeMacroBlock(t,a,o){if(a+Ee.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Y.getFormatInstance();let c=new Int32Array(Ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<Ee.NUMBER_OF_SEQUENCE_CODEWORDS;y++,a++)c[y]=t[a];o.setSegmentIndex(k.parseInt(Ee.decodeBase900toBase10(c,Ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let h=new ne;a=Ee.textCompaction(t,a,h),o.setFileId(h.toString());let p=-1;for(t[a]===Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=a+1);a<t[0];)switch(t[a]){case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,t[a]){case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new ne;a=Ee.textCompaction(t,a+1,y),o.setFileName(y.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let A=new ne;a=Ee.textCompaction(t,a+1,A),o.setSender(A.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let _=new ne;a=Ee.textCompaction(t,a+1,_),o.setAddressee(_.toString());break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let R=new ne;a=Ee.numericCompaction(t,a+1,R),o.setSegmentCount(k.parseInt(R.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let U=new ne;a=Ee.numericCompaction(t,a+1,U),o.setTimestamp(ul.parseLong(U.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let z=new ne;a=Ee.numericCompaction(t,a+1,z),o.setChecksum(k.parseInt(z.toString()));break;case Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let J=new ne;a=Ee.numericCompaction(t,a+1,J),o.setFileSize(ul.parseLong(J.toString()));break;default:throw Y.getFormatInstance()}break;case Ee.MACRO_PDF417_TERMINATOR:a++,o.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(p!==-1){let y=a-p;o.isLastSegment()&&y--,o.setOptionalData(M.copyOfRange(t,p,p+y))}return a}static textCompaction(t,a,o){let c=new Int32Array((t[0]-a)*2),h=new Int32Array((t[0]-a)*2),p=0,y=!1;for(;a<t[0]&&!y;){let A=t[a++];if(A<Ee.TEXT_COMPACTION_MODE_LATCH)c[p]=A/30,c[p+1]=A%30,p+=2;else switch(A){case Ee.TEXT_COMPACTION_MODE_LATCH:c[p++]=Ee.TEXT_COMPACTION_MODE_LATCH;break;case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:a--,y=!0;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[p]=Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,A=t[a++],h[p]=A,p++;break}}return Ee.decodeTextCompaction(c,h,p,o),a}static decodeTextCompaction(t,a,o,c){let h=Vt.ALPHA,p=Vt.ALPHA,y=0;for(;y<o;){let A=t[y],_="";switch(h){case Vt.ALPHA:if(A<26)_=String.fromCharCode(65+A);else switch(A){case 26:_=" ";break;case Ee.LL:h=Vt.LOWER;break;case Ee.ML:h=Vt.MIXED;break;case Ee.PS:p=h,h=Vt.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:h=Vt.ALPHA;break}break;case Vt.LOWER:if(A<26)_=String.fromCharCode(97+A);else switch(A){case 26:_=" ";break;case Ee.AS:p=h,h=Vt.ALPHA_SHIFT;break;case Ee.ML:h=Vt.MIXED;break;case Ee.PS:p=h,h=Vt.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:h=Vt.ALPHA;break}break;case Vt.MIXED:if(A<Ee.PL)_=Ee.MIXED_CHARS[A];else switch(A){case Ee.PL:h=Vt.PUNCT;break;case 26:_=" ";break;case Ee.LL:h=Vt.LOWER;break;case Ee.AL:h=Vt.ALPHA;break;case Ee.PS:p=h,h=Vt.PUNCT_SHIFT;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:h=Vt.ALPHA;break}break;case Vt.PUNCT:if(A<Ee.PAL)_=Ee.PUNCT_CHARS[A];else switch(A){case Ee.PAL:h=Vt.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:h=Vt.ALPHA;break}break;case Vt.ALPHA_SHIFT:if(h=p,A<26)_=String.fromCharCode(65+A);else switch(A){case 26:_=" ";break;case Ee.TEXT_COMPACTION_MODE_LATCH:h=Vt.ALPHA;break}break;case Vt.PUNCT_SHIFT:if(h=p,A<Ee.PAL)_=Ee.PUNCT_CHARS[A];else switch(A){case Ee.PAL:h=Vt.ALPHA;break;case Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[y]);break;case Ee.TEXT_COMPACTION_MODE_LATCH:h=Vt.ALPHA;break}break}_!==""&&c.append(_),y++}}static byteCompaction(t,a,o,c,h){let p=new Lc,y=0,A=0,_=!1;switch(t){case Ee.BYTE_COMPACTION_MODE_LATCH:let R=new Int32Array(6),U=a[c++];for(;c<a[0]&&!_;)switch(R[y++]=U,A=900*A+U,U=a[c++],U){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:c--,_=!0;break;default:if(y%5===0&&y>0){for(let z=0;z<6;++z)p.write(Number(Ri(A)>>Ri(8*(5-z))));A=0,y=0}break}c===a[0]&&U<Ee.TEXT_COMPACTION_MODE_LATCH&&(R[y++]=U);for(let z=0;z<y;z++)p.write(R[z]);break;case Ee.BYTE_COMPACTION_MODE_LATCH_6:for(;c<a[0]&&!_;){let z=a[c++];if(z<Ee.TEXT_COMPACTION_MODE_LATCH)y++,A=900*A+z;else switch(z){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.NUMERIC_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:c--,_=!0;break}if(y%5===0&&y>0){for(let J=0;J<6;++J)p.write(Number(Ri(A)>>Ri(8*(5-J))));A=0,y=0}}break}return h.append(K.decode(p.toByteArray(),o)),c}static numericCompaction(t,a,o){let c=0,h=!1,p=new Int32Array(Ee.MAX_NUMERIC_CODEWORDS);for(;a<t[0]&&!h;){let y=t[a++];if(a===t[0]&&(h=!0),y<Ee.TEXT_COMPACTION_MODE_LATCH)p[c]=y,c++;else switch(y){case Ee.TEXT_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH:case Ee.BYTE_COMPACTION_MODE_LATCH_6:case Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ee.MACRO_PDF417_TERMINATOR:a--,h=!0;break}(c%Ee.MAX_NUMERIC_CODEWORDS===0||y===Ee.NUMERIC_COMPACTION_MODE_LATCH||h)&&c>0&&(o.append(Ee.decodeBase900toBase10(p,c)),c=0)}return a}static decodeBase900toBase10(t,a){let o=Ri(0);for(let h=0;h<a;h++)o+=Ee.EXP900[a-h-1]*Ri(t[h]);let c=o.toString();if(c.charAt(0)!=="1")throw new Y;return c.substring(1)}}Ee.TEXT_COMPACTION_MODE_LATCH=900,Ee.BYTE_COMPACTION_MODE_LATCH=901,Ee.NUMERIC_COMPACTION_MODE_LATCH=902,Ee.BYTE_COMPACTION_MODE_LATCH_6=924,Ee.ECI_USER_DEFINED=925,Ee.ECI_GENERAL_PURPOSE=926,Ee.ECI_CHARSET=927,Ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ee.MACRO_PDF417_TERMINATOR=922,Ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ee.MAX_NUMERIC_CODEWORDS=15,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ee.PL=25,Ee.LL=27,Ee.AS=27,Ee.ML=28,Ee.AL=28,Ee.PS=29,Ee.PAL=29,Ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ee.EXP900=fu()?kc():[],Ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Et{constructor(){}static decode(t,a,o,c,h,p,y){let A=new Di(t,a,o,c,h),_=null,R=null,U;for(let ae=!0;;ae=!1){if(a!=null&&(_=Et.getRowIndicatorColumn(t,A,a,!0,p,y)),c!=null&&(R=Et.getRowIndicatorColumn(t,A,c,!1,p,y)),U=Et.merge(_,R),U==null)throw te.getNotFoundInstance();let le=U.getBoundingBox();if(ae&&le!=null&&(le.getMinY()<A.getMinY()||le.getMaxY()>A.getMaxY()))A=le;else break}U.setBoundingBox(A);let z=U.getBarcodeColumnCount()+1;U.setDetectionResultColumn(0,_),U.setDetectionResultColumn(z,R);let J=_!=null;for(let ae=1;ae<=z;ae++){let le=J?ae:z-ae;if(U.getDetectionResultColumn(le)!==void 0)continue;let xe;le===0||le===z?xe=new Ni(A,le===0):xe=new Ra(A),U.setDetectionResultColumn(le,xe);let ve=-1,Ie=ve;for(let Me=A.getMinY();Me<=A.getMaxY();Me++){if(ve=Et.getStartColumn(U,le,Me,J),ve<0||ve>A.getMaxX()){if(Ie===-1)continue;ve=Ie}let Be=Et.detectCodeword(t,A.getMinX(),A.getMaxX(),J,ve,Me,p,y);Be!=null&&(xe.setCodeword(Me,Be),Ie=ve,p=Math.min(p,Be.getWidth()),y=Math.max(y,Be.getWidth()))}}return Et.createDecoderResult(U)}static merge(t,a){if(t==null&&a==null)return null;let o=Et.getBarcodeMetadata(t,a);if(o==null)return null;let c=Di.merge(Et.adjustBoundingBox(t),Et.adjustBoundingBox(a));return new Bi(o,c)}static adjustBoundingBox(t){if(t==null)return null;let a=t.getRowHeights();if(a==null)return null;let o=Et.getMax(a),c=0;for(let y of a)if(c+=o-y,y>0)break;let h=t.getCodewords();for(let y=0;c>0&&h[y]==null;y++)c--;let p=0;for(let y=a.length-1;y>=0&&(p+=o-a[y],!(a[y]>0));y--);for(let y=h.length-1;p>0&&h[y]==null;y--)p--;return t.getBoundingBox().addMissingRows(c,p,t.isLeft())}static getMax(t){let a=-1;for(let o of t)a=Math.max(a,o);return a}static getBarcodeMetadata(t,a){let o;if(t==null||(o=t.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let c;return a==null||(c=a.getBarcodeMetadata())==null?o:o.getColumnCount()!==c.getColumnCount()&&o.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&o.getRowCount()!==c.getRowCount()?null:o}static getRowIndicatorColumn(t,a,o,c,h,p){let y=new Ni(a,c);for(let A=0;A<2;A++){let _=A===0?1:-1,R=Math.trunc(Math.trunc(o.getX()));for(let U=Math.trunc(Math.trunc(o.getY()));U<=a.getMaxY()&&U>=a.getMinY();U+=_){let z=Et.detectCodeword(t,0,t.getWidth(),c,R,U,h,p);z!=null&&(y.setCodeword(U,z),c?R=z.getStartX():R=z.getEndX())}}return y}static adjustCodewordCount(t,a){let o=a[0][1],c=o.getValue(),h=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Et.getNumberOfECCodeWords(t.getBarcodeECLevel());if(c.length===0){if(h<1||h>at.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();o.setValue(h)}else c[0]!==h&&o.setValue(h)}static createDecoderResult(t){let a=Et.createBarcodeMatrix(t);Et.adjustCodewordCount(t,a);let o=new Array,c=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),h=[],p=new Array;for(let A=0;A<t.getBarcodeRowCount();A++)for(let _=0;_<t.getBarcodeColumnCount();_++){let R=a[A][_+1].getValue(),U=A*t.getBarcodeColumnCount()+_;R.length===0?o.push(U):R.length===1?c[U]=R[0]:(p.push(U),h.push(R))}let y=new Array(h.length);for(let A=0;A<y.length;A++)y[A]=h[A];return Et.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),c,at.toIntArray(o),at.toIntArray(p),y)}static createDecoderResultFromAmbiguousValues(t,a,o,c,h){let p=new Int32Array(c.length),y=100;for(;y-- >0;){for(let A=0;A<p.length;A++)a[c[A]]=h[A][p[A]];try{return Et.decodeCodewords(a,t,o)}catch(A){if(!(A instanceof T))throw A}if(p.length===0)throw T.getChecksumInstance();for(let A=0;A<p.length;A++)if(p[A]<h[A].length-1){p[A]++;break}else if(p[A]=0,A===p.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(t){let a=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let c=0;c<a.length;c++)for(let h=0;h<a[c].length;h++)a[c][h]=new Mn;let o=0;for(let c of t.getDetectionResultColumns()){if(c!=null){for(let h of c.getCodewords())if(h!=null){let p=h.getRowNumber();if(p>=0){if(p>=a.length)continue;a[p][o].setValue(h.getValue())}}}o++}return a}static isValidBarcodeColumn(t,a){return a>=0&&a<=t.getBarcodeColumnCount()+1}static getStartColumn(t,a,o,c){let h=c?1:-1,p=null;if(Et.isValidBarcodeColumn(t,a-h)&&(p=t.getDetectionResultColumn(a-h).getCodeword(o)),p!=null)return c?p.getEndX():p.getStartX();if(p=t.getDetectionResultColumn(a).getCodewordNearby(o),p!=null)return c?p.getStartX():p.getEndX();if(Et.isValidBarcodeColumn(t,a-h)&&(p=t.getDetectionResultColumn(a-h).getCodewordNearby(o)),p!=null)return c?p.getEndX():p.getStartX();let y=0;for(;Et.isValidBarcodeColumn(t,a-h);){a-=h;for(let A of t.getDetectionResultColumn(a).getCodewords())if(A!=null)return(c?A.getEndX():A.getStartX())+h*y*(A.getEndX()-A.getStartX());y++}return c?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,a,o,c,h,p,y,A){h=Et.adjustCodewordStartColumn(t,a,o,c,h,p);let _=Et.getModuleBitCount(t,a,o,c,h,p);if(_==null)return null;let R,U=Xe.sum(_);if(c)R=h+U;else{for(let ae=0;ae<_.length/2;ae++){let le=_[ae];_[ae]=_[_.length-1-ae],_[_.length-1-ae]=le}R=h,h=R-U}if(!Et.checkCodewordSkew(U,y,A))return null;let z=or.getDecodedValue(_),J=at.getCodeword(z);return J===-1?null:new yi(h,R,Et.getCodewordBucketNumber(z),J)}static getModuleBitCount(t,a,o,c,h,p){let y=h,A=new Int32Array(8),_=0,R=c?1:-1,U=c;for(;(c?y<o:y>=a)&&_<A.length;)t.get(y,p)===U?(A[_]++,y+=R):(_++,U=!U);return _===A.length||y===(c?o:a)&&_===A.length-1?A:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,a,o,c,h,p){let y=h,A=c?-1:1;for(let _=0;_<2;_++){for(;(c?y>=a:y<o)&&c===t.get(y,p);){if(Math.abs(h-y)>Et.CODEWORD_SKEW_SIZE)return h;y+=A}A=-A,c=!c}return y}static checkCodewordSkew(t,a,o){return a-Et.CODEWORD_SKEW_SIZE<=t&&t<=o+Et.CODEWORD_SKEW_SIZE}static decodeCodewords(t,a,o){if(t.length===0)throw Y.getFormatInstance();let c=1<<a+1,h=Et.correctErrors(t,o,c);Et.verifyCodewordCount(t,c);let p=Ee.decode(t,""+a);return p.setErrorsCorrected(h),p.setErasures(o.length),p}static correctErrors(t,a,o){if(a!=null&&a.length>o/2+Et.MAX_ERRORS||o<0||o>Et.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return Et.errorCorrection.decode(t,o,a)}static verifyCodewordCount(t,a){if(t.length<4)throw Y.getFormatInstance();let o=t[0];if(o>t.length)throw Y.getFormatInstance();if(o===0)if(a<t.length)t[0]=t.length-a;else throw Y.getFormatInstance()}static getBitCountForCodeword(t){let a=new Int32Array(8),o=0,c=a.length-1;for(;!((t&1)!==o&&(o=t&1,c--,c<0));)a[c]++,t>>=1;return a}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Et.getCodewordBucketNumber(Et.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let a=new Oi;for(let o=0;o<t.length;o++){a.format("Row %2d: ",o);for(let c=0;c<t[o].length;c++){let h=t[o][c];h.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",h.getValue()[0],h.getConfidence(h.getValue()[0]))}a.format("%n")}return a.toString()}}Et.CODEWORD_SKEW_SIZE=2,Et.MAX_ERRORS=3,Et.MAX_EC_CODEWORDS=512,Et.errorCorrection=new vs;class Hn{decode(t,a=null){let o=Hn.decode(t,a,!1);if(o==null||o.length===0||o[0]==null)throw te.getNotFoundInstance();return o[0]}decodeMultiple(t,a=null){try{return Hn.decode(t,a,!0)}catch(o){throw o instanceof Y||o instanceof T?te.getNotFoundInstance():o}}static decode(t,a,o){const c=new Array,h=ht.detectMultiple(t,a,o);for(const p of h.getPoints()){const y=Et.decode(h.getBits(),p[4],p[5],p[6],p[7],Hn.getMinCodewordWidth(p),Hn.getMaxCodewordWidth(p)),A=new se(y.getText(),y.getRawBytes(),void 0,p,me.PDF_417);A.putMetadata(Te.ERROR_CORRECTION_LEVEL,y.getECLevel());const _=y.getOther();_!=null&&A.putMetadata(Te.PDF417_EXTRA_METADATA,_),c.push(A)}return c.map(p=>p)}static getMaxWidth(t,a){return t==null||a==null?0:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMinWidth(t,a){return t==null||a==null?k.MAX_VALUE:Math.trunc(Math.abs(t.getX()-a.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Hn.getMaxWidth(t[0],t[4]),Hn.getMaxWidth(t[6],t[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.max(Hn.getMaxWidth(t[1],t[5]),Hn.getMaxWidth(t[7],t[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Hn.getMinWidth(t[0],t[4]),Hn.getMinWidth(t[6],t[2])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN),Math.min(Hn.getMinWidth(t[1],t[5]),Hn.getMinWidth(t[7],t[3])*at.MODULES_IN_CODEWORD/at.MODULES_IN_STOP_PATTERN)))}reset(){}}class ws extends g{}ws.kind="ReaderException";class du{constructor(t,a){this.verbose=t===!0,a&&this.setHints(a)}decode(t,a){return a&&this.setHints(a),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const a=!l(t)&&t.get(q.TRY_HARDER)===!0,o=l(t)?null:t.get(q.POSSIBLE_FORMATS),c=new Array;if(!l(o)){const h=o.some(p=>p===me.UPC_A||p===me.UPC_E||p===me.EAN_13||p===me.EAN_8||p===me.CODABAR||p===me.CODE_39||p===me.CODE_93||p===me.CODE_128||p===me.ITF||p===me.RSS_14||p===me.RSS_EXPANDED);h&&!a&&c.push(new lr(t,this.verbose)),o.includes(me.QR_CODE)&&c.push(new Kr),o.includes(me.DATA_MATRIX)&&c.push(new mi),o.includes(me.AZTEC)&&c.push(new fn),o.includes(me.PDF_417)&&c.push(new Hn),h&&a&&c.push(new lr(t,this.verbose))}c.length===0&&(a||c.push(new lr(t,this.verbose)),c.push(new Kr),c.push(new mi),c.push(new fn),c.push(new Hn),a&&c.push(new lr(t,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ws("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(t,this.hints)}catch(o){if(o instanceof ws)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Fc extends j{constructor(t=null,a=500){const o=new du;o.setHints(t),super(o,a)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Pc extends j{constructor(t=500){super(new Hn,t)}}class Uc extends j{constructor(t=500){super(new Kr,t)}}var bs;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(bs||(bs={}));var Dn=bs;class $l{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ct(t,Int32Array.from([1])))}buildGenerator(t){const a=this.cachedGenerators;if(t>=a.length){let o=a[a.length-1];const c=this.field;for(let h=a.length;h<=t;h++){const p=o.multiply(new ct(c,Int32Array.from([1,c.exp(h-1+c.getGeneratorBase())])));a.push(p),o=p}}return a[t]}encode(t,a){if(a===0)throw new C("No error correction bytes");const o=t.length-a;if(o<=0)throw new C("No data bytes provided");const c=this.buildGenerator(a),h=new Int32Array(o);N.arraycopy(t,0,h,0,o);let p=new ct(this.field,h);p=p.multiplyByMonomial(a,1);const A=p.divide(c)[1].getCoefficients(),_=a-A.length;for(let R=0;R<_;R++)t[o+R]=0;N.arraycopy(A,0,t,o+_,A.length)}}class gn{constructor(){}static applyMaskPenaltyRule1(t){return gn.applyMaskPenaltyRule1Internal(t,!0)+gn.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let a=0;const o=t.getArray(),c=t.getWidth(),h=t.getHeight();for(let p=0;p<h-1;p++){const y=o[p];for(let A=0;A<c-1;A++){const _=y[A];_===y[A+1]&&_===o[p+1][A]&&_===o[p+1][A+1]&&a++}}return gn.N2*a}static applyMaskPenaltyRule3(t){let a=0;const o=t.getArray(),c=t.getWidth(),h=t.getHeight();for(let p=0;p<h;p++)for(let y=0;y<c;y++){const A=o[p];y+6<c&&A[y]===1&&A[y+1]===0&&A[y+2]===1&&A[y+3]===1&&A[y+4]===1&&A[y+5]===0&&A[y+6]===1&&(gn.isWhiteHorizontal(A,y-4,y)||gn.isWhiteHorizontal(A,y+7,y+11))&&a++,p+6<h&&o[p][y]===1&&o[p+1][y]===0&&o[p+2][y]===1&&o[p+3][y]===1&&o[p+4][y]===1&&o[p+5][y]===0&&o[p+6][y]===1&&(gn.isWhiteVertical(o,y,p-4,p)||gn.isWhiteVertical(o,y,p+7,p+11))&&a++}return a*gn.N3}static isWhiteHorizontal(t,a,o){a=Math.max(a,0),o=Math.min(o,t.length);for(let c=a;c<o;c++)if(t[c]===1)return!1;return!0}static isWhiteVertical(t,a,o,c){o=Math.max(o,0),c=Math.min(c,t.length);for(let h=o;h<c;h++)if(t[h][a]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let a=0;const o=t.getArray(),c=t.getWidth(),h=t.getHeight();for(let A=0;A<h;A++){const _=o[A];for(let R=0;R<c;R++)_[R]===1&&a++}const p=t.getHeight()*t.getWidth();return Math.floor(Math.abs(a*2-p)*10/p)*gn.N4}static getDataMaskBit(t,a,o){let c,h;switch(t){case 0:c=o+a&1;break;case 1:c=o&1;break;case 2:c=a%3;break;case 3:c=(o+a)%3;break;case 4:c=Math.floor(o/2)+Math.floor(a/3)&1;break;case 5:h=o*a,c=(h&1)+h%3;break;case 6:h=o*a,c=(h&1)+h%3&1;break;case 7:h=o*a,c=h%3+(o+a&1)&1;break;default:throw new C("Invalid mask pattern: "+t)}return c===0}static applyMaskPenaltyRule1Internal(t,a){let o=0;const c=a?t.getHeight():t.getWidth(),h=a?t.getWidth():t.getHeight(),p=t.getArray();for(let y=0;y<c;y++){let A=0,_=-1;for(let R=0;R<h;R++){const U=a?p[y][R]:p[R][y];U===_?A++:(A>=5&&(o+=gn.N1+(A-5)),A=1,_=U)}A>=5&&(o+=gn.N1+(A-5))}return o}}gn.N1=3,gn.N2=3,gn.N3=40,gn.N4=10;class As{constructor(t,a){this.width=t,this.height=a;const o=new Array(a);for(let c=0;c!==a;c++)o[c]=new Uint8Array(t);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(t,a){return this.bytes[a][t]}getArray(){return this.bytes}setNumber(t,a,o){this.bytes[a][t]=o}setBoolean(t,a,o){this.bytes[a][t]=o?1:0}clear(t){for(const a of this.bytes)M.fill(a,t)}equals(t){if(!(t instanceof As))return!1;const a=t;if(this.width!==a.width||this.height!==a.height)return!1;for(let o=0,c=this.height;o<c;++o){const h=this.bytes[o],p=a.bytes[o];for(let y=0,A=this.width;y<A;++y)if(h[y]!==p[y])return!1}return!0}toString(){const t=new ne;for(let a=0,o=this.height;a<o;++a){const c=this.bytes[a];for(let h=0,p=this.width;h<p;++h)switch(c[h]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Wi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ne;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Wi.NUM_MASK_PATTERNS}}Wi.NUM_MASK_PATTERNS=8;class Yt extends g{}Yt.kind="WriterException";class nt{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,a,o,c,h){nt.clearMatrix(h),nt.embedBasicPatterns(o,h),nt.embedTypeInfo(a,c,h),nt.maybeEmbedVersionInfo(o,h),nt.embedDataBits(t,c,h)}static embedBasicPatterns(t,a){nt.embedPositionDetectionPatternsAndSeparators(a),nt.embedDarkDotAtLeftBottomCorner(a),nt.maybeEmbedPositionAdjustmentPatterns(t,a),nt.embedTimingPatterns(a)}static embedTypeInfo(t,a,o){const c=new V;nt.makeTypeInfoBits(t,a,c);for(let h=0,p=c.getSize();h<p;++h){const y=c.get(c.getSize()-1-h),A=nt.TYPE_INFO_COORDINATES[h],_=A[0],R=A[1];if(o.setBoolean(_,R,y),h<8){const U=o.getWidth()-h-1;o.setBoolean(U,8,y)}else{const z=o.getHeight()-7+(h-8);o.setBoolean(8,z,y)}}}static maybeEmbedVersionInfo(t,a){if(t.getVersionNumber()<7)return;const o=new V;nt.makeVersionInfoBits(t,o);let c=6*3-1;for(let h=0;h<6;++h)for(let p=0;p<3;++p){const y=o.get(c);c--,a.setBoolean(h,a.getHeight()-11+p,y),a.setBoolean(a.getHeight()-11+p,h,y)}}static embedDataBits(t,a,o){let c=0,h=-1,p=o.getWidth()-1,y=o.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);y>=0&&y<o.getHeight();){for(let A=0;A<2;++A){const _=p-A;if(!nt.isEmpty(o.get(_,y)))continue;let R;c<t.getSize()?(R=t.get(c),++c):R=!1,a!==255&&gn.getDataMaskBit(a,_,y)&&(R=!R),o.setBoolean(_,y,R)}y+=h}h=-h,y+=h,p-=2}if(c!==t.getSize())throw new Yt("Not all bits consumed: "+c+"/"+t.getSize())}static findMSBSet(t){return 32-k.numberOfLeadingZeros(t)}static calculateBCHCode(t,a){if(a===0)throw new C("0 polynomial");const o=nt.findMSBSet(a);for(t<<=o-1;nt.findMSBSet(t)>=o;)t^=a<<nt.findMSBSet(t)-o;return t}static makeTypeInfoBits(t,a,o){if(!Wi.isValidMaskPattern(a))throw new Yt("Invalid mask pattern");const c=t.getBits()<<3|a;o.appendBits(c,5);const h=nt.calculateBCHCode(c,nt.TYPE_INFO_POLY);o.appendBits(h,10);const p=new V;if(p.appendBits(nt.TYPE_INFO_MASK_PATTERN,15),o.xor(p),o.getSize()!==15)throw new Yt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(t,a){a.appendBits(t.getVersionNumber(),6);const o=nt.calculateBCHCode(t.getVersionNumber(),nt.VERSION_INFO_POLY);if(a.appendBits(o,12),a.getSize()!==18)throw new Yt("should not happen but we got: "+a.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let a=8;a<t.getWidth()-8;++a){const o=(a+1)%2;nt.isEmpty(t.get(a,6))&&t.setNumber(a,6,o),nt.isEmpty(t.get(6,a))&&t.setNumber(6,a,o)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Yt;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,a,o){for(let c=0;c<8;++c){if(!nt.isEmpty(o.get(t+c,a)))throw new Yt;o.setNumber(t+c,a,0)}}static embedVerticalSeparationPattern(t,a,o){for(let c=0;c<7;++c){if(!nt.isEmpty(o.get(t,a+c)))throw new Yt;o.setNumber(t,a+c,0)}}static embedPositionAdjustmentPattern(t,a,o){for(let c=0;c<5;++c){const h=nt.POSITION_ADJUSTMENT_PATTERN[c];for(let p=0;p<5;++p)o.setNumber(t+p,a+c,h[p])}}static embedPositionDetectionPattern(t,a,o){for(let c=0;c<7;++c){const h=nt.POSITION_DETECTION_PATTERN[c];for(let p=0;p<7;++p)o.setNumber(t+p,a+c,h[p])}}static embedPositionDetectionPatternsAndSeparators(t){const a=nt.POSITION_DETECTION_PATTERN[0].length;nt.embedPositionDetectionPattern(0,0,t),nt.embedPositionDetectionPattern(t.getWidth()-a,0,t),nt.embedPositionDetectionPattern(0,t.getWidth()-a,t);const o=8;nt.embedHorizontalSeparationPattern(0,o-1,t),nt.embedHorizontalSeparationPattern(t.getWidth()-o,o-1,t),nt.embedHorizontalSeparationPattern(0,t.getWidth()-o,t);const c=7;nt.embedVerticalSeparationPattern(c,0,t),nt.embedVerticalSeparationPattern(t.getHeight()-c-1,0,t),nt.embedVerticalSeparationPattern(c,t.getHeight()-c,t)}static maybeEmbedPositionAdjustmentPatterns(t,a){if(t.getVersionNumber()<2)return;const o=t.getVersionNumber()-1,c=nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let h=0,p=c.length;h!==p;h++){const y=c[h];if(y>=0)for(let A=0;A!==p;A++){const _=c[A];_>=0&&nt.isEmpty(a.get(_,y))&&nt.embedPositionAdjustmentPattern(_-2,y-2,a)}}}}nt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),nt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),nt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),nt.VERSION_INFO_POLY=7973,nt.TYPE_INFO_POLY=1335,nt.TYPE_INFO_MASK_PATTERN=21522;class jc{constructor(t,a){this.dataBytes=t,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class nn{constructor(){}static calculateMaskPenalty(t){return gn.applyMaskPenaltyRule1(t)+gn.applyMaskPenaltyRule2(t)+gn.applyMaskPenaltyRule3(t)+gn.applyMaskPenaltyRule4(t)}static encode(t,a,o=null){let c=nn.DEFAULT_BYTE_MODE_ENCODING;const h=o!==null&&o.get(Dn.CHARACTER_SET)!==void 0;h&&(c=o.get(Dn.CHARACTER_SET).toString());const p=this.chooseMode(t,c),y=new V;if(p===et.BYTE&&(h||nn.DEFAULT_BYTE_MODE_ENCODING!==c)){const Me=X.getCharacterSetECIByName(c);Me!==void 0&&this.appendECI(Me,y)}this.appendModeInfo(p,y);const A=new V;this.appendBytes(t,p,A,c);let _;if(o!==null&&o.get(Dn.QR_VERSION)!==void 0){const Me=Number.parseInt(o.get(Dn.QR_VERSION).toString(),10);_=Ge.getVersionForNumber(Me);const Be=this.calculateBitsNeeded(p,y,A,_);if(!this.willFit(Be,_,a))throw new Yt("Data too big for requested version")}else _=this.recommendVersion(a,p,y,A);const R=new V;R.appendBitArray(y);const U=p===et.BYTE?A.getSizeInBytes():t.length;this.appendLengthInfo(U,_,p,R),R.appendBitArray(A);const z=_.getECBlocksForLevel(a),J=_.getTotalCodewords()-z.getTotalECCodewords();this.terminateBits(J,R);const ae=this.interleaveWithECBytes(R,_.getTotalCodewords(),J,z.getNumBlocks()),le=new Wi;le.setECLevel(a),le.setMode(p),le.setVersion(_);const xe=_.getDimensionForVersion(),ve=new As(xe,xe),Ie=this.chooseMaskPattern(ae,a,_,ve);return le.setMaskPattern(Ie),nt.buildMatrix(ae,a,_,Ie,ve),le.setMatrix(ve),le}static recommendVersion(t,a,o,c){const h=this.calculateBitsNeeded(a,o,c,Ge.getVersionForNumber(1)),p=this.chooseVersion(h,t),y=this.calculateBitsNeeded(a,o,c,p);return this.chooseVersion(y,t)}static calculateBitsNeeded(t,a,o,c){return a.getSize()+t.getCharacterCountBits(c)+o.getSize()}static getAlphanumericCode(t){return t<nn.ALPHANUMERIC_TABLE.length?nn.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,a=null){if(X.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(t))return et.KANJI;let o=!1,c=!1;for(let h=0,p=t.length;h<p;++h){const y=t.charAt(h);if(nn.isDigit(y))o=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)c=!0;else return et.BYTE}return c?et.ALPHANUMERIC:o?et.NUMERIC:et.BYTE}static isOnlyDoubleByteKanji(t){let a;try{a=K.encode(t,X.SJIS)}catch{return!1}const o=a.length;if(o%2!==0)return!1;for(let c=0;c<o;c+=2){const h=a[c]&255;if((h<129||h>159)&&(h<224||h>235))return!1}return!0}static chooseMaskPattern(t,a,o,c){let h=Number.MAX_SAFE_INTEGER,p=-1;for(let y=0;y<Wi.NUM_MASK_PATTERNS;y++){nt.buildMatrix(t,a,o,y,c);let A=this.calculateMaskPenalty(c);A<h&&(h=A,p=y)}return p}static chooseVersion(t,a){for(let o=1;o<=40;o++){const c=Ge.getVersionForNumber(o);if(nn.willFit(t,c,a))return c}throw new Yt("Data too big")}static willFit(t,a,o){const c=a.getTotalCodewords(),p=a.getECBlocksForLevel(o).getTotalECCodewords(),y=c-p,A=(t+7)/8;return y>=A}static terminateBits(t,a){const o=t*8;if(a.getSize()>o)throw new Yt("data bits cannot fit in the QR Code"+a.getSize()+" > "+o);for(let p=0;p<4&&a.getSize()<o;++p)a.appendBit(!1);const c=a.getSize()&7;if(c>0)for(let p=c;p<8;p++)a.appendBit(!1);const h=t-a.getSizeInBytes();for(let p=0;p<h;++p)a.appendBits((p&1)===0?236:17,8);if(a.getSize()!==o)throw new Yt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,a,o,c,h,p){if(c>=o)throw new Yt("Block ID too large");const y=t%o,A=o-y,_=Math.floor(t/o),R=_+1,U=Math.floor(a/o),z=U+1,J=_-U,ae=R-z;if(J!==ae)throw new Yt("EC bytes mismatch");if(o!==A+y)throw new Yt("RS blocks mismatch");if(t!==(U+J)*A+(z+ae)*y)throw new Yt("Total bytes mismatch");c<A?(h[0]=U,p[0]=J):(h[0]=z,p[0]=ae)}static interleaveWithECBytes(t,a,o,c){if(t.getSizeInBytes()!==o)throw new Yt("Number of bits and data bytes does not match");let h=0,p=0,y=0;const A=new Array;for(let R=0;R<c;++R){const U=new Int32Array(1),z=new Int32Array(1);nn.getNumDataBytesAndNumECBytesForBlockID(a,o,c,R,U,z);const J=U[0],ae=new Uint8Array(J);t.toBytes(8*h,ae,0,J);const le=nn.generateECBytes(ae,z[0]);A.push(new jc(ae,le)),p=Math.max(p,J),y=Math.max(y,le.length),h+=U[0]}if(o!==h)throw new Yt("Data bytes does not match offset");const _=new V;for(let R=0;R<p;++R)for(const U of A){const z=U.getDataBytes();R<z.length&&_.appendBits(z[R],8)}for(let R=0;R<y;++R)for(const U of A){const z=U.getErrorCorrectionBytes();R<z.length&&_.appendBits(z[R],8)}if(a!==_.getSizeInBytes())throw new Yt("Interleaving error: "+a+" and "+_.getSizeInBytes()+" differ.");return _}static generateECBytes(t,a){const o=t.length,c=new Int32Array(o+a);for(let p=0;p<o;p++)c[p]=t[p]&255;new $l(He.QR_CODE_FIELD_256).encode(c,a);const h=new Uint8Array(a);for(let p=0;p<a;p++)h[p]=c[o+p];return h}static appendModeInfo(t,a){a.appendBits(t.getBits(),4)}static appendLengthInfo(t,a,o,c){const h=o.getCharacterCountBits(a);if(t>=1<<h)throw new Yt(t+" is bigger than "+((1<<h)-1));c.appendBits(t,h)}static appendBytes(t,a,o,c){switch(a){case et.NUMERIC:nn.appendNumericBytes(t,o);break;case et.ALPHANUMERIC:nn.appendAlphanumericBytes(t,o);break;case et.BYTE:nn.append8BitBytes(t,o,c);break;case et.KANJI:nn.appendKanjiBytes(t,o);break;default:throw new Yt("Invalid mode: "+a)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const a=nn.getDigit(t);return a>=0&&a<=9}static appendNumericBytes(t,a){const o=t.length;let c=0;for(;c<o;){const h=nn.getDigit(t.charAt(c));if(c+2<o){const p=nn.getDigit(t.charAt(c+1)),y=nn.getDigit(t.charAt(c+2));a.appendBits(h*100+p*10+y,10),c+=3}else if(c+1<o){const p=nn.getDigit(t.charAt(c+1));a.appendBits(h*10+p,7),c+=2}else a.appendBits(h,4),c++}}static appendAlphanumericBytes(t,a){const o=t.length;let c=0;for(;c<o;){const h=nn.getAlphanumericCode(t.charCodeAt(c));if(h===-1)throw new Yt;if(c+1<o){const p=nn.getAlphanumericCode(t.charCodeAt(c+1));if(p===-1)throw new Yt;a.appendBits(h*45+p,11),c+=2}else a.appendBits(h,6),c++}}static append8BitBytes(t,a,o){let c;try{c=K.encode(t,o)}catch(h){throw new Yt(h)}for(let h=0,p=c.length;h!==p;h++){const y=c[h];a.appendBits(y,8)}}static appendKanjiBytes(t,a){let o;try{o=K.encode(t,X.SJIS)}catch(h){throw new Yt(h)}const c=o.length;for(let h=0;h<c;h+=2){const p=o[h]&255,y=o[h+1]&255,A=p<<8&4294967295|y;let _=-1;if(A>=33088&&A<=40956?_=A-33088:A>=57408&&A<=60351&&(_=A-49472),_===-1)throw new Yt("Invalid byte sequence");const R=(_>>8)*192+(_&255);a.appendBits(R,13)}}static appendECI(t,a){a.appendBits(et.ECI.getBits(),4),a.appendBits(t.getValue(),8)}}nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),nn.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Qi{write(t,a,o,c=null){if(t.length===0)throw new C("Found empty contents");if(a<0||o<0)throw new C("Requested dimensions are too small: "+a+"x"+o);let h=At.L,p=Qi.QUIET_ZONE_SIZE;c!==null&&(c.get(Dn.ERROR_CORRECTION)!==void 0&&(h=At.fromString(c.get(Dn.ERROR_CORRECTION).toString())),c.get(Dn.MARGIN)!==void 0&&(p=Number.parseInt(c.get(Dn.MARGIN).toString(),10)));const y=nn.encode(t,h,c);return this.renderResult(y,a,o,p)}writeToDom(t,a,o,c,h=null){typeof t=="string"&&(t=document.querySelector(t));const p=this.write(a,o,c,h);t&&t.appendChild(p)}renderResult(t,a,o,c){const h=t.getMatrix();if(h===null)throw new yt;const p=h.getWidth(),y=h.getHeight(),A=p+c*2,_=y+c*2,R=Math.max(a,A),U=Math.max(o,_),z=Math.min(Math.floor(R/A),Math.floor(U/_)),J=Math.floor((R-p*z)/2),ae=Math.floor((U-y*z)/2),le=this.createSVGElement(R,U);for(let xe=0,ve=ae;xe<y;xe++,ve+=z)for(let Ie=0,Me=J;Ie<p;Ie++,Me+=z)if(h.get(Ie,xe)===1){const Be=this.createSvgRectElement(Me,ve,z,z);le.appendChild(Be)}return le}createSVGElement(t,a){const o=document.createElementNS(Qi.SVG_NS,"svg");return o.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width",a.toString()),o}createSvgRectElement(t,a,o,c){const h=document.createElementNS(Qi.SVG_NS,"rect");return h.setAttributeNS(null,"x",t.toString()),h.setAttributeNS(null,"y",a.toString()),h.setAttributeNS(null,"height",o.toString()),h.setAttributeNS(null,"width",c.toString()),h.setAttributeNS(null,"fill","#000000"),h}}Qi.QUIET_ZONE_SIZE=4,Qi.SVG_NS="http://www.w3.org/2000/svg";class La{encode(t,a,o,c,h){if(t.length===0)throw new C("Found empty contents");if(a!==me.QR_CODE)throw new C("Can only encode QR_CODE, but got "+a);if(o<0||c<0)throw new C(`Requested dimensions are too small: ${o}x${c}`);let p=At.L,y=La.QUIET_ZONE_SIZE;h!==null&&(h.get(Dn.ERROR_CORRECTION)!==void 0&&(p=At.fromString(h.get(Dn.ERROR_CORRECTION).toString())),h.get(Dn.MARGIN)!==void 0&&(y=Number.parseInt(h.get(Dn.MARGIN).toString(),10)));const A=nn.encode(t,p,h);return La.renderResult(A,o,c,y)}static renderResult(t,a,o,c){const h=t.getMatrix();if(h===null)throw new yt;const p=h.getWidth(),y=h.getHeight(),A=p+c*2,_=y+c*2,R=Math.max(a,A),U=Math.max(o,_),z=Math.min(Math.floor(R/A),Math.floor(U/_)),J=Math.floor((R-p*z)/2),ae=Math.floor((U-y*z)/2),le=new de(R,U);for(let xe=0,ve=ae;xe<y;xe++,ve+=z)for(let Ie=0,Me=J;Ie<p;Ie++,Me+=z)h.get(Ie,xe)===1&&le.setRegion(Me,ve,z,z);return le}}La.QUIET_ZONE_SIZE=4;class zc{encode(t,a,o,c,h){let p;switch(a){case me.QR_CODE:p=new La;break;default:throw new C("No encoder available for format "+a)}return p.encode(t,a,o,c,h)}}class Jr extends _e{constructor(t,a,o,c,h,p,y,A){if(super(p,y),this.yuvData=t,this.dataWidth=a,this.dataHeight=o,this.left=c,this.top=h,c+p>a||h+y>o)throw new C("Crop rectangle does not fit within image data.");A&&this.reverseHorizontal(p,y)}getRow(t,a){if(t<0||t>=this.getHeight())throw new C("Requested row is outside the image: "+t);const o=this.getWidth();(a==null||a.length<o)&&(a=new Uint8ClampedArray(o));const c=(t+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,c,a,0,o),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.yuvData;const o=t*a,c=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return N.arraycopy(this.yuvData,h,c,0,o),c;for(let p=0;p<a;p++){const y=p*t;N.arraycopy(this.yuvData,h,c,y,t),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,a,o,c){return new Jr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+a,o,c,!1)}renderThumbnail(){const t=this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(t*a),c=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let p=0;p<a;p++){const y=p*t;for(let A=0;A<t;A++){const _=c[h+A*Jr.THUMBNAIL_SCALE_FACTOR]&255;o[y+A]=4278190080|_*65793}h+=this.dataWidth*Jr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Jr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Jr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,a){const o=this.yuvData;for(let c=0,h=this.top*this.dataWidth+this.left;c<a;c++,h+=this.dataWidth){const p=h+t/2;for(let y=h,A=h+t-1;y<p;y++,A--){const _=o[y];o[y]=o[A],o[A]=_}}}invert(){return new ke(this)}}Jr.THUMBNAIL_SCALE_FACTOR=2;class Cs extends _e{constructor(t,a,o,c,h,p,y){if(super(a,o),this.dataWidth=c,this.dataHeight=h,this.left=p,this.top=y,t.BYTES_PER_ELEMENT===4){const A=a*o,_=new Uint8ClampedArray(A);for(let R=0;R<A;R++){const U=t[R],z=U>>16&255,J=U>>7&510,ae=U&255;_[R]=(z+J+ae)/4&255}this.luminances=_}else this.luminances=t;if(c===void 0&&(this.dataWidth=a),h===void 0&&(this.dataHeight=o),p===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+o>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(t,a){if(t<0||t>=this.getHeight())throw new C("Requested row is outside the image: "+t);const o=this.getWidth();(a==null||a.length<o)&&(a=new Uint8ClampedArray(o));const c=(t+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,c,a,0,o),a}getMatrix(){const t=this.getWidth(),a=this.getHeight();if(t===this.dataWidth&&a===this.dataHeight)return this.luminances;const o=t*a,c=new Uint8ClampedArray(o);let h=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return N.arraycopy(this.luminances,h,c,0,o),c;for(let p=0;p<a;p++){const y=p*t;N.arraycopy(this.luminances,h,c,y,t),h+=this.dataWidth}return c}isCropSupported(){return!0}crop(t,a,o,c){return new Cs(this.luminances,o,c,this.dataWidth,this.dataHeight,this.left+t,this.top+a)}invert(){return new ke(this)}}class ka extends X{static forName(t){return this.getCharacterSetECIByName(t)}}class eo{}eo.ISO_8859_1=X.ISO8859_1;class to{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class no{static singletonList(t){return[t]}static min(t,a){return t.sort(a)[0]}}class hu{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ki extends hu{constructor(t,a,o){super(t),this.value=a,this.bitCount=o}appendTo(t,a){t.appendBits(this.value,this.bitCount)}add(t,a){return new Ki(this,t,a)}addBinaryShift(t,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ki(this,t,a)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+k.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class fl extends Ki{constructor(t,a,o){super(t,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=o}appendTo(t,a){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):o===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(a[this.binaryShiftStart+o],8)}addBinaryShift(t,a){return new fl(this,t,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Fa(P,t,a){return new fl(P,t,a)}function Ss(P,t,a){return new Ki(P,t,a)}const Hc=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ii=0,Ts=1,yr=2,Pa=3,ur=4,qc=new Ki(null,0,0),Ua=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function xu(P){for(let t of P)M.fill(t,-1);return P[Ii][ur]=0,P[Ts][ur]=0,P[Ts][Ii]=28,P[Pa][ur]=0,P[yr][ur]=0,P[yr][Ii]=15,P}const ro=xu(M.createInt32Array(6,6));class Or{constructor(t,a,o,c){this.token=t,this.mode=a,this.binaryShiftByteCount=o,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,a){let o=this.bitCount,c=this.token;if(t!==this.mode){let p=Ua[this.mode][t];c=Ss(c,p&65535,p>>16),o+=p>>16}let h=t===yr?4:5;return c=Ss(c,a,h),new Or(c,t,0,o+h)}shiftAndAppend(t,a){let o=this.token,c=this.mode===yr?4:5;return o=Ss(o,ro[this.mode][t],c),o=Ss(o,a,5),new Or(o,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(t){let a=this.token,o=this.mode,c=this.bitCount;if(this.mode===ur||this.mode===yr){let y=Ua[o][Ii];a=Ss(a,y&65535,y>>16),c+=y>>16,o=Ii}let h=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new Or(a,o,this.binaryShiftByteCount+1,c+h);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(t+1)),p}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Fa(a,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Or(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let a=this.bitCount+(Ua[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?a+=Or.calculateBinaryShiftCost(t)-Or.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(a+=10),a<=t.bitCount}toBitArray(t){let a=[];for(let c=this.endBinaryShift(t.length).token;c!==null;c=c.getPrevious())a.unshift(c);let o=new V;for(const c of a)c.appendTo(o,t);return o}toString(){return $.format("%s bits=%d bytes=%d",Hc[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Or.INITIAL_STATE=new Or(qc,Ii,0,0);function io(P){const t=$.getCharCode(" "),a=$.getCharCode("."),o=$.getCharCode(",");P[Ii][t]=1;const c=$.getCharCode("Z"),h=$.getCharCode("A");for(let z=h;z<=c;z++)P[Ii][z]=z-h+2;P[Ts][t]=1;const p=$.getCharCode("z"),y=$.getCharCode("a");for(let z=y;z<=p;z++)P[Ts][z]=z-y+2;P[yr][t]=1;const A=$.getCharCode("9"),_=$.getCharCode("0");for(let z=_;z<=A;z++)P[yr][z]=z-_+2;P[yr][o]=12,P[yr][a]=13;const R=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let z=0;z<R.length;z++)P[Pa][$.getCharCode(R[z])]=z;const U=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let z=0;z<U.length;z++)$.getCharCode(U[z])>0&&(P[ur][$.getCharCode(U[z])]=z);return P}const dl=io(M.createInt32Array(5,256));class ja{constructor(t){this.text=t}encode(){const t=$.getCharCode(" "),a=$.getCharCode(`
`);let o=no.singletonList(Or.INITIAL_STATE);for(let h=0;h<this.text.length;h++){let p,y=h+1<this.text.length?this.text[h+1]:0;switch(this.text[h]){case $.getCharCode("\r"):p=y===a?2:0;break;case $.getCharCode("."):p=y===t?3:0;break;case $.getCharCode(","):p=y===t?4:0;break;case $.getCharCode(":"):p=y===t?5:0;break;default:p=0}p>0?(o=ja.updateStateListForPair(o,h,p),h++):o=this.updateStateListForChar(o,h)}return no.min(o,(h,p)=>h.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,a){const o=[];for(let c of t)this.updateStateForChar(c,a,o);return ja.simplifyStates(o)}updateStateForChar(t,a,o){let c=this.text[a]&255,h=dl[t.getMode()][c]>0,p=null;for(let y=0;y<=ur;y++){let A=dl[y][c];if(A>0){if(p==null&&(p=t.endBinaryShift(a)),!h||y===t.getMode()||y===yr){const _=p.latchAndAppend(y,A);o.push(_)}if(!h&&ro[t.getMode()][y]>=0){const _=p.shiftAndAppend(y,A);o.push(_)}}}if(t.getBinaryShiftByteCount()>0||dl[t.getMode()][c]===0){let y=t.addBinaryShiftChar(a);o.push(y)}}static updateStateListForPair(t,a,o){const c=[];for(let h of t)this.updateStateForPair(h,a,o,c);return this.simplifyStates(c)}static updateStateForPair(t,a,o,c){let h=t.endBinaryShift(a);if(c.push(h.latchAndAppend(ur,o)),t.getMode()!==ur&&c.push(h.shiftAndAppend(ur,o)),o===3||o===4){let p=h.latchAndAppend(yr,16-o).latchAndAppend(yr,1);c.push(p)}if(t.getBinaryShiftByteCount()>0){let p=t.addBinaryShiftChar(a).addBinaryShiftChar(a+1);c.push(p)}}static simplifyStates(t){let a=[];for(const o of t){let c=!0;for(const h of a){if(h.isBetterThanOrEqualTo(o)){c=!1;break}o.isBetterThanOrEqualTo(h)&&(a=a.filter(p=>p!==h))}c&&a.push(o)}return a}}class Rt{constructor(){}static encodeBytes(t){return Rt.encode(t,Rt.DEFAULT_EC_PERCENT,Rt.DEFAULT_AZTEC_LAYERS)}static encode(t,a,o){let c=new ja(t).encode(),h=k.truncDivision(c.getSize()*a,100)+11,p=c.getSize()+h,y,A,_,R,U;if(o!==Rt.DEFAULT_AZTEC_LAYERS){if(y=o<0,A=Math.abs(o),A>(y?Rt.MAX_NB_BITS_COMPACT:Rt.MAX_NB_BITS))throw new C($.format("Illegal value %s for layers",o));_=Rt.totalBitsInLayer(A,y),R=Rt.WORD_SIZE[A];let Be=_-_%R;if(U=Rt.stuffBits(c,R),U.getSize()+h>Be)throw new C("Data to large for user specified layer");if(y&&U.getSize()>R*64)throw new C("Data to large for user specified layer")}else{R=0,U=null;for(let Be=0;;Be++){if(Be>Rt.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(y=Be<=3,A=y?Be+1:Be,_=Rt.totalBitsInLayer(A,y),p>_)continue;(U==null||R!==Rt.WORD_SIZE[A])&&(R=Rt.WORD_SIZE[A],U=Rt.stuffBits(c,R));let Ct=_-_%R;if(!(y&&U.getSize()>R*64)&&U.getSize()+h<=Ct)break}}let z=Rt.generateCheckWords(U,_,R),J=U.getSize()/R,ae=Rt.generateModeMessage(y,A,J),le=(y?11:14)+A*4,xe=new Int32Array(le),ve;if(y){ve=le;for(let Be=0;Be<xe.length;Be++)xe[Be]=Be}else{ve=le+1+2*k.truncDivision(k.truncDivision(le,2)-1,15);let Be=k.truncDivision(le,2),Ct=k.truncDivision(ve,2);for(let lt=0;lt<Be;lt++){let tr=lt+k.truncDivision(lt,15);xe[Be-lt-1]=Ct-tr-1,xe[Be+lt]=Ct+tr+1}}let Ie=new de(ve);for(let Be=0,Ct=0;Be<A;Be++){let lt=(A-Be)*4+(y?9:12);for(let tr=0;tr<lt;tr++){let Nr=tr*2;for(let nr=0;nr<2;nr++)z.get(Ct+Nr+nr)&&Ie.set(xe[Be*2+nr],xe[Be*2+tr]),z.get(Ct+lt*2+Nr+nr)&&Ie.set(xe[Be*2+tr],xe[le-1-Be*2-nr]),z.get(Ct+lt*4+Nr+nr)&&Ie.set(xe[le-1-Be*2-nr],xe[le-1-Be*2-tr]),z.get(Ct+lt*6+Nr+nr)&&Ie.set(xe[le-1-Be*2-tr],xe[Be*2+nr])}Ct+=lt*8}if(Rt.drawModeMessage(Ie,y,ve,ae),y)Rt.drawBullsEye(Ie,k.truncDivision(ve,2),5);else{Rt.drawBullsEye(Ie,k.truncDivision(ve,2),7);for(let Be=0,Ct=0;Be<k.truncDivision(le,2)-1;Be+=15,Ct+=16)for(let lt=k.truncDivision(ve,2)&1;lt<ve;lt+=2)Ie.set(k.truncDivision(ve,2)-Ct,lt),Ie.set(k.truncDivision(ve,2)+Ct,lt),Ie.set(lt,k.truncDivision(ve,2)-Ct),Ie.set(lt,k.truncDivision(ve,2)+Ct)}let Me=new to;return Me.setCompact(y),Me.setSize(ve),Me.setLayers(A),Me.setCodeWords(J),Me.setMatrix(Ie),Me}static drawBullsEye(t,a,o){for(let c=0;c<o;c+=2)for(let h=a-c;h<=a+c;h++)t.set(h,a-c),t.set(h,a+c),t.set(a-c,h),t.set(a+c,h);t.set(a-o,a-o),t.set(a-o+1,a-o),t.set(a-o,a-o+1),t.set(a+o,a-o),t.set(a+o,a-o+1),t.set(a+o,a+o-1)}static generateModeMessage(t,a,o){let c=new V;return t?(c.appendBits(a-1,2),c.appendBits(o-1,6),c=Rt.generateCheckWords(c,28,4)):(c.appendBits(a-1,5),c.appendBits(o-1,11),c=Rt.generateCheckWords(c,40,4)),c}static drawModeMessage(t,a,o,c){let h=k.truncDivision(o,2);if(a)for(let p=0;p<7;p++){let y=h-3+p;c.get(p)&&t.set(y,h-5),c.get(p+7)&&t.set(h+5,y),c.get(20-p)&&t.set(y,h+5),c.get(27-p)&&t.set(h-5,y)}else for(let p=0;p<10;p++){let y=h-5+p+k.truncDivision(p,5);c.get(p)&&t.set(y,h-7),c.get(p+10)&&t.set(h+7,y),c.get(29-p)&&t.set(y,h+7),c.get(39-p)&&t.set(h-7,y)}}static generateCheckWords(t,a,o){let c=t.getSize()/o,h=new $l(Rt.getGF(o)),p=k.truncDivision(a,o),y=Rt.bitsToWords(t,o,p);h.encode(y,p-c);let A=a%o,_=new V;_.appendBits(0,A);for(const R of Array.from(y))_.appendBits(R,o);return _}static bitsToWords(t,a,o){let c=new Int32Array(o),h,p;for(h=0,p=t.getSize()/a;h<p;h++){let y=0;for(let A=0;A<a;A++)y|=t.get(h*a+A)?1<<a-A-1:0;c[h]=y}return c}static getGF(t){switch(t){case 4:return He.AZTEC_PARAM;case 6:return He.AZTEC_DATA_6;case 8:return He.AZTEC_DATA_8;case 10:return He.AZTEC_DATA_10;case 12:return He.AZTEC_DATA_12;default:throw new C("Unsupported word size "+t)}}static stuffBits(t,a){let o=new V,c=t.getSize(),h=(1<<a)-2;for(let p=0;p<c;p+=a){let y=0;for(let A=0;A<a;A++)(p+A>=c||t.get(p+A))&&(y|=1<<a-1-A);(y&h)===h?(o.appendBits(y&h,a),p--):(y&h)===0?(o.appendBits(y|1,a),p--):o.appendBits(y,a)}return o}static totalBitsInLayer(t,a){return((a?88:112)+16*t)*t}}Rt.DEFAULT_EC_PERCENT=33,Rt.DEFAULT_AZTEC_LAYERS=0,Rt.MAX_NB_BITS=32,Rt.MAX_NB_BITS_COMPACT=4,Rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class hl{encode(t,a,o,c){return this.encodeWithHints(t,a,o,c,null)}encodeWithHints(t,a,o,c,h){let p=eo.ISO_8859_1,y=Rt.DEFAULT_EC_PERCENT,A=Rt.DEFAULT_AZTEC_LAYERS;return h!=null&&(h.has(Dn.CHARACTER_SET)&&(p=ka.forName(h.get(Dn.CHARACTER_SET).toString())),h.has(Dn.ERROR_CORRECTION)&&(y=k.parseInt(h.get(Dn.ERROR_CORRECTION).toString())),h.has(Dn.AZTEC_LAYERS)&&(A=k.parseInt(h.get(Dn.AZTEC_LAYERS).toString()))),hl.encodeLayers(t,a,o,c,p,y,A)}static encodeLayers(t,a,o,c,h,p,y){if(a!==me.AZTEC)throw new C("Can only encode AZTEC, but got "+a);let A=Rt.encode($.getBytes(t,h),p,y);return hl.renderResult(A,o,c)}static renderResult(t,a,o){let c=t.getMatrix();if(c==null)throw new yt;let h=c.getWidth(),p=c.getHeight(),y=Math.max(a,h),A=Math.max(o,p),_=Math.min(y/h,A/p),R=(y-h*_)/2,U=(A-p*_)/2,z=new de(y,A);for(let J=0,ae=U;J<p;J++,ae+=_)for(let le=0,xe=R;le<h;le++,xe+=_)c.get(le,J)&&z.setRegion(xe,ae,_,_);return z}}s.AbstractExpandedDecoder=Xn,s.ArgumentException=w,s.ArithmeticException=ft,s.AztecCode=to,s.AztecCodeReader=fn,s.AztecCodeWriter=hl,s.AztecDecoder=Ke,s.AztecDetector=Bt,s.AztecDetectorResult=Qt,s.AztecEncoder=Rt,s.AztecHighLevelEncoder=ja,s.AztecPoint=$e,s.BarcodeFormat=me,s.Binarizer=O,s.BinaryBitmap=D,s.BitArray=V,s.BitMatrix=de,s.BitSource=Fr,s.BrowserAztecCodeReader=er,s.BrowserBarcodeReader=Rc,s.BrowserCodeReader=j,s.BrowserDatamatrixCodeReader=sl,s.BrowserMultiFormatReader=Fc,s.BrowserPDF417Reader=Pc,s.BrowserQRCodeReader=Uc,s.BrowserQRCodeSvgWriter=Qi,s.CharacterSetECI=X,s.ChecksumException=T,s.Code128Reader=Ne,s.Code39Reader=Ht,s.DataMatrixDecodedBitStreamParser=pi,s.DataMatrixReader=mi,s.DecodeHintType=q,s.DecoderResult=Ye,s.DefaultGridSampler=Fe,s.DetectorResult=wt,s.EAN13Reader=xr,s.EncodeHintType=Dn,s.Exception=g,s.FormatException=Y,s.GenericGF=He,s.GenericGFPoly=ct,s.GlobalHistogramBinarizer=fe,s.GridSampler=$n,s.GridSamplerInstance=We,s.HTMLCanvasElementLuminanceSource=F,s.HybridBinarizer=we,s.ITFReader=it,s.IllegalArgumentException=C,s.IllegalStateException=yt,s.InvertedLuminanceSource=ke,s.LuminanceSource=_e,s.MathUtils=Xe,s.MultiFormatOneDReader=lr,s.MultiFormatReader=du,s.MultiFormatWriter=zc,s.NotFoundException=te,s.OneDReader=Tt,s.PDF417DecodedBitStreamParser=Ee,s.PDF417DecoderErrorCorrection=vs,s.PDF417Reader=Hn,s.PDF417ResultMetadata=ol,s.PerspectiveTransform=be,s.PlanarYUVLuminanceSource=Jr,s.QRCodeByteMatrix=As,s.QRCodeDataMask=pr,s.QRCodeDecodedBitStreamParser=tn,s.QRCodeDecoderErrorCorrectionLevel=At,s.QRCodeDecoderFormatInformation=In,s.QRCodeEncoder=nn,s.QRCodeEncoderQRCode=Wi,s.QRCodeMaskUtil=gn,s.QRCodeMatrixUtil=nt,s.QRCodeMode=et,s.QRCodeReader=Kr,s.QRCodeVersion=Ge,s.QRCodeWriter=La,s.RGBLuminanceSource=Cs,s.RSS14Reader=Gt,s.RSSExpandedReader=Oe,s.ReaderException=ws,s.ReedSolomonDecoder=Wt,s.ReedSolomonEncoder=$l,s.ReedSolomonException=gt,s.Result=se,s.ResultMetadataType=Te,s.ResultPoint=je,s.StringUtils=$,s.UnsupportedOperationException=Z,s.VideoInputDevice=ie,s.WhiteRectangleDetector=bt,s.WriterException=Yt,s.ZXingArrays=M,s.ZXingCharset=ka,s.ZXingInteger=k,s.ZXingStandardCharsets=eo,s.ZXingStringBuilder=ne,s.ZXingStringEncoding=K,s.ZXingSystem=N,s.createAbstractExpandedDecoder=Xi,Object.defineProperty(s,"__esModule",{value:!0})})}(Jo,Jo.exports)),Jo.exports}var hn=l5();const o5=Vi(hn),u5=J3({__proto__:null,default:o5},[hn]);var Wm=function(){function n(i,s,l){if(this.formatMap=new Map([[qe.QR_CODE,hn.BarcodeFormat.QR_CODE],[qe.AZTEC,hn.BarcodeFormat.AZTEC],[qe.CODABAR,hn.BarcodeFormat.CODABAR],[qe.CODE_39,hn.BarcodeFormat.CODE_39],[qe.CODE_93,hn.BarcodeFormat.CODE_93],[qe.CODE_128,hn.BarcodeFormat.CODE_128],[qe.DATA_MATRIX,hn.BarcodeFormat.DATA_MATRIX],[qe.MAXICODE,hn.BarcodeFormat.MAXICODE],[qe.ITF,hn.BarcodeFormat.ITF],[qe.EAN_13,hn.BarcodeFormat.EAN_13],[qe.EAN_8,hn.BarcodeFormat.EAN_8],[qe.PDF_417,hn.BarcodeFormat.PDF_417],[qe.RSS_14,hn.BarcodeFormat.RSS_14],[qe.RSS_EXPANDED,hn.BarcodeFormat.RSS_EXPANDED],[qe.UPC_A,hn.BarcodeFormat.UPC_A],[qe.UPC_E,hn.BarcodeFormat.UPC_E],[qe.UPC_EAN_EXTENSION,hn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!u5)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=s,this.logger=l;var d=this.createZXingFormats(i),f=new Map;f.set(hn.DecodeHintType.POSSIBLE_FORMATS,d),f.set(hn.DecodeHintType.TRY_HARDER,!1),this.hints=f}return n.prototype.decodeAsync=function(i){var s=this;return new Promise(function(l,d){try{l(s.decode(i))}catch(f){d(f)}})},n.prototype.decode=function(i){var s=new hn.MultiFormatReader(this.verbose,this.hints),l=new hn.HTMLCanvasElementLuminanceSource(i),d=new hn.BinaryBitmap(new hn.HybridBinarizer(l)),f=s.decode(d);return{text:f.text,format:D4.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},n.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,l,d){i.set(s,l)}),i},n.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},n.prototype.createZXingFormats=function(i){for(var s=[],l=0,d=i;l<d.length;l++){var f=d[l];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return s},n.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},n}(),c5=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},f5=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Qm=function(){function n(i,s,l){if(this.formatMap=new Map([[qe.QR_CODE,"qr_code"],[qe.AZTEC,"aztec"],[qe.CODABAR,"codabar"],[qe.CODE_39,"code_39"],[qe.CODE_93,"code_93"],[qe.CODE_128,"code_128"],[qe.DATA_MATRIX,"data_matrix"],[qe.ITF,"itf"],[qe.EAN_13,"ean_13"],[qe.EAN_8,"ean_8"],[qe.PDF_417,"pdf417"],[qe.UPC_A,"upc_a"],[qe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!n.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=s,this.logger=l;var d=this.createBarcodeDetectorFormats(i);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return n.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var i=new BarcodeDetector({formats:["qr_code"]});return typeof i<"u"},n.prototype.decodeAsync=function(i){return c5(this,void 0,void 0,function(){var s,l;return f5(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(i)];case 1:if(s=d.sent(),!s||s.length===0)throw"No barcode or QR code detected.";return l=this.selectLargestBarcode(s),[2,{text:l.rawValue,format:D4.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}]}})})},n.prototype.selectLargestBarcode=function(i){for(var s=null,l=0,d=0,f=i;d<f.length;d++){var m=f[d],E=m.boundingBox.width*m.boundingBox.height;E>l&&(l=E,s=m)}if(!s)throw"No largest barcode found";return s},n.prototype.createBarcodeDetectorFormats=function(i){for(var s=[],l=0,d=i;l<d.length;l++){var f=d[l];this.formatMap.has(f)?s.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:s}},n.prototype.toHtml5QrcodeSupportedFormats=function(i){if(!this.reverseFormatMap.has(i))throw"reverseFormatMap doesn't have ".concat(i);return this.reverseFormatMap.get(i)},n.prototype.createReverseFormatMap=function(){var i=new Map;return this.formatMap.forEach(function(s,l,d){i.set(s,l)}),i},n.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},n}(),Km=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},Jm=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},d5=function(){function n(i,s,l,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=l,s&&Qm.isSupported()?(this.primaryDecoder=new Qm(i,l,d),this.secondaryDecoder=new Wm(i,l,d)):this.primaryDecoder=new Wm(i,l,d)}return n.prototype.decodeAsync=function(i){return Km(this,void 0,void 0,function(){var s;return Jm(this,function(l){switch(l.label){case 0:s=performance.now(),l.label=1;case 1:return l.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(i)];case 2:return[2,l.sent()];case 3:return this.possiblyLogPerformance(s),[7];case 4:return[2]}})})},n.prototype.decodeRobustlyAsync=function(i){return Km(this,void 0,void 0,function(){var s,l;return Jm(this,function(d){switch(d.label){case 0:s=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(i)];case 2:return[2,d.sent()];case 3:if(l=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(i)];throw l;case 4:return this.possiblyLogPerformance(s),[7];case 5:return[2]}})})},n.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},n.prototype.possiblyLogPerformance=function(i){if(this.verbose){var s=performance.now()-i;this.executionResults.push(s),this.executions++,this.possiblyFlushPerformanceReport()}},n.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var i=0,s=0,l=this.executionResults;s<l.length;s++){var d=l[s];i+=d}var f=i/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},n}(),ph=function(){var n=function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])},n(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function l(){this.constructor=i}i.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Ec=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},vc=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},R4=function(){function n(i,s){this.name=i,this.track=s}return n.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},n.prototype.apply=function(i){var s={};s[this.name]=i;var l={advanced:[s]};return this.track.applyConstraints(l)},n.prototype.value=function(){var i=this.track.getSettings();if(this.name in i){var s=i[this.name];return s}return null},n}(),h5=function(n){ph(i,n);function i(s,l){return n.call(this,s,l)||this}return i.prototype.min=function(){return this.getCapabilities().min},i.prototype.max=function(){return this.getCapabilities().max},i.prototype.step=function(){return this.getCapabilities().step},i.prototype.apply=function(s){var l={};l[this.name]=s;var d={advanced:[l]};return this.track.applyConstraints(d)},i.prototype.getCapabilities=function(){this.failIfNotSupported();var s=this.track.getCapabilities(),l=s[this.name];return{min:l.min,max:l.max,step:l.step}},i.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},i}(R4),x5=function(n){ph(i,n);function i(s){return n.call(this,"zoom",s)||this}return i}(h5),g5=function(n){ph(i,n);function i(s){return n.call(this,"torch",s)||this}return i}(R4),p5=function(){function n(i){this.track=i}return n.prototype.zoomFeature=function(){return new x5(this.track)},n.prototype.torchFeature=function(){return new g5(this.track)},n}(),m5=function(){function n(i,s,l){this.isClosed=!1,this.parentElement=i,this.mediaStream=s,this.callbacks=l,this.surface=this.createVideoElement(this.parentElement.clientWidth),i.append(this.surface)}return n.prototype.createVideoElement=function(i){var s=document.createElement("video");return s.style.width="".concat(i,"px"),s.style.display="block",s.muted=!0,s.setAttribute("muted","true"),s.playsInline=!0,s},n.prototype.setupSurface=function(){var i=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var s=function(){var l=i.surface.clientWidth,d=i.surface.clientHeight;i.callbacks.onRenderSurfaceReady(l,d),i.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.srcObject=this.mediaStream,this.surface.play()},n.create=function(i,s,l,d){return Ec(this,void 0,void 0,function(){var f,m;return vc(this,function(E){switch(E.label){case 0:return f=new n(i,s,d),l.aspectRatio?(m={aspectRatio:l.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(m)]):[3,2];case 1:E.sent(),E.label=2;case 2:return f.setupSurface(),[2,f]}})})},n.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},n.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},n.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},n.prototype.resume=function(i){this.failIfClosed();var s=this,l=function(){setTimeout(i,200),s.surface.removeEventListener("playing",l)};this.surface.addEventListener("playing",l),this.surface.play()},n.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},n.prototype.getSurface=function(){return this.failIfClosed(),this.surface},n.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},n.prototype.applyVideoConstraints=function(i){return Ec(this,void 0,void 0,function(){return vc(this,function(s){if("aspectRatio"in i)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(i)]})})},n.prototype.close=function(){if(this.isClosed)return Promise.resolve();var i=this;return new Promise(function(s,l){var d=i.mediaStream.getVideoTracks(),f=d.length,m=0;i.mediaStream.getVideoTracks().forEach(function(E){i.mediaStream.removeTrack(E),E.stop(),++m,m>=f&&(i.isClosed=!0,i.parentElement.removeChild(i.surface),s())})})},n.prototype.getCapabilities=function(){return new p5(this.getFirstTrackOrFail())},n}(),y5=function(){function n(i){this.mediaStream=i}return n.prototype.render=function(i,s,l){return Ec(this,void 0,void 0,function(){return vc(this,function(d){return[2,m5.create(i,this.mediaStream,s,l)]})})},n.create=function(i){return Ec(this,void 0,void 0,function(){var s,l;return vc(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return s={audio:!1,video:i},[4,navigator.mediaDevices.getUserMedia(s)];case 1:return l=d.sent(),[2,new n(l)]}})})},n}(),$m=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},ey=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},E5=function(){function n(){}return n.failIfNotSupported=function(){return $m(this,void 0,void 0,function(){return ey(this,function(i){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new n]})})},n.prototype.create=function(i){return $m(this,void 0,void 0,function(){return ey(this,function(s){return[2,y5.create(i)]})})},n}(),v5=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},w5=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},b5=function(){function n(){}return n.retrieve=function(){if(navigator.mediaDevices)return n.getCamerasFromMediaDevices();var i=MediaStreamTrack;return MediaStreamTrack&&i.getSources?n.getCamerasFromMediaStreamTrack():n.rejectWithError()},n.rejectWithError=function(){var i=Vl.unableToQuerySupportedDevices();return n.isHttpsOrLocalhost()||(i=Vl.insecureContextCameraQueryError()),Promise.reject(i)},n.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var i=location.host.split(":")[0];return i==="127.0.0.1"||i==="localhost"},n.getCamerasFromMediaDevices=function(){return v5(this,void 0,void 0,function(){var i,s,l,d,f,m,E;return w5(this,function(b){switch(b.label){case 0:return i=function(g){for(var w=g.getVideoTracks(),C=0,D=w;C<D.length;C++){var T=D[C];T.enabled=!1,T.stop(),g.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return s=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(l=b.sent(),d=[],f=0,m=l;f<m.length;f++)E=m[f],E.kind==="videoinput"&&d.push({id:E.deviceId,label:E.label});return i(s),[2,d]}})})},n.getCamerasFromMediaStreamTrack=function(){return new Promise(function(i,s){var l=function(f){for(var m=[],E=0,b=f;E<b.length;E++){var g=b[E];g.kind==="video"&&m.push({id:g.id,label:g.label})}i(m)},d=MediaStreamTrack;d.getSources(l)})},n}(),Cn;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.NOT_STARTED=1]="NOT_STARTED",n[n.SCANNING=2]="SCANNING",n[n.PAUSED=3]="PAUSED"})(Cn||(Cn={}));var A5=function(){function n(){this.state=Cn.NOT_STARTED,this.onGoingTransactionNewState=Cn.UNKNOWN}return n.prototype.directTransition=function(i){this.failIfTransitionOngoing(),this.validateTransition(i),this.state=i},n.prototype.startTransition=function(i){return this.failIfTransitionOngoing(),this.validateTransition(i),this.onGoingTransactionNewState=i,this},n.prototype.execute=function(){if(this.onGoingTransactionNewState===Cn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var i=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Cn.UNKNOWN,this.directTransition(i)},n.prototype.cancel=function(){if(this.onGoingTransactionNewState===Cn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Cn.UNKNOWN},n.prototype.getState=function(){return this.state},n.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Cn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},n.prototype.validateTransition=function(i){switch(this.state){case Cn.UNKNOWN:throw"Transition from unknown is not allowed";case Cn.NOT_STARTED:this.failIfNewStateIs(i,[Cn.PAUSED]);break;case Cn.SCANNING:break;case Cn.PAUSED:break}},n.prototype.failIfNewStateIs=function(i,s){for(var l=0,d=s;l<d.length;l++){var f=d[l];if(i===f)throw"Cannot transition from ".concat(this.state," to ").concat(i)}},n}(),C5=function(){function n(i){this.stateManager=i}return n.prototype.startTransition=function(i){return this.stateManager.startTransition(i)},n.prototype.directTransition=function(i){this.stateManager.directTransition(i)},n.prototype.getState=function(){return this.stateManager.getState()},n.prototype.canScanFile=function(){return this.stateManager.getState()===Cn.NOT_STARTED},n.prototype.isScanning=function(){return this.stateManager.getState()!==Cn.NOT_STARTED},n.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Cn.SCANNING},n.prototype.isPaused=function(){return this.stateManager.getState()===Cn.PAUSED},n}(),S5=function(){function n(){}return n.create=function(){return new C5(new A5)},n}(),T5=function(){var n=function(i,s){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,d){l.__proto__=d}||function(l,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(l[f]=d[f])},n(i,s)};return function(i,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");n(i,s);function l(){this.constructor=i}i.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),Vr=function(n){T5(i,n);function i(){return n!==null&&n.apply(this,arguments)||this}return i.DEFAULT_WIDTH=300,i.DEFAULT_WIDTH_OFFSET=2,i.FILE_SCAN_MIN_HEIGHT=300,i.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,i.MIN_QR_BOX_SIZE=50,i.SHADED_LEFT=1,i.SHADED_RIGHT=2,i.SHADED_TOP=3,i.SHADED_BOTTOM=4,i.SHADED_REGION_ELEMENT_ID="qr-shaded-region",i.VERBOSE=!1,i.BORDER_SHADER_DEFAULT_COLOR="#ffffff",i.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",i}(Ai),_5=function(){function n(i,s){this.logger=s,this.fps=Vr.SCAN_DEFAULT_FPS,i?(i.fps&&(this.fps=i.fps),this.disableFlip=i.disableFlip===!0,this.qrbox=i.qrbox,this.aspectRatio=i.aspectRatio,this.videoConstraints=i.videoConstraints):this.disableFlip=Vr.DEFAULT_DISABLE_FLIP}return n.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?B4.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},n.prototype.isShadedBoxEnabled=function(){return!zi(this.qrbox)},n.create=function(i,s){return new n(i,s)},n}(),ty=function(){function n(i,s){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.elementId=i,this.verbose=!1;var l;typeof s=="boolean"?this.verbose=s===!0:s&&(l=s,this.verbose=l.verbose===!0,l.experimentalFeatures),this.logger=new N4(this.verbose),this.qrcode=new d5(this.getSupportedFormats(s),this.getUseBarCodeDetectorIfSupported(l),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=S5.create()}return n.prototype.start=function(i,s,l,d){var f=this;if(!i)throw"cameraIdOrConfig is required";if(!l||typeof l!="function")throw"qrCodeSuccessCallback is required and should be a function.";var m;d?m=d:m=this.verbose?this.logger.log:function(){};var E=_5.create(s,this.logger);this.clearElement();var b=!1;E.videoConstraints&&(E.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=b,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Vr.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var C=this,D=this.stateManagerProxy.startTransition(Cn.SCANNING);return new Promise(function(T,O){var N=g?E.videoConstraints:C.createVideoConstraints(i);if(!N){D.cancel(),O("videoConstraints should be defined");return}var B={};(!g||E.aspectRatio)&&(B.aspectRatio=E.aspectRatio);var I={onRenderSurfaceReady:function(M,k){C.setupUi(M,k,E),C.isScanning=!0,C.foreverScan(E,l,m)}};E5.failIfNotSupported().then(function(M){M.create(N).then(function(k){return k.render(f.element,B,I).then(function(V){C.renderedCamera=V,D.execute(),T(null)}).catch(function(V){D.cancel(),O(V)})}).catch(function(k){D.cancel(),O(Vl.errorGettingUserMedia(k))})}).catch(function(M){D.cancel(),O(Vl.cameraStreamingNotSupported())})})},n.prototype.pause=function(i){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Cn.PAUSED),this.showPausedState(),(zi(i)||i!==!0)&&(i=!1),i&&this.renderedCamera&&this.renderedCamera.pause()},n.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var i=this,s=function(){i.stateManagerProxy.directTransition(Cn.SCANNING),i.hidePausedState()};if(!this.renderedCamera.isPaused()){s();return}this.renderedCamera.resume(function(){s()})},n.prototype.getState=function(){return this.stateManagerProxy.getState()},n.prototype.stop=function(){var i=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var s=this.stateManagerProxy.startTransition(Cn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var l=function(){if(i.element){var f=document.getElementById(Vr.SHADED_REGION_ELEMENT_ID);f&&i.element.removeChild(f)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),l(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),s.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},n.prototype.scanFile=function(i,s){return this.scanFileV2(i,s).then(function(l){return l.decodedText})},n.prototype.scanFileV2=function(i,s){var l=this;if(!i||!(i instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(zi(s)&&(s=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,f){l.possiblyCloseLastScanImageFile(),l.clearElement(),l.lastScanImageFile=URL.createObjectURL(i);var m=new Image;m.onload=function(){var E=m.width,b=m.height,g=document.getElementById(l.elementId),w=g.clientWidth?g.clientWidth:Vr.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:b,Vr.FILE_SCAN_MIN_HEIGHT),D=l.computeCanvasDrawConfig(E,b,w,C);if(s){var T=l.createCanvasElement(w,C,"qr-canvas-visible");T.style.display="inline-block",g.appendChild(T);var O=T.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=w,O.canvas.height=C,O.drawImage(m,0,0,E,b,D.x,D.y,D.width,D.height)}var N=Vr.FILE_SCAN_HIDDEN_CANVAS_PADDING,B=Math.max(m.width,D.width),I=Math.max(m.height,D.height),M=B+2*N,k=I+2*N,V=l.createCanvasElement(M,k);g.appendChild(V);var Q=V.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=M,Q.canvas.height=k,Q.drawImage(m,0,0,E,b,N,N,B,I);try{l.qrcode.decodeRobustlyAsync(V).then(function(q){d(Ym.createFromQrcodeResult(q))}).catch(f)}catch(q){f("QR code parse error, error = ".concat(q))}},m.onerror=f,m.onabort=f,m.onstalled=f,m.onsuspend=f,m.src=URL.createObjectURL(i)})},n.prototype.clear=function(){this.clearElement()},n.getCameras=function(){return b5.retrieve()},n.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},n.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},n.prototype.applyVideoConstraints=function(i){if(i){if(!B4.isMediaStreamConstraintsValid(i,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(i)},n.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},n.prototype.getSupportedFormats=function(i){var s=[qe.QR_CODE,qe.AZTEC,qe.CODABAR,qe.CODE_39,qe.CODE_93,qe.CODE_128,qe.DATA_MATRIX,qe.MAXICODE,qe.ITF,qe.EAN_13,qe.EAN_8,qe.PDF_417,qe.RSS_14,qe.RSS_EXPANDED,qe.UPC_A,qe.UPC_E,qe.UPC_EAN_EXTENSION];if(!i||typeof i=="boolean"||!i.formatsToSupport)return s;if(!Array.isArray(i.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(i.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var l=[],d=0,f=i.formatsToSupport;d<f.length;d++){var m=f[d];i5(m)?l.push(m):this.logger.warn("Invalid format: ".concat(m," passed in config, ignoring."))}if(l.length===0)throw"None of formatsToSupport match supported values.";return l},n.prototype.getUseBarCodeDetectorIfSupported=function(i){if(zi(i))return!0;if(!zi(i.useBarCodeDetectorIfSupported))return i.useBarCodeDetectorIfSupported!==!1;if(zi(i.experimentalFeatures))return!0;var s=i.experimentalFeatures;return zi(s.useBarCodeDetectorIfSupported)?!0:s.useBarCodeDetectorIfSupported!==!1},n.prototype.validateQrboxSize=function(i,s,l){var d=this,f=l.qrbox;this.validateQrboxConfig(f);var m=this.toQrdimensions(i,s,f),E=function(g){if(g<Vr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Vr.MIN_QR_BOX_SIZE,"px.")},b=function(g){return g>i&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=i),g};E(m.width),E(m.height),m.width=b(m.width)},n.prototype.validateQrboxConfig=function(i){if(typeof i!="number"&&typeof i!="function"&&(i.width===void 0||i.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},n.prototype.toQrdimensions=function(i,s,l){if(typeof l=="number")return{width:l,height:l};if(typeof l=="function")try{return l(i,s)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return l},n.prototype.setupUi=function(i,s,l){l.isShadedBoxEnabled()&&this.validateQrboxSize(i,s,l);var d=zi(l.qrbox)?{width:i,height:s}:l.qrbox;this.validateQrboxConfig(d);var f=this.toQrdimensions(i,s,d);f.height>s&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var m=l.isShadedBoxEnabled()&&f.height<=s,E={x:0,y:0,width:i,height:s},b=m?this.getShadedRegionBounds(i,s,f):E,g=this.createCanvasElement(b.width,b.height),w={willReadFrequently:!0},C=g.getContext("2d",w);C.canvas.width=b.width,C.canvas.height=b.height,this.element.append(g),m&&this.possiblyInsertShadingElement(this.element,i,s,f),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=C,this.canvasElement=g},n.prototype.createScannerPausedUiElement=function(i){var s=document.createElement("div");s.innerText=Vl.scannerPaused(),s.style.display="none",s.style.position="absolute",s.style.top="0px",s.style.zIndex="1",s.style.background="rgba(9, 9, 9, 0.46)",s.style.color="#FFECEC",s.style.textAlign="center",s.style.width="100%",i.appendChild(s),this.scannerPausedUiElement=s},n.prototype.scanContext=function(i,s){var l=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return i(d.text,Ym.createFromQrcodeResult(d)),l.possiblyUpdateShaders(!0),!0}).catch(function(d){l.possiblyUpdateShaders(!1);var f=Vl.codeParseError(d);return s(f,O4.createFrom(f)),!1})},n.prototype.foreverScan=function(i,s,l){var d=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),m=f.videoWidth/f.clientWidth,E=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*m,g=this.qrRegion.height*E,w=this.qrRegion.x*m,C=this.qrRegion.y*E;this.context.drawImage(f,w,C,b,g,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(i,s,l)},d.getTimeoutFps(i.fps))};this.scanContext(s,l).then(function(T){!T&&i.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(s,l).finally(function(){D()})):D()}).catch(function(T){d.logger.logError("Error happend while scanning context",T),D()})}},n.prototype.createVideoConstraints=function(i){if(typeof i=="string")return{deviceId:{exact:i}};if(typeof i=="object"){var s="facingMode",l="deviceId",d={user:!0,environment:!0},f="exact",m=function(O){if(O in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},E=Object.keys(i);if(E.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(E.length," keys");var b=Object.keys(i)[0];if(b!==s&&b!==l)throw"Only '".concat(s,"' and '").concat(l,"' ")+" are supported for 'cameraIdOrConfig'";if(b===s){var g=i.facingMode;if(typeof g=="string"){if(m(g))return{facingMode:g}}else if(typeof g=="object")if(f in g){if(m(g["".concat(f)]))return{facingMode:{exact:g["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var w=typeof g;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var C=i.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(f in C)return{deviceId:{exact:C["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var D=typeof C;throw"Invalid type of 'deviceId' = ".concat(D)}}}var T=typeof i;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},n.prototype.computeCanvasDrawConfig=function(i,s,l,d){if(i<=l&&s<=d){var f=(l-i)/2,m=(d-s)/2;return{x:f,y:m,width:i,height:s}}else{var E=i,b=s;return i>l&&(s=l/i*s,i=l),s>d&&(i=d/s*i,s=d),this.logger.log("Image downsampled from "+"".concat(E,"X").concat(b)+" to ".concat(i,"X").concat(s,".")),this.computeCanvasDrawConfig(i,s,l,d)}},n.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var i=document.getElementById(this.elementId);i&&(i.innerHTML="")},n.prototype.possiblyUpdateShaders=function(i){this.qrMatch!==i&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(s){s.style.backgroundColor=i?Vr.BORDER_SHADER_MATCH_COLOR:Vr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=i)},n.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},n.prototype.createCanvasElement=function(i,s,l){var d=i,f=s,m=document.createElement("canvas");return m.style.width="".concat(d,"px"),m.style.height="".concat(f,"px"),m.style.display="none",m.id=zi(l)?"qr-canvas":l,m},n.prototype.getShadedRegionBounds=function(i,s,l){if(l.width>i||l.height>s)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(i-l.width)/2,y:(s-l.height)/2,width:l.width,height:l.height}},n.prototype.possiblyInsertShadingElement=function(i,s,l,d){if(!(s-d.width<1||l-d.height<1)){var f=document.createElement("div");f.style.position="absolute";var m=(s-d.width)/2,E=(l-d.height)/2;if(f.style.borderLeft="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(m,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(E,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(Vr.SHADED_REGION_ELEMENT_ID),s-d.width<11||l-d.height<11)this.hasBorderShaders=!1;else{var b=5,g=40;this.insertShaderBorders(f,g,b,-b,null,0,!0),this.insertShaderBorders(f,g,b,-b,null,0,!1),this.insertShaderBorders(f,g,b,null,-b,0,!0),this.insertShaderBorders(f,g,b,null,-b,0,!1),this.insertShaderBorders(f,b,g+b,-b,null,-b,!0),this.insertShaderBorders(f,b,g+b,null,-b,-b,!0),this.insertShaderBorders(f,b,g+b,-b,null,-b,!1),this.insertShaderBorders(f,b,g+b,null,-b,-b,!1),this.hasBorderShaders=!0}i.append(f)}},n.prototype.insertShaderBorders=function(i,s,l,d,f,m,E){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=Vr.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(s,"px"),b.style.height="".concat(l,"px"),d!==null&&(b.style.top="".concat(d,"px")),f!==null&&(b.style.bottom="".concat(f,"px")),E?b.style.left="".concat(m,"px"):b.style.right="".concat(m,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),i.appendChild(b)},n.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},n.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},n.prototype.getTimeoutFps=function(i){return 1e3/i},n}(),mh="data:image/svg+xml;base64,",D5=mh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",O5=mh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",ny=mh+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",N5="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",ry=function(){function n(){}return n.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},n}(),B5=function(){function n(){this.data=ry.createDefault();var i=localStorage.getItem(n.LOCAL_STORAGE_KEY);i?this.data=JSON.parse(i):this.reset()}return n.prototype.hasCameraPermissions=function(){return this.data.hasPermission},n.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},n.prototype.setHasPermission=function(i){this.data.hasPermission=i,this.flush()},n.prototype.setLastUsedCameraId=function(i){this.data.lastUsedCameraId=i,this.flush()},n.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},n.prototype.reset=function(){this.data=ry.createDefault(),this.flush()},n.prototype.flush=function(){localStorage.setItem(n.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},n.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",n}(),R5=function(){function n(){this.infoDiv=document.createElement("div")}return n.prototype.renderInto=function(i){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Xm.poweredBy();var s=document.createElement("a");s.innerText="ScanApp",s.href="https://scanapp.org",s.target="new",s.style.color="white",this.infoDiv.appendChild(s);var l=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(l),this.infoDiv.appendChild(d);var f=document.createElement("a");f.innerText=Xm.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),i.appendChild(this.infoDiv)},n.prototype.show=function(){this.infoDiv.style.display="block"},n.prototype.hide=function(){this.infoDiv.style.display="none"},n}(),I5=function(){function n(i,s){this.isShowingInfoIcon=!0,this.onTapIn=i,this.onTapOut=s,this.infoIcon=document.createElement("img")}return n.prototype.renderInto=function(i){var s=this;this.infoIcon.alt="Info icon",this.infoIcon.src=ny,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(l){return s.onHoverIn()},this.infoIcon.onmouseout=function(l){return s.onHoverOut()},this.infoIcon.onclick=function(l){return s.onClick()},i.appendChild(this.infoIcon)},n.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},n.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},n.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=N5,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=ny,this.infoIcon.style.opacity="0.6")},n}(),M5=function(){function n(){var i=this;this.infoDiv=new R5,this.infoIcon=new I5(function(){i.infoDiv.show()},function(){i.infoDiv.hide()})}return n.prototype.renderInto=function(i){this.infoDiv.renderInto(i),this.infoIcon.renderInto(i)},n}(),L5=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},k5=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},iy=function(){function n(){}return n.hasPermissions=function(){return L5(this,void 0,void 0,function(){var i,s,l,d;return k5(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(i=f.sent(),s=0,l=i;s<l.length;s++)if(d=l[s],d.kind==="videoinput"&&d.label)return[2,!0];return[2,!1]}})})},n}(),os=function(){function n(i){this.supportedScanTypes=this.validateAndReturnScanTypes(i)}return n.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},n.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},n.prototype.isCameraScanRequired=function(){for(var i=0,s=this.supportedScanTypes;i<s.length;i++){var l=s[i];if(n.isCameraScanType(l))return!0}return!1},n.isCameraScanType=function(i){return i===us.SCAN_TYPE_CAMERA},n.isFileScanType=function(i){return i===us.SCAN_TYPE_FILE},n.prototype.validateAndReturnScanTypes=function(i){if(!i||i.length===0)return Ai.DEFAULT_SUPPORTED_SCAN_TYPE;var s=Ai.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(i.length>s)throw"Max ".concat(s," values expected for ")+"supportedScanTypes";for(var l=0,d=i;l<d.length;l++){var f=d[l];if(!Ai.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return i},n}(),Yr=function(){function n(){}return n.ALL_ELEMENT_CLASS="html5-qrcode-element",n.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",n.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",n.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",n.TORCH_BUTTON_ID="html5-qrcode-button-torch",n.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",n.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",n.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",n.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",n.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",n.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",n}(),wa=function(){function n(){}return n.createElement=function(i,s){var l=document.createElement(i);return l.id=s,l.classList.add(Yr.ALL_ELEMENT_CLASS),i==="button"&&l.setAttribute("type","button"),l},n}(),I4=function(n,i,s,l){function d(f){return f instanceof s?f:new s(function(m){m(f)})}return new(s||(s=Promise))(function(f,m){function E(w){try{g(l.next(w))}catch(C){m(C)}}function b(w){try{g(l.throw(w))}catch(C){m(C)}}function g(w){w.done?f(w.value):d(w.value).then(E,b)}g((l=l.apply(n,i||[])).next())})},M4=function(n,i){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,d,f,m;return m={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function E(g){return function(w){return b([g,w])}}function b(g){if(l)throw new TypeError("Generator is already executing.");for(;m&&(m=0,g[0]&&(s=0)),s;)try{if(l=1,d&&(f=g[0]&2?d.return:g[0]?d.throw||((f=d.return)&&f.call(d),0):d.next)&&!(f=f.call(d,g[1])).done)return f;switch(d=0,f&&(g=[g[0]&2,f.value]),g[0]){case 0:case 1:f=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,d=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(g[0]===6||g[0]===2)){s=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){s.label=g[1];break}if(g[0]===6&&s.label<f[1]){s.label=f[1],f=g;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(g);break}f[2]&&s.ops.pop(),s.trys.pop();continue}g=i.call(n,s)}catch(w){g=[6,w],d=0}finally{l=f=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},ay=function(){function n(i,s,l){this.isTorchOn=!1,this.torchCapability=i,this.buttonController=s,this.onTorchActionFailureCallback=l}return n.prototype.isTorchEnabled=function(){return this.isTorchOn},n.prototype.flipState=function(){return I4(this,void 0,void 0,function(){var i,s;return M4(this,function(l){switch(l.label){case 0:this.buttonController.disable(),i=!this.isTorchOn,l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.torchCapability.apply(i)];case 2:return l.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),i),[3,4];case 3:return s=l.sent(),this.propagateFailure(i,s),this.buttonController.enable(),[3,4];case 4:return[2]}})})},n.prototype.updateUiBasedOnLatestSettings=function(i,s){i===s?(this.buttonController.setText(s?Zt.torchOffButton():Zt.torchOnButton()),this.isTorchOn=s):this.propagateFailure(s),this.buttonController.enable()},n.prototype.propagateFailure=function(i,s){var l=i?Zt.torchOnFailedMessage():Zt.torchOffFailedMessage();s&&(l+="; Error = "+s),this.onTorchActionFailureCallback(l)},n.prototype.reset=function(){this.isTorchOn=!1},n}(),F5=function(){function n(i,s){this.onTorchActionFailureCallback=s,this.torchButton=wa.createElement("button",Yr.TORCH_BUTTON_ID),this.torchController=new ay(i,this,s)}return n.prototype.render=function(i,s){var l=this;this.torchButton.innerText=Zt.torchOnButton(),this.torchButton.style.display=s.display,this.torchButton.style.marginLeft=s.marginLeft;var d=this;this.torchButton.addEventListener("click",function(f){return I4(l,void 0,void 0,function(){return M4(this,function(m){switch(m.label){case 0:return[4,d.torchController.flipState()];case 1:return m.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove(Yr.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add(Yr.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove(Yr.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add(Yr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),i.appendChild(this.torchButton)},n.prototype.updateTorchCapability=function(i){this.torchController=new ay(i,this,this.onTorchActionFailureCallback)},n.prototype.getTorchButton=function(){return this.torchButton},n.prototype.hide=function(){this.torchButton.style.display="none"},n.prototype.show=function(){this.torchButton.style.display="inline-block"},n.prototype.disable=function(){this.torchButton.disabled=!0},n.prototype.enable=function(){this.torchButton.disabled=!1},n.prototype.setText=function(i){this.torchButton.innerText=i},n.prototype.reset=function(){this.torchButton.innerText=Zt.torchOnButton(),this.torchController.reset()},n.create=function(i,s,l,d){var f=new n(s,d);return f.render(i,l),f},n}(),P5=function(){function n(i,s,l){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=s?"block":"none",i.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=wa.createElement("button",Yr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(E){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=wa.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(E){if(!(E==null||E.target==null)){var b=E.target;if(!(b.files&&b.files.length===0)){var g=b.files,w=g[0],C=w.name;f.setImageNameToButton(C),l(w)}}});var m=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(m),this.fileBasedScanRegion.addEventListener("dragenter",function(E){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(E){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(E){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),E.stopPropagation(),E.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(E){E.stopPropagation(),E.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var b=E.dataTransfer;if(b){var g=b.files;if(!g||g.length===0)return;for(var w=!1,C=0;C<g.length;++C){var D=g.item(C);if(D){var T=/image.*/;if(D.type.match(T)){w=!0;var O=D.name;f.setImageNameToButton(O),l(D),m.innerText=Zt.dragAndDropMessage();break}}}w||(m.innerText=Zt.dragAndDropMessageOnlyImages())}})}return n.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},n.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},n.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},n.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},n.prototype.createFileBasedScanRegion=function(){var i=document.createElement("div");return i.style.textAlign="center",i.style.margin="auto",i.style.width="80%",i.style.maxWidth="600px",i.style.border=this.fileBasedScanRegionDefaultBorder(),i.style.padding="10px",i.style.marginBottom="10px",i},n.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},n.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},n.prototype.createDragAndDropMessage=function(){var i=document.createElement("div");return i.innerText=Zt.dragAndDropMessage(),i.style.fontWeight="400",i},n.prototype.setImageNameToButton=function(i){var s=20;if(i.length>s){var l=i.substring(0,8),d=i.length,f=i.substring(d-8,d);i="".concat(l,"....").concat(f)}var m=Zt.fileSelectionChooseAnother()+" - "+i;this.fileSelectionButton.innerText=m},n.prototype.setInitialValueToButton=function(){var i=Zt.fileSelectionChooseImage()+" - "+Zt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=i},n.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},n.create=function(i,s,l){var d=new n(i,s,l);return d},n}(),U5=function(){function n(i){this.selectElement=wa.createElement("select",Yr.CAMERA_SELECTION_SELECT_ID),this.cameras=i,this.options=[]}return n.prototype.render=function(i){var s=document.createElement("span");s.style.marginRight="10px";var l=this.cameras.length;if(l===0)throw new Error("No cameras found");if(l===1)s.style.display="none";else{var d=Zt.selectCamera();s.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var f=1,m=0,E=this.cameras;m<E.length;m++){var b=E[m],g=b.id,w=b.label==null?g:b.label;(!w||w==="")&&(w=[Zt.anonymousCameraPrefix(),f++].join(" "));var C=document.createElement("option");C.value=g,C.innerText=w,this.options.push(C),this.selectElement.appendChild(C)}s.appendChild(this.selectElement),i.appendChild(s)},n.prototype.disable=function(){this.selectElement.disabled=!0},n.prototype.isDisabled=function(){return this.selectElement.disabled===!0},n.prototype.enable=function(){this.selectElement.disabled=!1},n.prototype.getValue=function(){return this.selectElement.value},n.prototype.hasValue=function(i){for(var s=0,l=this.options;s<l.length;s++){var d=l[s];if(d.value===i)return!0}return!1},n.prototype.setValue=function(i){if(!this.hasValue(i))throw new Error("".concat(i," is not present in the camera list."));this.selectElement.value=i},n.prototype.hasSingleItem=function(){return this.cameras.length===1},n.prototype.numCameras=function(){return this.cameras.length},n.create=function(i,s){var l=new n(s);return l.render(i),l},n}(),j5=function(){function n(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=wa.createElement("input",Yr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return n.prototype.render=function(i,s){this.zoomElementContainer.style.display=s?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",i.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var l=Zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},n.prototype.onValueChange=function(){var i=Zt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},n.prototype.setValues=function(i,s,l,d){this.rangeInput.min=i.toString(),this.rangeInput.max=s.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=l.toString(),this.onValueChange()},n.prototype.show=function(){this.zoomElementContainer.style.display="block"},n.prototype.hide=function(){this.zoomElementContainer.style.display="none"},n.prototype.setOnCameraZoomValueChangeCallback=function(i){this.onChangeCallback=i},n.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},n.create=function(i,s){var l=new n;return l.render(i,s),l},n}(),Gr;(function(n){n[n.STATUS_DEFAULT=0]="STATUS_DEFAULT",n[n.STATUS_SUCCESS=1]="STATUS_SUCCESS",n[n.STATUS_WARNING=2]="STATUS_WARNING",n[n.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Gr||(Gr={}));function z5(n){return{fps:n.fps,qrbox:n.qrbox,aspectRatio:n.aspectRatio,disableFlip:n.disableFlip,videoConstraints:n.videoConstraints}}function H5(n,i){return{formatsToSupport:n.formatsToSupport,useBarCodeDetectorIfSupported:n.useBarCodeDetectorIfSupported,experimentalFeatures:n.experimentalFeatures,verbose:i}}var q5=function(){function n(i,s,l){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=i,this.config=this.createConfig(s),this.verbose=l===!0,!document.getElementById(i))throw"HTML Element with id=".concat(i," not found");this.scanTypeSelector=new os(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new N4(this.verbose),this.persistedDataManager=new B5,s.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return n.prototype.render=function(i,s){var l=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,m){if(i)i(f,m);else{if(l.lastMatchFound===f)return;l.lastMatchFound=f,l.setHeaderMessage(Zt.lastMatch(f),Gr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,m){s&&s(f,m)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new ty(this.getScanRegionId(),H5(this.config,this.verbose))},n.prototype.pause=function(i){(zi(i)||i!==!0)&&(i=!1),this.getHtml5QrcodeOrFail().pause(i)},n.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},n.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},n.prototype.clear=function(){var i=this,s=function(){var l=document.getElementById(i.elementId);l&&(l.innerHTML="",i.resetBasicLayout(l))};return this.html5Qrcode?new Promise(function(l,d){if(!i.html5Qrcode){l();return}i.html5Qrcode.isScanning?i.html5Qrcode.stop().then(function(f){if(!i.html5Qrcode){l();return}i.html5Qrcode.clear(),s(),l()}).catch(function(f){i.verbose&&i.logger.logError("Unable to stop qrcode scanner",f),d(f)}):(i.html5Qrcode.clear(),s(),l())}):Promise.resolve()},n.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},n.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},n.prototype.applyVideoConstraints=function(i){return this.getHtml5QrcodeOrFail().applyVideoConstraints(i)},n.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},n.prototype.createConfig=function(i){return i?(i.fps||(i.fps=Ai.SCAN_DEFAULT_FPS),i.rememberLastUsedCamera!==!Ai.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(i.rememberLastUsedCamera=Ai.DEFAULT_REMEMBER_LAST_CAMERA_USED),i.supportedScanTypes||(i.supportedScanTypes=Ai.DEFAULT_SUPPORTED_SCAN_TYPE),i):{fps:Ai.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Ai.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Ai.DEFAULT_SUPPORTED_SCAN_TYPE}},n.prototype.createBasicLayout=function(i){i.style.position="relative",i.style.padding="0px",i.style.border="1px solid silver",this.createHeader(i);var s=document.createElement("div"),l=this.getScanRegionId();s.id=l,s.style.width="100%",s.style.minHeight="100px",s.style.textAlign="center",i.appendChild(s),os.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),f=this.getDashboardId();d.id=f,d.style.width="100%",i.appendChild(d),this.setupInitialDashboard(d)},n.prototype.resetBasicLayout=function(i){i.style.border="none"},n.prototype.setupInitialDashboard=function(i){this.createSection(i),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},n.prototype.createHeader=function(i){var s=document.createElement("div");s.style.textAlign="left",s.style.margin="0px",i.appendChild(s);var l=new M5;l.renderInto(s);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",s.appendChild(d)},n.prototype.createSection=function(i){var s=document.createElement("div");s.id=this.getDashboardSectionId(),s.style.width="100%",s.style.padding="10px 0px 10px 0px",s.style.textAlign="left",i.appendChild(s)},n.prototype.createCameraListUi=function(i,s,l){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage(Zt.cameraPermissionRequesting());var f=function(){l||d.createPermissionButton(i,s)};ty.getCameras().then(function(m){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),m&&m.length>0?(i.removeChild(s),d.renderCameraSelection(m)):(d.setHeaderMessage(Zt.noCameraFound(),Gr.STATUS_WARNING),f())}).catch(function(m){d.persistedDataManager.setHasPermission(!1),l?l.disabled=!1:f(),d.setHeaderMessage(m,Gr.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},n.prototype.createPermissionButton=function(i,s){var l=this,d=wa.createElement("button",this.getCameraPermissionButtonId());d.innerText=Zt.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,l.createCameraListUi(i,s,d)}),s.appendChild(d)},n.prototype.createPermissionsUi=function(i,s){var l=this;if(os.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){iy.hasPermissions().then(function(d){d?l.createCameraListUi(i,s):(l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(i,s))}).catch(function(d){l.persistedDataManager.setHasPermission(!1),l.createPermissionButton(i,s)});return}this.createPermissionButton(i,s)},n.prototype.createSectionControlPanel=function(){var i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");i.appendChild(s);var l=document.createElement("div");l.id=this.getDashboardSectionCameraScanRegionId(),l.style.display=os.isCameraScanType(this.currentScanType)?"block":"none",s.appendChild(l);var d=document.createElement("div");d.style.textAlign="center",l.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(l,d),this.renderFileScanUi(s)},n.prototype.renderFileScanUi=function(i){var s=os.isFileScanType(this.currentScanType),l=this,d=function(f){if(!l.html5Qrcode)throw"html5Qrcode not defined";os.isFileScanType(l.currentScanType)&&(l.setHeaderMessage(Zt.loadingImage()),l.html5Qrcode.scanFileV2(f,!0).then(function(m){l.resetHeaderMessage(),l.qrCodeSuccessCallback(m.decodedText,m)}).catch(function(m){l.setHeaderMessage(m,Gr.STATUS_WARNING),l.qrCodeErrorCallback(m,O4.createFrom(m))}))};this.fileSelectionUi=P5.create(i,s,d)},n.prototype.renderCameraSelection=function(i){var s=this,l=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var f=j5.create(d,!1),m=function(N){var B=N.zoomFeature();if(B.isSupported()){f.setOnCameraZoomValueChangeCallback(function(M){B.apply(M)});var I=1;s.config.defaultZoomValueIfSupported&&(I=s.config.defaultZoomValueIfSupported),I=a5(I,B.min(),B.max()),f.setValues(B.min(),B.max(),I,B.step()),f.show()}},E=U5.create(d,i),b=document.createElement("span"),g=wa.createElement("button",Yr.CAMERA_START_BUTTON_ID);g.innerText=Zt.scanButtonStartScanningText(),b.appendChild(g);var w=wa.createElement("button",Yr.CAMERA_STOP_BUTTON_ID);w.innerText=Zt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,b.appendChild(w);var C,D=function(N){if(!N.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(N.torchFeature()):C=F5.create(b,N.torchFeature(),{display:"none",marginLeft:"5px"},function(B){l.setHeaderMessage(B,Gr.STATUS_WARNING)}),C.show()};d.appendChild(b);var T=function(N){N||(g.style.display="none"),g.innerText=Zt.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,N&&(g.style.display="inline-block")};if(g.addEventListener("click",function(N){g.innerText=Zt.scanButtonScanningStarting(),E.disable(),g.disabled=!0,g.style.opacity="0.5",s.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!1),l.resetHeaderMessage();var B=E.getValue();l.persistedDataManager.setLastUsedCameraId(B),l.html5Qrcode.start(B,z5(l.config),l.qrCodeSuccessCallback,l.qrCodeErrorCallback).then(function(I){w.disabled=!1,w.style.display="inline-block",T(!1);var M=l.html5Qrcode.getRunningTrackCameraCapabilities();s.config.showTorchButtonIfSupported===!0&&D(M),s.config.showZoomSliderIfSupported===!0&&m(M)}).catch(function(I){l.showHideScanTypeSwapLink(!0),E.enable(),T(!0),l.setHeaderMessage(I,Gr.STATUS_WARNING)})}),E.hasSingleItem()&&g.click(),w.addEventListener("click",function(N){if(!l.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,l.html5Qrcode.stop().then(function(B){s.scanTypeSelector.hasMoreThanOneScanType()&&l.showHideScanTypeSwapLink(!0),E.enable(),g.disabled=!1,w.style.display="none",g.style.display="inline-block",C&&(C.reset(),C.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),l.insertCameraScanImageToScanRegion()}).catch(function(B){w.disabled=!1,l.setHeaderMessage(B,Gr.STATUS_WARNING)})}),l.persistedDataManager.getLastUsedCameraId()){var O=l.persistedDataManager.getLastUsedCameraId();E.hasValue(O)?(E.setValue(O),g.click()):l.persistedDataManager.resetLastUsedCameraId()}},n.prototype.createSectionSwap=function(){var i=this,s=Zt.textIfCameraScanSelected(),l=Zt.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var m=wa.createElement("span",this.getDashboardSectionSwapLinkId());m.style.textDecoration="underline",m.style.cursor="pointer",m.innerText=os.isCameraScanType(this.currentScanType)?s:l,m.addEventListener("click",function(){if(!i.sectionSwapAllowed){i.verbose&&i.logger.logError("Section swap called when not allowed");return}i.resetHeaderMessage(),i.fileSelectionUi.resetValue(),i.sectionSwapAllowed=!1,os.isCameraScanType(i.currentScanType)?(i.clearScanRegion(),i.getCameraScanRegion().style.display="none",i.fileSelectionUi.show(),m.innerText=l,i.currentScanType=us.SCAN_TYPE_FILE,i.insertFileScanImageToScanRegion()):(i.clearScanRegion(),i.getCameraScanRegion().style.display="block",i.fileSelectionUi.hide(),m.innerText=s,i.currentScanType=us.SCAN_TYPE_CAMERA,i.insertCameraScanImageToScanRegion(),i.startCameraScanIfPermissionExistsOnSwap()),i.sectionSwapAllowed=!0}),f.appendChild(m),d.appendChild(f)},n.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var i=this,s=this;if(this.persistedDataManager.hasCameraPermissions()){iy.hasPermissions().then(function(l){if(l){var d=document.getElementById(s.getCameraPermissionButtonId());if(!d)throw i.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else s.persistedDataManager.setHasPermission(!1)}).catch(function(l){s.persistedDataManager.setHasPermission(!1)});return}},n.prototype.resetHeaderMessage=function(){var i=document.getElementById(this.getHeaderMessageContainerId());i.style.display="none"},n.prototype.setHeaderMessage=function(i,s){s||(s=Gr.STATUS_DEFAULT);var l=this.getHeaderMessageDiv();switch(l.innerText=i,l.style.display="block",s){case Gr.STATUS_SUCCESS:l.style.background="rgba(106, 175, 80, 0.26)",l.style.color="#477735";break;case Gr.STATUS_WARNING:l.style.background="rgba(203, 36, 49, 0.14)",l.style.color="#cb2431";break;case Gr.STATUS_DEFAULT:default:l.style.background="rgba(0, 0, 0, 0)",l.style.color="rgb(17, 17, 17)";break}},n.prototype.showHideScanTypeSwapLink=function(i){this.scanTypeSelector.hasMoreThanOneScanType()&&(i!==!0&&(i=!1),this.sectionSwapAllowed=i,this.getDashboardSectionSwapLink().style.display=i?"inline-block":"none")},n.prototype.insertCameraScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){s.innerHTML="<br>",s.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(l){s.innerHTML="<br>",s.appendChild(i.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=D5,this.cameraScanImage.alt=Zt.cameraScanAltText()},n.prototype.insertFileScanImageToScanRegion=function(){var i=this,s=document.getElementById(this.getScanRegionId());if(this.fileScanImage){s.innerHTML="<br>",s.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(l){s.innerHTML="<br>",s.appendChild(i.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=O5,this.fileScanImage.alt=Zt.fileScanAltText()},n.prototype.clearScanRegion=function(){var i=document.getElementById(this.getScanRegionId());i.innerHTML=""},n.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},n.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},n.prototype.getDashboardSectionSwapLinkId=function(){return Yr.SCAN_TYPE_CHANGE_ANCHOR_ID},n.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},n.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},n.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},n.prototype.getCameraPermissionButtonId=function(){return Yr.CAMERA_PERMISSION_BUTTON_ID},n.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},n.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},n.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},n}();const sy="html5qr-code-full-region";function V5(n){return Je.useEffect(()=>{const i=new q5(sy,{...n,fps:10,qrbox:250,useBarCodeDetectorIfSupported:!1,rememberLastUsedCamera:!1,videoConstraints:{facingMode:"environment"}});return i.render(s=>{n.qrCodeSuccessCallback(s),i.clear()},n.qrCodeErrorCallback),()=>{i.clear().catch(s=>{console.error("Failed to clear html5QrcodeScanner. ",s)})}},[n]),H.jsx("div",{id:sy})}function G5({handleJoin:n,setScanQrCode:i,setChatData:s,chatData:l}){return H.jsxs("form",{onSubmit:n,className:"join-form qr-code-form",children:[H.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),i(!1)},children:"Input Your Data Manual"}),H.jsx(V5,{qrCodeSuccessCallback:(d="")=>{const[f,m]=d.split(`
`)||["",""];if(!f||!m)return alert("Error: Invalid QR Code");s([f,m]),alert("QR code detected...input your username"),document.getElementById("author-input").focus()}}),l[0]&&l[1]&&H.jsxs(H.Fragment,{children:[H.jsx("input",{type:"text",name:"id",placeholder:"Group to join...",value:l[0],readOnly:!0,required:!0}),H.jsx("input",{type:"text",name:"password",placeholder:"Group Password...",value:l[1],readOnly:!0,required:!0})]}),H.jsx("input",{type:"text",name:"author",id:"author-input",placeholder:"Your name...",required:!0}),H.jsx("button",{type:"submit",children:"Join Chat"})]})}function L4({client:n,setData:i,setCurrentChat:s,setPage:l,data:d}){const[f,m]=Je.useState(!1),[[E,b],g]=Je.useState(["",""]),w=async D=>{D.preventDefault();const T=new FormData(D.target),O=T.get("id"),N=ql(O),B=T.get("password"),I=ql(B),M=T.get("author");if(!N||!I)return alert("Please scan QR code first or switch to input mode and input the group id and password.");if(d!=null&&d[N])return alert("You are already in chat: "+O);const k=await n.get("join",{chatId:N,passwordHash:ql(ql(I)),author:fi(I,M),messageIds:{},subscription:window.notificationSubscription});if(k===!1){alert("Your password is incorrect!");return}i(Q=>({...Q,[N]:{password:I,messages:k.map(({id:q,message:Y})=>{try{return{...JSON.parse(di(I,Y)),id:q}}catch{return{type:"error",data:"An error occurred (wrong password) (ignorable error)"}}}),author:M,unread:0,chatName:O,rawPassword:B,userStates:{},rawChatId:O}}));const V=await n.get("users",N);V&&i(Q=>({...Q,[N]:{...Q[N],messages:[...Q[N].messages,...V.map(q=>{const Y=di(Q[N].password,q);return{type:"user-joined",data:"User joined: "+Y,author:Y,id:Ci(4).toString($t.enc.Base64)}})]}})),s(N),D.target.reset(),m(!1),g(["",""]),l&&l(!1)},C=Ci(8).toString($t.enc.Base64url);return H.jsx("div",{children:f?H.jsx(G5,{handleJoin:w,setScanQrCode:m,setChatData:g,chatData:[E,b]}):H.jsx(r5,{handleJoin:w,setScanQrCode:m,defaultPassword:C})})}function k4({chats:n,currentChat:i,setCurrentChat:s,setChats:l,client:d,setPage:f}){const[m,E]=Je.useState(null),b=T=>{l(O=>{const N={...O};return delete N[T],N})},g=async T=>{await d.get("delete-chat",T)?b(T):console.error("Error: chat cannot be deleted"),m===T&&E(null)},w=async T=>{await d.get("exit",{chatId:T,subscription:window.notificationSubscription})?b(T):console.error("Error: chat cannot be exited"),m===T&&E(null)},C=async(T,O)=>{l(N=>({...N,[T]:{...N[T],chatName:O}})),E(null)},D=T=>{var B,I;s(T),f&&f(!1),l(M=>({...M,[T]:{...M[T],unread:0}}));const O=document.querySelector('.chat-room .message-form input[name="text"]');(B=O==null?void 0:O.focus)==null||B.call(O);const N=document.querySelector(".chat-room");(I=N==null?void 0:N.scrollIntoView)==null||I.call(N,{block:"start",behavior:"smooth"}),m!==null&&E(null)};return H.jsx("nav",{className:"nav-bar",children:H.jsx("ul",{children:Object.entries(n).map(([T,O])=>H.jsx(Y5,{chatId:T,chat:O,isActive:T===i,selectChat:D,deleteChat:g,exitChat:w,renameChat:C,editingChat:m,setEditingChat:E},T))})})}function Y5({chatId:n,chat:i,isActive:s,selectChat:l,deleteChat:d,exitChat:f,renameChat:m,editingChat:E,setEditingChat:b}){const[g,w]=Je.useState(i.chatName),C=async O=>{O.preventDefault(),await m(n,g)},D=O=>{O.stopPropagation(),b(E===n?null:n)},T=O=>{O.preventDefault(),D(O)};return H.jsxs("li",{className:s?"active":"",onContextMenu:T,children:[H.jsxs("div",{className:"chat-item",children:[H.jsxs("button",{className:"chat-select-button "+(i.isCalling?"calling":""),onClick:()=>l(n),children:[H.jsx("span",{className:"chat-name",children:i.chatName}),H.jsx("span",{className:i.unread===0?"unread hide":"unread",children:i.unread})]}),H.jsx("button",{className:"edit-toggle",onClick:D,children:""})]}),E===n&&H.jsxs("div",{className:"edit-popup",children:[H.jsxs("form",{onSubmit:C,className:"rename-form",children:[H.jsx("input",{type:"text",value:g,onChange:O=>w(O.target.value),placeholder:"chatname...",autoFocus:!0}),H.jsxs("div",{className:"row",children:[H.jsx("button",{type:"submit",children:"Save"}),H.jsx("button",{type:"button",onClick:()=>b(null),children:"Cancel"})]})]}),H.jsxs("div",{className:"edit-actions",children:[H.jsx("button",{onClick:()=>confirm(`are you sure you want to delete the chat: "${i.chatName}"?`)&&d(n),className:"danger",children:"Delete"}),H.jsx("button",{onClick:()=>confirm(`are you sure you want to exit the chat: "${i.chatName}"?`)&&f(n),className:"danger",children:"Exit"})]})]})]})}function F4(){return H.jsx("div",{className:"no-chat-selected",children:H.jsx("p",{children:"Please select a chat from the navigation bar or join a new chat."})})}function X5({currentChat:n,setCurrentChat:i,client:s,setData:l,data:d}){const[f,m]=Je.useState(!0);return window.setPage=m,Je.useEffect(()=>{let E=0;const b=innerWidth/2,g=C=>{E=C.touches[0].clientX},w=C=>{let D=C.changedTouches[0].clientX;E-D>b&&f?m(!1):D-E>b&&!f&&m(!0)};return window.addEventListener("touchstart",g),window.addEventListener("touchend",w),()=>{window.removeEventListener("touchstart",g),window.removeEventListener("touchend",w)}},[f]),H.jsxs("div",{className:"app-container mobile",children:[H.jsxs("div",{className:`page ${f?"page-open":""}`,children:[H.jsx(k4,{chats:d,currentChat:n,setCurrentChat:i,setChats:l,client:s,setPage:m}),H.jsx("aside",{children:H.jsx(L4,{setCurrentChat:i,client:s,setData:l,setPage:m,data:d})})]}),H.jsx("div",{className:`page ${f?"":"page-open"}`,children:H.jsx("main",{children:n&&d[n]?H.jsx(_4,{chatId:n,chatData:d[n],client:s,setData:l,page:f}):H.jsx(F4,{})})})]})}function Z5({currentChat:n,setCurrentChat:i,client:s,setData:l,data:d}){return H.jsxs("div",{className:"app-container",children:[H.jsx(k4,{chats:d,currentChat:n,setCurrentChat:i,setChats:l,client:s}),H.jsx("aside",{children:H.jsx(L4,{setCurrentChat:i,client:s,setData:l,data:d})}),H.jsx("main",{children:n&&d[n]?H.jsx(_4,{chatId:n,chatData:d[n],client:s,setData:l}):H.jsx(F4,{})})]})}var Hl={},ly;function W5(){if(ly)return Hl;ly=1;var n=Hl&&Hl.__assign||function(){return n=Object.assign||function(l){for(var d,f=1,m=arguments.length;f<m;f++){d=arguments[f];for(var E in d)Object.prototype.hasOwnProperty.call(d,E)&&(l[E]=d[E])}return l},n.apply(this,arguments)};Object.defineProperty(Hl,"__esModule",{value:!0});var i=jn();function s(l,d,f){var m=(0,i.useMemo)(function(){return n({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},f)},[f]),E=m.serializer,b=m.parser,g=m.logger,w=m.syncData,C=(0,i.useRef)(null),D=(0,i.useState)(function(){if(typeof window>"u")return d;try{C.current=window.localStorage.getItem(l);var N=C.current?b(C.current):d;return N}catch(B){return g(B),d}}),T=D[0],O=D[1];return(0,i.useEffect)(function(){if(!(typeof window>"u")){var N=function(){if(T!==void 0){var B=E(T),I=C.current;C.current=B,window.localStorage.setItem(l,B),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:l,newValue:B,oldValue:I}))}else window.localStorage.removeItem(l),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:l}))};try{N()}catch(B){g(B)}}},[T]),(0,i.useEffect)(function(){if(w){var N=function(B){if(!(B.key!==l||B.storageArea!==window.localStorage))try{B.newValue!==C.current&&(C.current=B.newValue,O(B.newValue?b(B.newValue):void 0))}catch(I){g(I)}};if(!(typeof window>"u"))return window.addEventListener("storage",N),function(){return window.removeEventListener("storage",N)}}},[l,w]),[T,O]}return Hl.default=s,Hl}var Q5=W5();const iu=Vi(Q5);function K5({state:n,setWaitForServer:i}){const[s,l]=iu("loaded-ads",[]),[d,f]=Je.useState(0),[m,E]=Je.useState(1e3);return Je.useEffect(()=>{const b=setInterval(()=>{f(g=>g+1)},m);return()=>clearInterval(b)},[m]),Je.useEffect(()=>{fetch("/easy-messenger/ads.json").then(b=>b.json()).then(b=>l(b)).catch(b=>b)},[]),H.jsxs("div",{style:{margin:"20px"},children:[H.jsx("button",{onClick:()=>i(!0),type:"button",children:"Skip Waiting..."}),H.jsxs("p",{children:["Loading state: ",n,"..."]}),H.jsxs("p",{children:["It can't take under a minute... (",d,"s)"]}),H.jsx("button",{onClick:()=>E(b=>b/2),children:"Click This Button To Make It Faster"}),H.jsx("div",{className:"ads",children:s.map(({img:b,text:g,url:w})=>H.jsxs("a",{href:w,className:"ad",children:[H.jsx("img",{alt:g,title:g,src:b}),H.jsx("span",{children:g})]},w))})]})}function J5({shareData:n,setShareData:i,client:s,chats:l,setChats:d}){const[f,m]=Je.useState(n),[E,b]=Je.useState([]),[g,w]=Je.useState(!1),C=T=>{b(O=>O.includes(T)?O.filter(N=>N!==T):[...O,T])},D=async T=>{if(T.preventDefault(),E.length===0){alert("Please select at least one chat.");return}const O=f.trim();if(O===""){alert("Please enter a message.");return}for(const N of E){const B=l[N],I={type:"text",data:O,date:new Date().toLocaleString(),author:B.author,comments:[]},M={id:Ci(4).toString($t.enc.Hex)};d(Q=>{var q;return{...Q,[N]:{...Q[N],messages:[...((q=Q[N])==null?void 0:q.messages)||[],{...I,...M}]}}});const k=fi(B.password,JSON.stringify(I));await s.get("send",{chatId:N,message:k,...M})||alert(`A send error occurred for chat ${B.chatName}. Your message wasn't sent!`)}window.history.replaceState("","","/easy-messenger/"),i(!1)};return H.jsxs("div",{className:"share-container",children:[H.jsxs("div",{className:"share-header",children:[H.jsx("h1",{children:"Share..."}),H.jsx("button",{className:"danger",onClick:()=>{window.history.replaceState("","","/easy-messenger/"),i(!1)},children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})})]}),H.jsx("div",{children:H.jsx("ul",{className:"chat-list",children:Object.keys(l).map(T=>{var O;return H.jsx("li",{children:H.jsx("button",{type:"button",className:`chat-select-button ${E.includes(T)?"selected":""}`,onClick:N=>{N.preventDefault(),C(T)},children:(O=l[T])==null?void 0:O.chatName})},T)})})}),H.jsx("br",{}),H.jsx("div",{onClick:()=>w(!0),className:"preview-box",children:H.jsx(Hd,{text:f})}),H.jsxs("form",{onSubmit:D,className:"share-form preview-box",children:[g&&H.jsx("textarea",{autoFocus:!0,name:"text",placeholder:"Type your message...",required:!0,value:f,onChange:T=>m(T.target.value)}),H.jsx("button",{type:"submit",className:"send-btn",title:"Send",children:H.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:H.jsx("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})})})]})]})}function $5(){if(window.location.hash!="#share")return!1;const n=new URL(window.location);let i="## Share:";return n.searchParams.get("title")&&(i+=`
Title: ${n.searchParams.get("title")}`),n.searchParams.get("text")&&(i+=`
Text: ${n.searchParams.get("text")}`),n.searchParams.get("url")&&(i+=`
URL: ${n.searchParams.get("url")}`),i}window.addEventListener("keydown",n=>{var i,s,l;n.altKey&&(n.key.toLowerCase()==="j"?(document.querySelector("input[name=id]").focus(),n.preventDefault()):isNaN(parseInt(n.key))?n.key.toLowerCase()==="s"&&((l=document.querySelector("textarea[name=text]"))==null||l.focus(),n.preventDefault()):((s=(i=document.querySelectorAll(".chat-select-button"))==null?void 0:i[parseInt(n.key)-1])==null||s.click(),n.preventDefault()))});function eT(){const[n,i]=Je.useState(!1);return Je.useEffect(()=>{const s=()=>i(!1),l=()=>i(!0);return window.addEventListener("online",s),window.addEventListener("offline",l),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",l)}},[]),n}function tT(){const[n,i]=Je.useState(window.innerWidth);return Je.useEffect(()=>{const s=window.addEventListener("resize",()=>i(window.innerWidth));return()=>{window.removeEventListener("resize",s)}},[]),n}let oy=0;function nT({client:n,currentChat:i,data:s,setCurrentChat:l,setData:d}){return tT()>768?H.jsx(Z5,{client:n,currentChat:i,data:s,setCurrentChat:l,setData:d}):H.jsx(X5,{client:n,currentChat:i,data:s,setCurrentChat:l,setData:d})}function rT({chatsLoaded:n,data:i,reCreateClient:s}){return H.jsx("div",{className:"reconnect",children:n<1?H.jsxs(H.Fragment,{children:[H.jsx("h3",{children:"You aren't connected...."}),H.jsx("div",{style:{margin:"20px"},children:H.jsx("button",{className:"reconnect-button",onClick:s,children:"Reconnect"})})]}):H.jsxs("span",{children:["Chats to have to load: ",n,"/",Object.keys(i).length+1]})})}function iT({setData:n,data:i}){const[s,l]=Je.useState($5());window.setShareData=l;const d=eT(),[f,m]=Je.useState(null);window.selectedChat=f,window.setSelectedChat=m;const{client:E,state:b,reCreateClient:g,isClosed:w,chatsLoaded:C}=Bv(i,n);window.reCreateClient=g;const[D,T]=Je.useState(!1);return Je.useEffect(()=>{b==="closed"&&!d&&Date.now()-oy>2e3&&(oy=Date.now(),g())},[b,d,g]),E==null&&!d&&D?H.jsx(K5,{setWaitForServer:T,state:b}):s!==!1?H.jsx(J5,{client:E,shareData:s,setShareData:l,setChats:n,chats:i}):H.jsxs("div",{className:d||w||b==="closed"||b==="failed"||C?"offline":"online",children:[H.jsx(nT,{client:E,currentChat:f,data:i,setCurrentChat:m,setData:n}),H.jsx(rT,{chatsLoaded:C,data:i,reCreateClient:g})]})}const aT="BHURkyBnGRp0-kUFq6wsz7Xw8ZJTU6yMv8VxlYgwadhhBZBqXhgKtzr9TwOJPNacgwAEn5Q106h9ZN0llgrNHpQ";async function sT(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.log("Push notifications are not supported in this browser."),!1;const n=await navigator.serviceWorker.ready;let i=await n.pushManager.getSubscription();return i?(console.log("Returning existing subscription."),i):(console.log("Creating a new subscription..."),i=await n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:lT(aT)}),i)}function lT(n){const i="=".repeat((4-n.length%4)%4),s=(n+i).replace(/-/g,"+").replace(/_/g,"/"),l=atob(s);return new Uint8Array([...l].map(d=>d.charCodeAt(0)))}let xc;const Vd=document.getElementById("installBtn");window.notificationSubscription=!1;window.addEventListener("beforeinstallprompt",n=>{n.preventDefault(),xc=n,Vd.style.display="block"});Vd.addEventListener("click",()=>{xc.prompt(),xc.userChoice.then(n=>{n.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),xc=null,Vd.style.display="none"})});function oT(){"serviceWorker"in navigator&&(sT().then(n=>{window.notificationSubscription=n}),navigator.serviceWorker.register("/easy-messenger/service-worker.js",{scope:"/easy-messenger/"}).then(n=>{console.log("Service Worker Active!");const i=setInterval(()=>{n.update().then(()=>{console.log("Service Worker updated!")}).catch(s=>{console.error("Error checking for service worker updates:",s)})},5*60*1e3);return n.onupdatefound=()=>{const s=n.installing;s.onstatechange=()=>{s.state==="installed"&&navigator.serviceWorker.controller&&(s.postMessage({type:"skipWaiting"}),console.log("New service worker found and taking control"))}},()=>clearInterval(i)}).catch(n=>{console.error("Service Worker registration failed:",n)}))}function uT({handleCreateAccount:n}){const[i,s]=iu("use-darkmode",!0);return document.body.classList=i?"dark-mode":"light-mode",H.jsxs("div",{className:"create-account-wrapper",children:[H.jsx("h1",{className:"opensource-info",children:"QUATSCHER Messenger"}),H.jsxs("fieldset",{className:"login",children:[H.jsx("legend",{children:H.jsx("h1",{children:"Create Account"})}),H.jsxs("form",{onSubmit:n,className:"form",children:[H.jsxs("p",{children:["Password:",H.jsx("input",{type:"password",placeholder:"Enter password...",name:"password",autoFocus:!0,className:"input",required:!0,autoComplete:"new-password"})]}),H.jsxs("p",{children:["Reinput Password:",H.jsx("input",{type:"password",autoComplete:"new-password",placeholder:"Enter password...",name:"password2",required:!0,className:"input"})]}),H.jsx("p",{id:"error",className:"error"}),H.jsx("p",{children:H.jsx("input",{type:"button",onClick:()=>s(l=>!l),value:i?"light mode":"dark mode"})}),H.jsx("button",{type:"submit",className:"button",children:"Create Account"})]})]}),H.jsxs("div",{className:"opensource-info",children:[H.jsx("img",{src:"https://manuelwestermeier.github.io/easy-messenger/img/logo-512.png",alt:"Logo"}),H.jsx("h2",{children:"Open Source & Ultra Secure"}),H.jsxs("p",{children:["Our messenger is designed with your security in mind. All data is encrypted directly on your device, ensuring that no sensitive information is ever sent to our servers. This open-source project is hosted on",H.jsx("a",{href:"https://github.com/ManuelWestermeier/easy-messenger/",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", making it fully transparent and, we believe, the securest messenger available  even governments cant hack it!"]})]}),H.jsxs("div",{className:"opensource-info",children:[H.jsxs("div",{className:"disclaimer",children:[H.jsx("h1",{children:"Disclaimer"}),H.jsx("h2",{children:" 1 Scope"}),H.jsx("p",{children:"By using this application, you agree that all content created, stored, or published by users is solely their own responsibility. The provider assumes no liability for such content."}),H.jsx("h2",{children:" 2 Limitation of Liability"}),H.jsx("p",{children:"The provider is not liable for any damages or legal consequences arising from the use of the application or the transmission of content. Any liability  whether for direct or indirect damages  is expressly excluded."}),H.jsx("h2",{children:" 3 Use at Your Own Risk"}),H.jsx("p",{children:"The use of this application is at your own risk. No guarantee is provided regarding the functionality or security of the application. The provider cannot be held responsible for any damages resulting from its use."}),H.jsx("h2",{children:" 4 Legal Advice"}),H.jsx("p",{children:"This disclaimer does not constitute legal advice. In case of doubt, it is recommended that you consult a legal professional."})]}),H.jsxs("div",{className:"disclaimer",children:[H.jsx("h1",{children:"Haftungsausschluss"}),H.jsx("h2",{children:" 1 Geltungsbereich"}),H.jsx("p",{children:"Mit der Nutzung dieser Anwendung erklren Sie sich einverstanden, dass smtliche Inhalte, die von Nutzern erstellt, gespeichert oder verffentlicht werden, in deren eigener Verantwortung liegen. Der Anbieter bernimmt keinerlei Haftung fr diese Inhalte."}),H.jsx("h2",{children:" 2 Haftungsbeschrnkung"}),H.jsx("p",{children:"Der Anbieter haftet nicht fr Schden oder rechtliche Konsequenzen, die aus der Nutzung der Anwendung oder der bermittlung von Inhalten entstehen. Jegliche Haftung  sei es fr direkte oder indirekte Schden  wird ausdrcklich ausgeschlossen."}),H.jsx("h2",{children:" 3 Nutzung auf eigene Gefahr"}),H.jsx("p",{children:"Die Nutzung der Anwendung erfolgt auf eigene Gefahr. Es wird keine Gewhrleistung fr die Funktionsfhigkeit oder die Sicherheit der Anwendung bernommen. Der Anbieter kann fr etwaige Schden, die aus der Nutzung resultieren, nicht verantwortlich gemacht werden."}),H.jsx("h2",{children:" 4 Rechtsberatung"}),H.jsx("p",{children:"Dieser Haftungsausschluss stellt keine Rechtsberatung dar. Im Zweifelsfall wird empfohlen, einen Fachanwalt zu konsultieren."})]})]}),H.jsx("audio",{src:"https://manuelwestermeier.github.io/easy-messenger/sounds/messager-ringtone.mp3",style:{display:"none"},autoPlay:!0})]})}function cT({handleLogin:n}){const[i,s]=iu("use-entry-audio",!0),[l,d]=iu("use-darkmode",!0);return document.body.classList=l?"dark-mode":"light-mode",H.jsxs(H.Fragment,{children:[H.jsx("h1",{className:"opensource-info",children:"QUATSCHER Messenger"}),H.jsxs("fieldset",{className:"login",children:[H.jsx("legend",{children:H.jsxs("h1",{children:["Login ",document.location.hash=="#share"?"=> Share":""]})}),H.jsxs("form",{onSubmit:n,className:"form",children:[H.jsxs("p",{children:["Password:",H.jsx("input",{type:"password",autoFocus:!0,placeholder:"Enter password...",name:"password",className:"input",autoComplete:"current-password"})]}),H.jsx("p",{children:H.jsx("input",{type:"button",onClick:()=>s(f=>!f),value:i?"don't play entry audio":"play entry audio"})}),H.jsx("p",{children:H.jsx("input",{type:"button",onClick:()=>d(f=>!f),value:l?"light mode":"dark mode"})}),H.jsx("p",{id:"error",className:"error"}),H.jsx("button",{type:"submit",className:"button",children:"Login"})]})]}),H.jsxs("div",{className:"opensource-info",children:[H.jsx("img",{src:"https://manuelwestermeier.github.io/easy-messenger/img/logo-512.png",alt:"Logo"}),H.jsx("h2",{children:"Open Source & Ultra Secure"}),H.jsxs("p",{children:["Our messenger is designed with your security in mind. All data is encrypted directly on your device, ensuring that no sensitive information is ever sent to our servers. This open-source project is hosted on",H.jsx("a",{href:"https://github.com/ManuelWestermeier/easy-messenger/",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", making it fully transparent and, we believe, the securest messenger available  even governments cant hack it!"]})]}),H.jsxs("div",{className:"opensource-info",children:[H.jsxs("div",{className:"disclaimer",children:[H.jsx("h1",{children:"Disclaimer"}),H.jsx("h2",{children:" 1 Scope"}),H.jsx("p",{children:"By using this application, you agree that all content created, stored, or published by users is solely their own responsibility. The provider assumes no liability for such content."}),H.jsx("h2",{children:" 2 Limitation of Liability"}),H.jsx("p",{children:"The provider is not liable for any damages or legal consequences arising from the use of the application or the transmission of content. Any liability  whether for direct or indirect damages  is expressly excluded."}),H.jsx("h2",{children:" 3 Use at Your Own Risk"}),H.jsx("p",{children:"The use of this application is at your own risk. No guarantee is provided regarding the functionality or security of the application. The provider cannot be held responsible for any damages resulting from its use."}),H.jsx("h2",{children:" 4 Legal Advice"}),H.jsx("p",{children:"This disclaimer does not constitute legal advice. In case of doubt, it is recommended that you consult a legal professional."})]}),H.jsxs("div",{className:"disclaimer",children:[H.jsx("h1",{children:"Haftungsausschluss"}),H.jsx("h2",{children:" 1 Geltungsbereich"}),H.jsx("p",{children:"Mit der Nutzung dieser Anwendung erklren Sie sich einverstanden, dass smtliche Inhalte, die von Nutzern erstellt, gespeichert oder verffentlicht werden, in deren eigener Verantwortung liegen. Der Anbieter bernimmt keinerlei Haftung fr diese Inhalte."}),H.jsx("h2",{children:" 2 Haftungsbeschrnkung"}),H.jsx("p",{children:"Der Anbieter haftet nicht fr Schden oder rechtliche Konsequenzen, die aus der Nutzung der Anwendung oder der bermittlung von Inhalten entstehen. Jegliche Haftung  sei es fr direkte oder indirekte Schden  wird ausdrcklich ausgeschlossen."}),H.jsx("h2",{children:" 3 Nutzung auf eigene Gefahr"}),H.jsx("p",{children:"Die Nutzung der Anwendung erfolgt auf eigene Gefahr. Es wird keine Gewhrleistung fr die Funktionsfhigkeit oder die Sicherheit der Anwendung bernommen. Der Anbieter kann fr etwaige Schden, die aus der Nutzung resultieren, nicht verantwortlich gemacht werden."}),H.jsx("h2",{children:" 4 Rechtsberatung"}),H.jsx("p",{children:"Dieser Haftungsausschluss stellt keine Rechtsberatung dar. Im Zweifelsfall wird empfohlen, einen Fachanwalt zu konsultieren."})]})]}),i&&H.jsx("audio",{src:"https://manuelwestermeier.github.io/easy-messenger/sounds/messager-ringtone.mp3",style:{display:"none"},autoPlay:!0})]})}function fT(){Je.useEffect(oT,[]);const[n,i]=Je.useState(null),[s,l]=iu("enc-chat-data",null),[d,f]=Je.useState(!1),m=D=>{D.preventDefault();const T=D.target.password.value,O=D.target.password2.value;if(!T||!O)return;if(T!=O)return D.target.reset(),alert("wrong password");i(T);const N=fi(T,"{}");l(N),f(!0)},E=D=>{D.preventDefault();const T=D.target.password.value;if(!T)return alert("Incorrect password");try{const O=di(T,s);JSON.parse(O)}catch{alert("Incorrect password");return}i(T),f(!0)},b=D=>{l(typeof D=="function"?T=>fi(n,JSON.stringify(D(JSON.parse(di(n,T))))):fi(n,JSON.stringify(D)))},g=H.jsx(cT,{handleLogin:E}),w=H.jsx(uT,{handleCreateAccount:m});if(s===null)return w;if(!d)return g;const C=di(n,s);return H.jsx(iT,{data:JSON.parse(C),setData:b})}oE.createRoot(document.getElementById("root")).render(H.jsx(fT,{}));
