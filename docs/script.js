var Lh=A=>{throw TypeError(A)};var bc=(A,p,h)=>p.has(A)||Lh("Cannot "+h);var pn=(A,p,h)=>(bc(A,p,"read from private field"),h?h.call(A):p.get(A)),zl=(A,p,h)=>p.has(A)?Lh("Cannot add the same private member more than once"):p instanceof WeakSet?p.add(A):p.set(A,h),Fh=(A,p,h,d)=>(bc(A,p,"write to private field"),d?d.call(A,h):p.set(A,h),h),La=(A,p,h)=>(bc(A,p,"access private method"),h);function Gx(A,p){for(var h=0;h<p.length;h++){const d=p[h];if(typeof d!="string"&&!Array.isArray(d)){for(const v in d)if(v!=="default"&&!(v in A)){const m=Object.getOwnPropertyDescriptor(d,v);m&&Object.defineProperty(A,v,m.get?m:{enumerable:!0,get:()=>d[v]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}(function(){const p=document.createElement("link").relList;if(p&&p.supports&&p.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))d(v);new MutationObserver(v=>{for(const m of v)if(m.type==="childList")for(const _ of m.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&d(_)}).observe(document,{childList:!0,subtree:!0});function h(v){const m={};return v.integrity&&(m.integrity=v.integrity),v.referrerPolicy&&(m.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?m.credentials="include":v.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(v){if(v.ep)return;v.ep=!0;const m=h(v);fetch(v.href,m)}})();var Q0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}function Yx(A){if(A.__esModule)return A;var p=A.default;if(typeof p=="function"){var h=function d(){return this instanceof d?Reflect.construct(p,arguments,this.constructor):p.apply(this,arguments)};h.prototype=p.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(A).forEach(function(d){var v=Object.getOwnPropertyDescriptor(A,d);Object.defineProperty(h,d,v.get?v:{enumerable:!0,get:function(){return A[d]}})}),h}var Sc={exports:{}},Os={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function Vx(){if(kh)return Os;kh=1;var A=Symbol.for("react.transitional.element"),p=Symbol.for("react.fragment");function h(d,v,m){var _=null;if(m!==void 0&&(_=""+m),v.key!==void 0&&(_=""+v.key),"key"in v){m={};for(var D in v)D!=="key"&&(m[D]=v[D])}else m=v;return v=m.ref,{$$typeof:A,type:d,key:_,ref:v!==void 0?v:null,props:m}}return Os.Fragment=p,Os.jsx=h,Os.jsxs=h,Os}var Uh;function Xx(){return Uh||(Uh=1,Sc.exports=Vx()),Sc.exports}var J=Xx(),Tc={exports:{}},Rs={},Dc={exports:{}},_c={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function qx(){return zh||(zh=1,function(A){function p(Ee,we){var Oe=Ee.length;Ee.push(we);e:for(;0<Oe;){var ze=Oe-1>>>1,V=Ee[ze];if(0<v(V,we))Ee[ze]=we,Ee[Oe]=V,Oe=ze;else break e}}function h(Ee){return Ee.length===0?null:Ee[0]}function d(Ee){if(Ee.length===0)return null;var we=Ee[0],Oe=Ee.pop();if(Oe!==we){Ee[0]=Oe;e:for(var ze=0,V=Ee.length,K=V>>>1;ze<K;){var fe=2*(ze+1)-1,de=Ee[fe],ie=fe+1,ke=Ee[ie];if(0>v(de,Oe))ie<V&&0>v(ke,de)?(Ee[ze]=ke,Ee[ie]=Oe,ze=ie):(Ee[ze]=de,Ee[fe]=Oe,ze=fe);else if(ie<V&&0>v(ke,Oe))Ee[ze]=ke,Ee[ie]=Oe,ze=ie;else break e}}return we}function v(Ee,we){var Oe=Ee.sortIndex-we.sortIndex;return Oe!==0?Oe:Ee.id-we.id}if(A.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;A.unstable_now=function(){return m.now()}}else{var _=Date,D=_.now();A.unstable_now=function(){return _.now()-D}}var b=[],g=[],y=1,T=null,M=3,O=!1,I=!1,F=!1,H=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function k(Ee){for(var we=h(g);we!==null;){if(we.callback===null)d(g);else if(we.startTime<=Ee)d(g),we.sortIndex=we.expirationTime,p(b,we);else break;we=h(g)}}function j(Ee){if(F=!1,k(Ee),!I)if(h(b)!==null)I=!0,Ne();else{var we=h(g);we!==null&&te(j,we.startTime-Ee)}}var $=!1,ee=-1,Y=5,oe=-1;function q(){return!(A.unstable_now()-oe<Y)}function W(){if($){var Ee=A.unstable_now();oe=Ee;var we=!0;try{e:{I=!1,F&&(F=!1,X(ee),ee=-1),O=!0;var Oe=M;try{t:{for(k(Ee),T=h(b);T!==null&&!(T.expirationTime>Ee&&q());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,M=T.priorityLevel;var V=ze(T.expirationTime<=Ee);if(Ee=A.unstable_now(),typeof V=="function"){T.callback=V,k(Ee),we=!0;break t}T===h(b)&&d(b),k(Ee)}else d(b);T=h(b)}if(T!==null)we=!0;else{var K=h(g);K!==null&&te(j,K.startTime-Ee),we=!1}}break e}finally{T=null,M=Oe,O=!1}we=void 0}}finally{we?se():$=!1}}}var se;if(typeof U=="function")se=function(){U(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ge=ue.port2;ue.port1.onmessage=W,se=function(){ge.postMessage(null)}}else se=function(){H(W,0)};function Ne(){$||($=!0,se())}function te(Ee,we){ee=H(function(){Ee(A.unstable_now())},we)}A.unstable_IdlePriority=5,A.unstable_ImmediatePriority=1,A.unstable_LowPriority=4,A.unstable_NormalPriority=3,A.unstable_Profiling=null,A.unstable_UserBlockingPriority=2,A.unstable_cancelCallback=function(Ee){Ee.callback=null},A.unstable_continueExecution=function(){I||O||(I=!0,Ne())},A.unstable_forceFrameRate=function(Ee){0>Ee||125<Ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<Ee?Math.floor(1e3/Ee):5},A.unstable_getCurrentPriorityLevel=function(){return M},A.unstable_getFirstCallbackNode=function(){return h(b)},A.unstable_next=function(Ee){switch(M){case 1:case 2:case 3:var we=3;break;default:we=M}var Oe=M;M=we;try{return Ee()}finally{M=Oe}},A.unstable_pauseExecution=function(){},A.unstable_requestPaint=function(){},A.unstable_runWithPriority=function(Ee,we){switch(Ee){case 1:case 2:case 3:case 4:case 5:break;default:Ee=3}var Oe=M;M=Ee;try{return we()}finally{M=Oe}},A.unstable_scheduleCallback=function(Ee,we,Oe){var ze=A.unstable_now();switch(typeof Oe=="object"&&Oe!==null?(Oe=Oe.delay,Oe=typeof Oe=="number"&&0<Oe?ze+Oe:ze):Oe=ze,Ee){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=Oe+V,Ee={id:y++,callback:we,priorityLevel:Ee,startTime:Oe,expirationTime:V,sortIndex:-1},Oe>ze?(Ee.sortIndex=Oe,p(g,Ee),h(b)===null&&Ee===h(g)&&(F?(X(ee),ee=-1):F=!0,te(j,Oe-ze))):(Ee.sortIndex=V,p(b,Ee),I||O||(I=!0,Ne())),Ee},A.unstable_shouldYield=q,A.unstable_wrapCallback=function(Ee){var we=M;return function(){var Oe=M;M=we;try{return Ee.apply(this,arguments)}finally{M=Oe}}}}(_c)),_c}var Hh;function Zx(){return Hh||(Hh=1,Dc.exports=qx()),Dc.exports}var Bc={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph;function Qx(){if(Ph)return Je;Ph=1;var A=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),_=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function M(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,F={};function H(V,K,fe){this.props=V,this.context=K,this.refs=F,this.updater=fe||O}H.prototype.isReactComponent={},H.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},H.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=H.prototype;function U(V,K,fe){this.props=V,this.context=K,this.refs=F,this.updater=fe||O}var k=U.prototype=new X;k.constructor=U,I(k,H.prototype),k.isPureReactComponent=!0;var j=Array.isArray,$={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function Y(V,K,fe,de,ie,ke){return fe=ke.ref,{$$typeof:A,type:V,key:K,ref:fe!==void 0?fe:null,props:ke}}function oe(V,K){return Y(V.type,K,void 0,void 0,void 0,V.props)}function q(V){return typeof V=="object"&&V!==null&&V.$$typeof===A}function W(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(fe){return K[fe]})}var se=/\/+/g;function ue(V,K){return typeof V=="object"&&V!==null&&V.key!=null?W(""+V.key):K.toString(36)}function ge(){}function Ne(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ge,ge):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function te(V,K,fe,de,ie){var ke=typeof V;(ke==="undefined"||ke==="boolean")&&(V=null);var ve=!1;if(V===null)ve=!0;else switch(ke){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(V.$$typeof){case A:case p:ve=!0;break;case y:return ve=V._init,te(ve(V._payload),K,fe,de,ie)}}if(ve)return ie=ie(V),ve=de===""?"."+ue(V,0):de,j(ie)?(fe="",ve!=null&&(fe=ve.replace(se,"$&/")+"/"),te(ie,K,fe,"",function(pt){return pt})):ie!=null&&(q(ie)&&(ie=oe(ie,fe+(ie.key==null||V&&V.key===ie.key?"":(""+ie.key).replace(se,"$&/")+"/")+ve)),K.push(ie)),1;ve=0;var dt=de===""?".":de+":";if(j(V))for(var Me=0;Me<V.length;Me++)de=V[Me],ke=dt+ue(de,Me),ve+=te(de,K,fe,ke,ie);else if(Me=M(V),typeof Me=="function")for(V=Me.call(V),Me=0;!(de=V.next()).done;)de=de.value,ke=dt+ue(de,Me++),ve+=te(de,K,fe,ke,ie);else if(ke==="object"){if(typeof V.then=="function")return te(Ne(V),K,fe,de,ie);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Ee(V,K,fe){if(V==null)return V;var de=[],ie=0;return te(V,de,"","",function(ke){return K.call(fe,ke,ie++)}),de}function we(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(fe){(V._status===0||V._status===-1)&&(V._status=1,V._result=fe)},function(fe){(V._status===0||V._status===-1)&&(V._status=2,V._result=fe)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Oe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function ze(){}return Je.Children={map:Ee,forEach:function(V,K,fe){Ee(V,function(){K.apply(this,arguments)},fe)},count:function(V){var K=0;return Ee(V,function(){K++}),K},toArray:function(V){return Ee(V,function(K){return K})||[]},only:function(V){if(!q(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Je.Component=H,Je.Fragment=h,Je.Profiler=v,Je.PureComponent=U,Je.StrictMode=d,Je.Suspense=b,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Je.act=function(){throw Error("act(...) is not supported in production builds of React.")},Je.cache=function(V){return function(){return V.apply(null,arguments)}},Je.cloneElement=function(V,K,fe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var de=I({},V.props),ie=V.key,ke=void 0;if(K!=null)for(ve in K.ref!==void 0&&(ke=void 0),K.key!==void 0&&(ie=""+K.key),K)!ee.call(K,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&K.ref===void 0||(de[ve]=K[ve]);var ve=arguments.length-2;if(ve===1)de.children=fe;else if(1<ve){for(var dt=Array(ve),Me=0;Me<ve;Me++)dt[Me]=arguments[Me+2];de.children=dt}return Y(V.type,ie,void 0,void 0,ke,de)},Je.createContext=function(V){return V={$$typeof:_,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:m,_context:V},V},Je.createElement=function(V,K,fe){var de,ie={},ke=null;if(K!=null)for(de in K.key!==void 0&&(ke=""+K.key),K)ee.call(K,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(ie[de]=K[de]);var ve=arguments.length-2;if(ve===1)ie.children=fe;else if(1<ve){for(var dt=Array(ve),Me=0;Me<ve;Me++)dt[Me]=arguments[Me+2];ie.children=dt}if(V&&V.defaultProps)for(de in ve=V.defaultProps,ve)ie[de]===void 0&&(ie[de]=ve[de]);return Y(V,ke,void 0,void 0,null,ie)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(V){return{$$typeof:D,render:V}},Je.isValidElement=q,Je.lazy=function(V){return{$$typeof:y,_payload:{_status:-1,_result:V},_init:we}},Je.memo=function(V,K){return{$$typeof:g,type:V,compare:K===void 0?null:K}},Je.startTransition=function(V){var K=$.T,fe={};$.T=fe;try{var de=V(),ie=$.S;ie!==null&&ie(fe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ze,Oe)}catch(ke){Oe(ke)}finally{$.T=K}},Je.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Je.use=function(V){return $.H.use(V)},Je.useActionState=function(V,K,fe){return $.H.useActionState(V,K,fe)},Je.useCallback=function(V,K){return $.H.useCallback(V,K)},Je.useContext=function(V){return $.H.useContext(V)},Je.useDebugValue=function(){},Je.useDeferredValue=function(V,K){return $.H.useDeferredValue(V,K)},Je.useEffect=function(V,K){return $.H.useEffect(V,K)},Je.useId=function(){return $.H.useId()},Je.useImperativeHandle=function(V,K,fe){return $.H.useImperativeHandle(V,K,fe)},Je.useInsertionEffect=function(V,K){return $.H.useInsertionEffect(V,K)},Je.useLayoutEffect=function(V,K){return $.H.useLayoutEffect(V,K)},Je.useMemo=function(V,K){return $.H.useMemo(V,K)},Je.useOptimistic=function(V,K){return $.H.useOptimistic(V,K)},Je.useReducer=function(V,K,fe){return $.H.useReducer(V,K,fe)},Je.useRef=function(V){return $.H.useRef(V)},Je.useState=function(V){return $.H.useState(V)},Je.useSyncExternalStore=function(V,K,fe){return $.H.useSyncExternalStore(V,K,fe)},Je.useTransition=function(){return $.H.useTransition()},Je.version="19.0.0",Je}var jh;function Pa(){return jh||(jh=1,Bc.exports=Qx()),Bc.exports}var Nc={exports:{}},Gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function Wx(){if(Gh)return Gn;Gh=1;var A=Pa();function p(b){var g="https://react.dev/errors/"+b;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+b+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var d={d:{f:h,r:function(){throw Error(p(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},v=Symbol.for("react.portal");function m(b,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:T==null?null:""+T,children:b,containerInfo:g,implementation:y}}var _=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function D(b,g){if(b==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Gn.createPortal=function(b,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(p(299));return m(b,g,null,y)},Gn.flushSync=function(b){var g=_.T,y=d.p;try{if(_.T=null,d.p=2,b)return b()}finally{_.T=g,d.p=y,d.d.f()}},Gn.preconnect=function(b,g){typeof b=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,d.d.C(b,g))},Gn.prefetchDNS=function(b){typeof b=="string"&&d.d.D(b)},Gn.preinit=function(b,g){if(typeof b=="string"&&g&&typeof g.as=="string"){var y=g.as,T=D(y,g.crossOrigin),M=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?d.d.S(b,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:M,fetchPriority:O}):y==="script"&&d.d.X(b,{crossOrigin:T,integrity:M,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gn.preinitModule=function(b,g){if(typeof b=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=D(g.as,g.crossOrigin);d.d.M(b,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&d.d.M(b)},Gn.preload=function(b,g){if(typeof b=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=D(y,g.crossOrigin);d.d.L(b,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gn.preloadModule=function(b,g){if(typeof b=="string")if(g){var y=D(g.as,g.crossOrigin);d.d.m(b,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else d.d.m(b)},Gn.requestFormReset=function(b){d.d.r(b)},Gn.unstable_batchedUpdates=function(b,g){return b(g)},Gn.useFormState=function(b,g,y){return _.H.useFormState(b,g,y)},Gn.useFormStatus=function(){return _.H.useHostTransitionStatus()},Gn.version="19.0.0",Gn}var Yh;function Kx(){if(Yh)return Nc.exports;Yh=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(p){console.error(p)}}return A(),Nc.exports=Wx(),Nc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function Jx(){if(Vh)return Rs;Vh=1;var A=Zx(),p=Pa(),h=Kx();function d(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var m=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),O=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),j=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Y?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case D:return"Portal";case y:return"Profiler";case g:return"StrictMode";case F:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case I:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return n=e.displayName||null,n!==null?n:oe(e.type)||"Memo";case U:n=e._payload,e=e._init;try{return oe(e(n))}catch{}}return null}var q=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.assign,se,ue;function ge(e){if(se===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);se=n&&n[1]||"",ue=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+se+e+ue}var Ne=!1;function te(e,n){if(!e||Ne)return"";Ne=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(me){var xe=me}Reflect.construct(e,[],Te)}else{try{Te.call()}catch(me){xe=me}e.call(Te.prototype)}}else{try{throw Error()}catch(me){xe=me}(Te=e())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(me){if(me&&xe&&typeof me.stack=="string")return[me.stack,xe.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=o.DetermineComponentFrameRoot(),S=E[0],L=E[1];if(S&&L){var G=S.split(`
`),re=L.split(`
`);for(f=o=0;o<G.length&&!G[o].includes("DetermineComponentFrameRoot");)o++;for(;f<re.length&&!re[f].includes("DetermineComponentFrameRoot");)f++;if(o===G.length||f===re.length)for(o=G.length-1,f=re.length-1;1<=o&&0<=f&&G[o]!==re[f];)f--;for(;1<=o&&0<=f;o--,f--)if(G[o]!==re[f]){if(o!==1||f!==1)do if(o--,f--,0>f||G[o]!==re[f]){var Ce=`
`+G[o].replace(" at new "," at ");return e.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",e.displayName)),Ce}while(1<=o&&0<=f);break}}}finally{Ne=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ge(a):""}function Ee(e){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function we(e){try{var n="";do n+=Ee(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Oe(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function ze(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function V(e){if(Oe(e)!==e)throw Error(d(188))}function K(e){var n=e.alternate;if(!n){if(n=Oe(e),n===null)throw Error(d(188));return n!==e?null:e}for(var a=e,o=n;;){var f=a.return;if(f===null)break;var E=f.alternate;if(E===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===E.child){for(E=f.child;E;){if(E===a)return V(f),e;if(E===o)return V(f),n;E=E.sibling}throw Error(d(188))}if(a.return!==o.return)a=f,o=E;else{for(var S=!1,L=f.child;L;){if(L===a){S=!0,a=f,o=E;break}if(L===o){S=!0,o=f,a=E;break}L=L.sibling}if(!S){for(L=E.child;L;){if(L===a){S=!0,a=E,o=f;break}if(L===o){S=!0,o=E,a=f;break}L=L.sibling}if(!S)throw Error(d(189))}}if(a.alternate!==o)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:n}function fe(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=fe(e),n!==null)return n;e=e.sibling}return null}var de=Array.isArray,ie=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},ve=[],dt=-1;function Me(e){return{current:e}}function pt(e){0>dt||(e.current=ve[dt],ve[dt]=null,dt--)}function st(e,n){dt++,ve[dt]=e.current,e.current=n}var wt=Me(null),Un=Me(null),Ye=Me(null),zt=Me(null);function un(e,n){switch(st(Ye,n),st(Un,e),st(wt,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ch(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=ch(e),n=fh(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}pt(wt),st(wt,n)}function bn(){pt(wt),pt(Un),pt(Ye)}function Lt(e){e.memoizedState!==null&&st(zt,e);var n=wt.current,a=fh(n,e.type);n!==a&&(st(Un,e),st(wt,a))}function lt(e){Un.current===e&&(pt(wt),pt(Un)),zt.current===e&&(pt(zt),Ds._currentValue=ke)}var We=Object.prototype.hasOwnProperty,er=A.unstable_scheduleCallback,Re=A.unstable_cancelCallback,En=A.unstable_shouldYield,ar=A.unstable_requestPaint,Ht=A.unstable_now,Mi=A.unstable_getCurrentPriorityLevel,nn=A.unstable_ImmediatePriority,Mr=A.unstable_UserBlockingPriority,Yn=A.unstable_NormalPriority,cn=A.unstable_LowPriority,Oi=A.unstable_IdlePriority,sr=A.log,ii=A.unstable_setDisableYieldValue,_t=null,_e=null;function Gt(e){if(_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(_t,e,void 0,(e.current.flags&128)===128)}catch{}}function nt(e){if(typeof sr=="function"&&ii(e),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(_t,e)}catch{}}var rt=Math.clz32?Math.clz32:v0,jr=Math.log,C0=Math.LN2;function v0(e){return e>>>=0,e===0?32:31-(jr(e)/C0|0)|0}var it=128,Vn=4194304;function pr(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n){var a=e.pendingLanes;if(a===0)return 0;var o=0,f=e.suspendedLanes,E=e.pingedLanes,S=e.warmLanes;e=e.finishedLanes!==0;var L=a&134217727;return L!==0?(a=L&~f,a!==0?o=pr(a):(E&=L,E!==0?o=pr(E):e||(S=L&~S,S!==0&&(o=pr(S))))):(L=a&~f,L!==0?o=pr(L):E!==0?o=pr(E):e||(S=a&~S,S!==0&&(o=pr(S)))),o===0?0:n!==0&&n!==o&&!(n&f)&&(f=o&-o,S=n&-n,f>=S||f===32&&(S&4194176)!==0)?n:o}function mn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ri(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rn(){var e=it;return it<<=1,!(it&4194176)&&(it=128),e}function Or(){var e=Vn;return Vn<<=1,!(Vn&62914560)&&(Vn=4194304),e}function Rr(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Sn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $0(e,n,a,o,f,E){var S=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var L=e.entanglements,G=e.expirationTimes,re=e.hiddenUpdates;for(a=S&~a;0<a;){var Ce=31-rt(a),Te=1<<Ce;L[Ce]=0,G[Ce]=-1;var xe=re[Ce];if(xe!==null)for(re[Ce]=null,Ce=0;Ce<xe.length;Ce++){var me=xe[Ce];me!==null&&(me.lane&=-536870913)}a&=~Te}o!==0&&Yt(e,o,0),E!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=E&~(S&~n))}function Yt(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-rt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function Xn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-rt(a),f=1<<o;f&n|e[o]&n&&(e[o]|=n),a&=~f}}function fn(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Er(){var e=ie.p;return e!==0?e:(e=window.event,e===void 0?32:Bh(e.type))}function tr(e,n){var a=ie.p;try{return ie.p=e,n()}finally{ie.p=a}}var Ie=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ie,Tn="__reactProps$"+Ie,an="__reactContainer$"+Ie,Gr="__reactEvents$"+Ie,ea="__reactListeners$"+Ie,ta="__reactHandles$"+Ie,lr="__reactResources$"+Ie,y0="__reactMarker$"+Ie;function ja(e){delete e[Xt],delete e[Tn],delete e[Gr],delete e[ea],delete e[ta]}function Dn(e){var n=e[Xt];if(n)return n;for(var a=e.parentNode;a;){if(n=a[an]||a[Xt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=xh(e);e!==null;){if(a=e[Xt])return a;e=xh(e)}return n}e=a,a=e.parentNode}return null}function Kt(e){if(e=e[Xt]||e[an]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function vt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(d(33))}function si(e){var n=e[lr];return n||(n=e[lr]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(e){e[y0]=!0}var na=new Set,be={};function li(e,n){bt(e,n),bt(e+"Capture",n)}function bt(e,n){for(be[e]=n,e=0;e<n.length;e++)na.add(n[e])}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),At={},xt={};function ot(e){return We.call(xt,e)?!0:We.call(At,e)?!1:Bo.test(e)?xt[e]=!0:(At[e]=!0,!1)}function Ii(e,n,a){if(ot(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Li(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function or(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Et(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ir(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e){var n=Ir(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,E=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(S){o=""+S,E.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ft(e){e._valueTracker||(e._valueTracker=No(e))}function Lr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=Ir(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fi=/[\n"\\]/g;function $e(e){return e.replace(Fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function hn(e,n,a,o,f,E,S,L){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Et(n)):e.value!==""+Et(n)&&(e.value=""+Et(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?z(e,S,Et(n)):a!=null?z(e,S,Et(a)):o!=null&&e.removeAttribute("value"),f==null&&E!=null&&(e.defaultChecked=!!E),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?e.name=""+Et(L):e.removeAttribute("name")}function ce(e,n,a,o,f,E,S,L){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(e.type=E),n!=null||a!=null){if(!(E!=="submit"&&E!=="reset"||n!=null))return;a=a!=null?""+Et(a):"",n=n!=null?""+Et(n):a,L||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=L?e.checked:!!o,e.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S)}function z(e,n,a){n==="number"&&ra(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ue(e,n,a,o){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Et(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function sn(e,n,a){if(n!=null&&(n=""+Et(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Et(a):""}function qn(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(d(92));if(de(o)){if(1<o.length)throw Error(d(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Et(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function ki(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ga=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zn(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Ga.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Pe(e,n,a){if(n!=null&&typeof n!="object")throw Error(d(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&Zn(e,f,o)}else for(var E in n)n.hasOwnProperty(E)&&Zn(e,E,n[E])}function Ot(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(e){return Mo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zi=null;function w0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,Pt=null;function Pi(e){var n=Kt(e);if(n&&(e=n.stateNode)){var a=e[Tn]||null;e:switch(e=n.stateNode,n.type){case"input":if(hn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var f=o[Tn]||null;if(!f)throw Error(d(90));hn(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Lr(o)}break e;case"textarea":sn(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ue(e,!!a.multiple,n,!1)}}}var mr=!1;function Ve(e,n,a){if(mr)return e(n,a);mr=!0;try{var o=e(n);return o}finally{if(mr=!1,(Hi!==null||Pt!==null)&&(ml(),Hi&&(n=Hi,e=Pt,Pt=Hi=null,Pi(n),e)))for(n=0;n<e.length;n++)Pi(e[n])}}function b0(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Tn]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,n,typeof a));return a}var Ze=!1;if(zn)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{Ze=!1}var Yr=null,S0=null,T0=null;function Vr(){if(T0)return T0;var e,n=S0,a=n.length,o,f="value"in Yr?Yr.value:Yr.textContent,E=f.length;for(e=0;e<a&&n[e]===f[e];e++);var S=a-e;for(o=1;o<=S&&n[a-o]===f[E-o];o++);return T0=f.slice(e,1<o?1-o:void 0)}function ia(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xr(){return!0}function ji(){return!1}function dn(e){function n(a,o,f,E,S){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=E,this.target=S,this.currentTarget=null;for(var L in e)e.hasOwnProperty(L)&&(a=e[L],this[L]=a?a(E):E[L]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Xr:ji,this.isPropagationStopped=ji,this}return W(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),n}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zr=dn(qr),Fr=W({},qr,{view:0,detail:0}),Hn=dn(Fr),aa,sa,Gi,la=W({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(aa=e.screenX-Gi.screenX,sa=e.screenY-Gi.screenY):sa=aa=0,Gi=e),aa)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),ks=dn(la),Oo=W({},la,{dataTransfer:0}),yt=dn(Oo),Us=W({},Fr,{relatedTarget:0}),Yi=dn(Us),Qr=W({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ro=dn(Qr),Ae=W({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ke=dn(Ae),Cn=W({},qr,{data:0}),D0=dn(Cn),zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Io={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Lo[e])?!!n[e]:!1}function _0(){return Fo}var ln=W({},Fr,{key:function(e){if(e.key){var n=zs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ia(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Io[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_0,charCode:function(e){return e.type==="keypress"?ia(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ia(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ya=dn(ln),Vt=W({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=dn(Vt),oi=W({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_0}),St=dn(oi),Ge=W({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ko=dn(Ge),Rt=W({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ui=dn(Rt),Vi=W({},qr,{newState:0,oldState:0}),Uo=dn(Vi),Cr=[9,13,27,32],N0=zn&&"CompositionEvent"in window,Xi=null;zn&&"documentMode"in document&&(Xi=document.documentMode);var Va=zn&&"TextEvent"in window&&!Xi,Xa=zn&&(!N0||Xi&&8<Xi&&11>=Xi),qa=" ",Hs=!1;function ci(e,n){switch(e){case"keyup":return Cr.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qi=!1;function M0(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Hs=!0,qa);case"textInput":return e=n.data,e===qa&&Hs?null:e;default:return null}}function zo(e,n){if(qi)return e==="compositionend"||!N0&&ci(e,n)?(e=Vr(),T0=S0=Yr=null,qi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Xa&&n.locale!=="ko"?null:n.data;default:return null}}var Wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Wr[e.type]:n==="textarea"}function Qn(e,n,a,o){Hi?Pt?Pt.push(o):Pt=[o]:Hi=o,n=bl(n,"onChange"),0<n.length&&(a=new Zr("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Zi=null,Pn=null;function Ho(e){ah(e,0)}function Qi(e){var n=vt(e);if(Lr(n))return e}function Ps(e,n){if(e==="change")return n}var Za=!1;if(zn){var nr;if(zn){var Qa="oninput"in document;if(!Qa){var ua=document.createElement("div");ua.setAttribute("oninput","return;"),Qa=typeof ua.oninput=="function"}nr=Qa}else nr=!1;Za=nr&&(!document.documentMode||9<document.documentMode)}function Wi(){Zi&&(Zi.detachEvent("onpropertychange",ct),Pn=Zi=null)}function ct(e){if(e.propertyName==="value"&&Qi(Pn)){var n=[];Qn(n,Pn,e,w0(e)),Ve(Ho,n)}}function ca(e,n,a){e==="focusin"?(Wi(),Zi=n,Pn=a,Zi.attachEvent("onpropertychange",ct)):e==="focusout"&&Wi()}function B(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qi(Pn)}function t(e,n){if(e==="click")return Qi(n)}function r(e,n){if(e==="input"||e==="change")return Qi(n)}function i(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var s=typeof Object.is=="function"?Object.is:i;function l(e,n){if(s(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!We.call(n,f)||!s(e[f],n[f]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,n){var a=u(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=u(a)}}function x(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?x(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function C(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ra(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ra(e.document)}return n}function w(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function N(e,n){var a=C(n);n=e.focusedElem;var o=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&x(n.ownerDocument.documentElement,n)){if(o!==null&&w(n)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var f=n.textContent.length,E=Math.min(o.start,f);o=o.end===void 0?E:Math.min(o.end,f),!a.extend&&E>o&&(f=o,o=E,E=f),f=c(n,E);var S=c(n,o);f&&S&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==S.node||a.focusOffset!==S.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),a.removeAllRanges(),E>o?(a.addRange(e),a.extend(S.node,S.offset)):(e.setEnd(S.node,S.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var R=zn&&"documentMode"in document&&11>=document.documentMode,P=null,Z=null,Q=null,le=!1;function pe(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;le||P==null||P!==ra(o)||(o=P,"selectionStart"in o&&w(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Q&&l(Q,o)||(Q=o,o=bl(Z,"onSelect"),0<o.length&&(n=new Zr("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=P)))}function De(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Be={animationend:De("Animation","AnimationEnd"),animationiteration:De("Animation","AnimationIteration"),animationstart:De("Animation","AnimationStart"),transitionrun:De("Transition","TransitionRun"),transitionstart:De("Transition","TransitionStart"),transitioncancel:De("Transition","TransitionCancel"),transitionend:De("Transition","TransitionEnd")},Se={},et={};zn&&(et=document.createElement("div").style,"AnimationEvent"in window||(delete Be.animationend.animation,delete Be.animationiteration.animation,delete Be.animationstart.animation),"TransitionEvent"in window||delete Be.transitionend.transition);function Xe(e){if(Se[e])return Se[e];if(!Be[e])return e;var n=Be[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in et)return Se[e]=n[a];return e}var Rn=Xe("animationend"),rr=Xe("animationiteration"),In=Xe("animationstart"),Tt=Xe("transitionrun"),vn=Xe("transitionstart"),Wn=Xe("transitioncancel"),fi=Xe("transitionend"),hi=new Map,js="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ur(e,n){hi.set(e,n),li(n,[e])}var vr=[],fa=0,Po=0;function Gs(){for(var e=fa,n=Po=fa=0;n<e;){var a=vr[n];vr[n++]=null;var o=vr[n];vr[n++]=null;var f=vr[n];vr[n++]=null;var E=vr[n];if(vr[n++]=null,o!==null&&f!==null){var S=o.pending;S===null?f.next=f:(f.next=S.next,S.next=f),o.pending=f}E!==0&&Wc(a,f,E)}}function Ys(e,n,a,o){vr[fa++]=e,vr[fa++]=n,vr[fa++]=a,vr[fa++]=o,Po|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function jo(e,n,a,o){return Ys(e,n,a,o),Vs(e)}function Ki(e,n){return Ys(e,null,null,n),Vs(e)}function Wc(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var f=!1,E=e.return;E!==null;)E.childLanes|=a,o=E.alternate,o!==null&&(o.childLanes|=a),E.tag===22&&(e=E.stateNode,e===null||e._visibility&1||(f=!0)),e=E,E=E.return;f&&n!==null&&e.tag===3&&(E=e.stateNode,f=31-rt(a),E=E.hiddenUpdates,e=E[f],e===null?E[f]=[n]:e.push(n),n.lane=a|536870912)}function Vs(e){if(50<Cs)throw Cs=0,Zu=null,Error(d(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ha={},Kc=new WeakMap;function yr(e,n){if(typeof e=="object"&&e!==null){var a=Kc.get(e);return a!==void 0?a:(n={value:e,source:n,stack:we(n)},Kc.set(e,n),n)}return{value:e,source:n,stack:we(n)}}var da=[],xa=0,Xs=null,qs=0,wr=[],br=0,R0=null,di=1,xi="";function I0(e,n){da[xa++]=qs,da[xa++]=Xs,Xs=e,qs=n}function Jc(e,n,a){wr[br++]=di,wr[br++]=xi,wr[br++]=R0,R0=e;var o=di;e=xi;var f=32-rt(o)-1;o&=~(1<<f),a+=1;var E=32-rt(n)+f;if(30<E){var S=f-f%5;E=(o&(1<<S)-1).toString(32),o>>=S,f-=S,di=1<<32-rt(n)+f|a<<f|o,xi=E+e}else di=1<<E|a<<f|o,xi=e}function Go(e){e.return!==null&&(I0(e,1),Jc(e,1,0))}function Yo(e){for(;e===Xs;)Xs=da[--xa],da[xa]=null,qs=da[--xa],da[xa]=null;for(;e===R0;)R0=wr[--br],wr[br]=null,xi=wr[--br],wr[br]=null,di=wr[--br],wr[br]=null}var Kn=null,Ln=null,mt=!1,kr=null,Kr=!1,Vo=Error(d(519));function L0(e){var n=Error(d(418,""));throw Ja(yr(n,e)),Vo}function $c(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Xt]=e,n[Tn]=o,a){case"dialog":ft("cancel",n),ft("close",n);break;case"iframe":case"object":case"embed":ft("load",n);break;case"video":case"audio":for(a=0;a<ys.length;a++)ft(ys[a],n);break;case"source":ft("error",n);break;case"img":case"image":case"link":ft("error",n),ft("load",n);break;case"details":ft("toggle",n);break;case"input":ft("invalid",n),ce(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ft(n);break;case"select":ft("invalid",n);break;case"textarea":ft("invalid",n),qn(n,o.value,o.defaultValue,o.children),Ft(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||uh(n.textContent,a)?(o.popover!=null&&(ft("beforetoggle",n),ft("toggle",n)),o.onScroll!=null&&ft("scroll",n),o.onScrollEnd!=null&&ft("scrollend",n),o.onClick!=null&&(n.onclick=Sl),n=!0):n=!1,n||L0(e)}function e1(e){for(Kn=e.return;Kn;)switch(Kn.tag){case 3:case 27:Kr=!0;return;case 5:case 13:Kr=!1;return;default:Kn=Kn.return}}function Wa(e){if(e!==Kn)return!1;if(!mt)return e1(e),mt=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||fc(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&Ln&&L0(e),e1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Ln=zr(e.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Ln=null}}else Ln=Kn?zr(e.stateNode.nextSibling):null;return!0}function Ka(){Ln=Kn=null,mt=!1}function Ja(e){kr===null?kr=[e]:kr.push(e)}var $a=Error(d(460)),t1=Error(d(474)),Xo={then:function(){}};function n1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zs(){}function r1(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Zs,Zs),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===$a?Error(d(483)):e;default:if(typeof n.status=="string")n.then(Zs,Zs);else{if(e=kt,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===$a?Error(d(483)):e}throw es=n,$a}}var es=null;function i1(){if(es===null)throw Error(d(459));var e=es;return es=null,e}var ga=null,ts=0;function Qs(e){var n=ts;return ts+=1,ga===null&&(ga=[]),r1(ga,e,n)}function ns(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ws(e,n){throw n.$$typeof===m?Error(d(525)):(e=Object.prototype.toString.call(n),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function a1(e){var n=e._init;return n(e._payload)}function s1(e){function n(ae,ne){if(e){var he=ae.deletions;he===null?(ae.deletions=[ne],ae.flags|=16):he.push(ne)}}function a(ae,ne){if(!e)return null;for(;ne!==null;)n(ae,ne),ne=ne.sibling;return null}function o(ae){for(var ne=new Map;ae!==null;)ae.key!==null?ne.set(ae.key,ae):ne.set(ae.index,ae),ae=ae.sibling;return ne}function f(ae,ne){return ae=u0(ae,ne),ae.index=0,ae.sibling=null,ae}function E(ae,ne,he){return ae.index=he,e?(he=ae.alternate,he!==null?(he=he.index,he<ne?(ae.flags|=33554434,ne):he):(ae.flags|=33554434,ne)):(ae.flags|=1048576,ne)}function S(ae){return e&&ae.alternate===null&&(ae.flags|=33554434),ae}function L(ae,ne,he,ye){return ne===null||ne.tag!==6?(ne=Hu(he,ae.mode,ye),ne.return=ae,ne):(ne=f(ne,he),ne.return=ae,ne)}function G(ae,ne,he,ye){var Fe=he.type;return Fe===b?Ce(ae,ne,he.props.children,ye,he.key):ne!==null&&(ne.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===U&&a1(Fe)===ne.type)?(ne=f(ne,he.props),ns(ne,he),ne.return=ae,ne):(ne=xl(he.type,he.key,he.props,null,ae.mode,ye),ns(ne,he),ne.return=ae,ne)}function re(ae,ne,he,ye){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==he.containerInfo||ne.stateNode.implementation!==he.implementation?(ne=Pu(he,ae.mode,ye),ne.return=ae,ne):(ne=f(ne,he.children||[]),ne.return=ae,ne)}function Ce(ae,ne,he,ye,Fe){return ne===null||ne.tag!==7?(ne=V0(he,ae.mode,ye,Fe),ne.return=ae,ne):(ne=f(ne,he),ne.return=ae,ne)}function Te(ae,ne,he){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Hu(""+ne,ae.mode,he),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case _:return he=xl(ne.type,ne.key,ne.props,null,ae.mode,he),ns(he,ne),he.return=ae,he;case D:return ne=Pu(ne,ae.mode,he),ne.return=ae,ne;case U:var ye=ne._init;return ne=ye(ne._payload),Te(ae,ne,he)}if(de(ne)||ee(ne))return ne=V0(ne,ae.mode,he,null),ne.return=ae,ne;if(typeof ne.then=="function")return Te(ae,Qs(ne),he);if(ne.$$typeof===O)return Te(ae,fl(ae,ne),he);Ws(ae,ne)}return null}function xe(ae,ne,he,ye){var Fe=ne!==null?ne.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Fe!==null?null:L(ae,ne,""+he,ye);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case _:return he.key===Fe?G(ae,ne,he,ye):null;case D:return he.key===Fe?re(ae,ne,he,ye):null;case U:return Fe=he._init,he=Fe(he._payload),xe(ae,ne,he,ye)}if(de(he)||ee(he))return Fe!==null?null:Ce(ae,ne,he,ye,null);if(typeof he.then=="function")return xe(ae,ne,Qs(he),ye);if(he.$$typeof===O)return xe(ae,ne,fl(ae,he),ye);Ws(ae,he)}return null}function me(ae,ne,he,ye,Fe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ae=ae.get(he)||null,L(ne,ae,""+ye,Fe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return ae=ae.get(ye.key===null?he:ye.key)||null,G(ne,ae,ye,Fe);case D:return ae=ae.get(ye.key===null?he:ye.key)||null,re(ne,ae,ye,Fe);case U:var at=ye._init;return ye=at(ye._payload),me(ae,ne,he,ye,Fe)}if(de(ye)||ee(ye))return ae=ae.get(he)||null,Ce(ne,ae,ye,Fe,null);if(typeof ye.then=="function")return me(ae,ne,he,Qs(ye),Fe);if(ye.$$typeof===O)return me(ae,ne,he,fl(ne,ye),Fe);Ws(ne,ye)}return null}function He(ae,ne,he,ye){for(var Fe=null,at=null,je=ne,qe=ne=0,Nn=null;je!==null&&qe<he.length;qe++){je.index>qe?(Nn=je,je=null):Nn=je.sibling;var Ct=xe(ae,je,he[qe],ye);if(Ct===null){je===null&&(je=Nn);break}e&&je&&Ct.alternate===null&&n(ae,je),ne=E(Ct,ne,qe),at===null?Fe=Ct:at.sibling=Ct,at=Ct,je=Nn}if(qe===he.length)return a(ae,je),mt&&I0(ae,qe),Fe;if(je===null){for(;qe<he.length;qe++)je=Te(ae,he[qe],ye),je!==null&&(ne=E(je,ne,qe),at===null?Fe=je:at.sibling=je,at=je);return mt&&I0(ae,qe),Fe}for(je=o(je);qe<he.length;qe++)Nn=me(je,ae,qe,he[qe],ye),Nn!==null&&(e&&Nn.alternate!==null&&je.delete(Nn.key===null?qe:Nn.key),ne=E(Nn,ne,qe),at===null?Fe=Nn:at.sibling=Nn,at=Nn);return e&&je.forEach(function(A0){return n(ae,A0)}),mt&&I0(ae,qe),Fe}function Qe(ae,ne,he,ye){if(he==null)throw Error(d(151));for(var Fe=null,at=null,je=ne,qe=ne=0,Nn=null,Ct=he.next();je!==null&&!Ct.done;qe++,Ct=he.next()){je.index>qe?(Nn=je,je=null):Nn=je.sibling;var A0=xe(ae,je,Ct.value,ye);if(A0===null){je===null&&(je=Nn);break}e&&je&&A0.alternate===null&&n(ae,je),ne=E(A0,ne,qe),at===null?Fe=A0:at.sibling=A0,at=A0,je=Nn}if(Ct.done)return a(ae,je),mt&&I0(ae,qe),Fe;if(je===null){for(;!Ct.done;qe++,Ct=he.next())Ct=Te(ae,Ct.value,ye),Ct!==null&&(ne=E(Ct,ne,qe),at===null?Fe=Ct:at.sibling=Ct,at=Ct);return mt&&I0(ae,qe),Fe}for(je=o(je);!Ct.done;qe++,Ct=he.next())Ct=me(je,ae,qe,Ct.value,ye),Ct!==null&&(e&&Ct.alternate!==null&&je.delete(Ct.key===null?qe:Ct.key),ne=E(Ct,ne,qe),at===null?Fe=Ct:at.sibling=Ct,at=Ct);return e&&je.forEach(function(jx){return n(ae,jx)}),mt&&I0(ae,qe),Fe}function en(ae,ne,he,ye){if(typeof he=="object"&&he!==null&&he.type===b&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case _:e:{for(var Fe=he.key;ne!==null;){if(ne.key===Fe){if(Fe=he.type,Fe===b){if(ne.tag===7){a(ae,ne.sibling),ye=f(ne,he.props.children),ye.return=ae,ae=ye;break e}}else if(ne.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===U&&a1(Fe)===ne.type){a(ae,ne.sibling),ye=f(ne,he.props),ns(ye,he),ye.return=ae,ae=ye;break e}a(ae,ne);break}else n(ae,ne);ne=ne.sibling}he.type===b?(ye=V0(he.props.children,ae.mode,ye,he.key),ye.return=ae,ae=ye):(ye=xl(he.type,he.key,he.props,null,ae.mode,ye),ns(ye,he),ye.return=ae,ae=ye)}return S(ae);case D:e:{for(Fe=he.key;ne!==null;){if(ne.key===Fe)if(ne.tag===4&&ne.stateNode.containerInfo===he.containerInfo&&ne.stateNode.implementation===he.implementation){a(ae,ne.sibling),ye=f(ne,he.children||[]),ye.return=ae,ae=ye;break e}else{a(ae,ne);break}else n(ae,ne);ne=ne.sibling}ye=Pu(he,ae.mode,ye),ye.return=ae,ae=ye}return S(ae);case U:return Fe=he._init,he=Fe(he._payload),en(ae,ne,he,ye)}if(de(he))return He(ae,ne,he,ye);if(ee(he)){if(Fe=ee(he),typeof Fe!="function")throw Error(d(150));return he=Fe.call(he),Qe(ae,ne,he,ye)}if(typeof he.then=="function")return en(ae,ne,Qs(he),ye);if(he.$$typeof===O)return en(ae,ne,fl(ae,he),ye);Ws(ae,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ne!==null&&ne.tag===6?(a(ae,ne.sibling),ye=f(ne,he),ye.return=ae,ae=ye):(a(ae,ne),ye=Hu(he,ae.mode,ye),ye.return=ae,ae=ye),S(ae)):a(ae,ne)}return function(ae,ne,he,ye){try{ts=0;var Fe=en(ae,ne,he,ye);return ga=null,Fe}catch(je){if(je===$a)throw je;var at=_r(29,je,null,ae.mode);return at.lanes=ye,at.return=ae,at}finally{}}}var F0=s1(!0),l1=s1(!1),Aa=Me(null),Ks=Me(0);function o1(e,n){e=Si,st(Ks,e),st(Aa,n),Si=e|n.baseLanes}function qo(){st(Ks,Si),st(Aa,Aa.current)}function Zo(){Si=Ks.current,pt(Aa),pt(Ks)}var Sr=Me(null),Jr=null;function Ji(e){var n=e.alternate;st(yn,yn.current&1),st(Sr,e),Jr===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Jr=e)}function u1(e){if(e.tag===22){if(st(yn,yn.current),st(Sr,e),Jr===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jr=e)}}else $i()}function $i(){st(yn,yn.current),st(Sr,Sr.current)}function gi(e){pt(Sr),Jr===e&&(Jr=null),pt(yn)}var yn=Me(0);function Js(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var B2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},N2=A.unstable_scheduleCallback,M2=A.unstable_NormalPriority,wn={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qo(){return{controller:new B2,data:new Map,refCount:0}}function rs(e){e.refCount--,e.refCount===0&&N2(M2,function(){e.controller.abort()})}var is=null,Wo=0,pa=0,Ea=null;function O2(e,n){if(is===null){var a=is=[];Wo=0,pa=nc(),Ea={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Wo++,n.then(c1,c1),n}function c1(){if(--Wo===0&&is!==null){Ea!==null&&(Ea.status="fulfilled");var e=is;is=null,pa=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function R2(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var f1=q.S;q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&O2(e,n),f1!==null&&f1(e,n)};var k0=Me(null);function Ko(){var e=k0.current;return e!==null?e:kt.pooledCache}function $s(e,n){n===null?st(k0,k0.current):st(k0,n.pool)}function h1(){var e=Ko();return e===null?null:{parent:wn._currentValue,pool:e}}var e0=0,tt=null,Bt=null,xn=null,el=!1,ma=!1,U0=!1,tl=0,as=0,Ca=null,I2=0;function on(){throw Error(d(321))}function Jo(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!s(e[a],n[a]))return!1;return!0}function $o(e,n,a,o,f,E){return e0=E,tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?z0:t0,U0=!1,E=a(o,f),U0=!1,ma&&(E=x1(n,a,o,f)),d1(e),E}function d1(e){q.H=$r;var n=Bt!==null&&Bt.next!==null;if(e0=0,xn=Bt=tt=null,el=!1,as=0,Ca=null,n)throw Error(d(300));e===null||_n||(e=e.dependencies,e!==null&&cl(e)&&(_n=!0))}function x1(e,n,a,o){tt=e;var f=0;do{if(ma&&(Ca=null),as=0,ma=!1,25<=f)throw Error(d(301));if(f+=1,xn=Bt=null,e.updateQueue!=null){var E=e.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}q.H=H0,E=n(a,o)}while(ma);return E}function L2(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?ss(n):n,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(tt.flags|=1024),n}function eu(){var e=tl!==0;return tl=0,e}function tu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function nu(e){if(el){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}el=!1}e0=0,xn=Bt=tt=null,ma=!1,as=tl=0,Ca=null}function ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?tt.memoizedState=xn=e:xn=xn.next=e,xn}function gn(){if(Bt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var n=xn===null?tt.memoizedState:xn.next;if(n!==null)xn=n,Bt=e;else{if(e===null)throw tt.alternate===null?Error(d(467)):Error(d(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},xn===null?tt.memoizedState=xn=e:xn=xn.next=e}return xn}var nl;nl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ss(e){var n=as;return as+=1,Ca===null&&(Ca=[]),e=r1(Ca,e,n),n=tt,(xn===null?n.memoizedState:xn.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?z0:t0),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ss(e);if(e.$$typeof===O)return jn(e)}throw Error(d(438,String(e)))}function ru(e){var n=null,a=tt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=nl(),tt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=j;return n.index++,a}function Ai(e,n){return typeof n=="function"?n(e):n}function il(e){var n=gn();return iu(n,Bt,e)}function iu(e,n,a){var o=e.queue;if(o===null)throw Error(d(311));o.lastRenderedReducer=a;var f=e.baseQueue,E=o.pending;if(E!==null){if(f!==null){var S=f.next;f.next=E.next,E.next=S}n.baseQueue=f=E,o.pending=null}if(E=e.baseState,f===null)e.memoizedState=E;else{n=f.next;var L=S=null,G=null,re=n,Ce=!1;do{var Te=re.lane&-536870913;if(Te!==re.lane?(gt&Te)===Te:(e0&Te)===Te){var xe=re.revertLane;if(xe===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),Te===pa&&(Ce=!0);else if((e0&xe)===xe){re=re.next,xe===pa&&(Ce=!0);continue}else Te={lane:0,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(L=G=Te,S=E):G=G.next=Te,tt.lanes|=xe,c0|=xe;Te=re.action,U0&&a(E,Te),E=re.hasEagerState?re.eagerState:a(E,Te)}else xe={lane:Te,revertLane:re.revertLane,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},G===null?(L=G=xe,S=E):G=G.next=xe,tt.lanes|=Te,c0|=Te;re=re.next}while(re!==null&&re!==n);if(G===null?S=E:G.next=L,!s(E,e.memoizedState)&&(_n=!0,Ce&&(a=Ea,a!==null)))throw a;e.memoizedState=E,e.baseState=S,e.baseQueue=G,o.lastRenderedState=E}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function au(e){var n=gn(),a=n.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var o=a.dispatch,f=a.pending,E=n.memoizedState;if(f!==null){a.pending=null;var S=f=f.next;do E=e(E,S.action),S=S.next;while(S!==f);s(E,n.memoizedState)||(_n=!0),n.memoizedState=E,n.baseQueue===null&&(n.baseState=E),a.lastRenderedState=E}return[E,o]}function g1(e,n,a){var o=tt,f=gn(),E=mt;if(E){if(a===void 0)throw Error(d(407));a=a()}else a=n();var S=!s((Bt||f).memoizedState,a);if(S&&(f.memoizedState=a,_n=!0),f=f.queue,ou(E1.bind(null,o,f,e),[e]),f.getSnapshot!==n||S||xn!==null&&xn.memoizedState.tag&1){if(o.flags|=2048,va(9,p1.bind(null,o,f,a,n),{destroy:void 0},null),kt===null)throw Error(d(349));E||e0&60||A1(o,n,a)}return a}function A1(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=tt.updateQueue,n===null?(n=nl(),tt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function p1(e,n,a,o){n.value=a,n.getSnapshot=o,m1(n)&&C1(e)}function E1(e,n,a){return a(function(){m1(n)&&C1(e)})}function m1(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!s(e,a)}catch{return!0}}function C1(e){var n=Ki(e,2);n!==null&&Jn(n,e,2)}function su(e){var n=ir();if(typeof e=="function"){var a=e;if(e=a(),U0){nt(!0);try{a()}finally{nt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n}function v1(e,n,a,o){return e.baseState=a,iu(e,Bt,typeof o=="function"?o:Ai)}function F2(e,n,a,o,f){if(ll(e))throw Error(d(485));if(e=n.action,e!==null){var E={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){E.listeners.push(S)}};q.T!==null?a(!0):E.isTransition=!1,o(E),a=n.pending,a===null?(E.next=n.pending=E,y1(n,E)):(E.next=a.next,n.pending=a.next=E)}}function y1(e,n){var a=n.action,o=n.payload,f=e.state;if(n.isTransition){var E=q.T,S={};q.T=S;try{var L=a(f,o),G=q.S;G!==null&&G(S,L),w1(e,n,L)}catch(re){lu(e,n,re)}finally{q.T=E}}else try{E=a(f,o),w1(e,n,E)}catch(re){lu(e,n,re)}}function w1(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){b1(e,n,o)},function(o){return lu(e,n,o)}):b1(e,n,a)}function b1(e,n,a){n.status="fulfilled",n.value=a,S1(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,y1(e,a)))}function lu(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,S1(n),n=n.next;while(n!==o)}e.action=null}function S1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function T1(e,n){return n}function D1(e,n){if(mt){var a=kt.formState;if(a!==null){e:{var o=tt;if(mt){if(Ln){t:{for(var f=Ln,E=Kr;f.nodeType!==8;){if(!E){f=null;break t}if(f=zr(f.nextSibling),f===null){f=null;break t}}E=f.data,f=E==="F!"||E==="F"?f:null}if(f){Ln=zr(f.nextSibling),o=f.data==="F!";break e}}L0(o)}o=!1}o&&(n=a[0])}}return a=ir(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T1,lastRenderedState:n},a.queue=o,a=V1.bind(null,tt,o),o.dispatch=a,o=su(!1),E=du.bind(null,tt,!1,o.queue),o=ir(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,a=F2.bind(null,tt,f,E,a),f.dispatch=a,o.memoizedState=e,[n,a,!1]}function _1(e){var n=gn();return B1(n,Bt,e)}function B1(e,n,a){n=iu(e,n,T1)[0],e=il(Ai)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?ss(n):n;var o=gn(),f=o.queue,E=f.dispatch;return a!==o.memoizedState&&(tt.flags|=2048,va(9,k2.bind(null,f,a),{destroy:void 0},null)),[n,E,e]}function k2(e,n){e.action=n}function N1(e){var n=gn(),a=Bt;if(a!==null)return B1(n,a,e);gn(),n=n.memoizedState,a=gn();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function va(e,n,a,o){return e={tag:e,create:n,inst:a,deps:o,next:null},n=tt.updateQueue,n===null&&(n=nl(),tt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function M1(){return gn().memoizedState}function al(e,n,a,o){var f=ir();tt.flags|=e,f.memoizedState=va(1|n,a,{destroy:void 0},o===void 0?null:o)}function sl(e,n,a,o){var f=gn();o=o===void 0?null:o;var E=f.memoizedState.inst;Bt!==null&&o!==null&&Jo(o,Bt.memoizedState.deps)?f.memoizedState=va(n,a,E,o):(tt.flags|=e,f.memoizedState=va(1|n,a,E,o))}function O1(e,n){al(8390656,8,e,n)}function ou(e,n){sl(2048,8,e,n)}function R1(e,n){return sl(4,2,e,n)}function I1(e,n){return sl(4,4,e,n)}function L1(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function F1(e,n,a){a=a!=null?a.concat([e]):null,sl(4,4,L1.bind(null,n,e),a)}function uu(){}function k1(e,n){var a=gn();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Jo(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function U1(e,n){var a=gn();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Jo(n,o[1]))return o[0];if(o=e(),U0){nt(!0);try{e()}finally{nt(!1)}}return a.memoizedState=[o,n],o}function cu(e,n,a){return a===void 0||e0&1073741824?e.memoizedState=n:(e.memoizedState=a,e=Pf(),tt.lanes|=e,c0|=e,a)}function z1(e,n,a,o){return s(a,n)?a:Aa.current!==null?(e=cu(e,a,o),s(e,n)||(_n=!0),e):e0&42?(e=Pf(),tt.lanes|=e,c0|=e,n):(_n=!0,e.memoizedState=a)}function H1(e,n,a,o,f){var E=ie.p;ie.p=E!==0&&8>E?E:8;var S=q.T,L={};q.T=L,du(e,!1,n,a);try{var G=f(),re=q.S;if(re!==null&&re(L,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var Ce=R2(G,o);ls(e,n,Ce,dr(e))}else ls(e,n,o,dr(e))}catch(Te){ls(e,n,{then:function(){},status:"rejected",reason:Te},dr())}finally{ie.p=E,q.T=S}}function U2(){}function fu(e,n,a,o){if(e.tag!==5)throw Error(d(476));var f=P1(e).queue;H1(e,f,n,ke,a===null?U2:function(){return j1(e),a(o)})}function P1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:ke},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function j1(e){var n=P1(e).next.queue;ls(e,n,{},dr())}function hu(){return jn(Ds)}function G1(){return gn().memoizedState}function Y1(){return gn().memoizedState}function z2(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=dr();e=i0(a);var o=a0(n,e,a);o!==null&&(Jn(o,n,a),cs(o,n,a)),n={cache:Qo()},e.payload=n;return}n=n.return}}function H2(e,n,a){var o=dr();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ll(e)?X1(n,a):(a=jo(e,n,a,o),a!==null&&(Jn(a,e,o),q1(a,n,o)))}function V1(e,n,a){var o=dr();ls(e,n,a,o)}function ls(e,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ll(e))X1(n,f);else{var E=e.alternate;if(e.lanes===0&&(E===null||E.lanes===0)&&(E=n.lastRenderedReducer,E!==null))try{var S=n.lastRenderedState,L=E(S,a);if(f.hasEagerState=!0,f.eagerState=L,s(L,S))return Ys(e,n,f,0),kt===null&&Gs(),!1}catch{}finally{}if(a=jo(e,n,f,o),a!==null)return Jn(a,e,o),q1(a,n,o),!0}return!1}function du(e,n,a,o){if(o={lane:2,revertLane:nc(),action:o,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(n)throw Error(d(479))}else n=jo(e,a,o,2),n!==null&&Jn(n,e,2)}function ll(e){var n=e.alternate;return e===tt||n!==null&&n===tt}function X1(e,n){ma=el=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function q1(e,n,a){if(a&4194176){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Xn(e,a)}}var $r={readContext:jn,use:rl,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on};$r.useCacheRefresh=on,$r.useMemoCache=on,$r.useHostTransitionStatus=on,$r.useFormState=on,$r.useActionState=on,$r.useOptimistic=on;var z0={readContext:jn,use:rl,useCallback:function(e,n){return ir().memoizedState=[e,n===void 0?null:n],e},useContext:jn,useEffect:O1,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,al(4194308,4,L1.bind(null,n,e),a)},useLayoutEffect:function(e,n){return al(4194308,4,e,n)},useInsertionEffect:function(e,n){al(4,2,e,n)},useMemo:function(e,n){var a=ir();n=n===void 0?null:n;var o=e();if(U0){nt(!0);try{e()}finally{nt(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=ir();if(a!==void 0){var f=a(n);if(U0){nt(!0);try{a(n)}finally{nt(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=H2.bind(null,tt,e),[o.memoizedState,e]},useRef:function(e){var n=ir();return e={current:e},n.memoizedState=e},useState:function(e){e=su(e);var n=e.queue,a=V1.bind(null,tt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:uu,useDeferredValue:function(e,n){var a=ir();return cu(a,e,n)},useTransition:function(){var e=su(!1);return e=H1.bind(null,tt,e.queue,!0,!1),ir().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=tt,f=ir();if(mt){if(a===void 0)throw Error(d(407));a=a()}else{if(a=n(),kt===null)throw Error(d(349));gt&60||A1(o,n,a)}f.memoizedState=a;var E={value:a,getSnapshot:n};return f.queue=E,O1(E1.bind(null,o,E,e),[e]),o.flags|=2048,va(9,p1.bind(null,o,E,a,n),{destroy:void 0},null),a},useId:function(){var e=ir(),n=kt.identifierPrefix;if(mt){var a=xi,o=di;a=(o&~(1<<32-rt(o)-1)).toString(32)+a,n=":"+n+"R"+a,a=tl++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=I2++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return ir().memoizedState=z2.bind(null,tt)}};z0.useMemoCache=ru,z0.useHostTransitionStatus=hu,z0.useFormState=D1,z0.useActionState=D1,z0.useOptimistic=function(e){var n=ir();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=du.bind(null,tt,!0,a),a.dispatch=n,[e,n]};var t0={readContext:jn,use:rl,useCallback:k1,useContext:jn,useEffect:ou,useImperativeHandle:F1,useInsertionEffect:R1,useLayoutEffect:I1,useMemo:U1,useReducer:il,useRef:M1,useState:function(){return il(Ai)},useDebugValue:uu,useDeferredValue:function(e,n){var a=gn();return z1(a,Bt.memoizedState,e,n)},useTransition:function(){var e=il(Ai)[0],n=gn().memoizedState;return[typeof e=="boolean"?e:ss(e),n]},useSyncExternalStore:g1,useId:G1};t0.useCacheRefresh=Y1,t0.useMemoCache=ru,t0.useHostTransitionStatus=hu,t0.useFormState=_1,t0.useActionState=_1,t0.useOptimistic=function(e,n){var a=gn();return v1(a,Bt,e,n)};var H0={readContext:jn,use:rl,useCallback:k1,useContext:jn,useEffect:ou,useImperativeHandle:F1,useInsertionEffect:R1,useLayoutEffect:I1,useMemo:U1,useReducer:au,useRef:M1,useState:function(){return au(Ai)},useDebugValue:uu,useDeferredValue:function(e,n){var a=gn();return Bt===null?cu(a,e,n):z1(a,Bt.memoizedState,e,n)},useTransition:function(){var e=au(Ai)[0],n=gn().memoizedState;return[typeof e=="boolean"?e:ss(e),n]},useSyncExternalStore:g1,useId:G1};H0.useCacheRefresh=Y1,H0.useMemoCache=ru,H0.useHostTransitionStatus=hu,H0.useFormState=N1,H0.useActionState=N1,H0.useOptimistic=function(e,n){var a=gn();return Bt!==null?v1(a,Bt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function xu(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:W({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var gu={isMounted:function(e){return(e=e._reactInternals)?Oe(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var o=dr(),f=i0(o);f.payload=n,a!=null&&(f.callback=a),n=a0(e,f,o),n!==null&&(Jn(n,e,o),cs(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=dr(),f=i0(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=a0(e,f,o),n!==null&&(Jn(n,e,o),cs(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=dr(),o=i0(a);o.tag=2,n!=null&&(o.callback=n),n=a0(e,o,a),n!==null&&(Jn(n,e,a),cs(n,e,a))}};function Z1(e,n,a,o,f,E,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,E,S):n.prototype&&n.prototype.isPureReactComponent?!l(a,o)||!l(f,E):!0}function Q1(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&gu.enqueueReplaceState(n,n.state,null)}function P0(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=W({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var ol=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function W1(e){ol(e)}function K1(e){console.error(e)}function J1(e){ol(e)}function ul(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $1(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Au(e,n,a){return a=i0(a),a.tag=3,a.payload={element:null},a.callback=function(){ul(e,n)},a}function ef(e){return e=i0(e),e.tag=3,e}function tf(e,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var E=o.value;e.payload=function(){return f(E)},e.callback=function(){$1(n,a,o)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){$1(n,a,o),typeof f!="function"&&(f0===null?f0=new Set([this]):f0.add(this));var L=o.stack;this.componentDidCatch(o.value,{componentStack:L!==null?L:""})})}function P2(e,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&us(n,a,f,!0),a=Sr.current,a!==null){switch(a.tag){case 13:return Jr===null?Ku():a.alternate===null&&$t===0&&($t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Xo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),$u(e,o,f)),!1;case 22:return a.flags|=65536,o===Xo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),$u(e,o,f)),!1}throw Error(d(435,a.tag))}return $u(e,o,f),Ku(),!1}if(mt)return n=Sr.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==Vo&&(e=Error(d(422),{cause:o}),Ja(yr(e,a)))):(o!==Vo&&(n=Error(d(423),{cause:o}),Ja(yr(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=yr(o,a),f=Au(e.stateNode,o,f),Mu(e,f),$t!==4&&($t=2)),!1;var E=Error(d(520),{cause:o});if(E=yr(E,a),Es===null?Es=[E]:Es.push(E),$t!==4&&($t=2),n===null)return!0;o=yr(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Au(a.stateNode,o,e),Mu(a,e),!1;case 1:if(n=a.type,E=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(f0===null||!f0.has(E))))return a.flags|=65536,f&=-f,a.lanes|=f,f=ef(f),tf(f,e,a,o),Mu(a,f),!1}a=a.return}while(a!==null);return!1}var nf=Error(d(461)),_n=!1;function Fn(e,n,a,o){n.child=e===null?l1(n,null,a,o):F0(n,e.child,a,o)}function rf(e,n,a,o,f){a=a.render;var E=n.ref;if("ref"in o){var S={};for(var L in o)L!=="ref"&&(S[L]=o[L])}else S=o;return G0(n),o=$o(e,n,a,S,E,f),L=eu(),e!==null&&!_n?(tu(e,n,f),pi(e,n,f)):(mt&&L&&Go(n),n.flags|=1,Fn(e,n,o,f),n.child)}function af(e,n,a,o,f){if(e===null){var E=a.type;return typeof E=="function"&&!zu(E)&&E.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=E,sf(e,n,E,o,f)):(e=xl(a.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(E=e.child,!Su(e,f)){var S=E.memoizedProps;if(a=a.compare,a=a!==null?a:l,a(S,o)&&e.ref===n.ref)return pi(e,n,f)}return n.flags|=1,e=u0(E,o),e.ref=n.ref,e.return=n,n.child=e}function sf(e,n,a,o,f){if(e!==null){var E=e.memoizedProps;if(l(E,o)&&e.ref===n.ref)if(_n=!1,n.pendingProps=o=E,Su(e,f))e.flags&131072&&(_n=!0);else return n.lanes=e.lanes,pi(e,n,f)}return pu(e,n,a,o,f)}function lf(e,n,a){var o=n.pendingProps,f=o.children,E=(n.stateNode._pendingVisibility&2)!==0,S=e!==null?e.memoizedState:null;if(os(e,n),o.mode==="hidden"||E){if(n.flags&128){if(o=S!==null?S.baseLanes|a:a,e!==null){for(f=n.child=e.child,E=0;f!==null;)E=E|f.lanes|f.childLanes,f=f.sibling;n.childLanes=E&~o}else n.childLanes=0,n.child=null;return of(e,n,o,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&$s(n,S!==null?S.cachePool:null),S!==null?o1(n,S):qo(),u1(n);else return n.lanes=n.childLanes=536870912,of(e,n,S!==null?S.baseLanes|a:a,a)}else S!==null?($s(n,S.cachePool),o1(n,S),$i(),n.memoizedState=null):(e!==null&&$s(n,null),qo(),$i());return Fn(e,n,f,a),n.child}function of(e,n,a,o){var f=Ko();return f=f===null?null:{parent:wn._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&$s(n,null),qo(),u1(n),e!==null&&us(e,n,o,!0),null}function os(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function pu(e,n,a,o,f){return G0(n),a=$o(e,n,a,o,void 0,f),o=eu(),e!==null&&!_n?(tu(e,n,f),pi(e,n,f)):(mt&&o&&Go(n),n.flags|=1,Fn(e,n,a,f),n.child)}function uf(e,n,a,o,f,E){return G0(n),n.updateQueue=null,a=x1(n,o,a,f),d1(e),o=eu(),e!==null&&!_n?(tu(e,n,E),pi(e,n,E)):(mt&&o&&Go(n),n.flags|=1,Fn(e,n,a,E),n.child)}function cf(e,n,a,o,f){if(G0(n),n.stateNode===null){var E=ha,S=a.contextType;typeof S=="object"&&S!==null&&(E=jn(S)),E=new a(o,E),n.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=gu,n.stateNode=E,E._reactInternals=n,E=n.stateNode,E.props=o,E.state=n.memoizedState,E.refs={},Bu(n),S=a.contextType,E.context=typeof S=="object"&&S!==null?jn(S):ha,E.state=n.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(xu(n,a,S,o),E.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(S=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),S!==E.state&&gu.enqueueReplaceState(E,E.state,null),hs(n,o,E,f),fs(),E.state=n.memoizedState),typeof E.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){E=n.stateNode;var L=n.memoizedProps,G=P0(a,L);E.props=G;var re=E.context,Ce=a.contextType;S=ha,typeof Ce=="object"&&Ce!==null&&(S=jn(Ce));var Te=a.getDerivedStateFromProps;Ce=typeof Te=="function"||typeof E.getSnapshotBeforeUpdate=="function",L=n.pendingProps!==L,Ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(L||re!==S)&&Q1(n,E,o,S),r0=!1;var xe=n.memoizedState;E.state=xe,hs(n,o,E,f),fs(),re=n.memoizedState,L||xe!==re||r0?(typeof Te=="function"&&(xu(n,a,Te,o),re=n.memoizedState),(G=r0||Z1(n,a,G,o,xe,re,S))?(Ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(n.flags|=4194308)):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=re),E.props=o,E.state=re,E.context=S,o=G):(typeof E.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{E=n.stateNode,Nu(e,n),S=n.memoizedProps,Ce=P0(a,S),E.props=Ce,Te=n.pendingProps,xe=E.context,re=a.contextType,G=ha,typeof re=="object"&&re!==null&&(G=jn(re)),L=a.getDerivedStateFromProps,(re=typeof L=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(S!==Te||xe!==G)&&Q1(n,E,o,G),r0=!1,xe=n.memoizedState,E.state=xe,hs(n,o,E,f),fs();var me=n.memoizedState;S!==Te||xe!==me||r0||e!==null&&e.dependencies!==null&&cl(e.dependencies)?(typeof L=="function"&&(xu(n,a,L,o),me=n.memoizedState),(Ce=r0||Z1(n,a,Ce,o,xe,me,G)||e!==null&&e.dependencies!==null&&cl(e.dependencies))?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(o,me,G),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(o,me,G)),typeof E.componentDidUpdate=="function"&&(n.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof E.componentDidUpdate!="function"||S===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=me),E.props=o,E.state=me,E.context=G,o=Ce):(typeof E.componentDidUpdate!="function"||S===e.memoizedProps&&xe===e.memoizedState||(n.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&xe===e.memoizedState||(n.flags|=1024),o=!1)}return E=o,os(e,n),o=(n.flags&128)!==0,E||o?(E=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:E.render(),n.flags|=1,e!==null&&o?(n.child=F0(n,e.child,null,f),n.child=F0(n,null,a,f)):Fn(e,n,a,f),n.memoizedState=E.state,e=n.child):e=pi(e,n,f),e}function ff(e,n,a,o){return Ka(),n.flags|=256,Fn(e,n,a,o),n.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function mu(e){return{baseLanes:e,cachePool:h1()}}function Cu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Br),e}function hf(e,n,a){var o=n.pendingProps,f=!1,E=(n.flags&128)!==0,S;if((S=E)||(S=e!==null&&e.memoizedState===null?!1:(yn.current&2)!==0),S&&(f=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(mt){if(f?Ji(n):$i(),mt){var L=Ln,G;if(G=L){e:{for(G=L,L=Kr;G.nodeType!==8;){if(!L){L=null;break e}if(G=zr(G.nextSibling),G===null){L=null;break e}}L=G}L!==null?(n.memoizedState={dehydrated:L,treeContext:R0!==null?{id:di,overflow:xi}:null,retryLane:536870912},G=_r(18,null,null,0),G.stateNode=L,G.return=n,n.child=G,Kn=n,Ln=null,G=!0):G=!1}G||L0(n)}if(L=n.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return L.data==="$!"?n.lanes=16:n.lanes=536870912,null;gi(n)}return L=o.children,o=o.fallback,f?($i(),f=n.mode,L=yu({mode:"hidden",children:L},f),o=V0(o,f,a,null),L.return=n,o.return=n,L.sibling=o,n.child=L,f=n.child,f.memoizedState=mu(a),f.childLanes=Cu(e,S,a),n.memoizedState=Eu,o):(Ji(n),vu(n,L))}if(G=e.memoizedState,G!==null&&(L=G.dehydrated,L!==null)){if(E)n.flags&256?(Ji(n),n.flags&=-257,n=wu(e,n,a)):n.memoizedState!==null?($i(),n.child=e.child,n.flags|=128,n=null):($i(),f=o.fallback,L=n.mode,o=yu({mode:"visible",children:o.children},L),f=V0(f,L,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,F0(n,e.child,null,a),o=n.child,o.memoizedState=mu(a),o.childLanes=Cu(e,S,a),n.memoizedState=Eu,n=f);else if(Ji(n),L.data==="$!"){if(S=L.nextSibling&&L.nextSibling.dataset,S)var re=S.dgst;S=re,o=Error(d(419)),o.stack="",o.digest=S,Ja({value:o,source:null,stack:null}),n=wu(e,n,a)}else if(_n||us(e,n,a,!1),S=(a&e.childLanes)!==0,_n||S){if(S=kt,S!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(S.suspendedLanes|a)?0:o,o!==0&&o!==G.retryLane)throw G.retryLane=o,Ki(e,o),Jn(S,e,o),nf}L.data==="$?"||Ku(),n=wu(e,n,a)}else L.data==="$?"?(n.flags|=128,n.child=e.child,n=nx.bind(null,e),L._reactRetry=n,n=null):(e=G.treeContext,Ln=zr(L.nextSibling),Kn=n,mt=!0,kr=null,Kr=!1,e!==null&&(wr[br++]=di,wr[br++]=xi,wr[br++]=R0,di=e.id,xi=e.overflow,R0=n),n=vu(n,o.children),n.flags|=4096);return n}return f?($i(),f=o.fallback,L=n.mode,G=e.child,re=G.sibling,o=u0(G,{mode:"hidden",children:o.children}),o.subtreeFlags=G.subtreeFlags&31457280,re!==null?f=u0(re,f):(f=V0(f,L,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,L=e.child.memoizedState,L===null?L=mu(a):(G=L.cachePool,G!==null?(re=wn._currentValue,G=G.parent!==re?{parent:re,pool:re}:G):G=h1(),L={baseLanes:L.baseLanes|a,cachePool:G}),f.memoizedState=L,f.childLanes=Cu(e,S,a),n.memoizedState=Eu,o):(Ji(n),a=e.child,e=a.sibling,a=u0(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=a,n.memoizedState=null,a)}function vu(e,n){return n=yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function yu(e,n){return Uf(e,n,0,null)}function wu(e,n,a){return F0(n,e.child,null,a),e=vu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function df(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Du(e.return,n,a)}function bu(e,n,a,o,f){var E=e.memoizedState;E===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(E.isBackwards=n,E.rendering=null,E.renderingStartTime=0,E.last=o,E.tail=a,E.tailMode=f)}function xf(e,n,a){var o=n.pendingProps,f=o.revealOrder,E=o.tail;if(Fn(e,n,o.children,a),o=yn.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,a,n);else if(e.tag===19)df(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(st(yn,o),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Js(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),bu(n,!1,f,a,E);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Js(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}bu(n,!0,a,null,E);break;case"together":bu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function pi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),c0|=n.lanes,!(a&n.childLanes))if(e!==null){if(us(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(d(153));if(n.child!==null){for(e=n.child,a=u0(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=u0(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Su(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&cl(e)))}function j2(e,n,a){switch(n.tag){case 3:un(n,n.stateNode.containerInfo),n0(n,wn,e.memoizedState.cache),Ka();break;case 27:case 5:Lt(n);break;case 4:un(n,n.stateNode.containerInfo);break;case 10:n0(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ji(n),n.flags|=128,null):a&n.child.childLanes?hf(e,n,a):(Ji(n),e=pi(e,n,a),e!==null?e.sibling:null);Ji(n);break;case 19:var f=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(us(e,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return xf(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(yn,yn.current),o)break;return null;case 22:case 23:return n.lanes=0,lf(e,n,a);case 24:n0(n,wn,e.memoizedState.cache)}return pi(e,n,a)}function gf(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)_n=!0;else{if(!Su(e,a)&&!(n.flags&128))return _n=!1,j2(e,n,a);_n=!!(e.flags&131072)}else _n=!1,mt&&n.flags&1048576&&Jc(n,qs,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")zu(o)?(e=P0(o,e),n.tag=1,n=cf(null,n,o,e,a)):(n.tag=0,n=pu(null,n,o,e,a));else{if(o!=null){if(f=o.$$typeof,f===I){n.tag=11,n=rf(null,n,o,e,a);break e}else if(f===X){n.tag=14,n=af(null,n,o,e,a);break e}}throw n=oe(o)||o,Error(d(306,n,""))}}return n;case 0:return pu(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=P0(o,n.pendingProps),cf(e,n,o,f,a);case 3:e:{if(un(n,n.stateNode.containerInfo),e===null)throw Error(d(387));var E=n.pendingProps;f=n.memoizedState,o=f.element,Nu(e,n),hs(n,E,null,a);var S=n.memoizedState;if(E=S.cache,n0(n,wn,E),E!==f.cache&&_u(n,[wn],a,!0),fs(),E=S.element,f.isDehydrated)if(f={element:E,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ff(e,n,E,a);break e}else if(E!==o){o=yr(Error(d(424)),n),Ja(o),n=ff(e,n,E,a);break e}else for(Ln=zr(n.stateNode.containerInfo.firstChild),Kn=n,mt=!0,kr=null,Kr=!0,a=l1(n,null,E,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ka(),E===o){n=pi(e,n,a);break e}Fn(e,n,E,a)}n=n.child}return n;case 26:return os(e,n),e===null?(a=Eh(n.type,null,n.pendingProps,null))?n.memoizedState=a:mt||(a=n.type,e=n.pendingProps,o=Tl(Ye.current).createElement(a),o[Xt]=n,o[Tn]=e,kn(o,a,e),Mt(o),n.stateNode=o):n.memoizedState=Eh(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Lt(n),e===null&&mt&&(o=n.stateNode=gh(n.type,n.pendingProps,Ye.current),Kn=n,Kr=!0,Ln=zr(o.firstChild)),o=n.pendingProps.children,e!==null||mt?Fn(e,n,o,a):n.child=F0(n,null,o,a),os(e,n),n.child;case 5:return e===null&&mt&&((f=o=Ln)&&(o=Ex(o,n.type,n.pendingProps,Kr),o!==null?(n.stateNode=o,Kn=n,Ln=zr(o.firstChild),Kr=!1,f=!0):f=!1),f||L0(n)),Lt(n),f=n.type,E=n.pendingProps,S=e!==null?e.memoizedProps:null,o=E.children,fc(f,E)?o=null:S!==null&&fc(f,S)&&(n.flags|=32),n.memoizedState!==null&&(f=$o(e,n,L2,null,null,a),Ds._currentValue=f),os(e,n),Fn(e,n,o,a),n.child;case 6:return e===null&&mt&&((e=a=Ln)&&(a=mx(a,n.pendingProps,Kr),a!==null?(n.stateNode=a,Kn=n,Ln=null,e=!0):e=!1),e||L0(n)),null;case 13:return hf(e,n,a);case 4:return un(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=F0(n,null,o,a):Fn(e,n,o,a),n.child;case 11:return rf(e,n,n.type,n.pendingProps,a);case 7:return Fn(e,n,n.pendingProps,a),n.child;case 8:return Fn(e,n,n.pendingProps.children,a),n.child;case 12:return Fn(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,n0(n,n.type,o.value),Fn(e,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,G0(n),f=jn(f),o=o(f),n.flags|=1,Fn(e,n,o,a),n.child;case 14:return af(e,n,n.type,n.pendingProps,a);case 15:return sf(e,n,n.type,n.pendingProps,a);case 19:return xf(e,n,a);case 22:return lf(e,n,a);case 24:return G0(n),o=jn(wn),e===null?(f=Ko(),f===null&&(f=kt,E=Qo(),f.pooledCache=E,E.refCount++,E!==null&&(f.pooledCacheLanes|=a),f=E),n.memoizedState={parent:o,cache:f},Bu(n),n0(n,wn,f)):(e.lanes&a&&(Nu(e,n),hs(n,null,null,a),fs()),f=e.memoizedState,E=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),n0(n,wn,o)):(o=E.cache,n0(n,wn,o),o!==f.cache&&_u(n,[wn],a,!0))),Fn(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(d(156,n.tag))}var Tu=Me(null),j0=null,Ei=null;function n0(e,n,a){st(Tu,n._currentValue),n._currentValue=a}function mi(e){e._currentValue=Tu.current,pt(Tu)}function Du(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function _u(e,n,a,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var E=f.dependencies;if(E!==null){var S=f.child;E=E.firstContext;e:for(;E!==null;){var L=E;E=f;for(var G=0;G<n.length;G++)if(L.context===n[G]){E.lanes|=a,L=E.alternate,L!==null&&(L.lanes|=a),Du(E.return,a,e),o||(S=null);break e}E=L.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(d(341));S.lanes|=a,E=S.alternate,E!==null&&(E.lanes|=a),Du(S,a,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function us(e,n,a,o){e=null;for(var f=n,E=!1;f!==null;){if(!E){if(f.flags&524288)E=!0;else if(f.flags&262144)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(d(387));if(S=S.memoizedProps,S!==null){var L=f.type;s(f.pendingProps.value,S.value)||(e!==null?e.push(L):e=[L])}}else if(f===zt.current){if(S=f.alternate,S===null)throw Error(d(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ds):e=[Ds])}f=f.return}e!==null&&_u(n,e,a,o),n.flags|=262144}function cl(e){for(e=e.firstContext;e!==null;){if(!s(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function G0(e){j0=e,Ei=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function jn(e){return Af(j0,e)}function fl(e,n){return j0===null&&G0(e),Af(e,n)}function Af(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ei===null){if(e===null)throw Error(d(308));Ei=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ei=Ei.next=n;return a}var r0=!1;function Bu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function i0(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function a0(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Qt&2){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Vs(e),Wc(e,null,a),n}return Ys(e,o,n,a),Vs(e)}function cs(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Xn(e,a)}}function Mu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,E=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};E===null?f=E=S:E=E.next=S,a=a.next}while(a!==null);E===null?f=E=n:E=E.next=n}else f=E=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:E,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Ou=!1;function fs(){if(Ou){var e=Ea;if(e!==null)throw e}}function hs(e,n,a,o){Ou=!1;var f=e.updateQueue;r0=!1;var E=f.firstBaseUpdate,S=f.lastBaseUpdate,L=f.shared.pending;if(L!==null){f.shared.pending=null;var G=L,re=G.next;G.next=null,S===null?E=re:S.next=re,S=G;var Ce=e.alternate;Ce!==null&&(Ce=Ce.updateQueue,L=Ce.lastBaseUpdate,L!==S&&(L===null?Ce.firstBaseUpdate=re:L.next=re,Ce.lastBaseUpdate=G))}if(E!==null){var Te=f.baseState;S=0,Ce=re=G=null,L=E;do{var xe=L.lane&-536870913,me=xe!==L.lane;if(me?(gt&xe)===xe:(o&xe)===xe){xe!==0&&xe===pa&&(Ou=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var He=e,Qe=L;xe=n;var en=a;switch(Qe.tag){case 1:if(He=Qe.payload,typeof He=="function"){Te=He.call(en,Te,xe);break e}Te=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Qe.payload,xe=typeof He=="function"?He.call(en,Te,xe):He,xe==null)break e;Te=W({},Te,xe);break e;case 2:r0=!0}}xe=L.callback,xe!==null&&(e.flags|=64,me&&(e.flags|=8192),me=f.callbacks,me===null?f.callbacks=[xe]:me.push(xe))}else me={lane:xe,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Ce===null?(re=Ce=me,G=Te):Ce=Ce.next=me,S|=xe;if(L=L.next,L===null){if(L=f.shared.pending,L===null)break;me=L,L=me.next,me.next=null,f.lastBaseUpdate=me,f.shared.pending=null}}while(!0);Ce===null&&(G=Te),f.baseState=G,f.firstBaseUpdate=re,f.lastBaseUpdate=Ce,E===null&&(f.shared.lanes=0),c0|=S,e.lanes=S,e.memoizedState=Te}}function pf(e,n){if(typeof e!="function")throw Error(d(191,e));e.call(n)}function Ef(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)pf(a[e],n)}function ds(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&e)===e){o=void 0;var E=a.create,S=a.inst;o=E(),S.destroy=o}a=a.next}while(a!==f)}}catch(L){It(n,n.return,L)}}function s0(e,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var E=f.next;o=E;do{if((o.tag&e)===e){var S=o.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,f=n;var G=a;try{L()}catch(re){It(f,G,re)}}}o=o.next}while(o!==E)}}catch(re){It(n,n.return,re)}}function mf(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Ef(n,a)}catch(o){It(e,e.return,o)}}}function Cf(e,n,a){a.props=P0(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){It(e,n,o)}}function Y0(e,n){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=o;break;default:f=o}typeof a=="function"?e.refCleanup=a(f):a.current=f}}catch(E){It(e,n,E)}}function cr(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){It(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){It(e,n,f)}else a.current=null}function vf(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){It(e,e.return,f)}}function yf(e,n,a){try{var o=e.stateNode;dx(o,e.type,a,n),o[Tn]=n}catch(f){It(e,e.return,f)}}function wf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Ru(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Iu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Sl));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Iu(e,n,a),e=e.sibling;e!==null;)Iu(e,n,a),e=e.sibling}function hl(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(hl(e,n,a),e=e.sibling;e!==null;)hl(e,n,a),e=e.sibling}var Ci=!1,Jt=!1,Lu=!1,bf=typeof WeakSet=="function"?WeakSet:Set,Bn=null,Sf=!1;function G2(e,n){if(e=e.containerInfo,uc=Ol,e=C(e),w(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,E=o.focusNode;o=o.focusOffset;try{a.nodeType,E.nodeType}catch{a=null;break e}var S=0,L=-1,G=-1,re=0,Ce=0,Te=e,xe=null;t:for(;;){for(var me;Te!==a||f!==0&&Te.nodeType!==3||(L=S+f),Te!==E||o!==0&&Te.nodeType!==3||(G=S+o),Te.nodeType===3&&(S+=Te.nodeValue.length),(me=Te.firstChild)!==null;)xe=Te,Te=me;for(;;){if(Te===e)break t;if(xe===a&&++re===f&&(L=S),xe===E&&++Ce===o&&(G=S),(me=Te.nextSibling)!==null)break;Te=xe,xe=Te.parentNode}Te=me}a=L===-1||G===-1?null:{start:L,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(cc={focusedElem:e,selectionRange:a},Ol=!1,Bn=n;Bn!==null;)if(n=Bn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Bn=e;else for(;Bn!==null;){switch(n=Bn,E=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&E!==null){e=void 0,a=n,f=E.memoizedProps,E=E.memoizedState,o=a.stateNode;try{var He=P0(a.type,f,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(He,E),o.__reactInternalSnapshotBeforeUpdate=e}catch(Qe){It(a,a.return,Qe)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)xc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(d(163))}if(e=n.sibling,e!==null){e.return=n.return,Bn=e;break}Bn=n.return}return He=Sf,Sf=!1,He}function Tf(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:yi(e,a),o&4&&ds(5,a);break;case 1:if(yi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(L){It(a,a.return,L)}else{var f=P0(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(L){It(a,a.return,L)}}o&64&&mf(a),o&512&&Y0(a,a.return);break;case 3:if(yi(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Ef(o,e)}catch(L){It(a,a.return,L)}}break;case 26:yi(e,a),o&512&&Y0(a,a.return);break;case 27:case 5:yi(e,a),n===null&&o&4&&vf(a),o&512&&Y0(a,a.return);break;case 12:yi(e,a);break;case 13:yi(e,a),o&4&&Bf(e,a);break;case 22:if(f=a.memoizedState!==null||Ci,!f){n=n!==null&&n.memoizedState!==null||Jt;var E=Ci,S=Jt;Ci=f,(Jt=n)&&!S?l0(e,a,(a.subtreeFlags&8772)!==0):yi(e,a),Ci=E,Jt=S}o&512&&(a.memoizedProps.mode==="manual"?Y0(a,a.return):cr(a,a.return));break;default:yi(e,a)}}function Df(e){var n=e.alternate;n!==null&&(e.alternate=null,Df(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ja(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var An=null,fr=!1;function vi(e,n,a){for(a=a.child;a!==null;)_f(e,n,a),a=a.sibling}function _f(e,n,a){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(_t,a)}catch{}switch(a.tag){case 26:Jt||cr(a,n),vi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Jt||cr(a,n);var o=An,f=fr;for(An=a.stateNode,vi(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);ja(a),An=o,fr=f;break;case 5:Jt||cr(a,n);case 6:f=An;var E=fr;if(An=null,vi(e,n,a),An=f,fr=E,An!==null)if(fr)try{e=An,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(S){It(a,n,S)}else try{An.removeChild(a.stateNode)}catch(S){It(a,n,S)}break;case 18:An!==null&&(fr?(n=An,a=a.stateNode,n.nodeType===8?dc(n.parentNode,a):n.nodeType===1&&dc(n,a),Ms(n)):dc(An,a.stateNode));break;case 4:o=An,f=fr,An=a.stateNode.containerInfo,fr=!0,vi(e,n,a),An=o,fr=f;break;case 0:case 11:case 14:case 15:Jt||s0(2,a,n),Jt||s0(4,a,n),vi(e,n,a);break;case 1:Jt||(cr(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Cf(a,n,o)),vi(e,n,a);break;case 21:vi(e,n,a);break;case 22:Jt||cr(a,n),Jt=(o=Jt)||a.memoizedState!==null,vi(e,n,a),Jt=o;break;default:vi(e,n,a)}}function Bf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ms(e)}catch(a){It(n,n.return,a)}}function Y2(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bf),n;default:throw Error(d(435,e.tag))}}function Fu(e,n){var a=Y2(e);n.forEach(function(o){var f=rx.bind(null,e,o);a.has(o)||(a.add(o),o.then(f,f))})}function Tr(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],E=e,S=n,L=S;e:for(;L!==null;){switch(L.tag){case 27:case 5:An=L.stateNode,fr=!1;break e;case 3:An=L.stateNode.containerInfo,fr=!0;break e;case 4:An=L.stateNode.containerInfo,fr=!0;break e}L=L.return}if(An===null)throw Error(d(160));_f(E,S,f),An=null,fr=!1,E=f.alternate,E!==null&&(E.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Nf(n,e),n=n.sibling}var Ur=null;function Nf(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tr(n,e),Dr(e),o&4&&(s0(3,e,e.return),ds(3,e),s0(5,e,e.return));break;case 1:Tr(n,e),Dr(e),o&512&&(Jt||a===null||cr(a,a.return)),o&64&&Ci&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Ur;if(Tr(n,e),Dr(e),o&512&&(Jt||a===null||cr(a,a.return)),o&4){var E=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":E=f.getElementsByTagName("title")[0],(!E||E[y0]||E[Xt]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=f.createElement(o),f.head.insertBefore(E,f.querySelector("head > title"))),kn(E,o,a),E[Xt]=e,Mt(E),o=E;break e;case"link":var S=vh("link","href",f).get(o+(a.href||""));if(S){for(var L=0;L<S.length;L++)if(E=S[L],E.getAttribute("href")===(a.href==null?null:a.href)&&E.getAttribute("rel")===(a.rel==null?null:a.rel)&&E.getAttribute("title")===(a.title==null?null:a.title)&&E.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(L,1);break t}}E=f.createElement(o),kn(E,o,a),f.head.appendChild(E);break;case"meta":if(S=vh("meta","content",f).get(o+(a.content||""))){for(L=0;L<S.length;L++)if(E=S[L],E.getAttribute("content")===(a.content==null?null:""+a.content)&&E.getAttribute("name")===(a.name==null?null:a.name)&&E.getAttribute("property")===(a.property==null?null:a.property)&&E.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&E.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(L,1);break t}}E=f.createElement(o),kn(E,o,a),f.head.appendChild(E);break;default:throw Error(d(468,o))}E[Xt]=e,Mt(E),o=E}e.stateNode=o}else yh(f,e.type,e.stateNode);else e.stateNode=Ch(f,o,e.memoizedProps);else E!==o?(E===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):E.count--,o===null?yh(f,e.type,e.stateNode):Ch(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yf(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){f=e.stateNode,E=e.memoizedProps;try{for(var G=f.firstChild;G;){var re=G.nextSibling,Ce=G.nodeName;G[y0]||Ce==="HEAD"||Ce==="BODY"||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&G.rel.toLowerCase()==="stylesheet"||f.removeChild(G),G=re}for(var Te=e.type,xe=f.attributes;xe.length;)f.removeAttributeNode(xe[0]);kn(f,Te,E),f[Xt]=e,f[Tn]=E}catch(He){It(e,e.return,He)}}case 5:if(Tr(n,e),Dr(e),o&512&&(Jt||a===null||cr(a,a.return)),e.flags&32){f=e.stateNode;try{ki(f,"")}catch(He){It(e,e.return,He)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,yf(e,f,a!==null?a.memoizedProps:f)),o&1024&&(Lu=!0);break;case 6:if(Tr(n,e),Dr(e),o&4){if(e.stateNode===null)throw Error(d(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(He){It(e,e.return,He)}}break;case 3:if(Bl=null,f=Ur,Ur=Dl(n.containerInfo),Tr(n,e),Ur=f,Dr(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ms(n.containerInfo)}catch(He){It(e,e.return,He)}Lu&&(Lu=!1,Mf(e));break;case 4:o=Ur,Ur=Dl(e.stateNode.containerInfo),Tr(n,e),Dr(e),Ur=o;break;case 12:Tr(n,e),Dr(e);break;case 13:Tr(n,e),Dr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=Ht()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 22:if(o&512&&(Jt||a===null||cr(a,a.return)),G=e.memoizedState!==null,re=a!==null&&a.memoizedState!==null,Ce=Ci,Te=Jt,Ci=Ce||G,Jt=Te||re,Tr(n,e),Jt=Te,Ci=Ce,Dr(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=G?n._visibility&-2:n._visibility|1,G&&(n=Ci||Jt,a===null||re||n||ya(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){re=a=n;try{if(f=re.stateNode,G)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=re.stateNode,L=re.memoizedProps.style;var me=L!=null&&L.hasOwnProperty("display")?L.display:null;S.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(He){It(re,re.return,He)}}}else if(n.tag===6){if(a===null){re=n;try{re.stateNode.nodeValue=G?"":re.memoizedProps}catch(He){It(re,re.return,He)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Fu(e,a))));break;case 19:Tr(n,e),Dr(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Fu(e,o)));break;case 21:break;default:Tr(n,e),Dr(e)}}function Dr(e){var n=e.flags;if(n&2){try{if(e.tag!==27){e:{for(var a=e.return;a!==null;){if(wf(a)){var o=a;break e}a=a.return}throw Error(d(160))}switch(o.tag){case 27:var f=o.stateNode,E=Ru(e);hl(e,E,f);break;case 5:var S=o.stateNode;o.flags&32&&(ki(S,""),o.flags&=-33);var L=Ru(e);hl(e,L,S);break;case 3:case 4:var G=o.stateNode.containerInfo,re=Ru(e);Iu(e,re,G);break;default:throw Error(d(161))}}}catch(Ce){It(e,e.return,Ce)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Mf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Mf(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tf(e,n.alternate,n),n=n.sibling}function ya(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:s0(4,n,n.return),ya(n);break;case 1:cr(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Cf(n,n.return,a),ya(n);break;case 26:case 27:case 5:cr(n,n.return),ya(n);break;case 22:cr(n,n.return),n.memoizedState===null&&ya(n);break;default:ya(n)}e=e.sibling}}function l0(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,E=n,S=E.flags;switch(E.tag){case 0:case 11:case 15:l0(f,E,a),ds(4,E);break;case 1:if(l0(f,E,a),o=E,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(re){It(o,o.return,re)}if(o=E,f=o.updateQueue,f!==null){var L=o.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)pf(G[f],L)}catch(re){It(o,o.return,re)}}a&&S&64&&mf(E),Y0(E,E.return);break;case 26:case 27:case 5:l0(f,E,a),a&&o===null&&S&4&&vf(E),Y0(E,E.return);break;case 12:l0(f,E,a);break;case 13:l0(f,E,a),a&&S&4&&Bf(f,E);break;case 22:E.memoizedState===null&&l0(f,E,a),Y0(E,E.return);break;default:l0(f,E,a)}n=n.sibling}}function ku(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rs(a))}function Uu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rs(e))}function o0(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Of(e,n,a,o),n=n.sibling}function Of(e,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:o0(e,n,a,o),f&2048&&ds(9,n);break;case 3:o0(e,n,a,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&rs(e)));break;case 12:if(f&2048){o0(e,n,a,o),e=n.stateNode;try{var E=n.memoizedProps,S=E.id,L=E.onPostCommit;typeof L=="function"&&L(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(G){It(n,n.return,G)}}else o0(e,n,a,o);break;case 23:break;case 22:E=n.stateNode,n.memoizedState!==null?E._visibility&4?o0(e,n,a,o):xs(e,n):E._visibility&4?o0(e,n,a,o):(E._visibility|=4,wa(e,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&ku(n.alternate,n);break;case 24:o0(e,n,a,o),f&2048&&Uu(n.alternate,n);break;default:o0(e,n,a,o)}}function wa(e,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var E=e,S=n,L=a,G=o,re=S.flags;switch(S.tag){case 0:case 11:case 15:wa(E,S,L,G,f),ds(8,S);break;case 23:break;case 22:var Ce=S.stateNode;S.memoizedState!==null?Ce._visibility&4?wa(E,S,L,G,f):xs(E,S):(Ce._visibility|=4,wa(E,S,L,G,f)),f&&re&2048&&ku(S.alternate,S);break;case 24:wa(E,S,L,G,f),f&&re&2048&&Uu(S.alternate,S);break;default:wa(E,S,L,G,f)}n=n.sibling}}function xs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,f=o.flags;switch(o.tag){case 22:xs(a,o),f&2048&&ku(o.alternate,o);break;case 24:xs(a,o),f&2048&&Uu(o.alternate,o);break;default:xs(a,o)}n=n.sibling}}var gs=8192;function ba(e){if(e.subtreeFlags&gs)for(e=e.child;e!==null;)Rf(e),e=e.sibling}function Rf(e){switch(e.tag){case 26:ba(e),e.flags&gs&&e.memoizedState!==null&&Ox(Ur,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var n=Ur;Ur=Dl(e.stateNode.containerInfo),ba(e),Ur=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=gs,gs=16777216,ba(e),gs=n):ba(e));break;default:ba(e)}}function If(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function As(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bn=o,Ff(o,e)}If(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lf(e),e=e.sibling}function Lf(e){switch(e.tag){case 0:case 11:case 15:As(e),e.flags&2048&&s0(9,e,e.return);break;case 3:As(e);break;case 12:As(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,dl(e)):As(e);break;default:As(e)}}function dl(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Bn=o,Ff(o,e)}If(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:s0(8,n,n.return),dl(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,dl(n));break;default:dl(n)}e=e.sibling}}function Ff(e,n){for(;Bn!==null;){var a=Bn;switch(a.tag){case 0:case 11:case 15:s0(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:rs(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Bn=o;else e:for(a=e;Bn!==null;){o=Bn;var f=o.sibling,E=o.return;if(Df(o),o===a){Bn=null;break e}if(f!==null){f.return=E,Bn=f;break e}Bn=E}}}function V2(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(e,n,a,o){return new V2(e,n,a,o)}function zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function u0(e,n){var a=e.alternate;return a===null?(a=_r(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function kf(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xl(e,n,a,o,f,E){var S=0;if(o=e,typeof e=="function")zu(e)&&(S=1);else if(typeof e=="string")S=Nx(e,a,wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case b:return V0(a.children,f,E,n);case g:S=8,f|=24;break;case y:return e=_r(12,a,n,f|2),e.elementType=y,e.lanes=E,e;case F:return e=_r(13,a,n,f),e.elementType=F,e.lanes=E,e;case H:return e=_r(19,a,n,f),e.elementType=H,e.lanes=E,e;case k:return Uf(a,f,E,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:case O:S=10;break e;case M:S=9;break e;case I:S=11;break e;case X:S=14;break e;case U:S=16,o=null;break e}S=29,a=Error(d(130,e===null?"null":typeof e,"")),o=null}return n=_r(S,a,n,f),n.elementType=e,n.type=o,n.lanes=E,n}function V0(e,n,a,o){return e=_r(7,e,o,n),e.lanes=a,e}function Uf(e,n,a,o){e=_r(22,e,o,n),e.elementType=k,e.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var E=f._current;if(E===null)throw Error(d(456));if(!(f._pendingVisibility&2)){var S=Ki(E,2);S!==null&&(f._pendingVisibility|=2,Jn(S,E,2))}},attach:function(){var E=f._current;if(E===null)throw Error(d(456));if(f._pendingVisibility&2){var S=Ki(E,2);S!==null&&(f._pendingVisibility&=-3,Jn(S,E,2))}}};return e.stateNode=f,e}function Hu(e,n,a){return e=_r(6,e,null,n),e.lanes=a,e}function Pu(e,n,a){return n=_r(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function wi(e){e.flags|=4}function zf(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!wh(n)){if(n=Sr.current,n!==null&&((gt&4194176)===gt?Jr!==null:(gt&62914560)!==gt&&!(gt&536870912)||n!==Jr))throw es=Xo,t1;e.flags|=8192}}function gl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Or():536870912,e.lanes|=n,Ta|=n)}function ps(e,n){if(!mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Zt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&31457280,o|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function X2(e,n,a){var o=n.pendingProps;switch(Yo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),mi(wn),bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Wa(n)?wi(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,kr!==null&&(Qu(kr),kr=null))),Zt(n),null;case 26:return a=n.memoizedState,e===null?(wi(n),a!==null?(Zt(n),zf(n,a)):(Zt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(wi(n),Zt(n),zf(n,a)):(Zt(n),n.flags&=-16777217):(e.memoizedProps!==o&&wi(n),Zt(n),n.flags&=-16777217),null;case 27:lt(n),a=Ye.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&wi(n);else{if(!o){if(n.stateNode===null)throw Error(d(166));return Zt(n),null}e=wt.current,Wa(n)?$c(n):(e=gh(f,o,a),n.stateNode=e,wi(n))}return Zt(n),null;case 5:if(lt(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&wi(n);else{if(!o){if(n.stateNode===null)throw Error(d(166));return Zt(n),null}if(e=wt.current,Wa(n))$c(n);else{switch(f=Tl(Ye.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}e[Xt]=n,e[Tn]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(kn(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&wi(n)}}return Zt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(d(166));if(e=Ye.current,Wa(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,f=Kn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[Xt]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||uh(e.nodeValue,a)),e||L0(n)}else e=Tl(e).createTextNode(o),e[Xt]=n,n.stateNode=e}return Zt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(d(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(d(317));f[Xt]=n}else Ka(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Zt(n),f=!1}else kr!==null&&(Qu(kr),kr=null),f=!0;if(!f)return n.flags&256?(gi(n),n):(gi(n),null)}if(gi(n),n.flags&128)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var E=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(E=o.memoizedState.cachePool.pool),E!==f&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),gl(n,n.updateQueue),Zt(n),null;case 4:return bn(),e===null&&sc(n.stateNode.containerInfo),Zt(n),null;case 10:return mi(n.type),Zt(n),null;case 19:if(pt(yn),f=n.memoizedState,f===null)return Zt(n),null;if(o=(n.flags&128)!==0,E=f.rendering,E===null)if(o)ps(f,!1);else{if($t!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(E=Js(e),E!==null){for(n.flags|=128,ps(f,!1),e=E.updateQueue,n.updateQueue=e,gl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)kf(a,e),a=a.sibling;return st(yn,yn.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ht()>Al&&(n.flags|=128,o=!0,ps(f,!1),n.lanes=4194304)}else{if(!o)if(e=Js(E),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,gl(n,e),ps(f,!0),f.tail===null&&f.tailMode==="hidden"&&!E.alternate&&!mt)return Zt(n),null}else 2*Ht()-f.renderingStartTime>Al&&a!==536870912&&(n.flags|=128,o=!0,ps(f,!1),n.lanes=4194304);f.isBackwards?(E.sibling=n.child,n.child=E):(e=f.last,e!==null?e.sibling=E:n.child=E,f.last=E)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ht(),n.sibling=null,e=yn.current,st(yn,o?e&1|2:e&1),n):(Zt(n),null);case 22:case 23:return gi(n),Zo(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?a&536870912&&!(n.flags&128)&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),a=n.updateQueue,a!==null&&gl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&pt(k0),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),mi(wn),Zt(n),null;case 25:return null}throw Error(d(156,n.tag))}function q2(e,n){switch(Yo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return mi(wn),bn(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return lt(n),null;case 13:if(gi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(d(340));Ka()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return pt(yn),null;case 4:return bn(),null;case 10:return mi(n.type),null;case 22:case 23:return gi(n),Zo(),e!==null&&pt(k0),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return mi(wn),null;case 25:return null;default:return null}}function Hf(e,n){switch(Yo(n),n.tag){case 3:mi(wn),bn();break;case 26:case 27:case 5:lt(n);break;case 4:bn();break;case 13:gi(n);break;case 19:pt(yn);break;case 10:mi(n.type);break;case 22:case 23:gi(n),Zo(),e!==null&&pt(k0);break;case 24:mi(wn)}}var Z2={getCacheForType:function(e){var n=jn(wn),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Q2=typeof WeakMap=="function"?WeakMap:Map,Qt=0,kt=null,ut=null,gt=0,Ut=0,hr=null,bi=!1,Sa=!1,ju=!1,Si=0,$t=0,c0=0,X0=0,Gu=0,Br=0,Ta=0,Es=null,ei=null,Yu=!1,Vu=0,Al=1/0,pl=null,f0=null,El=!1,q0=null,ms=0,Xu=0,qu=null,Cs=0,Zu=null;function dr(){if(Qt&2&&gt!==0)return gt&-gt;if(q.T!==null){var e=pa;return e!==0?e:nc()}return Er()}function Pf(){Br===0&&(Br=!(gt&536870912)||mt?rn():536870912);var e=Sr.current;return e!==null&&(e.flags|=32),Br}function Jn(e,n,a){(e===kt&&Ut===2||e.cancelPendingCommit!==null)&&(Da(e,0),Ti(e,gt,Br,!1)),Sn(e,a),(!(Qt&2)||e!==kt)&&(e===kt&&(!(Qt&2)&&(X0|=a),$t===4&&Ti(e,gt,Br,!1)),ti(e))}function jf(e,n,a){if(Qt&6)throw Error(d(327));var o=!a&&(n&60)===0&&(n&e.expiredLanes)===0||mn(e,n),f=o?J2(e,n):Ju(e,n,!0),E=o;do{if(f===0){Sa&&!o&&Ti(e,n,0,!1);break}else if(f===6)Ti(e,n,0,!bi);else{if(a=e.current.alternate,E&&!W2(a)){f=Ju(e,n,!1),E=!1;continue}if(f===2){if(E=n,e.errorRecoveryDisabledLanes&E)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var L=e;f=Es;var G=L.current.memoizedState.isDehydrated;if(G&&(Da(L,S).flags|=256),S=Ju(L,S,!1),S!==2){if(ju&&!G){L.errorRecoveryDisabledLanes|=E,X0|=E,f=4;break e}E=ei,ei=f,E!==null&&Qu(E)}f=S}if(E=!1,f!==2)continue}}if(f===1){Da(e,0),Ti(e,n,0,!0);break}e:{switch(o=e,f){case 0:case 1:throw Error(d(345));case 4:if((n&4194176)===n){Ti(o,n,Br,!bi);break e}break;case 2:ei=null;break;case 3:case 5:break;default:throw Error(d(329))}if(o.finishedWork=a,o.finishedLanes=n,(n&62914560)===n&&(E=Vu+300-Ht(),10<E)){if(Ti(o,n,Br,!bi),ai(o,0)!==0)break e;o.timeoutHandle=hh(Gf.bind(null,o,a,ei,pl,Yu,n,Br,X0,Ta,bi,2,-0,0),E);break e}Gf(o,a,ei,pl,Yu,n,Br,X0,Ta,bi,0,-0,0)}}break}while(!0);ti(e)}function Qu(e){ei===null?ei=e:ei.push.apply(ei,e)}function Gf(e,n,a,o,f,E,S,L,G,re,Ce,Te,xe){var me=n.subtreeFlags;if((me&8192||(me&16785408)===16785408)&&(Ts={stylesheets:null,count:0,unsuspend:Mx},Rf(n),n=Rx(),n!==null)){e.cancelPendingCommit=n(Wf.bind(null,e,a,o,f,S,L,G,1,Te,xe)),Ti(e,E,S,!re);return}Wf(e,a,o,f,S,L,G,Ce,Te,xe)}function W2(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],E=f.getSnapshot;f=f.value;try{if(!s(E(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ti(e,n,a,o){n&=~Gu,n&=~X0,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var E=31-rt(f),S=1<<E;o[E]=-1,f&=~S}a!==0&&Yt(e,a,n)}function ml(){return Qt&6?!0:(vs(0),!1)}function Wu(){if(ut!==null){if(Ut===0)var e=ut.return;else e=ut,Ei=j0=null,nu(e),ga=null,ts=0,e=ut;for(;e!==null;)Hf(e.alternate,e),e=e.return;ut=null}}function Da(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,gx(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wu(),kt=e,ut=a=u0(e.current,null),gt=n,Ut=0,hr=null,bi=!1,Sa=mn(e,n),ju=!1,Ta=Br=Gu=X0=c0=$t=0,ei=Es=null,Yu=!1,n&8&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-rt(o),E=1<<f;n|=e[f],o&=~E}return Si=n,Gs(),a}function Yf(e,n){tt=null,q.H=$r,n===$a?(n=i1(),Ut=3):n===t1?(n=i1(),Ut=4):Ut=n===nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hr=n,ut===null&&($t=1,ul(e,yr(n,e.current)))}function Vf(){var e=q.H;return q.H=$r,e===null?$r:e}function Xf(){var e=q.A;return q.A=Z2,e}function Ku(){$t=4,bi||(gt&4194176)!==gt&&Sr.current!==null||(Sa=!0),!(c0&134217727)&&!(X0&134217727)||kt===null||Ti(kt,gt,Br,!1)}function Ju(e,n,a){var o=Qt;Qt|=2;var f=Vf(),E=Xf();(kt!==e||gt!==n)&&(pl=null,Da(e,n)),n=!1;var S=$t;e:do try{if(Ut!==0&&ut!==null){var L=ut,G=hr;switch(Ut){case 8:Wu(),S=6;break e;case 3:case 2:case 6:Sr.current===null&&(n=!0);var re=Ut;if(Ut=0,hr=null,_a(e,L,G,re),a&&Sa){S=0;break e}break;default:re=Ut,Ut=0,hr=null,_a(e,L,G,re)}}K2(),S=$t;break}catch(Ce){Yf(e,Ce)}while(!0);return n&&e.shellSuspendCounter++,Ei=j0=null,Qt=o,q.H=f,q.A=E,ut===null&&(kt=null,gt=0,Gs()),S}function K2(){for(;ut!==null;)qf(ut)}function J2(e,n){var a=Qt;Qt|=2;var o=Vf(),f=Xf();kt!==e||gt!==n?(pl=null,Al=Ht()+500,Da(e,n)):Sa=mn(e,n);e:do try{if(Ut!==0&&ut!==null){n=ut;var E=hr;t:switch(Ut){case 1:Ut=0,hr=null,_a(e,n,E,1);break;case 2:if(n1(E)){Ut=0,hr=null,Zf(n);break}n=function(){Ut===2&&kt===e&&(Ut=7),ti(e)},E.then(n,n);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:n1(E)?(Ut=0,hr=null,Zf(n)):(Ut=0,hr=null,_a(e,n,E,7));break;case 5:var S=null;switch(ut.tag){case 26:S=ut.memoizedState;case 5:case 27:var L=ut;if(!S||wh(S)){Ut=0,hr=null;var G=L.sibling;if(G!==null)ut=G;else{var re=L.return;re!==null?(ut=re,Cl(re)):ut=null}break t}}Ut=0,hr=null,_a(e,n,E,5);break;case 6:Ut=0,hr=null,_a(e,n,E,6);break;case 8:Wu(),$t=6;break e;default:throw Error(d(462))}}$2();break}catch(Ce){Yf(e,Ce)}while(!0);return Ei=j0=null,q.H=o,q.A=f,Qt=a,ut!==null?0:(kt=null,gt=0,Gs(),$t)}function $2(){for(;ut!==null&&!En();)qf(ut)}function qf(e){var n=gf(e.alternate,e,Si);e.memoizedProps=e.pendingProps,n===null?Cl(e):ut=n}function Zf(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=uf(a,n,n.pendingProps,n.type,void 0,gt);break;case 11:n=uf(a,n,n.pendingProps,n.type.render,n.ref,gt);break;case 5:nu(n);default:Hf(a,n),n=ut=kf(n,Si),n=gf(a,n,Si)}e.memoizedProps=e.pendingProps,n===null?Cl(e):ut=n}function _a(e,n,a,o){Ei=j0=null,nu(n),ga=null,ts=0;var f=n.return;try{if(P2(e,f,n,a,gt)){$t=1,ul(e,yr(a,e.current)),ut=null;return}}catch(E){if(f!==null)throw ut=f,E;$t=1,ul(e,yr(a,e.current)),ut=null;return}n.flags&32768?(mt||o===1?e=!0:Sa||gt&536870912?e=!1:(bi=e=!0,(o===2||o===3||o===6)&&(o=Sr.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qf(n,e)):Cl(n)}function Cl(e){var n=e;do{if(n.flags&32768){Qf(n,bi);return}e=n.return;var a=X2(n.alternate,n,Si);if(a!==null){ut=a;return}if(n=n.sibling,n!==null){ut=n;return}ut=n=e}while(n!==null);$t===0&&($t=5)}function Qf(e,n){do{var a=q2(e.alternate,e);if(a!==null){a.flags&=32767,ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){ut=e;return}ut=e=a}while(e!==null);$t=6,ut=null}function Wf(e,n,a,o,f,E,S,L,G,re){var Ce=q.T,Te=ie.p;try{ie.p=2,q.T=null,ex(e,n,a,o,Te,f,E,S,L,G,re)}finally{q.T=Ce,ie.p=Te}}function ex(e,n,a,o,f,E,S,L){do Ba();while(q0!==null);if(Qt&6)throw Error(d(327));var G=e.finishedWork;if(o=e.finishedLanes,G===null)return null;if(e.finishedWork=null,e.finishedLanes=0,G===e.current)throw Error(d(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var re=G.lanes|G.childLanes;if(re|=Po,$0(e,o,re,E,S,L),e===kt&&(ut=kt=null,gt=0),!(G.subtreeFlags&10256)&&!(G.flags&10256)||El||(El=!0,Xu=re,qu=a,ix(Yn,function(){return Ba(),null})),a=(G.flags&15990)!==0,G.subtreeFlags&15990||a?(a=q.T,q.T=null,E=ie.p,ie.p=2,S=Qt,Qt|=4,G2(e,G),Nf(G,e),N(cc,e.containerInfo),Ol=!!uc,cc=uc=null,e.current=G,Tf(e,G.alternate,G),ar(),Qt=S,ie.p=E,q.T=a):e.current=G,El?(El=!1,q0=e,ms=o):Kf(e,re),re=e.pendingLanes,re===0&&(f0=null),Gt(G.stateNode),ti(e),n!==null)for(f=e.onRecoverableError,G=0;G<n.length;G++)re=n[G],f(re.value,{componentStack:re.stack});return ms&3&&Ba(),re=e.pendingLanes,o&4194218&&re&42?e===Zu?Cs++:(Cs=0,Zu=e):Cs=0,vs(0),null}function Kf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,rs(n)))}function Ba(){if(q0!==null){var e=q0,n=Xu;Xu=0;var a=fn(ms),o=q.T,f=ie.p;try{if(ie.p=32>a?32:a,q.T=null,q0===null)var E=!1;else{a=qu,qu=null;var S=q0,L=ms;if(q0=null,ms=0,Qt&6)throw Error(d(331));var G=Qt;if(Qt|=4,Lf(S.current),Of(S,S.current,L,a),Qt=G,vs(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(_t,S)}catch{}E=!0}return E}finally{ie.p=f,q.T=o,Kf(e,n)}}return!1}function Jf(e,n,a){n=yr(a,n),n=Au(e.stateNode,n,2),e=a0(e,n,2),e!==null&&(Sn(e,2),ti(e))}function It(e,n,a){if(e.tag===3)Jf(e,e,a);else for(;n!==null;){if(n.tag===3){Jf(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(f0===null||!f0.has(o))){e=yr(a,e),a=ef(2),o=a0(n,a,2),o!==null&&(tf(a,o,n,e),Sn(o,2),ti(o));break}}n=n.return}}function $u(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Q2;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(ju=!0,f.add(a),e=tx.bind(null,e,n,a),n.then(e,e))}function tx(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,kt===e&&(gt&a)===a&&($t===4||$t===3&&(gt&62914560)===gt&&300>Ht()-Vu?!(Qt&2)&&Da(e,0):Gu|=a,Ta===gt&&(Ta=0)),ti(e)}function $f(e,n){n===0&&(n=Or()),e=Ki(e,n),e!==null&&(Sn(e,n),ti(e))}function nx(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),$f(e,a)}function rx(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(d(314))}o!==null&&o.delete(n),$f(e,a)}function ix(e,n){return er(e,n)}var vl=null,Na=null,ec=!1,yl=!1,tc=!1,Z0=0;function ti(e){e!==Na&&e.next===null&&(Na===null?vl=Na=e:Na=Na.next=e),yl=!0,ec||(ec=!0,sx(ax))}function vs(e,n){if(!tc&&yl){tc=!0;do for(var a=!1,o=vl;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var E=0;else{var S=o.suspendedLanes,L=o.pingedLanes;E=(1<<31-rt(42|e)+1)-1,E&=f&~(S&~L),E=E&201326677?E&201326677|1:E?E|2:0}E!==0&&(a=!0,nh(o,E))}else E=gt,E=ai(o,o===kt?E:0),!(E&3)||mn(o,E)||(a=!0,nh(o,E));o=o.next}while(a);tc=!1}}function ax(){yl=ec=!1;var e=0;Z0!==0&&(xx()&&(e=Z0),Z0=0);for(var n=Ht(),a=null,o=vl;o!==null;){var f=o.next,E=eh(o,n);E===0?(o.next=null,a===null?vl=f:a.next=f,f===null&&(Na=a)):(a=o,(e!==0||E&3)&&(yl=!0)),o=f}vs(e)}function eh(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,E=e.pendingLanes&-62914561;0<E;){var S=31-rt(E),L=1<<S,G=f[S];G===-1?(!(L&a)||L&o)&&(f[S]=Ri(L,n)):G<=n&&(e.expiredLanes|=L),E&=~L}if(n=kt,a=gt,a=ai(e,e===n?a:0),o=e.callbackNode,a===0||e===n&&Ut===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Re(o),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||mn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Re(o),fn(a)){case 2:case 8:a=Mr;break;case 32:a=Yn;break;case 268435456:a=Oi;break;default:a=Yn}return o=th.bind(null,e),a=er(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Re(o),e.callbackPriority=2,e.callbackNode=null,2}function th(e,n){var a=e.callbackNode;if(Ba()&&e.callbackNode!==a)return null;var o=gt;return o=ai(e,e===kt?o:0),o===0?null:(jf(e,o,n),eh(e,Ht()),e.callbackNode!=null&&e.callbackNode===a?th.bind(null,e):null)}function nh(e,n){if(Ba())return null;jf(e,n,!0)}function sx(e){Ax(function(){Qt&6?er(nn,e):e()})}function nc(){return Z0===0&&(Z0=rn()),Z0}function rh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ui(""+e)}function ih(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function lx(e,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var E=rh((f[Tn]||null).action),S=o.submitter;S&&(n=(n=S[Tn]||null)?rh(n.formAction):S.getAttribute("formAction"),n!==null&&(E=n,S=null));var L=new Zr("action","action",null,o,f);e.push({event:L,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Z0!==0){var G=S?ih(f,S):new FormData(f);fu(a,{pending:!0,data:G,method:f.method,action:E},null,G)}}else typeof E=="function"&&(L.preventDefault(),G=S?ih(f,S):new FormData(f),fu(a,{pending:!0,data:G,method:f.method,action:E},E,G))},currentTarget:f}]})}}for(var rc=0;rc<js.length;rc++){var ic=js[rc],ox=ic.toLowerCase(),ux=ic[0].toUpperCase()+ic.slice(1);ur(ox,"on"+ux)}ur(Rn,"onAnimationEnd"),ur(rr,"onAnimationIteration"),ur(In,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Tt,"onTransitionRun"),ur(vn,"onTransitionStart"),ur(Wn,"onTransitionCancel"),ur(fi,"onTransitionEnd"),bt("onMouseEnter",["mouseout","mouseover"]),bt("onMouseLeave",["mouseout","mouseover"]),bt("onPointerEnter",["pointerout","pointerover"]),bt("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ys));function ah(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],f=o.event;o=o.listeners;e:{var E=void 0;if(n)for(var S=o.length-1;0<=S;S--){var L=o[S],G=L.instance,re=L.currentTarget;if(L=L.listener,G!==E&&f.isPropagationStopped())break e;E=L,f.currentTarget=re;try{E(f)}catch(Ce){ol(Ce)}f.currentTarget=null,E=G}else for(S=0;S<o.length;S++){if(L=o[S],G=L.instance,re=L.currentTarget,L=L.listener,G!==E&&f.isPropagationStopped())break e;E=L,f.currentTarget=re;try{E(f)}catch(Ce){ol(Ce)}f.currentTarget=null,E=G}}}}function ft(e,n){var a=n[Gr];a===void 0&&(a=n[Gr]=new Set);var o=e+"__bubble";a.has(o)||(sh(n,e,2,!1),a.add(o))}function ac(e,n,a){var o=0;n&&(o|=4),sh(a,e,o,n)}var wl="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[wl]){e[wl]=!0,na.forEach(function(a){a!=="selectionchange"&&(cx.has(a)||ac(a,!1,e),ac(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[wl]||(n[wl]=!0,ac("selectionchange",!1,n))}}function sh(e,n,a,o){switch(Bh(n)){case 2:var f=Fx;break;case 8:f=kx;break;default:f=mc}a=f.bind(null,n,a,e),f=void 0,!Ze||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function lc(e,n,a,o,f){var E=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var L=o.stateNode.containerInfo;if(L===f||L.nodeType===8&&L.parentNode===f)break;if(S===4)for(S=o.return;S!==null;){var G=S.tag;if((G===3||G===4)&&(G=S.stateNode.containerInfo,G===f||G.nodeType===8&&G.parentNode===f))return;S=S.return}for(;L!==null;){if(S=Dn(L),S===null)return;if(G=S.tag,G===5||G===6||G===26||G===27){o=E=S;continue e}L=L.parentNode}}o=o.return}Ve(function(){var re=E,Ce=w0(a),Te=[];e:{var xe=hi.get(e);if(xe!==void 0){var me=Zr,He=e;switch(e){case"keypress":if(ia(a)===0)break e;case"keydown":case"keyup":me=Ya;break;case"focusin":He="focus",me=Yi;break;case"focusout":He="blur",me=Yi;break;case"beforeblur":case"afterblur":me=Yi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=yt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=St;break;case Rn:case rr:case In:me=Ro;break;case fi:me=ko;break;case"scroll":case"scrollend":me=Hn;break;case"wheel":me=ui;break;case"copy":case"cut":case"paste":me=Ke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=B0;break;case"toggle":case"beforetoggle":me=Uo}var Qe=(n&4)!==0,en=!Qe&&(e==="scroll"||e==="scrollend"),ae=Qe?xe!==null?xe+"Capture":null:xe;Qe=[];for(var ne=re,he;ne!==null;){var ye=ne;if(he=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||he===null||ae===null||(ye=b0(ne,ae),ye!=null&&Qe.push(ws(ne,ye,he))),en)break;ne=ne.return}0<Qe.length&&(xe=new me(xe,He,null,a,Ce),Te.push({event:xe,listeners:Qe}))}}if(!(n&7)){e:{if(xe=e==="mouseover"||e==="pointerover",me=e==="mouseout"||e==="pointerout",xe&&a!==zi&&(He=a.relatedTarget||a.fromElement)&&(Dn(He)||He[an]))break e;if((me||xe)&&(xe=Ce.window===Ce?Ce:(xe=Ce.ownerDocument)?xe.defaultView||xe.parentWindow:window,me?(He=a.relatedTarget||a.toElement,me=re,He=He?Dn(He):null,He!==null&&(en=Oe(He),Qe=He.tag,He!==en||Qe!==5&&Qe!==27&&Qe!==6)&&(He=null)):(me=null,He=re),me!==He)){if(Qe=ks,ye="onMouseLeave",ae="onMouseEnter",ne="mouse",(e==="pointerout"||e==="pointerover")&&(Qe=B0,ye="onPointerLeave",ae="onPointerEnter",ne="pointer"),en=me==null?xe:vt(me),he=He==null?xe:vt(He),xe=new Qe(ye,ne+"leave",me,a,Ce),xe.target=en,xe.relatedTarget=he,ye=null,Dn(Ce)===re&&(Qe=new Qe(ae,ne+"enter",He,a,Ce),Qe.target=he,Qe.relatedTarget=en,ye=Qe),en=ye,me&&He)t:{for(Qe=me,ae=He,ne=0,he=Qe;he;he=Ma(he))ne++;for(he=0,ye=ae;ye;ye=Ma(ye))he++;for(;0<ne-he;)Qe=Ma(Qe),ne--;for(;0<he-ne;)ae=Ma(ae),he--;for(;ne--;){if(Qe===ae||ae!==null&&Qe===ae.alternate)break t;Qe=Ma(Qe),ae=Ma(ae)}Qe=null}else Qe=null;me!==null&&lh(Te,xe,me,Qe,!1),He!==null&&en!==null&&lh(Te,en,He,Qe,!0)}}e:{if(xe=re?vt(re):window,me=xe.nodeName&&xe.nodeName.toLowerCase(),me==="select"||me==="input"&&xe.type==="file")var Fe=Ps;else if(O0(xe))if(Za)Fe=r;else{Fe=B;var at=ca}else me=xe.nodeName,!me||me.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?re&&Ot(re.elementType)&&(Fe=Ps):Fe=t;if(Fe&&(Fe=Fe(e,re))){Qn(Te,Fe,a,Ce);break e}at&&at(e,xe,re),e==="focusout"&&re&&xe.type==="number"&&re.memoizedProps.value!=null&&z(xe,"number",xe.value)}switch(at=re?vt(re):window,e){case"focusin":(O0(at)||at.contentEditable==="true")&&(P=at,Z=re,Q=null);break;case"focusout":Q=Z=P=null;break;case"mousedown":le=!0;break;case"contextmenu":case"mouseup":case"dragend":le=!1,pe(Te,a,Ce);break;case"selectionchange":if(R)break;case"keydown":case"keyup":pe(Te,a,Ce)}var je;if(N0)e:{switch(e){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else qi?ci(e,a)&&(qe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(qe="onCompositionStart");qe&&(Xa&&a.locale!=="ko"&&(qi||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&qi&&(je=Vr()):(Yr=Ce,S0="value"in Yr?Yr.value:Yr.textContent,qi=!0)),at=bl(re,qe),0<at.length&&(qe=new D0(qe,e,null,a,Ce),Te.push({event:qe,listeners:at}),je?qe.data=je:(je=oa(a),je!==null&&(qe.data=je)))),(je=Va?M0(e,a):zo(e,a))&&(qe=bl(re,"onBeforeInput"),0<qe.length&&(at=new D0("onBeforeInput","beforeinput",null,a,Ce),Te.push({event:at,listeners:qe}),at.data=je)),lx(Te,e,re,a,Ce)}ah(Te,n)})}function ws(e,n,a){return{instance:e,listener:n,currentTarget:a}}function bl(e,n){for(var a=n+"Capture",o=[];e!==null;){var f=e,E=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||E===null||(f=b0(e,a),f!=null&&o.unshift(ws(e,f,E)),f=b0(e,n),f!=null&&o.push(ws(e,f,E))),e=e.return}return o}function Ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lh(e,n,a,o,f){for(var E=n._reactName,S=[];a!==null&&a!==o;){var L=a,G=L.alternate,re=L.stateNode;if(L=L.tag,G!==null&&G===o)break;L!==5&&L!==26&&L!==27||re===null||(G=re,f?(re=b0(a,E),re!=null&&S.unshift(ws(a,re,G))):f||(re=b0(a,E),re!=null&&S.push(ws(a,re,G)))),a=a.return}S.length!==0&&e.push({event:n,listeners:S})}var fx=/\r\n?/g,hx=/\u0000|\uFFFD/g;function oh(e){return(typeof e=="string"?e:""+e).replace(fx,`
`).replace(hx,"")}function uh(e,n){return n=oh(n),oh(e)===n}function Sl(){}function Nt(e,n,a,o,f,E){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||ki(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&ki(e,""+o);break;case"className":Li(e,"class",o);break;case"tabIndex":Li(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Li(e,a,o);break;case"style":Pe(e,o,E);break;case"data":if(n!=="object"){Li(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ui(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(a==="formAction"?(n!=="input"&&Nt(e,n,"name",f.name,f,null),Nt(e,n,"formEncType",f.formEncType,f,null),Nt(e,n,"formMethod",f.formMethod,f,null),Nt(e,n,"formTarget",f.formTarget,f,null)):(Nt(e,n,"encType",f.encType,f,null),Nt(e,n,"method",f.method,f,null),Nt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ui(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Sl);break;case"onScroll":o!=null&&ft("scroll",e);break;case"onScrollEnd":o!=null&&ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(d(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ui(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":ft("beforetoggle",e),ft("toggle",e),Ii(e,"popover",o);break;case"xlinkActuate":or(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":or(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":or(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":or(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":or(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":or(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":or(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":or(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":or(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ii(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fs.get(a)||a,Ii(e,a,o))}}function oc(e,n,a,o,f,E){switch(a){case"style":Pe(e,o,E);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(d(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof o=="string"?ki(e,o):(typeof o=="number"||typeof o=="bigint")&&ki(e,""+o);break;case"onScroll":o!=null&&ft("scroll",e);break;case"onScrollEnd":o!=null&&ft("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Sl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!be.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),E=e[Tn]||null,E=E!=null?E[a]:null,typeof E=="function"&&e.removeEventListener(n,E,f),typeof o=="function")){typeof E!="function"&&E!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,f);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):Ii(e,a,o)}}}function kn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",e),ft("load",e);var o=!1,f=!1,E;for(E in a)if(a.hasOwnProperty(E)){var S=a[E];if(S!=null)switch(E){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:Nt(e,n,E,S,a,null)}}f&&Nt(e,n,"srcSet",a.srcSet,a,null),o&&Nt(e,n,"src",a.src,a,null);return;case"input":ft("invalid",e);var L=E=S=f=null,G=null,re=null;for(o in a)if(a.hasOwnProperty(o)){var Ce=a[o];if(Ce!=null)switch(o){case"name":f=Ce;break;case"type":S=Ce;break;case"checked":G=Ce;break;case"defaultChecked":re=Ce;break;case"value":E=Ce;break;case"defaultValue":L=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(d(137,n));break;default:Nt(e,n,o,Ce,a,null)}}ce(e,E,L,G,re,S,f,!1),Ft(e);return;case"select":ft("invalid",e),o=S=E=null;for(f in a)if(a.hasOwnProperty(f)&&(L=a[f],L!=null))switch(f){case"value":E=L;break;case"defaultValue":S=L;break;case"multiple":o=L;default:Nt(e,n,f,L,a,null)}n=E,a=S,e.multiple=!!o,n!=null?Ue(e,!!o,n,!1):a!=null&&Ue(e,!!o,a,!0);return;case"textarea":ft("invalid",e),E=f=o=null;for(S in a)if(a.hasOwnProperty(S)&&(L=a[S],L!=null))switch(S){case"value":o=L;break;case"defaultValue":f=L;break;case"children":E=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(d(91));break;default:Nt(e,n,S,L,a,null)}qn(e,o,f,E),Ft(e);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nt(e,n,G,o,a,null)}return;case"dialog":ft("cancel",e),ft("close",e);break;case"iframe":case"object":ft("load",e);break;case"video":case"audio":for(o=0;o<ys.length;o++)ft(ys[o],e);break;case"image":ft("error",e),ft("load",e);break;case"details":ft("toggle",e);break;case"embed":case"source":case"link":ft("error",e),ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in a)if(a.hasOwnProperty(re)&&(o=a[re],o!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,n));default:Nt(e,n,re,o,a,null)}return;default:if(Ot(n)){for(Ce in a)a.hasOwnProperty(Ce)&&(o=a[Ce],o!==void 0&&oc(e,n,Ce,o,a,void 0));return}}for(L in a)a.hasOwnProperty(L)&&(o=a[L],o!=null&&Nt(e,n,L,o,a,null))}function dx(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,E=null,S=null,L=null,G=null,re=null,Ce=null;for(me in a){var Te=a[me];if(a.hasOwnProperty(me)&&Te!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":G=Te;default:o.hasOwnProperty(me)||Nt(e,n,me,null,o,Te)}}for(var xe in o){var me=o[xe];if(Te=a[xe],o.hasOwnProperty(xe)&&(me!=null||Te!=null))switch(xe){case"type":E=me;break;case"name":f=me;break;case"checked":re=me;break;case"defaultChecked":Ce=me;break;case"value":S=me;break;case"defaultValue":L=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(d(137,n));break;default:me!==Te&&Nt(e,n,xe,me,o,Te)}}hn(e,S,L,G,re,Ce,E,f);return;case"select":me=S=L=xe=null;for(E in a)if(G=a[E],a.hasOwnProperty(E)&&G!=null)switch(E){case"value":break;case"multiple":me=G;default:o.hasOwnProperty(E)||Nt(e,n,E,null,o,G)}for(f in o)if(E=o[f],G=a[f],o.hasOwnProperty(f)&&(E!=null||G!=null))switch(f){case"value":xe=E;break;case"defaultValue":L=E;break;case"multiple":S=E;default:E!==G&&Nt(e,n,f,E,o,G)}n=L,a=S,o=me,xe!=null?Ue(e,!!a,xe,!1):!!o!=!!a&&(n!=null?Ue(e,!!a,n,!0):Ue(e,!!a,a?[]:"",!1));return;case"textarea":me=xe=null;for(L in a)if(f=a[L],a.hasOwnProperty(L)&&f!=null&&!o.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Nt(e,n,L,null,o,f)}for(S in o)if(f=o[S],E=a[S],o.hasOwnProperty(S)&&(f!=null||E!=null))switch(S){case"value":xe=f;break;case"defaultValue":me=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(d(91));break;default:f!==E&&Nt(e,n,S,f,o,E)}sn(e,xe,me);return;case"option":for(var He in a)if(xe=a[He],a.hasOwnProperty(He)&&xe!=null&&!o.hasOwnProperty(He))switch(He){case"selected":e.selected=!1;break;default:Nt(e,n,He,null,o,xe)}for(G in o)if(xe=o[G],me=a[G],o.hasOwnProperty(G)&&xe!==me&&(xe!=null||me!=null))switch(G){case"selected":e.selected=xe&&typeof xe!="function"&&typeof xe!="symbol";break;default:Nt(e,n,G,xe,o,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in a)xe=a[Qe],a.hasOwnProperty(Qe)&&xe!=null&&!o.hasOwnProperty(Qe)&&Nt(e,n,Qe,null,o,xe);for(re in o)if(xe=o[re],me=a[re],o.hasOwnProperty(re)&&xe!==me&&(xe!=null||me!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(d(137,n));break;default:Nt(e,n,re,xe,o,me)}return;default:if(Ot(n)){for(var en in a)xe=a[en],a.hasOwnProperty(en)&&xe!==void 0&&!o.hasOwnProperty(en)&&oc(e,n,en,void 0,o,xe);for(Ce in o)xe=o[Ce],me=a[Ce],!o.hasOwnProperty(Ce)||xe===me||xe===void 0&&me===void 0||oc(e,n,Ce,xe,o,me);return}}for(var ae in a)xe=a[ae],a.hasOwnProperty(ae)&&xe!=null&&!o.hasOwnProperty(ae)&&Nt(e,n,ae,null,o,xe);for(Te in o)xe=o[Te],me=a[Te],!o.hasOwnProperty(Te)||xe===me||xe==null&&me==null||Nt(e,n,Te,xe,o,me)}var uc=null,cc=null;function Tl(e){return e.nodeType===9?e:e.ownerDocument}function ch(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fh(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hc=null;function xx(){var e=window.event;return e&&e.type==="popstate"?e===hc?!1:(hc=e,!0):(hc=null,!1)}var hh=typeof setTimeout=="function"?setTimeout:void 0,gx=typeof clearTimeout=="function"?clearTimeout:void 0,dh=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof dh<"u"?function(e){return dh.resolve(null).then(e).catch(px)}:hh;function px(e){setTimeout(function(){throw e})}function dc(e,n){var a=n,o=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(o===0){e.removeChild(f),Ms(n);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=f}while(a);Ms(n)}function xc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xc(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ex(e,n,a,o){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[y0])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(E=e.getAttribute("rel"),E==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(E!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(E=e.getAttribute("src"),(E!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&E&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var E=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===E)return e}else return e;if(e=zr(e.nextSibling),e===null)break}return null}function mx(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zr(e.nextSibling),e===null))return null;return e}function zr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function xh(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function gh(e,n,a){switch(n=Tl(a),e){case"html":if(e=n.documentElement,!e)throw Error(d(452));return e;case"head":if(e=n.head,!e)throw Error(d(453));return e;case"body":if(e=n.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}var Nr=new Map,Ah=new Set;function Dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Di=ie.d;ie.d={f:Cx,r:vx,D:yx,C:wx,L:bx,m:Sx,X:Dx,S:Tx,M:_x};function Cx(){var e=Di.f(),n=ml();return e||n}function vx(e){var n=Kt(e);n!==null&&n.tag===5&&n.type==="form"?j1(n):Di.r(e)}var Oa=typeof document>"u"?null:document;function ph(e,n,a){var o=Oa;if(o&&typeof n=="string"&&n){var f=$e(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Ah.has(f)||(Ah.add(f),e={rel:e,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),kn(n,"link",e),Mt(n),o.head.appendChild(n)))}}function yx(e){Di.D(e),ph("dns-prefetch",e,null)}function wx(e,n){Di.C(e,n),ph("preconnect",e,n)}function bx(e,n,a){Di.L(e,n,a);var o=Oa;if(o&&e&&n){var f='link[rel="preload"][as="'+$e(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+$e(a.imageSizes)+'"]')):f+='[href="'+$e(e)+'"]';var E=f;switch(n){case"style":E=Ra(e);break;case"script":E=Ia(e)}Nr.has(E)||(e=W({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Nr.set(E,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(bs(E))||n==="script"&&o.querySelector(Ss(E))||(n=o.createElement("link"),kn(n,"link",e),Mt(n),o.head.appendChild(n)))}}function Sx(e,n){Di.m(e,n);var a=Oa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+$e(o)+'"][href="'+$e(e)+'"]',E=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Ia(e)}if(!Nr.has(E)&&(e=W({rel:"modulepreload",href:e},n),Nr.set(E,e),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ss(E)))return}o=a.createElement("link"),kn(o,"link",e),Mt(o),a.head.appendChild(o)}}}function Tx(e,n,a){Di.S(e,n,a);var o=Oa;if(o&&e){var f=si(o).hoistableStyles,E=Ra(e);n=n||"default";var S=f.get(E);if(!S){var L={loading:0,preload:null};if(S=o.querySelector(bs(E)))L.loading=5;else{e=W({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Nr.get(E))&&gc(e,a);var G=S=o.createElement("link");Mt(G),kn(G,"link",e),G._p=new Promise(function(re,Ce){G.onload=re,G.onerror=Ce}),G.addEventListener("load",function(){L.loading|=1}),G.addEventListener("error",function(){L.loading|=2}),L.loading|=4,_l(S,n,o)}S={type:"stylesheet",instance:S,count:1,state:L},f.set(E,S)}}}function Dx(e,n){Di.X(e,n);var a=Oa;if(a&&e){var o=si(a).hoistableScripts,f=Ia(e),E=o.get(f);E||(E=a.querySelector(Ss(f)),E||(e=W({src:e,async:!0},n),(n=Nr.get(f))&&Ac(e,n),E=a.createElement("script"),Mt(E),kn(E,"link",e),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},o.set(f,E))}}function _x(e,n){Di.M(e,n);var a=Oa;if(a&&e){var o=si(a).hoistableScripts,f=Ia(e),E=o.get(f);E||(E=a.querySelector(Ss(f)),E||(e=W({src:e,async:!0,type:"module"},n),(n=Nr.get(f))&&Ac(e,n),E=a.createElement("script"),Mt(E),kn(E,"link",e),a.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},o.set(f,E))}}function Eh(e,n,a,o){var f=(f=Ye.current)?Dl(f):null;if(!f)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ra(a.href),a=si(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ra(a.href);var E=si(f).hoistableStyles,S=E.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(e,S),(E=f.querySelector(bs(e)))&&!E._p&&(S.instance=E,S.state.loading=5),Nr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nr.set(e,a),E||Bx(f,e,a,S.state))),n&&o===null)throw Error(d(528,""));return S}if(n&&o!==null)throw Error(d(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ia(a),a=si(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Ra(e){return'href="'+$e(e)+'"'}function bs(e){return'link[rel="stylesheet"]['+e+"]"}function mh(e){return W({},e,{"data-precedence":e.precedence,precedence:null})}function Bx(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),kn(n,"link",a),Mt(n),e.head.appendChild(n))}function Ia(e){return'[src="'+$e(e)+'"]'}function Ss(e){return"script[async]"+e}function Ch(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+$e(a.href)+'"]');if(o)return n.instance=o,Mt(o),o;var f=W({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Mt(o),kn(o,"style",f),_l(o,a.precedence,e),n.instance=o;case"stylesheet":f=Ra(a.href);var E=e.querySelector(bs(f));if(E)return n.state.loading|=4,n.instance=E,Mt(E),E;o=mh(a),(f=Nr.get(f))&&gc(o,f),E=(e.ownerDocument||e).createElement("link"),Mt(E);var S=E;return S._p=new Promise(function(L,G){S.onload=L,S.onerror=G}),kn(E,"link",o),n.state.loading|=4,_l(E,a.precedence,e),n.instance=E;case"script":return E=Ia(a.src),(f=e.querySelector(Ss(E)))?(n.instance=f,Mt(f),f):(o=a,(f=Nr.get(E))&&(o=W({},a),Ac(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Mt(f),kn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(d(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,_l(o,a.precedence,e));return n.instance}function _l(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,E=f,S=0;S<o.length;S++){var L=o[S];if(L.dataset.precedence===n)E=L;else if(E!==f)break}E?E.parentNode.insertBefore(e,E.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function gc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ac(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bl=null;function vh(e,n,a){if(Bl===null){var o=new Map,f=Bl=new Map;f.set(a,o)}else f=Bl,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var E=a[f];if(!(E[y0]||E[Xt]||e==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var S=E.getAttribute(n)||"";S=e+S;var L=o.get(S);L?L.push(E):o.set(S,[E])}}return o}function yh(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Nx(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function wh(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ts=null;function Mx(){}function Ox(e,n,a){if(Ts===null)throw Error(d(475));var o=Ts;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var f=Ra(a.href),E=e.querySelector(bs(f));if(E){e=E._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Nl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=E,Mt(E);return}E=e.ownerDocument||e,a=mh(a),(f=Nr.get(f))&&gc(a,f),E=E.createElement("link"),Mt(E);var S=E;S._p=new Promise(function(L,G){S.onload=L,S.onerror=G}),kn(E,"link",a),n.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=Nl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Rx(){if(Ts===null)throw Error(d(475));var e=Ts;return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Nl(){if(this.count--,this.count===0){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ml=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ml=new Map,n.forEach(Ix,e),Ml=null,Nl.call(e))}function Ix(e,n){if(!(n.state.loading&4)){var a=Ml.get(e);if(a)var o=a.get(null);else{a=new Map,Ml.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<f.length;E++){var S=f[E];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),o=S)}o&&a.set(null,o)}f=n.instance,S=f.getAttribute("data-precedence"),E=a.get(S)||o,E===o&&a.set(null,f),a.set(S,f),this.count++,o=Nl.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),E?E.parentNode.insertBefore(f,E.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var Ds={$$typeof:O,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function Lx(e,n,a,o,f,E,S,L){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=E,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function bh(e,n,a,o,f,E,S,L,G,re,Ce,Te){return e=new Lx(e,n,a,S,L,G,re,Te),n=1,E===!0&&(n|=24),E=_r(3,null,null,n),e.current=E,E.stateNode=e,n=Qo(),n.refCount++,e.pooledCache=n,n.refCount++,E.memoizedState={element:o,isDehydrated:a,cache:n},Bu(E),e}function Sh(e){return e?(e=ha,e):ha}function Th(e,n,a,o,f,E){f=Sh(f),o.context===null?o.context=f:o.pendingContext=f,o=i0(n),o.payload={element:a},E=E===void 0?null:E,E!==null&&(o.callback=E),a=a0(e,o,n),a!==null&&(Jn(a,e,n),cs(a,e,n))}function Dh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Ec(e,n){Dh(e,n),(e=e.alternate)&&Dh(e,n)}function _h(e){if(e.tag===13){var n=Ki(e,67108864);n!==null&&Jn(n,e,67108864),Ec(e,67108864)}}var Ol=!0;function Fx(e,n,a,o){var f=q.T;q.T=null;var E=ie.p;try{ie.p=2,mc(e,n,a,o)}finally{ie.p=E,q.T=f}}function kx(e,n,a,o){var f=q.T;q.T=null;var E=ie.p;try{ie.p=8,mc(e,n,a,o)}finally{ie.p=E,q.T=f}}function mc(e,n,a,o){if(Ol){var f=Cc(o);if(f===null)lc(e,n,o,Rl,a),Nh(e,o);else if(zx(f,e,n,a,o))o.stopPropagation();else if(Nh(e,o),n&4&&-1<Ux.indexOf(e)){for(;f!==null;){var E=Kt(f);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var S=pr(E.pendingLanes);if(S!==0){var L=E;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var G=1<<31-rt(S);L.entanglements[1]|=G,S&=~G}ti(E),!(Qt&6)&&(Al=Ht()+500,vs(0))}}break;case 13:L=Ki(E,2),L!==null&&Jn(L,E,2),ml(),Ec(E,2)}if(E=Cc(o),E===null&&lc(e,n,o,Rl,a),E===f)break;f=E}f!==null&&o.stopPropagation()}else lc(e,n,o,null,a)}}function Cc(e){return e=w0(e),vc(e)}var Rl=null;function vc(e){if(Rl=null,e=Dn(e),e!==null){var n=Oe(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=ze(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rl=e,null}function Bh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mi()){case nn:return 2;case Mr:return 8;case Yn:case cn:return 32;case Oi:return 268435456;default:return 32}default:return 32}}var yc=!1,h0=null,d0=null,x0=null,_s=new Map,Bs=new Map,g0=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Nh(e,n){switch(e){case"focusin":case"focusout":h0=null;break;case"dragenter":case"dragleave":d0=null;break;case"mouseover":case"mouseout":x0=null;break;case"pointerover":case"pointerout":_s.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(n.pointerId)}}function Ns(e,n,a,o,f,E){return e===null||e.nativeEvent!==E?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:E,targetContainers:[f]},n!==null&&(n=Kt(n),n!==null&&_h(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function zx(e,n,a,o,f){switch(n){case"focusin":return h0=Ns(h0,e,n,a,o,f),!0;case"dragenter":return d0=Ns(d0,e,n,a,o,f),!0;case"mouseover":return x0=Ns(x0,e,n,a,o,f),!0;case"pointerover":var E=f.pointerId;return _s.set(E,Ns(_s.get(E)||null,e,n,a,o,f)),!0;case"gotpointercapture":return E=f.pointerId,Bs.set(E,Ns(Bs.get(E)||null,e,n,a,o,f)),!0}return!1}function Mh(e){var n=Dn(e.target);if(n!==null){var a=Oe(n);if(a!==null){if(n=a.tag,n===13){if(n=ze(a),n!==null){e.blockedOn=n,tr(e.priority,function(){if(a.tag===13){var o=dr(),f=Ki(a,o);f!==null&&Jn(f,a,o),Ec(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Il(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cc(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);zi=o,a.target.dispatchEvent(o),zi=null}else return n=Kt(a),n!==null&&_h(n),e.blockedOn=a,!1;n.shift()}return!0}function Oh(e,n,a){Il(e)&&a.delete(n)}function Hx(){yc=!1,h0!==null&&Il(h0)&&(h0=null),d0!==null&&Il(d0)&&(d0=null),x0!==null&&Il(x0)&&(x0=null),_s.forEach(Oh),Bs.forEach(Oh)}function Ll(e,n){e.blockedOn===n&&(e.blockedOn=null,yc||(yc=!0,A.unstable_scheduleCallback(A.unstable_NormalPriority,Hx)))}var Fl=null;function Rh(e){Fl!==e&&(Fl=e,A.unstable_scheduleCallback(A.unstable_NormalPriority,function(){Fl===e&&(Fl=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(vc(o||a)===null)continue;break}var E=Kt(a);E!==null&&(e.splice(n,3),n-=3,fu(E,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Ms(e){function n(G){return Ll(G,e)}h0!==null&&Ll(h0,e),d0!==null&&Ll(d0,e),x0!==null&&Ll(x0,e),_s.forEach(n),Bs.forEach(n);for(var a=0;a<g0.length;a++){var o=g0[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<g0.length&&(a=g0[0],a.blockedOn===null);)Mh(a),a.blockedOn===null&&g0.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],E=a[o+1],S=f[Tn]||null;if(typeof E=="function")S||Rh(a);else if(S){var L=null;if(E&&E.hasAttribute("formAction")){if(f=E,S=E[Tn]||null)L=S.formAction;else if(vc(f)!==null)continue}else L=S.action;typeof L=="function"?a[o+1]=L:(a.splice(o,3),o-=3),Rh(a)}}}function wc(e){this._internalRoot=e}kl.prototype.render=wc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(d(409));var a=n.current,o=dr();Th(a,o,e,n,null,null)},kl.prototype.unmount=wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Ba(),Th(e.current,2,null,e,null,null),ml(),n[an]=null}};function kl(e){this._internalRoot=e}kl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Er();e={blockedOn:null,target:e,priority:n};for(var a=0;a<g0.length&&n!==0&&n<g0[a].priority;a++);g0.splice(a,0,e),a===0&&Mh(e)}};var Ih=p.version;if(Ih!=="19.0.0")throw Error(d(527,Ih,"19.0.0"));ie.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=K(n),e=e!==null?fe(e):null,e=e===null?null:e.stateNode,e};var Px={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:q,findFiberByHostInstance:Dn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ul.isDisabled&&Ul.supportsFiber)try{_t=Ul.inject(Px),_e=Ul}catch{}}return Rs.createRoot=function(e,n){if(!v(e))throw Error(d(299));var a=!1,o="",f=W1,E=K1,S=J1,L=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(E=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(L=n.unstable_transitionCallbacks)),n=bh(e,1,!1,null,null,a,o,f,E,S,L,null),e[an]=n.current,sc(e.nodeType===8?e.parentNode:e),new wc(n)},Rs.hydrateRoot=function(e,n,a){if(!v(e))throw Error(d(299));var o=!1,f="",E=W1,S=K1,L=J1,G=null,re=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(E=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(G=a.unstable_transitionCallbacks),a.formState!==void 0&&(re=a.formState)),n=bh(e,1,!0,n,a??null,o,f,E,S,L,G,re),n.context=Sh(null),a=n.current,o=dr(),f=i0(o),f.callback=null,a0(a,f,o),n.current.lanes=o,Sn(n,o),ti(n),e[an]=n.current,sc(e),new kl(n)},Rs.version="19.0.0",Rs}var Xh;function $x(){if(Xh)return Tc.exports;Xh=1;function A(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A)}catch(p){console.error(p)}}return A(),Tc.exports=Jx(),Tc.exports}var eg=$x(),Mn=Pa();const tg="BHURkyBnGRp0-kUFq6wsz7Xw8ZJTU6yMv8VxlYgwadhhBZBqXhgKtzr9TwOJPNacgwAEn5Q106h9ZN0llgrNHpQ";async function l2(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.log("Push notifications are not supported in this browser."),!1;const A=await navigator.serviceWorker.ready;let p=await A.pushManager.getSubscription();return p?(console.log("Returning existing subscription."),p):(console.log("Creating a new subscription..."),p=await A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ng(tg)}),p)}function ng(A){const p="=".repeat((4-A.length%4)%4),h=(A+p).replace(/-/g,"+").replace(/_/g,"/"),d=atob(h);return new Uint8Array([...d].map(v=>v.charCodeAt(0)))}function o2({chats:A,currentChat:p,setCurrentChat:h,setChats:d,client:v,setPage:m}){const _=D=>async b=>{var g;if(b.preventDefault(),!!confirm(`Are you sure you want to delte the chat "${(g=A[D])==null?void 0:g.chatName}" for all users in the chat with all messages?`)){if(!await v.get("delete-chat",D))return alert("error: chat cant be deleted");d(y=>{const T={...y};return delete T[D],T})}};return window.deleteChat=_,J.jsx("nav",{className:"nav-bar",children:J.jsx("ul",{children:Object.keys(A).map(D=>{var b;return J.jsx("li",{className:D===p?"active":"",onContextMenu:async g=>{var y;if(g.preventDefault(),!!confirm(`are you sure you want to leave chat: "${(y=A[D])==null?void 0:y.chatName}"?`)){if(!await v.get("exit",{chatId:D,subscription:await l2()}))return alert("error: chat cant be exited");d(T=>{const M={...T};return delete M[D],M})}},children:J.jsxs("button",{className:"chat-select-button",onClick:()=>{var T,M;h(D),m&&m(!1),d(O=>({...O,[D]:{...O[D],unread:0}}));const g=document.querySelector('.chat-room .message-form input[name="text"]');(T=g==null?void 0:g.focus)==null||T.call(g);const y=document.querySelector(".chat-room");(M=y==null?void 0:y.scrollIntoView)==null||M.call(y,{block:"start",behavior:"smooth"})},children:[J.jsx("span",{children:(b=A[D])==null?void 0:b.chatName}),J.jsx("span",{className:"unread"+(A[D].unread==0?" hide":""),children:A[D].unread})]})},D)})})})}var Pl={exports:{}};function rg(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jl={exports:{}};const ig={},ag=Object.freeze(Object.defineProperty({__proto__:null,default:ig},Symbol.toStringTag,{value:"Module"})),sg=Yx(ag);var lg=jl.exports,qh;function ht(){return qh||(qh=1,function(A,p){(function(h,d){A.exports=d()})(lg,function(){var h=h||function(d,v){var m;if(typeof window<"u"&&window.crypto&&(m=window.crypto),typeof self<"u"&&self.crypto&&(m=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(m=globalThis.crypto),!m&&typeof window<"u"&&window.msCrypto&&(m=window.msCrypto),!m&&typeof Q0<"u"&&Q0.crypto&&(m=Q0.crypto),!m&&typeof rg=="function")try{m=sg}catch{}var _=function(){if(m){if(typeof m.getRandomValues=="function")try{return m.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof m.randomBytes=="function")try{return m.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},D=Object.create||function(){function U(){}return function(k){var j;return U.prototype=k,j=new U,U.prototype=null,j}}(),b={},g=b.lib={},y=g.Base=function(){return{extend:function(U){var k=D(this);return U&&k.mixIn(U),(!k.hasOwnProperty("init")||this.init===k.init)&&(k.init=function(){k.$super.init.apply(this,arguments)}),k.init.prototype=k,k.$super=this,k},create:function(){var U=this.extend();return U.init.apply(U,arguments),U},init:function(){},mixIn:function(U){for(var k in U)U.hasOwnProperty(k)&&(this[k]=U[k]);U.hasOwnProperty("toString")&&(this.toString=U.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),T=g.WordArray=y.extend({init:function(U,k){U=this.words=U||[],k!=v?this.sigBytes=k:this.sigBytes=U.length*4},toString:function(U){return(U||O).stringify(this)},concat:function(U){var k=this.words,j=U.words,$=this.sigBytes,ee=U.sigBytes;if(this.clamp(),$%4)for(var Y=0;Y<ee;Y++){var oe=j[Y>>>2]>>>24-Y%4*8&255;k[$+Y>>>2]|=oe<<24-($+Y)%4*8}else for(var q=0;q<ee;q+=4)k[$+q>>>2]=j[q>>>2];return this.sigBytes+=ee,this},clamp:function(){var U=this.words,k=this.sigBytes;U[k>>>2]&=4294967295<<32-k%4*8,U.length=d.ceil(k/4)},clone:function(){var U=y.clone.call(this);return U.words=this.words.slice(0),U},random:function(U){for(var k=[],j=0;j<U;j+=4)k.push(_());return new T.init(k,U)}}),M=b.enc={},O=M.Hex={stringify:function(U){for(var k=U.words,j=U.sigBytes,$=[],ee=0;ee<j;ee++){var Y=k[ee>>>2]>>>24-ee%4*8&255;$.push((Y>>>4).toString(16)),$.push((Y&15).toString(16))}return $.join("")},parse:function(U){for(var k=U.length,j=[],$=0;$<k;$+=2)j[$>>>3]|=parseInt(U.substr($,2),16)<<24-$%8*4;return new T.init(j,k/2)}},I=M.Latin1={stringify:function(U){for(var k=U.words,j=U.sigBytes,$=[],ee=0;ee<j;ee++){var Y=k[ee>>>2]>>>24-ee%4*8&255;$.push(String.fromCharCode(Y))}return $.join("")},parse:function(U){for(var k=U.length,j=[],$=0;$<k;$++)j[$>>>2]|=(U.charCodeAt($)&255)<<24-$%4*8;return new T.init(j,k)}},F=M.Utf8={stringify:function(U){try{return decodeURIComponent(escape(I.stringify(U)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(U){return I.parse(unescape(encodeURIComponent(U)))}},H=g.BufferedBlockAlgorithm=y.extend({reset:function(){this._data=new T.init,this._nDataBytes=0},_append:function(U){typeof U=="string"&&(U=F.parse(U)),this._data.concat(U),this._nDataBytes+=U.sigBytes},_process:function(U){var k,j=this._data,$=j.words,ee=j.sigBytes,Y=this.blockSize,oe=Y*4,q=ee/oe;U?q=d.ceil(q):q=d.max((q|0)-this._minBufferSize,0);var W=q*Y,se=d.min(W*4,ee);if(W){for(var ue=0;ue<W;ue+=Y)this._doProcessBlock($,ue);k=$.splice(0,W),j.sigBytes-=se}return new T.init(k,se)},clone:function(){var U=y.clone.call(this);return U._data=this._data.clone(),U},_minBufferSize:0});g.Hasher=H.extend({cfg:y.extend(),init:function(U){this.cfg=this.cfg.extend(U),this.reset()},reset:function(){H.reset.call(this),this._doReset()},update:function(U){return this._append(U),this._process(),this},finalize:function(U){U&&this._append(U);var k=this._doFinalize();return k},blockSize:16,_createHelper:function(U){return function(k,j){return new U.init(j).finalize(k)}},_createHmacHelper:function(U){return function(k,j){return new X.HMAC.init(U,j).finalize(k)}}});var X=b.algo={};return b}(Math);return h})}(jl)),jl.exports}var Gl={exports:{}},og=Gl.exports,Zh;function _o(){return Zh||(Zh=1,function(A,p){(function(h,d){A.exports=d(ht())})(og,function(h){return function(d){var v=h,m=v.lib,_=m.Base,D=m.WordArray,b=v.x64={};b.Word=_.extend({init:function(g,y){this.high=g,this.low=y}}),b.WordArray=_.extend({init:function(g,y){g=this.words=g||[],y!=d?this.sigBytes=y:this.sigBytes=g.length*8},toX32:function(){for(var g=this.words,y=g.length,T=[],M=0;M<y;M++){var O=g[M];T.push(O.high),T.push(O.low)}return D.create(T,this.sigBytes)},clone:function(){for(var g=_.clone.call(this),y=g.words=this.words.slice(0),T=y.length,M=0;M<T;M++)y[M]=y[M].clone();return g}})}(),h})}(Gl)),Gl.exports}var Yl={exports:{}},ug=Yl.exports,Qh;function cg(){return Qh||(Qh=1,function(A,p){(function(h,d){A.exports=d(ht())})(ug,function(h){return function(){if(typeof ArrayBuffer=="function"){var d=h,v=d.lib,m=v.WordArray,_=m.init,D=m.init=function(b){if(b instanceof ArrayBuffer&&(b=new Uint8Array(b)),(b instanceof Int8Array||typeof Uint8ClampedArray<"u"&&b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array)&&(b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)),b instanceof Uint8Array){for(var g=b.byteLength,y=[],T=0;T<g;T++)y[T>>>2]|=b[T]<<24-T%4*8;_.call(this,y,g)}else _.apply(this,arguments)};D.prototype=m}}(),h.lib.WordArray})}(Yl)),Yl.exports}var Vl={exports:{}},fg=Vl.exports,Wh;function hg(){return Wh||(Wh=1,function(A,p){(function(h,d){A.exports=d(ht())})(fg,function(h){return function(){var d=h,v=d.lib,m=v.WordArray,_=d.enc;_.Utf16=_.Utf16BE={stringify:function(b){for(var g=b.words,y=b.sigBytes,T=[],M=0;M<y;M+=2){var O=g[M>>>2]>>>16-M%4*8&65535;T.push(String.fromCharCode(O))}return T.join("")},parse:function(b){for(var g=b.length,y=[],T=0;T<g;T++)y[T>>>1]|=b.charCodeAt(T)<<16-T%2*16;return m.create(y,g*2)}},_.Utf16LE={stringify:function(b){for(var g=b.words,y=b.sigBytes,T=[],M=0;M<y;M+=2){var O=D(g[M>>>2]>>>16-M%4*8&65535);T.push(String.fromCharCode(O))}return T.join("")},parse:function(b){for(var g=b.length,y=[],T=0;T<g;T++)y[T>>>1]|=D(b.charCodeAt(T)<<16-T%2*16);return m.create(y,g*2)}};function D(b){return b<<8&4278255360|b>>>8&16711935}}(),h.enc.Utf16})}(Vl)),Vl.exports}var Xl={exports:{}},dg=Xl.exports,Kh;function K0(){return Kh||(Kh=1,function(A,p){(function(h,d){A.exports=d(ht())})(dg,function(h){return function(){var d=h,v=d.lib,m=v.WordArray,_=d.enc;_.Base64={stringify:function(b){var g=b.words,y=b.sigBytes,T=this._map;b.clamp();for(var M=[],O=0;O<y;O+=3)for(var I=g[O>>>2]>>>24-O%4*8&255,F=g[O+1>>>2]>>>24-(O+1)%4*8&255,H=g[O+2>>>2]>>>24-(O+2)%4*8&255,X=I<<16|F<<8|H,U=0;U<4&&O+U*.75<y;U++)M.push(T.charAt(X>>>6*(3-U)&63));var k=T.charAt(64);if(k)for(;M.length%4;)M.push(k);return M.join("")},parse:function(b){var g=b.length,y=this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var M=0;M<y.length;M++)T[y.charCodeAt(M)]=M}var O=y.charAt(64);if(O){var I=b.indexOf(O);I!==-1&&(g=I)}return D(b,g,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function D(b,g,y){for(var T=[],M=0,O=0;O<g;O++)if(O%4){var I=y[b.charCodeAt(O-1)]<<O%4*2,F=y[b.charCodeAt(O)]>>>6-O%4*2,H=I|F;T[M>>>2]|=H<<24-M%4*8,M++}return m.create(T,M)}}(),h.enc.Base64})}(Xl)),Xl.exports}var ql={exports:{}},xg=ql.exports,Jh;function gg(){return Jh||(Jh=1,function(A,p){(function(h,d){A.exports=d(ht())})(xg,function(h){return function(){var d=h,v=d.lib,m=v.WordArray,_=d.enc;_.Base64url={stringify:function(b,g){g===void 0&&(g=!0);var y=b.words,T=b.sigBytes,M=g?this._safe_map:this._map;b.clamp();for(var O=[],I=0;I<T;I+=3)for(var F=y[I>>>2]>>>24-I%4*8&255,H=y[I+1>>>2]>>>24-(I+1)%4*8&255,X=y[I+2>>>2]>>>24-(I+2)%4*8&255,U=F<<16|H<<8|X,k=0;k<4&&I+k*.75<T;k++)O.push(M.charAt(U>>>6*(3-k)&63));var j=M.charAt(64);if(j)for(;O.length%4;)O.push(j);return O.join("")},parse:function(b,g){g===void 0&&(g=!0);var y=b.length,T=g?this._safe_map:this._map,M=this._reverseMap;if(!M){M=this._reverseMap=[];for(var O=0;O<T.length;O++)M[T.charCodeAt(O)]=O}var I=T.charAt(64);if(I){var F=b.indexOf(I);F!==-1&&(y=F)}return D(b,y,M)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function D(b,g,y){for(var T=[],M=0,O=0;O<g;O++)if(O%4){var I=y[b.charCodeAt(O-1)]<<O%4*2,F=y[b.charCodeAt(O)]>>>6-O%4*2,H=I|F;T[M>>>2]|=H<<24-M%4*8,M++}return m.create(T,M)}}(),h.enc.Base64url})}(ql)),ql.exports}var Zl={exports:{}},Ag=Zl.exports,$h;function J0(){return $h||($h=1,function(A,p){(function(h,d){A.exports=d(ht())})(Ag,function(h){return function(d){var v=h,m=v.lib,_=m.WordArray,D=m.Hasher,b=v.algo,g=[];(function(){for(var F=0;F<64;F++)g[F]=d.abs(d.sin(F+1))*4294967296|0})();var y=b.MD5=D.extend({_doReset:function(){this._hash=new _.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(F,H){for(var X=0;X<16;X++){var U=H+X,k=F[U];F[U]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var j=this._hash.words,$=F[H+0],ee=F[H+1],Y=F[H+2],oe=F[H+3],q=F[H+4],W=F[H+5],se=F[H+6],ue=F[H+7],ge=F[H+8],Ne=F[H+9],te=F[H+10],Ee=F[H+11],we=F[H+12],Oe=F[H+13],ze=F[H+14],V=F[H+15],K=j[0],fe=j[1],de=j[2],ie=j[3];K=T(K,fe,de,ie,$,7,g[0]),ie=T(ie,K,fe,de,ee,12,g[1]),de=T(de,ie,K,fe,Y,17,g[2]),fe=T(fe,de,ie,K,oe,22,g[3]),K=T(K,fe,de,ie,q,7,g[4]),ie=T(ie,K,fe,de,W,12,g[5]),de=T(de,ie,K,fe,se,17,g[6]),fe=T(fe,de,ie,K,ue,22,g[7]),K=T(K,fe,de,ie,ge,7,g[8]),ie=T(ie,K,fe,de,Ne,12,g[9]),de=T(de,ie,K,fe,te,17,g[10]),fe=T(fe,de,ie,K,Ee,22,g[11]),K=T(K,fe,de,ie,we,7,g[12]),ie=T(ie,K,fe,de,Oe,12,g[13]),de=T(de,ie,K,fe,ze,17,g[14]),fe=T(fe,de,ie,K,V,22,g[15]),K=M(K,fe,de,ie,ee,5,g[16]),ie=M(ie,K,fe,de,se,9,g[17]),de=M(de,ie,K,fe,Ee,14,g[18]),fe=M(fe,de,ie,K,$,20,g[19]),K=M(K,fe,de,ie,W,5,g[20]),ie=M(ie,K,fe,de,te,9,g[21]),de=M(de,ie,K,fe,V,14,g[22]),fe=M(fe,de,ie,K,q,20,g[23]),K=M(K,fe,de,ie,Ne,5,g[24]),ie=M(ie,K,fe,de,ze,9,g[25]),de=M(de,ie,K,fe,oe,14,g[26]),fe=M(fe,de,ie,K,ge,20,g[27]),K=M(K,fe,de,ie,Oe,5,g[28]),ie=M(ie,K,fe,de,Y,9,g[29]),de=M(de,ie,K,fe,ue,14,g[30]),fe=M(fe,de,ie,K,we,20,g[31]),K=O(K,fe,de,ie,W,4,g[32]),ie=O(ie,K,fe,de,ge,11,g[33]),de=O(de,ie,K,fe,Ee,16,g[34]),fe=O(fe,de,ie,K,ze,23,g[35]),K=O(K,fe,de,ie,ee,4,g[36]),ie=O(ie,K,fe,de,q,11,g[37]),de=O(de,ie,K,fe,ue,16,g[38]),fe=O(fe,de,ie,K,te,23,g[39]),K=O(K,fe,de,ie,Oe,4,g[40]),ie=O(ie,K,fe,de,$,11,g[41]),de=O(de,ie,K,fe,oe,16,g[42]),fe=O(fe,de,ie,K,se,23,g[43]),K=O(K,fe,de,ie,Ne,4,g[44]),ie=O(ie,K,fe,de,we,11,g[45]),de=O(de,ie,K,fe,V,16,g[46]),fe=O(fe,de,ie,K,Y,23,g[47]),K=I(K,fe,de,ie,$,6,g[48]),ie=I(ie,K,fe,de,ue,10,g[49]),de=I(de,ie,K,fe,ze,15,g[50]),fe=I(fe,de,ie,K,W,21,g[51]),K=I(K,fe,de,ie,we,6,g[52]),ie=I(ie,K,fe,de,oe,10,g[53]),de=I(de,ie,K,fe,te,15,g[54]),fe=I(fe,de,ie,K,ee,21,g[55]),K=I(K,fe,de,ie,ge,6,g[56]),ie=I(ie,K,fe,de,V,10,g[57]),de=I(de,ie,K,fe,se,15,g[58]),fe=I(fe,de,ie,K,Oe,21,g[59]),K=I(K,fe,de,ie,q,6,g[60]),ie=I(ie,K,fe,de,Ee,10,g[61]),de=I(de,ie,K,fe,Y,15,g[62]),fe=I(fe,de,ie,K,Ne,21,g[63]),j[0]=j[0]+K|0,j[1]=j[1]+fe|0,j[2]=j[2]+de|0,j[3]=j[3]+ie|0},_doFinalize:function(){var F=this._data,H=F.words,X=this._nDataBytes*8,U=F.sigBytes*8;H[U>>>5]|=128<<24-U%32;var k=d.floor(X/4294967296),j=X;H[(U+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,H[(U+64>>>9<<4)+14]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,F.sigBytes=(H.length+1)*4,this._process();for(var $=this._hash,ee=$.words,Y=0;Y<4;Y++){var oe=ee[Y];ee[Y]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360}return $},clone:function(){var F=D.clone.call(this);return F._hash=this._hash.clone(),F}});function T(F,H,X,U,k,j,$){var ee=F+(H&X|~H&U)+k+$;return(ee<<j|ee>>>32-j)+H}function M(F,H,X,U,k,j,$){var ee=F+(H&U|X&~U)+k+$;return(ee<<j|ee>>>32-j)+H}function O(F,H,X,U,k,j,$){var ee=F+(H^X^U)+k+$;return(ee<<j|ee>>>32-j)+H}function I(F,H,X,U,k,j,$){var ee=F+(X^(H|~U))+k+$;return(ee<<j|ee>>>32-j)+H}v.MD5=D._createHelper(y),v.HmacMD5=D._createHmacHelper(y)}(Math),h.MD5})}(Zl)),Zl.exports}var Ql={exports:{}},pg=Ql.exports,ed;function u2(){return ed||(ed=1,function(A,p){(function(h,d){A.exports=d(ht())})(pg,function(h){return function(){var d=h,v=d.lib,m=v.WordArray,_=v.Hasher,D=d.algo,b=[],g=D.SHA1=_.extend({_doReset:function(){this._hash=new m.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(y,T){for(var M=this._hash.words,O=M[0],I=M[1],F=M[2],H=M[3],X=M[4],U=0;U<80;U++){if(U<16)b[U]=y[T+U]|0;else{var k=b[U-3]^b[U-8]^b[U-14]^b[U-16];b[U]=k<<1|k>>>31}var j=(O<<5|O>>>27)+X+b[U];U<20?j+=(I&F|~I&H)+1518500249:U<40?j+=(I^F^H)+1859775393:U<60?j+=(I&F|I&H|F&H)-1894007588:j+=(I^F^H)-899497514,X=H,H=F,F=I<<30|I>>>2,I=O,O=j}M[0]=M[0]+O|0,M[1]=M[1]+I|0,M[2]=M[2]+F|0,M[3]=M[3]+H|0,M[4]=M[4]+X|0},_doFinalize:function(){var y=this._data,T=y.words,M=this._nDataBytes*8,O=y.sigBytes*8;return T[O>>>5]|=128<<24-O%32,T[(O+64>>>9<<4)+14]=Math.floor(M/4294967296),T[(O+64>>>9<<4)+15]=M,y.sigBytes=T.length*4,this._process(),this._hash},clone:function(){var y=_.clone.call(this);return y._hash=this._hash.clone(),y}});d.SHA1=_._createHelper(g),d.HmacSHA1=_._createHmacHelper(g)}(),h.SHA1})}(Ql)),Ql.exports}var Wl={exports:{}},Eg=Wl.exports,td;function Vc(){return td||(td=1,function(A,p){(function(h,d){A.exports=d(ht())})(Eg,function(h){return function(d){var v=h,m=v.lib,_=m.WordArray,D=m.Hasher,b=v.algo,g=[],y=[];(function(){function O(X){for(var U=d.sqrt(X),k=2;k<=U;k++)if(!(X%k))return!1;return!0}function I(X){return(X-(X|0))*4294967296|0}for(var F=2,H=0;H<64;)O(F)&&(H<8&&(g[H]=I(d.pow(F,1/2))),y[H]=I(d.pow(F,1/3)),H++),F++})();var T=[],M=b.SHA256=D.extend({_doReset:function(){this._hash=new _.init(g.slice(0))},_doProcessBlock:function(O,I){for(var F=this._hash.words,H=F[0],X=F[1],U=F[2],k=F[3],j=F[4],$=F[5],ee=F[6],Y=F[7],oe=0;oe<64;oe++){if(oe<16)T[oe]=O[I+oe]|0;else{var q=T[oe-15],W=(q<<25|q>>>7)^(q<<14|q>>>18)^q>>>3,se=T[oe-2],ue=(se<<15|se>>>17)^(se<<13|se>>>19)^se>>>10;T[oe]=W+T[oe-7]+ue+T[oe-16]}var ge=j&$^~j&ee,Ne=H&X^H&U^X&U,te=(H<<30|H>>>2)^(H<<19|H>>>13)^(H<<10|H>>>22),Ee=(j<<26|j>>>6)^(j<<21|j>>>11)^(j<<7|j>>>25),we=Y+Ee+ge+y[oe]+T[oe],Oe=te+Ne;Y=ee,ee=$,$=j,j=k+we|0,k=U,U=X,X=H,H=we+Oe|0}F[0]=F[0]+H|0,F[1]=F[1]+X|0,F[2]=F[2]+U|0,F[3]=F[3]+k|0,F[4]=F[4]+j|0,F[5]=F[5]+$|0,F[6]=F[6]+ee|0,F[7]=F[7]+Y|0},_doFinalize:function(){var O=this._data,I=O.words,F=this._nDataBytes*8,H=O.sigBytes*8;return I[H>>>5]|=128<<24-H%32,I[(H+64>>>9<<4)+14]=d.floor(F/4294967296),I[(H+64>>>9<<4)+15]=F,O.sigBytes=I.length*4,this._process(),this._hash},clone:function(){var O=D.clone.call(this);return O._hash=this._hash.clone(),O}});v.SHA256=D._createHelper(M),v.HmacSHA256=D._createHmacHelper(M)}(Math),h.SHA256})}(Wl)),Wl.exports}var Kl={exports:{}},mg=Kl.exports,nd;function Cg(){return nd||(nd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),Vc())})(mg,function(h){return function(){var d=h,v=d.lib,m=v.WordArray,_=d.algo,D=_.SHA256,b=_.SHA224=D.extend({_doReset:function(){this._hash=new m.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var g=D._doFinalize.call(this);return g.sigBytes-=4,g}});d.SHA224=D._createHelper(b),d.HmacSHA224=D._createHmacHelper(b)}(),h.SHA224})}(Kl)),Kl.exports}var Jl={exports:{}},vg=Jl.exports,rd;function c2(){return rd||(rd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),_o())})(vg,function(h){return function(){var d=h,v=d.lib,m=v.Hasher,_=d.x64,D=_.Word,b=_.WordArray,g=d.algo;function y(){return D.create.apply(D,arguments)}var T=[y(1116352408,3609767458),y(1899447441,602891725),y(3049323471,3964484399),y(3921009573,2173295548),y(961987163,4081628472),y(1508970993,3053834265),y(2453635748,2937671579),y(2870763221,3664609560),y(3624381080,2734883394),y(310598401,1164996542),y(607225278,1323610764),y(1426881987,3590304994),y(1925078388,4068182383),y(2162078206,991336113),y(2614888103,633803317),y(3248222580,3479774868),y(3835390401,2666613458),y(4022224774,944711139),y(264347078,2341262773),y(604807628,2007800933),y(770255983,1495990901),y(1249150122,1856431235),y(1555081692,3175218132),y(1996064986,2198950837),y(2554220882,3999719339),y(2821834349,766784016),y(2952996808,2566594879),y(3210313671,3203337956),y(3336571891,1034457026),y(3584528711,2466948901),y(113926993,3758326383),y(338241895,168717936),y(666307205,1188179964),y(773529912,1546045734),y(1294757372,1522805485),y(1396182291,2643833823),y(1695183700,2343527390),y(1986661051,1014477480),y(2177026350,1206759142),y(2456956037,344077627),y(2730485921,1290863460),y(2820302411,3158454273),y(3259730800,3505952657),y(3345764771,106217008),y(3516065817,3606008344),y(3600352804,1432725776),y(4094571909,1467031594),y(275423344,851169720),y(430227734,3100823752),y(506948616,1363258195),y(659060556,3750685593),y(883997877,3785050280),y(958139571,3318307427),y(1322822218,3812723403),y(1537002063,2003034995),y(1747873779,3602036899),y(1955562222,1575990012),y(2024104815,1125592928),y(2227730452,2716904306),y(2361852424,442776044),y(2428436474,593698344),y(2756734187,3733110249),y(3204031479,2999351573),y(3329325298,3815920427),y(3391569614,3928383900),y(3515267271,566280711),y(3940187606,3454069534),y(4118630271,4000239992),y(116418474,1914138554),y(174292421,2731055270),y(289380356,3203993006),y(460393269,320620315),y(685471733,587496836),y(852142971,1086792851),y(1017036298,365543100),y(1126000580,2618297676),y(1288033470,3409855158),y(1501505948,4234509866),y(1607167915,987167468),y(1816402316,1246189591)],M=[];(function(){for(var I=0;I<80;I++)M[I]=y()})();var O=g.SHA512=m.extend({_doReset:function(){this._hash=new b.init([new D.init(1779033703,4089235720),new D.init(3144134277,2227873595),new D.init(1013904242,4271175723),new D.init(2773480762,1595750129),new D.init(1359893119,2917565137),new D.init(2600822924,725511199),new D.init(528734635,4215389547),new D.init(1541459225,327033209)])},_doProcessBlock:function(I,F){for(var H=this._hash.words,X=H[0],U=H[1],k=H[2],j=H[3],$=H[4],ee=H[5],Y=H[6],oe=H[7],q=X.high,W=X.low,se=U.high,ue=U.low,ge=k.high,Ne=k.low,te=j.high,Ee=j.low,we=$.high,Oe=$.low,ze=ee.high,V=ee.low,K=Y.high,fe=Y.low,de=oe.high,ie=oe.low,ke=q,ve=W,dt=se,Me=ue,pt=ge,st=Ne,wt=te,Un=Ee,Ye=we,zt=Oe,un=ze,bn=V,Lt=K,lt=fe,We=de,er=ie,Re=0;Re<80;Re++){var En,ar,Ht=M[Re];if(Re<16)ar=Ht.high=I[F+Re*2]|0,En=Ht.low=I[F+Re*2+1]|0;else{var Mi=M[Re-15],nn=Mi.high,Mr=Mi.low,Yn=(nn>>>1|Mr<<31)^(nn>>>8|Mr<<24)^nn>>>7,cn=(Mr>>>1|nn<<31)^(Mr>>>8|nn<<24)^(Mr>>>7|nn<<25),Oi=M[Re-2],sr=Oi.high,ii=Oi.low,_t=(sr>>>19|ii<<13)^(sr<<3|ii>>>29)^sr>>>6,_e=(ii>>>19|sr<<13)^(ii<<3|sr>>>29)^(ii>>>6|sr<<26),Gt=M[Re-7],nt=Gt.high,rt=Gt.low,jr=M[Re-16],C0=jr.high,v0=jr.low;En=cn+rt,ar=Yn+nt+(En>>>0<cn>>>0?1:0),En=En+_e,ar=ar+_t+(En>>>0<_e>>>0?1:0),En=En+v0,ar=ar+C0+(En>>>0<v0>>>0?1:0),Ht.high=ar,Ht.low=En}var it=Ye&un^~Ye&Lt,Vn=zt&bn^~zt&lt,pr=ke&dt^ke&pt^dt&pt,ai=ve&Me^ve&st^Me&st,mn=(ke>>>28|ve<<4)^(ke<<30|ve>>>2)^(ke<<25|ve>>>7),Ri=(ve>>>28|ke<<4)^(ve<<30|ke>>>2)^(ve<<25|ke>>>7),rn=(Ye>>>14|zt<<18)^(Ye>>>18|zt<<14)^(Ye<<23|zt>>>9),Or=(zt>>>14|Ye<<18)^(zt>>>18|Ye<<14)^(zt<<23|Ye>>>9),Rr=T[Re],Sn=Rr.high,$0=Rr.low,Yt=er+Or,Xn=We+rn+(Yt>>>0<er>>>0?1:0),Yt=Yt+Vn,Xn=Xn+it+(Yt>>>0<Vn>>>0?1:0),Yt=Yt+$0,Xn=Xn+Sn+(Yt>>>0<$0>>>0?1:0),Yt=Yt+En,Xn=Xn+ar+(Yt>>>0<En>>>0?1:0),fn=Ri+ai,Er=mn+pr+(fn>>>0<Ri>>>0?1:0);We=Lt,er=lt,Lt=un,lt=bn,un=Ye,bn=zt,zt=Un+Yt|0,Ye=wt+Xn+(zt>>>0<Un>>>0?1:0)|0,wt=pt,Un=st,pt=dt,st=Me,dt=ke,Me=ve,ve=Yt+fn|0,ke=Xn+Er+(ve>>>0<Yt>>>0?1:0)|0}W=X.low=W+ve,X.high=q+ke+(W>>>0<ve>>>0?1:0),ue=U.low=ue+Me,U.high=se+dt+(ue>>>0<Me>>>0?1:0),Ne=k.low=Ne+st,k.high=ge+pt+(Ne>>>0<st>>>0?1:0),Ee=j.low=Ee+Un,j.high=te+wt+(Ee>>>0<Un>>>0?1:0),Oe=$.low=Oe+zt,$.high=we+Ye+(Oe>>>0<zt>>>0?1:0),V=ee.low=V+bn,ee.high=ze+un+(V>>>0<bn>>>0?1:0),fe=Y.low=fe+lt,Y.high=K+Lt+(fe>>>0<lt>>>0?1:0),ie=oe.low=ie+er,oe.high=de+We+(ie>>>0<er>>>0?1:0)},_doFinalize:function(){var I=this._data,F=I.words,H=this._nDataBytes*8,X=I.sigBytes*8;F[X>>>5]|=128<<24-X%32,F[(X+128>>>10<<5)+30]=Math.floor(H/4294967296),F[(X+128>>>10<<5)+31]=H,I.sigBytes=F.length*4,this._process();var U=this._hash.toX32();return U},clone:function(){var I=m.clone.call(this);return I._hash=this._hash.clone(),I},blockSize:1024/32});d.SHA512=m._createHelper(O),d.HmacSHA512=m._createHmacHelper(O)}(),h.SHA512})}(Jl)),Jl.exports}var $l={exports:{}},yg=$l.exports,id;function wg(){return id||(id=1,function(A,p){(function(h,d,v){A.exports=d(ht(),_o(),c2())})(yg,function(h){return function(){var d=h,v=d.x64,m=v.Word,_=v.WordArray,D=d.algo,b=D.SHA512,g=D.SHA384=b.extend({_doReset:function(){this._hash=new _.init([new m.init(3418070365,3238371032),new m.init(1654270250,914150663),new m.init(2438529370,812702999),new m.init(355462360,4144912697),new m.init(1731405415,4290775857),new m.init(2394180231,1750603025),new m.init(3675008525,1694076839),new m.init(1203062813,3204075428)])},_doFinalize:function(){var y=b._doFinalize.call(this);return y.sigBytes-=16,y}});d.SHA384=b._createHelper(g),d.HmacSHA384=b._createHmacHelper(g)}(),h.SHA384})}($l)),$l.exports}var eo={exports:{}},bg=eo.exports,ad;function Sg(){return ad||(ad=1,function(A,p){(function(h,d,v){A.exports=d(ht(),_o())})(bg,function(h){return function(d){var v=h,m=v.lib,_=m.WordArray,D=m.Hasher,b=v.x64,g=b.Word,y=v.algo,T=[],M=[],O=[];(function(){for(var H=1,X=0,U=0;U<24;U++){T[H+5*X]=(U+1)*(U+2)/2%64;var k=X%5,j=(2*H+3*X)%5;H=k,X=j}for(var H=0;H<5;H++)for(var X=0;X<5;X++)M[H+5*X]=X+(2*H+3*X)%5*5;for(var $=1,ee=0;ee<24;ee++){for(var Y=0,oe=0,q=0;q<7;q++){if($&1){var W=(1<<q)-1;W<32?oe^=1<<W:Y^=1<<W-32}$&128?$=$<<1^113:$<<=1}O[ee]=g.create(Y,oe)}})();var I=[];(function(){for(var H=0;H<25;H++)I[H]=g.create()})();var F=y.SHA3=D.extend({cfg:D.cfg.extend({outputLength:512}),_doReset:function(){for(var H=this._state=[],X=0;X<25;X++)H[X]=new g.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(H,X){for(var U=this._state,k=this.blockSize/2,j=0;j<k;j++){var $=H[X+2*j],ee=H[X+2*j+1];$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,ee=(ee<<8|ee>>>24)&16711935|(ee<<24|ee>>>8)&4278255360;var Y=U[j];Y.high^=ee,Y.low^=$}for(var oe=0;oe<24;oe++){for(var q=0;q<5;q++){for(var W=0,se=0,ue=0;ue<5;ue++){var Y=U[q+5*ue];W^=Y.high,se^=Y.low}var ge=I[q];ge.high=W,ge.low=se}for(var q=0;q<5;q++)for(var Ne=I[(q+4)%5],te=I[(q+1)%5],Ee=te.high,we=te.low,W=Ne.high^(Ee<<1|we>>>31),se=Ne.low^(we<<1|Ee>>>31),ue=0;ue<5;ue++){var Y=U[q+5*ue];Y.high^=W,Y.low^=se}for(var Oe=1;Oe<25;Oe++){var W,se,Y=U[Oe],ze=Y.high,V=Y.low,K=T[Oe];K<32?(W=ze<<K|V>>>32-K,se=V<<K|ze>>>32-K):(W=V<<K-32|ze>>>64-K,se=ze<<K-32|V>>>64-K);var fe=I[M[Oe]];fe.high=W,fe.low=se}var de=I[0],ie=U[0];de.high=ie.high,de.low=ie.low;for(var q=0;q<5;q++)for(var ue=0;ue<5;ue++){var Oe=q+5*ue,Y=U[Oe],ke=I[Oe],ve=I[(q+1)%5+5*ue],dt=I[(q+2)%5+5*ue];Y.high=ke.high^~ve.high&dt.high,Y.low=ke.low^~ve.low&dt.low}var Y=U[0],Me=O[oe];Y.high^=Me.high,Y.low^=Me.low}},_doFinalize:function(){var H=this._data,X=H.words;this._nDataBytes*8;var U=H.sigBytes*8,k=this.blockSize*32;X[U>>>5]|=1<<24-U%32,X[(d.ceil((U+1)/k)*k>>>5)-1]|=128,H.sigBytes=X.length*4,this._process();for(var j=this._state,$=this.cfg.outputLength/8,ee=$/8,Y=[],oe=0;oe<ee;oe++){var q=j[oe],W=q.high,se=q.low;W=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360,se=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360,Y.push(se),Y.push(W)}return new _.init(Y,$)},clone:function(){for(var H=D.clone.call(this),X=H._state=this._state.slice(0),U=0;U<25;U++)X[U]=X[U].clone();return H}});v.SHA3=D._createHelper(F),v.HmacSHA3=D._createHmacHelper(F)}(Math),h.SHA3})}(eo)),eo.exports}var to={exports:{}},Tg=to.exports,sd;function Dg(){return sd||(sd=1,function(A,p){(function(h,d){A.exports=d(ht())})(Tg,function(h){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(d){var v=h,m=v.lib,_=m.WordArray,D=m.Hasher,b=v.algo,g=_.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),y=_.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),T=_.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),M=_.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),O=_.create([0,1518500249,1859775393,2400959708,2840853838]),I=_.create([1352829926,1548603684,1836072691,2053994217,0]),F=b.RIPEMD160=D.extend({_doReset:function(){this._hash=_.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ee,Y){for(var oe=0;oe<16;oe++){var q=Y+oe,W=ee[q];ee[q]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}var se=this._hash.words,ue=O.words,ge=I.words,Ne=g.words,te=y.words,Ee=T.words,we=M.words,Oe,ze,V,K,fe,de,ie,ke,ve,dt;de=Oe=se[0],ie=ze=se[1],ke=V=se[2],ve=K=se[3],dt=fe=se[4];for(var Me,oe=0;oe<80;oe+=1)Me=Oe+ee[Y+Ne[oe]]|0,oe<16?Me+=H(ze,V,K)+ue[0]:oe<32?Me+=X(ze,V,K)+ue[1]:oe<48?Me+=U(ze,V,K)+ue[2]:oe<64?Me+=k(ze,V,K)+ue[3]:Me+=j(ze,V,K)+ue[4],Me=Me|0,Me=$(Me,Ee[oe]),Me=Me+fe|0,Oe=fe,fe=K,K=$(V,10),V=ze,ze=Me,Me=de+ee[Y+te[oe]]|0,oe<16?Me+=j(ie,ke,ve)+ge[0]:oe<32?Me+=k(ie,ke,ve)+ge[1]:oe<48?Me+=U(ie,ke,ve)+ge[2]:oe<64?Me+=X(ie,ke,ve)+ge[3]:Me+=H(ie,ke,ve)+ge[4],Me=Me|0,Me=$(Me,we[oe]),Me=Me+dt|0,de=dt,dt=ve,ve=$(ke,10),ke=ie,ie=Me;Me=se[1]+V+ve|0,se[1]=se[2]+K+dt|0,se[2]=se[3]+fe+de|0,se[3]=se[4]+Oe+ie|0,se[4]=se[0]+ze+ke|0,se[0]=Me},_doFinalize:function(){var ee=this._data,Y=ee.words,oe=this._nDataBytes*8,q=ee.sigBytes*8;Y[q>>>5]|=128<<24-q%32,Y[(q+64>>>9<<4)+14]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,ee.sigBytes=(Y.length+1)*4,this._process();for(var W=this._hash,se=W.words,ue=0;ue<5;ue++){var ge=se[ue];se[ue]=(ge<<8|ge>>>24)&16711935|(ge<<24|ge>>>8)&4278255360}return W},clone:function(){var ee=D.clone.call(this);return ee._hash=this._hash.clone(),ee}});function H(ee,Y,oe){return ee^Y^oe}function X(ee,Y,oe){return ee&Y|~ee&oe}function U(ee,Y,oe){return(ee|~Y)^oe}function k(ee,Y,oe){return ee&oe|Y&~oe}function j(ee,Y,oe){return ee^(Y|~oe)}function $(ee,Y){return ee<<Y|ee>>>32-Y}v.RIPEMD160=D._createHelper(F),v.HmacRIPEMD160=D._createHmacHelper(F)}(),h.RIPEMD160})}(to)),to.exports}var no={exports:{}},_g=no.exports,ld;function Xc(){return ld||(ld=1,function(A,p){(function(h,d){A.exports=d(ht())})(_g,function(h){(function(){var d=h,v=d.lib,m=v.Base,_=d.enc,D=_.Utf8,b=d.algo;b.HMAC=m.extend({init:function(g,y){g=this._hasher=new g.init,typeof y=="string"&&(y=D.parse(y));var T=g.blockSize,M=T*4;y.sigBytes>M&&(y=g.finalize(y)),y.clamp();for(var O=this._oKey=y.clone(),I=this._iKey=y.clone(),F=O.words,H=I.words,X=0;X<T;X++)F[X]^=1549556828,H[X]^=909522486;O.sigBytes=I.sigBytes=M,this.reset()},reset:function(){var g=this._hasher;g.reset(),g.update(this._iKey)},update:function(g){return this._hasher.update(g),this},finalize:function(g){var y=this._hasher,T=y.finalize(g);y.reset();var M=y.finalize(this._oKey.clone().concat(T));return M}})})()})}(no)),no.exports}var ro={exports:{}},Bg=ro.exports,od;function Ng(){return od||(od=1,function(A,p){(function(h,d,v){A.exports=d(ht(),Vc(),Xc())})(Bg,function(h){return function(){var d=h,v=d.lib,m=v.Base,_=v.WordArray,D=d.algo,b=D.SHA256,g=D.HMAC,y=D.PBKDF2=m.extend({cfg:m.extend({keySize:128/32,hasher:b,iterations:25e4}),init:function(T){this.cfg=this.cfg.extend(T)},compute:function(T,M){for(var O=this.cfg,I=g.create(O.hasher,T),F=_.create(),H=_.create([1]),X=F.words,U=H.words,k=O.keySize,j=O.iterations;X.length<k;){var $=I.update(M).finalize(H);I.reset();for(var ee=$.words,Y=ee.length,oe=$,q=1;q<j;q++){oe=I.finalize(oe),I.reset();for(var W=oe.words,se=0;se<Y;se++)ee[se]^=W[se]}F.concat($),U[0]++}return F.sigBytes=k*4,F}});d.PBKDF2=function(T,M,O){return y.create(O).compute(T,M)}}(),h.PBKDF2})}(ro)),ro.exports}var io={exports:{}},Mg=io.exports,ud;function m0(){return ud||(ud=1,function(A,p){(function(h,d,v){A.exports=d(ht(),u2(),Xc())})(Mg,function(h){return function(){var d=h,v=d.lib,m=v.Base,_=v.WordArray,D=d.algo,b=D.MD5,g=D.EvpKDF=m.extend({cfg:m.extend({keySize:128/32,hasher:b,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,T){for(var M,O=this.cfg,I=O.hasher.create(),F=_.create(),H=F.words,X=O.keySize,U=O.iterations;H.length<X;){M&&I.update(M),M=I.update(y).finalize(T),I.reset();for(var k=1;k<U;k++)M=I.finalize(M),I.reset();F.concat(M)}return F.sigBytes=X*4,F}});d.EvpKDF=function(y,T,M){return g.create(M).compute(y,T)}}(),h.EvpKDF})}(io)),io.exports}var ao={exports:{}},Og=ao.exports,cd;function On(){return cd||(cd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),m0())})(Og,function(h){h.lib.Cipher||function(d){var v=h,m=v.lib,_=m.Base,D=m.WordArray,b=m.BufferedBlockAlgorithm,g=v.enc;g.Utf8;var y=g.Base64,T=v.algo,M=T.EvpKDF,O=m.Cipher=b.extend({cfg:_.extend(),createEncryptor:function(W,se){return this.create(this._ENC_XFORM_MODE,W,se)},createDecryptor:function(W,se){return this.create(this._DEC_XFORM_MODE,W,se)},init:function(W,se,ue){this.cfg=this.cfg.extend(ue),this._xformMode=W,this._key=se,this.reset()},reset:function(){b.reset.call(this),this._doReset()},process:function(W){return this._append(W),this._process()},finalize:function(W){W&&this._append(W);var se=this._doFinalize();return se},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function W(se){return typeof se=="string"?q:ee}return function(se){return{encrypt:function(ue,ge,Ne){return W(ge).encrypt(se,ue,ge,Ne)},decrypt:function(ue,ge,Ne){return W(ge).decrypt(se,ue,ge,Ne)}}}}()});m.StreamCipher=O.extend({_doFinalize:function(){var W=this._process(!0);return W},blockSize:1});var I=v.mode={},F=m.BlockCipherMode=_.extend({createEncryptor:function(W,se){return this.Encryptor.create(W,se)},createDecryptor:function(W,se){return this.Decryptor.create(W,se)},init:function(W,se){this._cipher=W,this._iv=se}}),H=I.CBC=function(){var W=F.extend();W.Encryptor=W.extend({processBlock:function(ue,ge){var Ne=this._cipher,te=Ne.blockSize;se.call(this,ue,ge,te),Ne.encryptBlock(ue,ge),this._prevBlock=ue.slice(ge,ge+te)}}),W.Decryptor=W.extend({processBlock:function(ue,ge){var Ne=this._cipher,te=Ne.blockSize,Ee=ue.slice(ge,ge+te);Ne.decryptBlock(ue,ge),se.call(this,ue,ge,te),this._prevBlock=Ee}});function se(ue,ge,Ne){var te,Ee=this._iv;Ee?(te=Ee,this._iv=d):te=this._prevBlock;for(var we=0;we<Ne;we++)ue[ge+we]^=te[we]}return W}(),X=v.pad={},U=X.Pkcs7={pad:function(W,se){for(var ue=se*4,ge=ue-W.sigBytes%ue,Ne=ge<<24|ge<<16|ge<<8|ge,te=[],Ee=0;Ee<ge;Ee+=4)te.push(Ne);var we=D.create(te,ge);W.concat(we)},unpad:function(W){var se=W.words[W.sigBytes-1>>>2]&255;W.sigBytes-=se}};m.BlockCipher=O.extend({cfg:O.cfg.extend({mode:H,padding:U}),reset:function(){var W;O.reset.call(this);var se=this.cfg,ue=se.iv,ge=se.mode;this._xformMode==this._ENC_XFORM_MODE?W=ge.createEncryptor:(W=ge.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==W?this._mode.init(this,ue&&ue.words):(this._mode=W.call(ge,this,ue&&ue.words),this._mode.__creator=W)},_doProcessBlock:function(W,se){this._mode.processBlock(W,se)},_doFinalize:function(){var W,se=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(se.pad(this._data,this.blockSize),W=this._process(!0)):(W=this._process(!0),se.unpad(W)),W},blockSize:128/32});var k=m.CipherParams=_.extend({init:function(W){this.mixIn(W)},toString:function(W){return(W||this.formatter).stringify(this)}}),j=v.format={},$=j.OpenSSL={stringify:function(W){var se,ue=W.ciphertext,ge=W.salt;return ge?se=D.create([1398893684,1701076831]).concat(ge).concat(ue):se=ue,se.toString(y)},parse:function(W){var se,ue=y.parse(W),ge=ue.words;return ge[0]==1398893684&&ge[1]==1701076831&&(se=D.create(ge.slice(2,4)),ge.splice(0,4),ue.sigBytes-=16),k.create({ciphertext:ue,salt:se})}},ee=m.SerializableCipher=_.extend({cfg:_.extend({format:$}),encrypt:function(W,se,ue,ge){ge=this.cfg.extend(ge);var Ne=W.createEncryptor(ue,ge),te=Ne.finalize(se),Ee=Ne.cfg;return k.create({ciphertext:te,key:ue,iv:Ee.iv,algorithm:W,mode:Ee.mode,padding:Ee.padding,blockSize:W.blockSize,formatter:ge.format})},decrypt:function(W,se,ue,ge){ge=this.cfg.extend(ge),se=this._parse(se,ge.format);var Ne=W.createDecryptor(ue,ge).finalize(se.ciphertext);return Ne},_parse:function(W,se){return typeof W=="string"?se.parse(W,this):W}}),Y=v.kdf={},oe=Y.OpenSSL={execute:function(W,se,ue,ge,Ne){if(ge||(ge=D.random(64/8)),Ne)var te=M.create({keySize:se+ue,hasher:Ne}).compute(W,ge);else var te=M.create({keySize:se+ue}).compute(W,ge);var Ee=D.create(te.words.slice(se),ue*4);return te.sigBytes=se*4,k.create({key:te,iv:Ee,salt:ge})}},q=m.PasswordBasedCipher=ee.extend({cfg:ee.cfg.extend({kdf:oe}),encrypt:function(W,se,ue,ge){ge=this.cfg.extend(ge);var Ne=ge.kdf.execute(ue,W.keySize,W.ivSize,ge.salt,ge.hasher);ge.iv=Ne.iv;var te=ee.encrypt.call(this,W,se,Ne.key,ge);return te.mixIn(Ne),te},decrypt:function(W,se,ue,ge){ge=this.cfg.extend(ge),se=this._parse(se,ge.format);var Ne=ge.kdf.execute(ue,W.keySize,W.ivSize,se.salt,ge.hasher);ge.iv=Ne.iv;var te=ee.decrypt.call(this,W,se,Ne.key,ge);return te}})}()})}(ao)),ao.exports}var so={exports:{}},Rg=so.exports,fd;function Ig(){return fd||(fd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Rg,function(h){return h.mode.CFB=function(){var d=h.lib.BlockCipherMode.extend();d.Encryptor=d.extend({processBlock:function(m,_){var D=this._cipher,b=D.blockSize;v.call(this,m,_,b,D),this._prevBlock=m.slice(_,_+b)}}),d.Decryptor=d.extend({processBlock:function(m,_){var D=this._cipher,b=D.blockSize,g=m.slice(_,_+b);v.call(this,m,_,b,D),this._prevBlock=g}});function v(m,_,D,b){var g,y=this._iv;y?(g=y.slice(0),this._iv=void 0):g=this._prevBlock,b.encryptBlock(g,0);for(var T=0;T<D;T++)m[_+T]^=g[T]}return d}(),h.mode.CFB})}(so)),so.exports}var lo={exports:{}},Lg=lo.exports,hd;function Fg(){return hd||(hd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Lg,function(h){return h.mode.CTR=function(){var d=h.lib.BlockCipherMode.extend(),v=d.Encryptor=d.extend({processBlock:function(m,_){var D=this._cipher,b=D.blockSize,g=this._iv,y=this._counter;g&&(y=this._counter=g.slice(0),this._iv=void 0);var T=y.slice(0);D.encryptBlock(T,0),y[b-1]=y[b-1]+1|0;for(var M=0;M<b;M++)m[_+M]^=T[M]}});return d.Decryptor=v,d}(),h.mode.CTR})}(lo)),lo.exports}var oo={exports:{}},kg=oo.exports,dd;function Ug(){return dd||(dd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(kg,function(h){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return h.mode.CTRGladman=function(){var d=h.lib.BlockCipherMode.extend();function v(D){if((D>>24&255)===255){var b=D>>16&255,g=D>>8&255,y=D&255;b===255?(b=0,g===255?(g=0,y===255?y=0:++y):++g):++b,D=0,D+=b<<16,D+=g<<8,D+=y}else D+=1<<24;return D}function m(D){return(D[0]=v(D[0]))===0&&(D[1]=v(D[1])),D}var _=d.Encryptor=d.extend({processBlock:function(D,b){var g=this._cipher,y=g.blockSize,T=this._iv,M=this._counter;T&&(M=this._counter=T.slice(0),this._iv=void 0),m(M);var O=M.slice(0);g.encryptBlock(O,0);for(var I=0;I<y;I++)D[b+I]^=O[I]}});return d.Decryptor=_,d}(),h.mode.CTRGladman})}(oo)),oo.exports}var uo={exports:{}},zg=uo.exports,xd;function Hg(){return xd||(xd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(zg,function(h){return h.mode.OFB=function(){var d=h.lib.BlockCipherMode.extend(),v=d.Encryptor=d.extend({processBlock:function(m,_){var D=this._cipher,b=D.blockSize,g=this._iv,y=this._keystream;g&&(y=this._keystream=g.slice(0),this._iv=void 0),D.encryptBlock(y,0);for(var T=0;T<b;T++)m[_+T]^=y[T]}});return d.Decryptor=v,d}(),h.mode.OFB})}(uo)),uo.exports}var co={exports:{}},Pg=co.exports,gd;function jg(){return gd||(gd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Pg,function(h){return h.mode.ECB=function(){var d=h.lib.BlockCipherMode.extend();return d.Encryptor=d.extend({processBlock:function(v,m){this._cipher.encryptBlock(v,m)}}),d.Decryptor=d.extend({processBlock:function(v,m){this._cipher.decryptBlock(v,m)}}),d}(),h.mode.ECB})}(co)),co.exports}var fo={exports:{}},Gg=fo.exports,Ad;function Yg(){return Ad||(Ad=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Gg,function(h){return h.pad.AnsiX923={pad:function(d,v){var m=d.sigBytes,_=v*4,D=_-m%_,b=m+D-1;d.clamp(),d.words[b>>>2]|=D<<24-b%4*8,d.sigBytes+=D},unpad:function(d){var v=d.words[d.sigBytes-1>>>2]&255;d.sigBytes-=v}},h.pad.Ansix923})}(fo)),fo.exports}var ho={exports:{}},Vg=ho.exports,pd;function Xg(){return pd||(pd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Vg,function(h){return h.pad.Iso10126={pad:function(d,v){var m=v*4,_=m-d.sigBytes%m;d.concat(h.lib.WordArray.random(_-1)).concat(h.lib.WordArray.create([_<<24],1))},unpad:function(d){var v=d.words[d.sigBytes-1>>>2]&255;d.sigBytes-=v}},h.pad.Iso10126})}(ho)),ho.exports}var xo={exports:{}},qg=xo.exports,Ed;function Zg(){return Ed||(Ed=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(qg,function(h){return h.pad.Iso97971={pad:function(d,v){d.concat(h.lib.WordArray.create([2147483648],1)),h.pad.ZeroPadding.pad(d,v)},unpad:function(d){h.pad.ZeroPadding.unpad(d),d.sigBytes--}},h.pad.Iso97971})}(xo)),xo.exports}var go={exports:{}},Qg=go.exports,md;function Wg(){return md||(md=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Qg,function(h){return h.pad.ZeroPadding={pad:function(d,v){var m=v*4;d.clamp(),d.sigBytes+=m-(d.sigBytes%m||m)},unpad:function(d){for(var v=d.words,m=d.sigBytes-1,m=d.sigBytes-1;m>=0;m--)if(v[m>>>2]>>>24-m%4*8&255){d.sigBytes=m+1;break}}},h.pad.ZeroPadding})}(go)),go.exports}var Ao={exports:{}},Kg=Ao.exports,Cd;function Jg(){return Cd||(Cd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})(Kg,function(h){return h.pad.NoPadding={pad:function(){},unpad:function(){}},h.pad.NoPadding})}(Ao)),Ao.exports}var po={exports:{}},$g=po.exports,vd;function e4(){return vd||(vd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),On())})($g,function(h){return function(d){var v=h,m=v.lib,_=m.CipherParams,D=v.enc,b=D.Hex,g=v.format;g.Hex={stringify:function(y){return y.ciphertext.toString(b)},parse:function(y){var T=b.parse(y);return _.create({ciphertext:T})}}}(),h.format.Hex})}(po)),po.exports}var Eo={exports:{}},t4=Eo.exports,yd;function n4(){return yd||(yd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),K0(),J0(),m0(),On())})(t4,function(h){return function(){var d=h,v=d.lib,m=v.BlockCipher,_=d.algo,D=[],b=[],g=[],y=[],T=[],M=[],O=[],I=[],F=[],H=[];(function(){for(var k=[],j=0;j<256;j++)j<128?k[j]=j<<1:k[j]=j<<1^283;for(var $=0,ee=0,j=0;j<256;j++){var Y=ee^ee<<1^ee<<2^ee<<3^ee<<4;Y=Y>>>8^Y&255^99,D[$]=Y,b[Y]=$;var oe=k[$],q=k[oe],W=k[q],se=k[Y]*257^Y*16843008;g[$]=se<<24|se>>>8,y[$]=se<<16|se>>>16,T[$]=se<<8|se>>>24,M[$]=se;var se=W*16843009^q*65537^oe*257^$*16843008;O[Y]=se<<24|se>>>8,I[Y]=se<<16|se>>>16,F[Y]=se<<8|se>>>24,H[Y]=se,$?($=oe^k[k[k[W^oe]]],ee^=k[k[ee]]):$=ee=1}})();var X=[0,1,2,4,8,16,32,64,128,27,54],U=_.AES=m.extend({_doReset:function(){var k;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var j=this._keyPriorReset=this._key,$=j.words,ee=j.sigBytes/4,Y=this._nRounds=ee+6,oe=(Y+1)*4,q=this._keySchedule=[],W=0;W<oe;W++)W<ee?q[W]=$[W]:(k=q[W-1],W%ee?ee>6&&W%ee==4&&(k=D[k>>>24]<<24|D[k>>>16&255]<<16|D[k>>>8&255]<<8|D[k&255]):(k=k<<8|k>>>24,k=D[k>>>24]<<24|D[k>>>16&255]<<16|D[k>>>8&255]<<8|D[k&255],k^=X[W/ee|0]<<24),q[W]=q[W-ee]^k);for(var se=this._invKeySchedule=[],ue=0;ue<oe;ue++){var W=oe-ue;if(ue%4)var k=q[W];else var k=q[W-4];ue<4||W<=4?se[ue]=k:se[ue]=O[D[k>>>24]]^I[D[k>>>16&255]]^F[D[k>>>8&255]]^H[D[k&255]]}}},encryptBlock:function(k,j){this._doCryptBlock(k,j,this._keySchedule,g,y,T,M,D)},decryptBlock:function(k,j){var $=k[j+1];k[j+1]=k[j+3],k[j+3]=$,this._doCryptBlock(k,j,this._invKeySchedule,O,I,F,H,b);var $=k[j+1];k[j+1]=k[j+3],k[j+3]=$},_doCryptBlock:function(k,j,$,ee,Y,oe,q,W){for(var se=this._nRounds,ue=k[j]^$[0],ge=k[j+1]^$[1],Ne=k[j+2]^$[2],te=k[j+3]^$[3],Ee=4,we=1;we<se;we++){var Oe=ee[ue>>>24]^Y[ge>>>16&255]^oe[Ne>>>8&255]^q[te&255]^$[Ee++],ze=ee[ge>>>24]^Y[Ne>>>16&255]^oe[te>>>8&255]^q[ue&255]^$[Ee++],V=ee[Ne>>>24]^Y[te>>>16&255]^oe[ue>>>8&255]^q[ge&255]^$[Ee++],K=ee[te>>>24]^Y[ue>>>16&255]^oe[ge>>>8&255]^q[Ne&255]^$[Ee++];ue=Oe,ge=ze,Ne=V,te=K}var Oe=(W[ue>>>24]<<24|W[ge>>>16&255]<<16|W[Ne>>>8&255]<<8|W[te&255])^$[Ee++],ze=(W[ge>>>24]<<24|W[Ne>>>16&255]<<16|W[te>>>8&255]<<8|W[ue&255])^$[Ee++],V=(W[Ne>>>24]<<24|W[te>>>16&255]<<16|W[ue>>>8&255]<<8|W[ge&255])^$[Ee++],K=(W[te>>>24]<<24|W[ue>>>16&255]<<16|W[ge>>>8&255]<<8|W[Ne&255])^$[Ee++];k[j]=Oe,k[j+1]=ze,k[j+2]=V,k[j+3]=K},keySize:256/32});d.AES=m._createHelper(U)}(),h.AES})}(Eo)),Eo.exports}var mo={exports:{}},r4=mo.exports,wd;function i4(){return wd||(wd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),K0(),J0(),m0(),On())})(r4,function(h){return function(){var d=h,v=d.lib,m=v.WordArray,_=v.BlockCipher,D=d.algo,b=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],g=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],T=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],M=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],O=D.DES=_.extend({_doReset:function(){for(var X=this._key,U=X.words,k=[],j=0;j<56;j++){var $=b[j]-1;k[j]=U[$>>>5]>>>31-$%32&1}for(var ee=this._subKeys=[],Y=0;Y<16;Y++){for(var oe=ee[Y]=[],q=y[Y],j=0;j<24;j++)oe[j/6|0]|=k[(g[j]-1+q)%28]<<31-j%6,oe[4+(j/6|0)]|=k[28+(g[j+24]-1+q)%28]<<31-j%6;oe[0]=oe[0]<<1|oe[0]>>>31;for(var j=1;j<7;j++)oe[j]=oe[j]>>>(j-1)*4+3;oe[7]=oe[7]<<5|oe[7]>>>27}for(var W=this._invSubKeys=[],j=0;j<16;j++)W[j]=ee[15-j]},encryptBlock:function(X,U){this._doCryptBlock(X,U,this._subKeys)},decryptBlock:function(X,U){this._doCryptBlock(X,U,this._invSubKeys)},_doCryptBlock:function(X,U,k){this._lBlock=X[U],this._rBlock=X[U+1],I.call(this,4,252645135),I.call(this,16,65535),F.call(this,2,858993459),F.call(this,8,16711935),I.call(this,1,1431655765);for(var j=0;j<16;j++){for(var $=k[j],ee=this._lBlock,Y=this._rBlock,oe=0,q=0;q<8;q++)oe|=T[q][((Y^$[q])&M[q])>>>0];this._lBlock=Y,this._rBlock=ee^oe}var W=this._lBlock;this._lBlock=this._rBlock,this._rBlock=W,I.call(this,1,1431655765),F.call(this,8,16711935),F.call(this,2,858993459),I.call(this,16,65535),I.call(this,4,252645135),X[U]=this._lBlock,X[U+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function I(X,U){var k=(this._lBlock>>>X^this._rBlock)&U;this._rBlock^=k,this._lBlock^=k<<X}function F(X,U){var k=(this._rBlock>>>X^this._lBlock)&U;this._lBlock^=k,this._rBlock^=k<<X}d.DES=_._createHelper(O);var H=D.TripleDES=_.extend({_doReset:function(){var X=this._key,U=X.words;if(U.length!==2&&U.length!==4&&U.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var k=U.slice(0,2),j=U.length<4?U.slice(0,2):U.slice(2,4),$=U.length<6?U.slice(0,2):U.slice(4,6);this._des1=O.createEncryptor(m.create(k)),this._des2=O.createEncryptor(m.create(j)),this._des3=O.createEncryptor(m.create($))},encryptBlock:function(X,U){this._des1.encryptBlock(X,U),this._des2.decryptBlock(X,U),this._des3.encryptBlock(X,U)},decryptBlock:function(X,U){this._des3.decryptBlock(X,U),this._des2.encryptBlock(X,U),this._des1.decryptBlock(X,U)},keySize:192/32,ivSize:64/32,blockSize:64/32});d.TripleDES=_._createHelper(H)}(),h.TripleDES})}(mo)),mo.exports}var Co={exports:{}},a4=Co.exports,bd;function s4(){return bd||(bd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),K0(),J0(),m0(),On())})(a4,function(h){return function(){var d=h,v=d.lib,m=v.StreamCipher,_=d.algo,D=_.RC4=m.extend({_doReset:function(){for(var y=this._key,T=y.words,M=y.sigBytes,O=this._S=[],I=0;I<256;I++)O[I]=I;for(var I=0,F=0;I<256;I++){var H=I%M,X=T[H>>>2]>>>24-H%4*8&255;F=(F+O[I]+X)%256;var U=O[I];O[I]=O[F],O[F]=U}this._i=this._j=0},_doProcessBlock:function(y,T){y[T]^=b.call(this)},keySize:256/32,ivSize:0});function b(){for(var y=this._S,T=this._i,M=this._j,O=0,I=0;I<4;I++){T=(T+1)%256,M=(M+y[T])%256;var F=y[T];y[T]=y[M],y[M]=F,O|=y[(y[T]+y[M])%256]<<24-I*8}return this._i=T,this._j=M,O}d.RC4=m._createHelper(D);var g=_.RC4Drop=D.extend({cfg:D.cfg.extend({drop:192}),_doReset:function(){D._doReset.call(this);for(var y=this.cfg.drop;y>0;y--)b.call(this)}});d.RC4Drop=m._createHelper(g)}(),h.RC4})}(Co)),Co.exports}var vo={exports:{}},l4=vo.exports,Sd;function o4(){return Sd||(Sd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),K0(),J0(),m0(),On())})(l4,function(h){return function(){var d=h,v=d.lib,m=v.StreamCipher,_=d.algo,D=[],b=[],g=[],y=_.Rabbit=m.extend({_doReset:function(){for(var M=this._key.words,O=this.cfg.iv,I=0;I<4;I++)M[I]=(M[I]<<8|M[I]>>>24)&16711935|(M[I]<<24|M[I]>>>8)&4278255360;var F=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],H=this._C=[M[2]<<16|M[2]>>>16,M[0]&4294901760|M[1]&65535,M[3]<<16|M[3]>>>16,M[1]&4294901760|M[2]&65535,M[0]<<16|M[0]>>>16,M[2]&4294901760|M[3]&65535,M[1]<<16|M[1]>>>16,M[3]&4294901760|M[0]&65535];this._b=0;for(var I=0;I<4;I++)T.call(this);for(var I=0;I<8;I++)H[I]^=F[I+4&7];if(O){var X=O.words,U=X[0],k=X[1],j=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,$=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,ee=j>>>16|$&4294901760,Y=$<<16|j&65535;H[0]^=j,H[1]^=ee,H[2]^=$,H[3]^=Y,H[4]^=j,H[5]^=ee,H[6]^=$,H[7]^=Y;for(var I=0;I<4;I++)T.call(this)}},_doProcessBlock:function(M,O){var I=this._X;T.call(this),D[0]=I[0]^I[5]>>>16^I[3]<<16,D[1]=I[2]^I[7]>>>16^I[5]<<16,D[2]=I[4]^I[1]>>>16^I[7]<<16,D[3]=I[6]^I[3]>>>16^I[1]<<16;for(var F=0;F<4;F++)D[F]=(D[F]<<8|D[F]>>>24)&16711935|(D[F]<<24|D[F]>>>8)&4278255360,M[O+F]^=D[F]},blockSize:128/32,ivSize:64/32});function T(){for(var M=this._X,O=this._C,I=0;I<8;I++)b[I]=O[I];O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<b[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<b[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<b[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<b[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<b[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<b[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<b[6]>>>0?1:0)|0,this._b=O[7]>>>0<b[7]>>>0?1:0;for(var I=0;I<8;I++){var F=M[I]+O[I],H=F&65535,X=F>>>16,U=((H*H>>>17)+H*X>>>15)+X*X,k=((F&4294901760)*F|0)+((F&65535)*F|0);g[I]=U^k}M[0]=g[0]+(g[7]<<16|g[7]>>>16)+(g[6]<<16|g[6]>>>16)|0,M[1]=g[1]+(g[0]<<8|g[0]>>>24)+g[7]|0,M[2]=g[2]+(g[1]<<16|g[1]>>>16)+(g[0]<<16|g[0]>>>16)|0,M[3]=g[3]+(g[2]<<8|g[2]>>>24)+g[1]|0,M[4]=g[4]+(g[3]<<16|g[3]>>>16)+(g[2]<<16|g[2]>>>16)|0,M[5]=g[5]+(g[4]<<8|g[4]>>>24)+g[3]|0,M[6]=g[6]+(g[5]<<16|g[5]>>>16)+(g[4]<<16|g[4]>>>16)|0,M[7]=g[7]+(g[6]<<8|g[6]>>>24)+g[5]|0}d.Rabbit=m._createHelper(y)}(),h.Rabbit})}(vo)),vo.exports}var yo={exports:{}},u4=yo.exports,Td;function c4(){return Td||(Td=1,function(A,p){(function(h,d,v){A.exports=d(ht(),K0(),J0(),m0(),On())})(u4,function(h){return function(){var d=h,v=d.lib,m=v.StreamCipher,_=d.algo,D=[],b=[],g=[],y=_.RabbitLegacy=m.extend({_doReset:function(){var M=this._key.words,O=this.cfg.iv,I=this._X=[M[0],M[3]<<16|M[2]>>>16,M[1],M[0]<<16|M[3]>>>16,M[2],M[1]<<16|M[0]>>>16,M[3],M[2]<<16|M[1]>>>16],F=this._C=[M[2]<<16|M[2]>>>16,M[0]&4294901760|M[1]&65535,M[3]<<16|M[3]>>>16,M[1]&4294901760|M[2]&65535,M[0]<<16|M[0]>>>16,M[2]&4294901760|M[3]&65535,M[1]<<16|M[1]>>>16,M[3]&4294901760|M[0]&65535];this._b=0;for(var H=0;H<4;H++)T.call(this);for(var H=0;H<8;H++)F[H]^=I[H+4&7];if(O){var X=O.words,U=X[0],k=X[1],j=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,$=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,ee=j>>>16|$&4294901760,Y=$<<16|j&65535;F[0]^=j,F[1]^=ee,F[2]^=$,F[3]^=Y,F[4]^=j,F[5]^=ee,F[6]^=$,F[7]^=Y;for(var H=0;H<4;H++)T.call(this)}},_doProcessBlock:function(M,O){var I=this._X;T.call(this),D[0]=I[0]^I[5]>>>16^I[3]<<16,D[1]=I[2]^I[7]>>>16^I[5]<<16,D[2]=I[4]^I[1]>>>16^I[7]<<16,D[3]=I[6]^I[3]>>>16^I[1]<<16;for(var F=0;F<4;F++)D[F]=(D[F]<<8|D[F]>>>24)&16711935|(D[F]<<24|D[F]>>>8)&4278255360,M[O+F]^=D[F]},blockSize:128/32,ivSize:64/32});function T(){for(var M=this._X,O=this._C,I=0;I<8;I++)b[I]=O[I];O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<b[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<b[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<b[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<b[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<b[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<b[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<b[6]>>>0?1:0)|0,this._b=O[7]>>>0<b[7]>>>0?1:0;for(var I=0;I<8;I++){var F=M[I]+O[I],H=F&65535,X=F>>>16,U=((H*H>>>17)+H*X>>>15)+X*X,k=((F&4294901760)*F|0)+((F&65535)*F|0);g[I]=U^k}M[0]=g[0]+(g[7]<<16|g[7]>>>16)+(g[6]<<16|g[6]>>>16)|0,M[1]=g[1]+(g[0]<<8|g[0]>>>24)+g[7]|0,M[2]=g[2]+(g[1]<<16|g[1]>>>16)+(g[0]<<16|g[0]>>>16)|0,M[3]=g[3]+(g[2]<<8|g[2]>>>24)+g[1]|0,M[4]=g[4]+(g[3]<<16|g[3]>>>16)+(g[2]<<16|g[2]>>>16)|0,M[5]=g[5]+(g[4]<<8|g[4]>>>24)+g[3]|0,M[6]=g[6]+(g[5]<<16|g[5]>>>16)+(g[4]<<16|g[4]>>>16)|0,M[7]=g[7]+(g[6]<<8|g[6]>>>24)+g[5]|0}d.RabbitLegacy=m._createHelper(y)}(),h.RabbitLegacy})}(yo)),yo.exports}var wo={exports:{}},f4=wo.exports,Dd;function h4(){return Dd||(Dd=1,function(A,p){(function(h,d,v){A.exports=d(ht(),K0(),J0(),m0(),On())})(f4,function(h){return function(){var d=h,v=d.lib,m=v.BlockCipher,_=d.algo;const D=16,b=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],g=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var y={pbox:[],sbox:[]};function T(H,X){let U=X>>24&255,k=X>>16&255,j=X>>8&255,$=X&255,ee=H.sbox[0][U]+H.sbox[1][k];return ee=ee^H.sbox[2][j],ee=ee+H.sbox[3][$],ee}function M(H,X,U){let k=X,j=U,$;for(let ee=0;ee<D;++ee)k=k^H.pbox[ee],j=T(H,k)^j,$=k,k=j,j=$;return $=k,k=j,j=$,j=j^H.pbox[D],k=k^H.pbox[D+1],{left:k,right:j}}function O(H,X,U){let k=X,j=U,$;for(let ee=D+1;ee>1;--ee)k=k^H.pbox[ee],j=T(H,k)^j,$=k,k=j,j=$;return $=k,k=j,j=$,j=j^H.pbox[1],k=k^H.pbox[0],{left:k,right:j}}function I(H,X,U){for(let Y=0;Y<4;Y++){H.sbox[Y]=[];for(let oe=0;oe<256;oe++)H.sbox[Y][oe]=g[Y][oe]}let k=0;for(let Y=0;Y<D+2;Y++)H.pbox[Y]=b[Y]^X[k],k++,k>=U&&(k=0);let j=0,$=0,ee=0;for(let Y=0;Y<D+2;Y+=2)ee=M(H,j,$),j=ee.left,$=ee.right,H.pbox[Y]=j,H.pbox[Y+1]=$;for(let Y=0;Y<4;Y++)for(let oe=0;oe<256;oe+=2)ee=M(H,j,$),j=ee.left,$=ee.right,H.sbox[Y][oe]=j,H.sbox[Y][oe+1]=$;return!0}var F=_.Blowfish=m.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var H=this._keyPriorReset=this._key,X=H.words,U=H.sigBytes/4;I(y,X,U)}},encryptBlock:function(H,X){var U=M(y,H[X],H[X+1]);H[X]=U.left,H[X+1]=U.right},decryptBlock:function(H,X){var U=O(y,H[X],H[X+1]);H[X]=U.left,H[X+1]=U.right},blockSize:64/32,keySize:128/32,ivSize:64/32});d.Blowfish=m._createHelper(F)}(),h.Blowfish})}(wo)),wo.exports}var d4=Pl.exports,_d;function x4(){return _d||(_d=1,function(A,p){(function(h,d,v){A.exports=d(ht(),_o(),cg(),hg(),K0(),gg(),J0(),u2(),Vc(),Cg(),c2(),wg(),Sg(),Dg(),Xc(),Ng(),m0(),On(),Ig(),Fg(),Ug(),Hg(),jg(),Yg(),Xg(),Zg(),Wg(),Jg(),e4(),n4(),i4(),s4(),o4(),c4(),h4())})(d4,function(h){return h})}(Pl)),Pl.exports}var g4=x4();const Wt=Do(g4);function Ni(A){return Wt.lib.WordArray.random(A)}function f2(A,p,h=100,d=256){return Wt.PBKDF2(A,p,{keySize:d/32,iterations:h,hasher:Wt.algo.SHA512})}function W0(A="",p=""){const h=Ni(32),d=Ni(16),v=f2(A,h),m=Wt.AES.encrypt(p,v,{iv:d,mode:Wt.mode.CBC,padding:Wt.pad.Pkcs7});return h.concat(d).concat(m.ciphertext).toString(Wt.enc.Base64)}function ri(A="",p=""){const h=Wt.enc.Base64.parse(p),d=Wt.lib.WordArray.create(h.words.slice(0,8)),v=Wt.lib.WordArray.create(h.words.slice(8,12)),m=Wt.lib.WordArray.create(h.words.slice(12)),_=f2(A,d);return Wt.AES.decrypt({ciphertext:m},_,{iv:v,mode:Wt.mode.CBC,padding:Wt.pad.Pkcs7}).toString(Wt.enc.Utf8)}function Ua(A){return Wt.SHA512(A).toString(Wt.enc.Hex)}function A4({author:A,data:p,date:h,type:d,comments:v,addComment:m,deleteMessage:_,authorUser:D}){const[b,g]=Mn.useState(!1),[y,T]=Mn.useState((v==null?void 0:v.length)!=0);Mn.useEffect(()=>{(v==null?void 0:v.length)>0&&!y&&T(!0)},[v==null?void 0:v.length]),y&&!b&&g(!0);const M=h2.includes(d);return J.jsxs("div",{onClick:()=>g(!0),className:b?"menu-active":"",children:[J.jsx("p",{children:p}),y&&M&&J.jsxs("fieldset",{className:"comments",children:[J.jsx("legend",{children:"Comments"}),v.map(({author:O,data:I,date:F,id:H})=>(Ha[O]||(Ha[msg.author]=`rgb(${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)})`),J.jsxs("p",{style:{backgroundColor:D!=O?Ha[O]:"var(--own-msg-bg)"},className:"comment",children:[J.jsx("span",{children:I}),J.jsxs("span",{children:[J.jsx("b",{children:J.jsx("span",{children:O})})," ",J.jsx("i",{children:J.jsx("span",{children:F})})]})]},H))),J.jsxs("form",{onSubmit:O=>{O.preventDefault();const I=new FormData(O.target);m(I.get("data")),O.target.reset()},children:[J.jsx("input",{type:"text",name:"data",placeholder:"comment..."}),J.jsx("button",{type:"submit",title:"Send",children:J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})})})]})]}),b&&M&&J.jsxs("div",{className:"menu",children:[J.jsx("button",{title:"delete message",className:"danger",onClick:_,children:J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})})}),J.jsxs("button",{title:"View Comments",onClick:()=>T(O=>!O),children:[J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"M240-400h480v-80H240v80Zm0-120h480v-80H240v80Zm0-120h480v-80H240v80ZM880-80 720-240H160q-33 0-56.5-23.5T80-320v-480q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v720ZM160-320h594l46 45v-525H160v480Zm0 0v-480 480Z"})}),"(",v.length,")"]})]}),J.jsxs("p",{className:"meta",children:[J.jsx("i",{children:J.jsx("span",{children:h})})," ",J.jsx("b",{children:J.jsx("span",{children:A})})," ",J.jsx("i",{children:J.jsxs("span",{children:["[",d,"]"]})})]})]})}const Ha={},h2=["text"];function p4({chatData:A,msg:p,index:h,client:d,chatId:v,setData:m}){Ha[p.author]||(Ha[p.author]=`rgb(${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)}, ${Math.floor(Math.random()*100+50)})`);const D=!h2.includes(p.type)?"menagement-msg":p.author==A.author?"own-msg":"other",b=async y=>{y.preventDefault(),await d.get("delete-message",{id:p.id,chatId:v})||alert("error: message isn't deleted");const M=A.messages;for(const O of M)if(O.type=="update"){const[I]=O.data;I==p.id&&(await d.get("delete-message",{chatId:v,id:O.id})||alert("error: message isn't deleted"))}m(O=>{let I=O[v].messages.filter(F=>F.id!==p.id);return{...O,[v]:{...O[v],messages:I}}})},g=async y=>{const T={data:[p.id,"comment",{author:A.author,data:y,date:new Date().toLocaleString(),id:Ni(2).toString(Wt.enc.Hex)}],type:"update"},M=Ni(4).toString(Wt.enc.Hex),O=await d.get("send",{chatId:v,message:W0(A.password,JSON.stringify(T)),id:M});m(I=>{const F=I[v].messages.findIndex(({id:H})=>H==T.data[0]);return F!=-1&&I[v].messages[F].comments.push(T.data[2]),{...I,[v]:{...I[v],messages:[...I[v].messages,{...T,id:M}]}}}),O||alert("A send error occurred")};return J.jsx("div",{id:p.id,style:{backgroundColor:Ha[p.author]},className:"message "+D,children:J.jsx(A4,{...p,deleteMessage:b,addComment:g,authorUser:A.author})},h)}var Fa={},Mc={exports:{}},Oc,Bd;function E4(){if(Bd)return Oc;Bd=1;var A="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Oc=A,Oc}var Rc,Nd;function m4(){if(Nd)return Rc;Nd=1;var A=E4();function p(){}function h(){}return h.resetWarningCache=p,Rc=function(){function d(_,D,b,g,y,T){if(T!==A){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}d.isRequired=d;function v(){return d}var m={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:v,element:d,elementType:d,instanceOf:v,node:d,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:h,resetWarningCache:p};return m.PropTypes=m,m},Rc}var Md;function d2(){return Md||(Md=1,Mc.exports=m4()()),Mc.exports}var Ic,Od;function x2(){return Od||(Od=1,Ic={L:1,M:0,Q:3,H:2}),Ic}var Lc,Rd;function g2(){return Rd||(Rd=1,Lc={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),Lc}var Fc,Id;function C4(){if(Id)return Fc;Id=1;var A=g2();function p(h){this.mode=A.MODE_8BIT_BYTE,this.data=h}return p.prototype={getLength:function(h){return this.data.length},write:function(h){for(var d=0;d<this.data.length;d++)h.put(this.data.charCodeAt(d),8)}},Fc=p,Fc}var kc,Ld;function v4(){if(Ld)return kc;Ld=1;var A=x2();function p(h,d){this.totalCount=h,this.dataCount=d}return p.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],p.getRSBlocks=function(h,d){var v=p.getRsBlockTable(h,d);if(v==null)throw new Error("bad rs block @ typeNumber:"+h+"/errorCorrectLevel:"+d);for(var m=v.length/3,_=new Array,D=0;D<m;D++)for(var b=v[D*3+0],g=v[D*3+1],y=v[D*3+2],T=0;T<b;T++)_.push(new p(g,y));return _},p.getRsBlockTable=function(h,d){switch(d){case A.L:return p.RS_BLOCK_TABLE[(h-1)*4+0];case A.M:return p.RS_BLOCK_TABLE[(h-1)*4+1];case A.Q:return p.RS_BLOCK_TABLE[(h-1)*4+2];case A.H:return p.RS_BLOCK_TABLE[(h-1)*4+3];default:return}},kc=p,kc}var Uc,Fd;function y4(){if(Fd)return Uc;Fd=1;function A(){this.buffer=new Array,this.length=0}return A.prototype={get:function(p){var h=Math.floor(p/8);return(this.buffer[h]>>>7-p%8&1)==1},put:function(p,h){for(var d=0;d<h;d++)this.putBit((p>>>h-d-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(p){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),p&&(this.buffer[h]|=128>>>this.length%8),this.length++}},Uc=A,Uc}var zc,kd;function A2(){if(kd)return zc;kd=1;for(var A={glog:function(h){if(h<1)throw new Error("glog("+h+")");return A.LOG_TABLE[h]},gexp:function(h){for(;h<0;)h+=255;for(;h>=256;)h-=255;return A.EXP_TABLE[h]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;p<8;p++)A.EXP_TABLE[p]=1<<p;for(var p=8;p<256;p++)A.EXP_TABLE[p]=A.EXP_TABLE[p-4]^A.EXP_TABLE[p-5]^A.EXP_TABLE[p-6]^A.EXP_TABLE[p-8];for(var p=0;p<255;p++)A.LOG_TABLE[A.EXP_TABLE[p]]=p;return zc=A,zc}var Hc,Ud;function p2(){if(Ud)return Hc;Ud=1;var A=A2();function p(h,d){if(h.length==null)throw new Error(h.length+"/"+d);for(var v=0;v<h.length&&h[v]==0;)v++;this.num=new Array(h.length-v+d);for(var m=0;m<h.length-v;m++)this.num[m]=h[m+v]}return p.prototype={get:function(h){return this.num[h]},getLength:function(){return this.num.length},multiply:function(h){for(var d=new Array(this.getLength()+h.getLength()-1),v=0;v<this.getLength();v++)for(var m=0;m<h.getLength();m++)d[v+m]^=A.gexp(A.glog(this.get(v))+A.glog(h.get(m)));return new p(d,0)},mod:function(h){if(this.getLength()-h.getLength()<0)return this;for(var d=A.glog(this.get(0))-A.glog(h.get(0)),v=new Array(this.getLength()),m=0;m<this.getLength();m++)v[m]=this.get(m);for(var m=0;m<h.getLength();m++)v[m]^=A.gexp(A.glog(h.get(m))+d);return new p(v,0).mod(h)}},Hc=p,Hc}var Pc,zd;function w4(){if(zd)return Pc;zd=1;var A=g2(),p=p2(),h=A2(),d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},v={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(m){for(var _=m<<10;v.getBCHDigit(_)-v.getBCHDigit(v.G15)>=0;)_^=v.G15<<v.getBCHDigit(_)-v.getBCHDigit(v.G15);return(m<<10|_)^v.G15_MASK},getBCHTypeNumber:function(m){for(var _=m<<12;v.getBCHDigit(_)-v.getBCHDigit(v.G18)>=0;)_^=v.G18<<v.getBCHDigit(_)-v.getBCHDigit(v.G18);return m<<12|_},getBCHDigit:function(m){for(var _=0;m!=0;)_++,m>>>=1;return _},getPatternPosition:function(m){return v.PATTERN_POSITION_TABLE[m-1]},getMask:function(m,_,D){switch(m){case d.PATTERN000:return(_+D)%2==0;case d.PATTERN001:return _%2==0;case d.PATTERN010:return D%3==0;case d.PATTERN011:return(_+D)%3==0;case d.PATTERN100:return(Math.floor(_/2)+Math.floor(D/3))%2==0;case d.PATTERN101:return _*D%2+_*D%3==0;case d.PATTERN110:return(_*D%2+_*D%3)%2==0;case d.PATTERN111:return(_*D%3+(_+D)%2)%2==0;default:throw new Error("bad maskPattern:"+m)}},getErrorCorrectPolynomial:function(m){for(var _=new p([1],0),D=0;D<m;D++)_=_.multiply(new p([1,h.gexp(D)],0));return _},getLengthInBits:function(m,_){if(1<=_&&_<10)switch(m){case A.MODE_NUMBER:return 10;case A.MODE_ALPHA_NUM:return 9;case A.MODE_8BIT_BYTE:return 8;case A.MODE_KANJI:return 8;default:throw new Error("mode:"+m)}else if(_<27)switch(m){case A.MODE_NUMBER:return 12;case A.MODE_ALPHA_NUM:return 11;case A.MODE_8BIT_BYTE:return 16;case A.MODE_KANJI:return 10;default:throw new Error("mode:"+m)}else if(_<41)switch(m){case A.MODE_NUMBER:return 14;case A.MODE_ALPHA_NUM:return 13;case A.MODE_8BIT_BYTE:return 16;case A.MODE_KANJI:return 12;default:throw new Error("mode:"+m)}else throw new Error("type:"+_)},getLostPoint:function(m){for(var _=m.getModuleCount(),D=0,b=0;b<_;b++)for(var g=0;g<_;g++){for(var y=0,T=m.isDark(b,g),M=-1;M<=1;M++)if(!(b+M<0||_<=b+M))for(var O=-1;O<=1;O++)g+O<0||_<=g+O||M==0&&O==0||T==m.isDark(b+M,g+O)&&y++;y>5&&(D+=3+y-5)}for(var b=0;b<_-1;b++)for(var g=0;g<_-1;g++){var I=0;m.isDark(b,g)&&I++,m.isDark(b+1,g)&&I++,m.isDark(b,g+1)&&I++,m.isDark(b+1,g+1)&&I++,(I==0||I==4)&&(D+=3)}for(var b=0;b<_;b++)for(var g=0;g<_-6;g++)m.isDark(b,g)&&!m.isDark(b,g+1)&&m.isDark(b,g+2)&&m.isDark(b,g+3)&&m.isDark(b,g+4)&&!m.isDark(b,g+5)&&m.isDark(b,g+6)&&(D+=40);for(var g=0;g<_;g++)for(var b=0;b<_-6;b++)m.isDark(b,g)&&!m.isDark(b+1,g)&&m.isDark(b+2,g)&&m.isDark(b+3,g)&&m.isDark(b+4,g)&&!m.isDark(b+5,g)&&m.isDark(b+6,g)&&(D+=40);for(var F=0,g=0;g<_;g++)for(var b=0;b<_;b++)m.isDark(b,g)&&F++;var H=Math.abs(100*F/_/_-50)/5;return D+=H*10,D}};return Pc=v,Pc}var jc,Hd;function b4(){if(Hd)return jc;Hd=1;var A=C4(),p=v4(),h=y4(),d=w4(),v=p2();function m(D,b){this.typeNumber=D,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var _=m.prototype;return _.addData=function(D){var b=new A(D);this.dataList.push(b),this.dataCache=null},_.isDark=function(D,b){if(D<0||this.moduleCount<=D||b<0||this.moduleCount<=b)throw new Error(D+","+b);return this.modules[D][b]},_.getModuleCount=function(){return this.moduleCount},_.make=function(){if(this.typeNumber<1){var D=1;for(D=1;D<40;D++){for(var b=p.getRSBlocks(D,this.errorCorrectLevel),g=new h,y=0,T=0;T<b.length;T++)y+=b[T].dataCount;for(var T=0;T<this.dataList.length;T++){var M=this.dataList[T];g.put(M.mode,4),g.put(M.getLength(),d.getLengthInBits(M.mode,D)),M.write(g)}if(g.getLengthInBits()<=y*8)break}this.typeNumber=D}this.makeImpl(!1,this.getBestMaskPattern())},_.makeImpl=function(D,b){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++){this.modules[g]=new Array(this.moduleCount);for(var y=0;y<this.moduleCount;y++)this.modules[g][y]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(D,b),this.typeNumber>=7&&this.setupTypeNumber(D),this.dataCache==null&&(this.dataCache=m.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,b)},_.setupPositionProbePattern=function(D,b){for(var g=-1;g<=7;g++)if(!(D+g<=-1||this.moduleCount<=D+g))for(var y=-1;y<=7;y++)b+y<=-1||this.moduleCount<=b+y||(0<=g&&g<=6&&(y==0||y==6)||0<=y&&y<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=y&&y<=4?this.modules[D+g][b+y]=!0:this.modules[D+g][b+y]=!1)},_.getBestMaskPattern=function(){for(var D=0,b=0,g=0;g<8;g++){this.makeImpl(!0,g);var y=d.getLostPoint(this);(g==0||D>y)&&(D=y,b=g)}return b},_.createMovieClip=function(D,b,g){var y=D.createEmptyMovieClip(b,g),T=1;this.make();for(var M=0;M<this.modules.length;M++)for(var O=M*T,I=0;I<this.modules[M].length;I++){var F=I*T,H=this.modules[M][I];H&&(y.beginFill(0,100),y.moveTo(F,O),y.lineTo(F+T,O),y.lineTo(F+T,O+T),y.lineTo(F,O+T),y.endFill())}return y},_.setupTimingPattern=function(){for(var D=8;D<this.moduleCount-8;D++)this.modules[D][6]==null&&(this.modules[D][6]=D%2==0);for(var b=8;b<this.moduleCount-8;b++)this.modules[6][b]==null&&(this.modules[6][b]=b%2==0)},_.setupPositionAdjustPattern=function(){for(var D=d.getPatternPosition(this.typeNumber),b=0;b<D.length;b++)for(var g=0;g<D.length;g++){var y=D[b],T=D[g];if(this.modules[y][T]==null)for(var M=-2;M<=2;M++)for(var O=-2;O<=2;O++)M==-2||M==2||O==-2||O==2||M==0&&O==0?this.modules[y+M][T+O]=!0:this.modules[y+M][T+O]=!1}},_.setupTypeNumber=function(D){for(var b=d.getBCHTypeNumber(this.typeNumber),g=0;g<18;g++){var y=!D&&(b>>g&1)==1;this.modules[Math.floor(g/3)][g%3+this.moduleCount-8-3]=y}for(var g=0;g<18;g++){var y=!D&&(b>>g&1)==1;this.modules[g%3+this.moduleCount-8-3][Math.floor(g/3)]=y}},_.setupTypeInfo=function(D,b){for(var g=this.errorCorrectLevel<<3|b,y=d.getBCHTypeInfo(g),T=0;T<15;T++){var M=!D&&(y>>T&1)==1;T<6?this.modules[T][8]=M:T<8?this.modules[T+1][8]=M:this.modules[this.moduleCount-15+T][8]=M}for(var T=0;T<15;T++){var M=!D&&(y>>T&1)==1;T<8?this.modules[8][this.moduleCount-T-1]=M:T<9?this.modules[8][15-T-1+1]=M:this.modules[8][15-T-1]=M}this.modules[this.moduleCount-8][8]=!D},_.mapData=function(D,b){for(var g=-1,y=this.moduleCount-1,T=7,M=0,O=this.moduleCount-1;O>0;O-=2)for(O==6&&O--;;){for(var I=0;I<2;I++)if(this.modules[y][O-I]==null){var F=!1;M<D.length&&(F=(D[M]>>>T&1)==1);var H=d.getMask(b,y,O-I);H&&(F=!F),this.modules[y][O-I]=F,T--,T==-1&&(M++,T=7)}if(y+=g,y<0||this.moduleCount<=y){y-=g,g=-g;break}}},m.PAD0=236,m.PAD1=17,m.createData=function(D,b,g){for(var y=p.getRSBlocks(D,b),T=new h,M=0;M<g.length;M++){var O=g[M];T.put(O.mode,4),T.put(O.getLength(),d.getLengthInBits(O.mode,D)),O.write(T)}for(var I=0,M=0;M<y.length;M++)I+=y[M].dataCount;if(T.getLengthInBits()>I*8)throw new Error("code length overflow. ("+T.getLengthInBits()+">"+I*8+")");for(T.getLengthInBits()+4<=I*8&&T.put(0,4);T.getLengthInBits()%8!=0;)T.putBit(!1);for(;!(T.getLengthInBits()>=I*8||(T.put(m.PAD0,8),T.getLengthInBits()>=I*8));)T.put(m.PAD1,8);return m.createBytes(T,y)},m.createBytes=function(D,b){for(var g=0,y=0,T=0,M=new Array(b.length),O=new Array(b.length),I=0;I<b.length;I++){var F=b[I].dataCount,H=b[I].totalCount-F;y=Math.max(y,F),T=Math.max(T,H),M[I]=new Array(F);for(var X=0;X<M[I].length;X++)M[I][X]=255&D.buffer[X+g];g+=F;var U=d.getErrorCorrectPolynomial(H),k=new v(M[I],U.getLength()-1),j=k.mod(U);O[I]=new Array(U.getLength()-1);for(var X=0;X<O[I].length;X++){var $=X+j.getLength()-O[I].length;O[I][X]=$>=0?j.get($):0}}for(var ee=0,X=0;X<b.length;X++)ee+=b[X].totalCount;for(var Y=new Array(ee),oe=0,X=0;X<y;X++)for(var I=0;I<b.length;I++)X<M[I].length&&(Y[oe++]=M[I][X]);for(var X=0;X<T;X++)for(var I=0;I<b.length;I++)X<O[I].length&&(Y[oe++]=O[I][X]);return Y},jc=m,jc}var Hl={},Pd;function S4(){if(Pd)return Hl;Pd=1,Object.defineProperty(Hl,"__esModule",{value:!0});var A=Object.assign||function(g){for(var y=1;y<arguments.length;y++){var T=arguments[y];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(g[M]=T[M])}return g},p=d2(),h=m(p),d=Pa(),v=m(d);function m(g){return g&&g.__esModule?g:{default:g}}function _(g,y){var T={};for(var M in g)y.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(g,M)&&(T[M]=g[M]);return T}var D={bgColor:h.default.oneOfType([h.default.object,h.default.string]).isRequired,bgD:h.default.string.isRequired,fgColor:h.default.oneOfType([h.default.object,h.default.string]).isRequired,fgD:h.default.string.isRequired,size:h.default.number.isRequired,title:h.default.string,viewBoxSize:h.default.number.isRequired,xmlns:h.default.string},b=(0,d.forwardRef)(function(g,y){var T=g.bgColor,M=g.bgD,O=g.fgD,I=g.fgColor,F=g.size,H=g.title,X=g.viewBoxSize,U=g.xmlns,k=U===void 0?"http://www.w3.org/2000/svg":U,j=_(g,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return v.default.createElement("svg",A({},j,{height:F,ref:y,viewBox:"0 0 "+X+" "+X,width:F,xmlns:k}),H?v.default.createElement("title",null,H):null,v.default.createElement("path",{d:M,fill:T}),v.default.createElement("path",{d:O,fill:I}))});return b.displayName="QRCodeSvg",b.propTypes=D,Hl.default=b,Hl}var jd;function T4(){if(jd)return Fa;jd=1,Object.defineProperty(Fa,"__esModule",{value:!0}),Fa.QRCode=void 0;var A=Object.assign||function(F){for(var H=1;H<arguments.length;H++){var X=arguments[H];for(var U in X)Object.prototype.hasOwnProperty.call(X,U)&&(F[U]=X[U])}return F},p=d2(),h=T(p),d=x2(),v=T(d),m=b4(),_=T(m),D=Pa(),b=T(D),g=S4(),y=T(g);function T(F){return F&&F.__esModule?F:{default:F}}function M(F,H){var X={};for(var U in F)H.indexOf(U)>=0||Object.prototype.hasOwnProperty.call(F,U)&&(X[U]=F[U]);return X}var O={bgColor:h.default.oneOfType([h.default.object,h.default.string]),fgColor:h.default.oneOfType([h.default.object,h.default.string]),level:h.default.string,size:h.default.number,value:h.default.string.isRequired},I=(0,D.forwardRef)(function(F,H){var X=F.bgColor,U=X===void 0?"#FFFFFF":X,k=F.fgColor,j=k===void 0?"#000000":k,$=F.level,ee=$===void 0?"L":$,Y=F.size,oe=Y===void 0?256:Y,q=F.value,W=M(F,["bgColor","fgColor","level","size","value"]),se=new _.default(-1,v.default[ee]);se.addData(q),se.make();var ue=se.modules;return b.default.createElement(y.default,A({},W,{bgColor:U,bgD:ue.map(function(ge,Ne){return ge.map(function(te,Ee){return te?"":"M "+Ee+" "+Ne+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:j,fgD:ue.map(function(ge,Ne){return ge.map(function(te,Ee){return te?"M "+Ee+" "+Ne+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:H,size:oe,viewBoxSize:ue.length}))});return Fa.QRCode=I,I.displayName="QRCode",I.propTypes=O,Fa.default=I,Fa}var D4=T4();const _4=Do(D4),B4=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm70-80h79l14-106q31-8 57.5-23.5T639-327l99 41 39-68-86-65q5-14 7-29.5t2-31.5q0-16-2-31.5t-7-29.5l86-65-39-68-99 42q-22-23-48.5-38.5T533-694l-13-106h-79l-14 106q-31 8-57.5 23.5T321-633l-99-41-39 68 86 64q-5 15-7 30t-2 32q0 16 2 31t7 30l-86 65 39 68 99-42q22 23 48.5 38.5T427-266l13 106Zm42-180q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Zm-2-140Z"})}),N4=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})}),M4=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"})}),O4=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"m376-300 104-104 104 104 56-56-104-104 104-104-56-56-104 104-104-104-56 56 104 104-104 104 56 56Zm-96 180q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520Zm-400 0v520-520Z"})}),R4=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"M280-160v-80h400v80H280Zm160-160v-327L336-544l-56-56 200-200 200 200-56 56-104-103v327h-80Z"})});function I4({chatId:A,chatData:p,setData:h,client:d}){function v(){document.getElementById("chat-data-form").classList.toggle("none")}function m(y){y.preventDefault(),document.getElementById("chat-data-form").classList.add("none")}function _(y){y.preventDefault();const T=new FormData(y.target);confirm("Are you sure you want to change your public chat username?")&&(h(M=>({...M,[A]:{...M[A],author:T.get("author")}})),m(y))}async function D(y){y.preventDefault(),await d.get("delete-all-messages",A),h(T=>({...T,[A]:{...T[A],messages:[{type:"deleted-messages",data:"all messages deleted"}]}})),m(y)}function b(){var y;return J.jsxs("form",{id:"chat-data-form",className:"none",onSubmit:_,children:[J.jsx("button",{className:"danger",type:"reset",onClick:m,title:"Close",children:J.jsx(N4,{})}),J.jsxs("fieldset",{children:[J.jsx("legend",{children:"Delete All Messages"}),J.jsxs("button",{className:"danger",type:"button",onClick:D,children:[J.jsx(M4,{})," Delete All Messages"]})]}),J.jsxs("fieldset",{children:[J.jsx("legend",{children:"Delete Chat"}),J.jsxs("button",{title:"delete chat",className:"danger",onClick:(y=window==null?void 0:window.deleteChat)==null?void 0:y.call(window,A),children:[J.jsx(O4,{})," Delete Chat  "]})]}),J.jsxs("fieldset",{children:[J.jsx("legend",{children:"Change Username"}),J.jsx("input",{name:"author",type:"text",placeholder:"name...",defaultValue:p.author}),J.jsxs("button",{style:{marginTop:"10px"},type:"submit",children:[J.jsx(R4,{})," Update Username"]})]}),J.jsxs("fieldset",{children:[J.jsx("legend",{children:"Password"}),J.jsx("input",{name:"password",type:"text",readOnly:!0,value:p.rawPassword})]}),J.jsx(_4,{className:"qr-code",value:`${p.chatName}
${p.rawPassword}`,size:60,tabIndex:-1})]})}function g(){return J.jsxs("header",{children:[J.jsx("h3",{children:p==null?void 0:p.chatName}),J.jsx("button",{type:"button",title:"Chat Settings",onClick:v,children:J.jsx(B4,{})}),b()]},A)}return g()}function L4({chatId:A,chatData:p,client:h,setData:d}){const v=async m=>{var T,M;m.preventDefault();const _=new FormData(m.target),D={type:_.get("type"),data:_.get("text"),date:new Date().toLocaleString(),author:p.author,comments:[]},b={id:Ni(4).toString()};d(O=>({...O,[A]:{...O[A],messages:[...O[A].messages,{...D,...b}]}})),await h.get("send",{chatId:A,message:W0(p.password,JSON.stringify(D)),...b})||alert("A send error occurred. Your message isnt send!"),m.target.reset();const y=document.querySelector(".messages");y&&((M=(T=y.lastChild)==null?void 0:T.scrollIntoView)==null||M.call(T,{behavior:"smooth",block:"center"}))};return J.jsxs("form",{onSubmit:v,className:"message-form",children:[J.jsx("input",{type:"hidden",value:"text",name:"type"}),J.jsx("input",{autoFocus:!0,type:"text",name:"text",placeholder:"Type your message...",required:!0,autoComplete:"off",autoCorrect:"off",spellCheck:"false"}),J.jsx("button",{type:"submit",title:"Send",children:J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed",children:J.jsx("path",{d:"M120-160v-640l760 320-760 320Zm80-120 474-200-474-200v140l240 60-240 60v140Zm0 0v-400 400Z"})})})]})}function E2({chatId:A,chatData:p,client:h,setData:d,page:v}){return Mn.useEffect(()=>{if(v===!0)return;const m=document.querySelectorAll(".message");m&&m[m.length-1]&&m[m.length-1].scrollIntoView({behavior:"smooth",block:"center"})},[A,v]),J.jsxs("div",{className:"chat-room",children:[J.jsx(I4,{client:h,chatData:p,chatId:A,setData:d}),J.jsx("div",{className:"messages",children:p.messages.filter(({type:m})=>m!="update").map((m,_)=>J.jsx(p4,{msg:m,chatData:p,index:_,chatId:A,client:h,setData:d},m.id||_))}),J.jsx(L4,{chatData:p,chatId:A,setData:d,client:h})]})}var Le;(function(A){A[A.QR_CODE=0]="QR_CODE",A[A.AZTEC=1]="AZTEC",A[A.CODABAR=2]="CODABAR",A[A.CODE_39=3]="CODE_39",A[A.CODE_93=4]="CODE_93",A[A.CODE_128=5]="CODE_128",A[A.DATA_MATRIX=6]="DATA_MATRIX",A[A.MAXICODE=7]="MAXICODE",A[A.ITF=8]="ITF",A[A.EAN_13=9]="EAN_13",A[A.EAN_8=10]="EAN_8",A[A.PDF_417=11]="PDF_417",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Le||(Le={}));var Gd=new Map([[Le.QR_CODE,"QR_CODE"],[Le.AZTEC,"AZTEC"],[Le.CODABAR,"CODABAR"],[Le.CODE_39,"CODE_39"],[Le.CODE_93,"CODE_93"],[Le.CODE_128,"CODE_128"],[Le.DATA_MATRIX,"DATA_MATRIX"],[Le.MAXICODE,"MAXICODE"],[Le.ITF,"ITF"],[Le.EAN_13,"EAN_13"],[Le.EAN_8,"EAN_8"],[Le.PDF_417,"PDF_417"],[Le.RSS_14,"RSS_14"],[Le.RSS_EXPANDED,"RSS_EXPANDED"],[Le.UPC_A,"UPC_A"],[Le.UPC_E,"UPC_E"],[Le.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Yd;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.URL=1]="URL"})(Yd||(Yd={}));function F4(A){return Object.values(Le).includes(A)}var E0;(function(A){A[A.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",A[A.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(E0||(E0={}));var Pr=function(){function A(){}return A.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",A.SCAN_DEFAULT_FPS=2,A.DEFAULT_DISABLE_FLIP=!1,A.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,A.DEFAULT_SUPPORTED_SCAN_TYPE=[E0.SCAN_TYPE_CAMERA,E0.SCAN_TYPE_FILE],A}(),m2=function(){function A(p,h){this.format=p,this.formatName=h}return A.prototype.toString=function(){return this.formatName},A.create=function(p){if(!Gd.has(p))throw"".concat(p," not in html5QrcodeSupportedFormatsTextMap");return new A(p,Gd.get(p))},A}(),Vd=function(){function A(){}return A.createFromText=function(p){var h={text:p};return{decodedText:p,result:h}},A.createFromQrcodeResult=function(p){return{decodedText:p.text,result:p}},A}(),Gc;(function(A){A[A.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",A[A.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",A[A.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Gc||(Gc={}));var C2=function(){function A(){}return A.createFrom=function(p){return{errorMessage:p,type:Gc.UNKWOWN_ERROR}},A}(),v2=function(){function A(p){this.verbose=p}return A.prototype.log=function(p){this.verbose&&console.log(p)},A.prototype.warn=function(p){this.verbose&&console.warn(p)},A.prototype.logError=function(p,h){(this.verbose||h===!0)&&console.error(p)},A.prototype.logErrors=function(p){if(p.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(p)},A}();function ni(A){return typeof A>"u"||A===null}function k4(A,p,h){return A>h?h:A<p?p:A}var za=function(){function A(){}return A.codeParseError=function(p){return"QR code parse error, error = ".concat(p)},A.errorGettingUserMedia=function(p){return"Error getting userMedia, error = ".concat(p)},A.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},A.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},A.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},A.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},A.scannerPaused=function(){return"Scanner paused"},A}(),Dt=function(){function A(){}return A.scanningStatus=function(){return"Scanning"},A.idleStatus=function(){return"Idle"},A.errorStatus=function(){return"Error"},A.permissionStatus=function(){return"Permission"},A.noCameraFoundErrorStatus=function(){return"No Cameras"},A.lastMatch=function(p){return"Last Match: ".concat(p)},A.codeScannerTitle=function(){return"Code Scanner"},A.cameraPermissionTitle=function(){return"Request Camera Permissions"},A.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},A.noCameraFound=function(){return"No camera found"},A.scanButtonStopScanningText=function(){return"Stop Scanning"},A.scanButtonStartScanningText=function(){return"Start Scanning"},A.torchOnButton=function(){return"Switch On Torch"},A.torchOffButton=function(){return"Switch Off Torch"},A.torchOnFailedMessage=function(){return"Failed to turn on torch"},A.torchOffFailedMessage=function(){return"Failed to turn off torch"},A.scanButtonScanningStarting=function(){return"Launching Camera..."},A.textIfCameraScanSelected=function(){return"Scan an Image File"},A.textIfFileScanSelected=function(){return"Scan using camera directly"},A.selectCamera=function(){return"Select Camera"},A.fileSelectionChooseImage=function(){return"Choose Image"},A.fileSelectionChooseAnother=function(){return"Choose Another"},A.fileSelectionNoImageSelected=function(){return"No image choosen"},A.anonymousCameraPrefix=function(){return"Anonymous Camera"},A.dragAndDropMessage=function(){return"Or drop an image to scan"},A.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},A.zoom=function(){return"zoom"},A.loadingImage=function(){return"Loading image..."},A.cameraScanAltText=function(){return"Camera based scan"},A.fileScanAltText=function(){return"Fule based scan"},A}(),Xd=function(){function A(){}return A.poweredBy=function(){return"Powered by "},A.reportIssues=function(){return"Report issues"},A}(),y2=function(){function A(){}return A.isMediaStreamConstraintsValid=function(p,h){if(typeof p!="object"){var d=typeof p;return h.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(d,"."),!0),!1}for(var v=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],m=new Set(v),_=Object.keys(p),D=0,b=_;D<b.length;D++){var g=b[D];if(m.has(g))return h.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},A}(),Is={exports:{}},U4=Is.exports,qd;function z4(){return qd||(qd=1,function(A,p){(function(h,d){d(p)})(U4,function(h){function d(B){return B==null}var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,t){B.__proto__=t}||function(B,t){for(var r in t)t.hasOwnProperty(r)&&(B[r]=t[r])};function m(B,t){v(B,t);function r(){this.constructor=B}B.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function _(B,t){var r=Object.setPrototypeOf;r?r(B,t):B.__proto__=t}function D(B,t){t===void 0&&(t=B.constructor);var r=Error.captureStackTrace;r&&r(B,t)}var b=function(B){m(t,B);function t(r){var i=this.constructor,s=B.call(this,r)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1}),_(s,i.prototype),D(s),s}return t}(Error);class g extends b{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}g.kind="Exception";class y extends g{}y.kind="ArgumentException";class T extends g{}T.kind="IllegalArgumentException";class M{constructor(t){if(this.binarizer=t,t===null)throw new T("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,r){return this.binarizer.getBlackRow(t,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,r,i,s){const l=this.binarizer.getLuminanceSource().crop(t,r,i,s);return new M(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class O extends g{static getChecksumInstance(){return new O}}O.kind="ChecksumException";class I{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class F{static arraycopy(t,r,i,s,l){for(;l--;)i[s++]=t[r++]}static currentTimeMillis(){return Date.now()}}class H extends g{}H.kind="IndexOutOfBoundsException";class X extends H{constructor(t=void 0,r=void 0){super(r),this.index=t,this.message=r}}X.kind="ArrayIndexOutOfBoundsException";class U{static fill(t,r){for(let i=0,s=t.length;i<s;i++)t[i]=r}static fillWithin(t,r,i,s){U.rangeCheck(t.length,r,i);for(let l=r;l<i;l++)t[l]=s}static rangeCheck(t,r,i){if(r>i)throw new T("fromIndex("+r+") > toIndex("+i+")");if(r<0)throw new X(r);if(i>t)throw new X(i)}static asList(...t){return t}static create(t,r,i){return Array.from({length:t}).map(l=>Array.from({length:r}).fill(i))}static createInt32Array(t,r,i){return Array.from({length:t}).map(l=>Int32Array.from({length:r}).fill(i))}static equals(t,r){if(!t||!r||!t.length||!r.length||t.length!==r.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==r[i])return!1;return!0}static hashCode(t){if(t===null)return 0;let r=1;for(const i of t)r=31*r+i;return r}static fillUint8Array(t,r){for(let i=0;i!==t.length;i++)t[i]=r}static copyOf(t,r){return t.slice(0,r)}static copyOfUint8Array(t,r){if(t.length<=r){const i=new Uint8Array(r);return i.set(t),i}return t.slice(0,r)}static copyOfRange(t,r,i){const s=i-r,l=new Int32Array(s);return F.arraycopy(t,r,l,0,s),l}static binarySearch(t,r,i){i===void 0&&(i=U.numberComparator);let s=0,l=t.length-1;for(;s<=l;){const u=l+s>>1,c=i(r,t[u]);if(c>0)s=u+1;else if(c<0)l=u-1;else return u}return-s-1}static numberComparator(t,r){return t-r}}class k{static numberOfTrailingZeros(t){let r;if(t===0)return 32;let i=31;return r=t<<16,r!==0&&(i-=16,t=r),r=t<<8,r!==0&&(i-=8,t=r),r=t<<4,r!==0&&(i-=4,t=r),r=t<<2,r!==0&&(i-=2,t=r),i-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let r=1;return t>>>16||(r+=16,t<<=16),t>>>24||(r+=8,t<<=8),t>>>28||(r+=4,t<<=4),t>>>30||(r+=2,t<<=2),r-=t>>>31,r}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,r){return Math.trunc(t/r)}static parseInt(t,r=void 0){return parseInt(t,r)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class j{constructor(t,r){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,r==null?this.bits=j.makeArray(t):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const r=j.makeArray(t);F.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const r=this.size;if(t>=r)return r;const i=this.bits;let s=Math.floor(t/32),l=i[s];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++s===u)return r;l=i[s]}const c=s*32+k.numberOfTrailingZeros(l);return c>r?r:c}getNextUnset(t){const r=this.size;if(t>=r)return r;const i=this.bits;let s=Math.floor(t/32),l=~i[s];l&=~((1<<(t&31))-1);const u=i.length;for(;l===0;){if(++s===u)return r;l=~i[s]}const c=s*32+k.numberOfTrailingZeros(l);return c>r?r:c}setBulk(t,r){this.bits[Math.floor(t/32)]=r}setRange(t,r){if(r<t||t<0||r>this.size)throw new T;if(r===t)return;r--;const i=Math.floor(t/32),s=Math.floor(r/32),l=this.bits;for(let u=i;u<=s;u++){const c=u>i?0:t&31,C=(2<<(u<s?31:r&31))-(1<<c);l[u]|=C}}clear(){const t=this.bits.length,r=this.bits;for(let i=0;i<t;i++)r[i]=0}isRange(t,r,i){if(r<t||t<0||r>this.size)throw new T;if(r===t)return!0;r--;const s=Math.floor(t/32),l=Math.floor(r/32),u=this.bits;for(let c=s;c<=l;c++){const x=c>s?0:t&31,w=(2<<(c<l?31:r&31))-(1<<x)&4294967295;if((u[c]&w)!==(i?w:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,r){if(r<0||r>32)throw new T("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let i=r;i>0;i--)this.appendBit((t>>i-1&1)===1)}appendBitArray(t){const r=t.size;this.ensureCapacity(this.size+r);for(let i=0;i<r;i++)this.appendBit(t.get(i))}xor(t){if(this.size!==t.size)throw new T("Sizes don't match");const r=this.bits;for(let i=0,s=r.length;i<s;i++)r[i]^=t.bits[i]}toBytes(t,r,i,s){for(let l=0;l<s;l++){let u=0;for(let c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;r[i+l]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),i=r+1,s=this.bits;for(let l=0;l<i;l++){let u=s[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[r-l]=u}if(this.size!==i*32){const l=i*32-this.size;let u=t[0]>>>l;for(let c=1;c<i;c++){const x=t[c];u|=x<<32-l,t[c-1]=u,u=x>>>l}t[i-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof j))return!1;const r=t;return this.size===r.size&&U.equals(this.bits,r.bits)}hashCode(){return 31*this.size+U.hashCode(this.bits)}toString(){let t="";for(let r=0,i=this.size;r<i;r++)r&7||(t+=" "),t+=this.get(r)?"X":".";return t}clone(){return new j(this.size,this.bits.slice())}}var $;(function(B){B[B.OTHER=0]="OTHER",B[B.PURE_BARCODE=1]="PURE_BARCODE",B[B.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",B[B.TRY_HARDER=3]="TRY_HARDER",B[B.CHARACTER_SET=4]="CHARACTER_SET",B[B.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",B[B.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",B[B.ASSUME_GS1=7]="ASSUME_GS1",B[B.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",B[B.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",B[B.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var ee=$;class Y extends g{static getFormatInstance(){return new Y}}Y.kind="FormatException";var oe;(function(B){B[B.Cp437=0]="Cp437",B[B.ISO8859_1=1]="ISO8859_1",B[B.ISO8859_2=2]="ISO8859_2",B[B.ISO8859_3=3]="ISO8859_3",B[B.ISO8859_4=4]="ISO8859_4",B[B.ISO8859_5=5]="ISO8859_5",B[B.ISO8859_6=6]="ISO8859_6",B[B.ISO8859_7=7]="ISO8859_7",B[B.ISO8859_8=8]="ISO8859_8",B[B.ISO8859_9=9]="ISO8859_9",B[B.ISO8859_10=10]="ISO8859_10",B[B.ISO8859_11=11]="ISO8859_11",B[B.ISO8859_13=12]="ISO8859_13",B[B.ISO8859_14=13]="ISO8859_14",B[B.ISO8859_15=14]="ISO8859_15",B[B.ISO8859_16=15]="ISO8859_16",B[B.SJIS=16]="SJIS",B[B.Cp1250=17]="Cp1250",B[B.Cp1251=18]="Cp1251",B[B.Cp1252=19]="Cp1252",B[B.Cp1256=20]="Cp1256",B[B.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",B[B.UTF8=22]="UTF8",B[B.ASCII=23]="ASCII",B[B.Big5=24]="Big5",B[B.GB18030=25]="GB18030",B[B.EUC_KR=26]="EUC_KR"})(oe||(oe={}));class q{constructor(t,r,i,...s){this.valueIdentifier=t,this.name=i,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=s,q.VALUE_IDENTIFIER_TO_ECI.set(t,this),q.NAME_TO_ECI.set(i,this);const l=this.values;for(let u=0,c=l.length;u!==c;u++){const x=l[u];q.VALUES_TO_ECI.set(x,this)}for(const u of s)q.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new Y("incorect value");const r=q.VALUES_TO_ECI.get(t);if(r===void 0)throw new Y("incorect value");return r}static getCharacterSetECIByName(t){const r=q.NAME_TO_ECI.get(t);if(r===void 0)throw new Y("incorect value");return r}equals(t){if(!(t instanceof q))return!1;const r=t;return this.getName()===r.getName()}}q.VALUE_IDENTIFIER_TO_ECI=new Map,q.VALUES_TO_ECI=new Map,q.NAME_TO_ECI=new Map,q.Cp437=new q(oe.Cp437,Int32Array.from([0,2]),"Cp437"),q.ISO8859_1=new q(oe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),q.ISO8859_2=new q(oe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),q.ISO8859_3=new q(oe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),q.ISO8859_4=new q(oe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),q.ISO8859_5=new q(oe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),q.ISO8859_6=new q(oe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),q.ISO8859_7=new q(oe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),q.ISO8859_8=new q(oe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),q.ISO8859_9=new q(oe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),q.ISO8859_10=new q(oe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),q.ISO8859_11=new q(oe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),q.ISO8859_13=new q(oe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),q.ISO8859_14=new q(oe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),q.ISO8859_15=new q(oe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),q.ISO8859_16=new q(oe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),q.SJIS=new q(oe.SJIS,20,"SJIS","Shift_JIS"),q.Cp1250=new q(oe.Cp1250,21,"Cp1250","windows-1250"),q.Cp1251=new q(oe.Cp1251,22,"Cp1251","windows-1251"),q.Cp1252=new q(oe.Cp1252,23,"Cp1252","windows-1252"),q.Cp1256=new q(oe.Cp1256,24,"Cp1256","windows-1256"),q.UnicodeBigUnmarked=new q(oe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),q.UTF8=new q(oe.UTF8,26,"UTF8","UTF-8"),q.ASCII=new q(oe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),q.Big5=new q(oe.Big5,28,"Big5"),q.GB18030=new q(oe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),q.EUC_KR=new q(oe.EUC_KR,30,"EUC_KR","EUC-KR");class W extends g{}W.kind="UnsupportedOperationException";class se{static decode(t,r){const i=this.encodingName(r);return this.customDecoder?this.customDecoder(t,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(t,i):new TextDecoder(i).decode(t)}static shouldDecodeOnFallback(t){return!se.isBrowser()&&t==="ISO-8859-1"}static encode(t,r){const i=this.encodingName(r);return this.customEncoder?this.customEncoder(t,i):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof q?t:q.getCharacterSetECIByName(t)}static decodeFallback(t,r){const i=this.encodingCharacterSet(r);if(se.isDecodeFallbackSupported(i)){let s="";for(let l=0,u=t.length;l<u;l++){let c=t[l].toString(16);c.length<2&&(c="0"+c),s+="%"+c}return decodeURIComponent(s)}if(i.equals(q.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new W(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(q.UTF8)||t.equals(q.ISO8859_1)||t.equals(q.ASCII)}static encodeFallback(t){const i=btoa(unescape(encodeURIComponent(t))).split(""),s=[];for(let l=0;l<i.length;l++)s.push(i[l].charCodeAt(0));return new Uint8Array(s)}}class ue{static castAsNonUtf8Char(t,r=null){const i=r?r.getName():this.ISO88591;return se.decode(new Uint8Array([t]),i)}static guessEncoding(t,r){if(r!=null&&r.get(ee.CHARACTER_SET)!==void 0)return r.get(ee.CHARACTER_SET).toString();const i=t.length;let s=!0,l=!0,u=!0,c=0,x=0,C=0,w=0,N=0,R=0,P=0,Z=0,Q=0,le=0,pe=0;const De=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let Be=0;Be<i&&(s||l||u);Be++){const Se=t[Be]&255;u&&(c>0?Se&128?c--:u=!1:Se&128&&(Se&64?(c++,Se&32?(c++,Se&16?(c++,Se&8?u=!1:w++):C++):x++):u=!1)),s&&(Se>127&&Se<160?s=!1:Se>159&&(Se<192||Se===215||Se===247)&&pe++),l&&(N>0?Se<64||Se===127||Se>252?l=!1:N--:Se===128||Se===160||Se>239?l=!1:Se>160&&Se<224?(R++,Z=0,P++,P>Q&&(Q=P)):Se>127?(N++,P=0,Z++,Z>le&&(le=Z)):(P=0,Z=0))}return u&&c>0&&(u=!1),l&&N>0&&(l=!1),u&&(De||x+C+w>0)?ue.UTF8:l&&(ue.ASSUME_SHIFT_JIS||Q>=3||le>=3)?ue.SHIFT_JIS:s&&l?Q===2&&R===2||pe*10>=i?ue.SHIFT_JIS:ue.ISO88591:s?ue.ISO88591:l?ue.SHIFT_JIS:u?ue.UTF8:ue.PLATFORM_DEFAULT_ENCODING}static format(t,...r){let i=-1;function s(u,c,x,C,w,N){if(u==="%%")return"%";if(r[++i]===void 0)return;u=C?parseInt(C.substr(1)):void 0;let R=w?parseInt(w.substr(1)):void 0,P;switch(N){case"s":P=r[i];break;case"c":P=r[i][0];break;case"f":P=parseFloat(r[i]).toFixed(u);break;case"p":P=parseFloat(r[i]).toPrecision(u);break;case"e":P=parseFloat(r[i]).toExponential(u);break;case"x":P=parseInt(r[i]).toString(R||16);break;case"d":P=parseFloat(parseInt(r[i],R||10).toPrecision(u)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(R);let Z=parseInt(x),Q=x&&x[0]+""=="0"?"0":" ";for(;P.length<Z;)P=c!==void 0?P+Q:Q+P;return P}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}static getBytes(t,r){return se.encode(t,r)}static getCharCode(t,r=0){return t.charCodeAt(r)}static getCharAt(t){return String.fromCharCode(t)}}ue.SHIFT_JIS=q.SJIS.getName(),ue.GB2312="GB2312",ue.ISO88591=q.ISO8859_1.getName(),ue.EUC_JP="EUC_JP",ue.UTF8=q.UTF8.getName(),ue.PLATFORM_DEFAULT_ENCODING=ue.UTF8,ue.ASSUME_SHIFT_JIS=!1;class ge{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ue.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,r,i){for(let s=r;r<r+i;s++)this.append(t[s]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+1)}substring(t,r){return this.value.substring(t,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,r){this.value=this.value.substr(0,t)+r+this.value.substr(t+r.length)}}class Ne{constructor(t,r,i,s){if(this.width=t,this.height=r,this.rowSize=i,this.bits=s,r==null&&(r=t),this.height=r,t<1||r<1)throw new T("Both dimensions must be greater than 0");i==null&&(i=Math.floor((t+31)/32)),this.rowSize=i,s==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const r=t.length,i=t[0].length,s=new Ne(i,r);for(let l=0;l<r;l++){const u=t[l];for(let c=0;c<i;c++)u[c]&&s.set(c,l)}return s}static parseFromString(t,r,i){if(t===null)throw new T("stringRepresentation cannot be null");const s=new Array(t.length);let l=0,u=0,c=-1,x=0,C=0;for(;C<t.length;)if(t.charAt(C)===`
`||t.charAt(C)==="\r"){if(l>u){if(c===-1)c=l-u;else if(l-u!==c)throw new T("row lengths do not match");u=l,x++}C++}else if(t.substring(C,C+r.length)===r)C+=r.length,s[l]=!0,l++;else if(t.substring(C,C+i.length)===i)C+=i.length,s[l]=!1,l++;else throw new T("illegal character encountered: "+t.substring(C));if(l>u){if(c===-1)c=l-u;else if(l-u!==c)throw new T("row lengths do not match");x++}const w=new Ne(c,x);for(let N=0;N<l;N++)s[N]&&w.set(Math.floor(N%c),Math.floor(N/c));return w}get(t,r){const i=r*this.rowSize+Math.floor(t/32);return(this.bits[i]>>>(t&31)&1)!==0}set(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]|=1<<(t&31)&4294967295}unset(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]&=~(1<<(t&31)&4294967295)}flip(t,r){const i=r*this.rowSize+Math.floor(t/32);this.bits[i]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new T("input matrix dimensions do not match");const r=new j(Math.floor(this.width/32)+1),i=this.rowSize,s=this.bits;for(let l=0,u=this.height;l<u;l++){const c=l*i,x=t.getRow(l,r).getBitArray();for(let C=0;C<i;C++)s[c+C]^=x[C]}}clear(){const t=this.bits,r=t.length;for(let i=0;i<r;i++)t[i]=0}setRegion(t,r,i,s){if(r<0||t<0)throw new T("Left and top must be nonnegative");if(s<1||i<1)throw new T("Height and width must be at least 1");const l=t+i,u=r+s;if(u>this.height||l>this.width)throw new T("The region must fit inside the matrix");const c=this.rowSize,x=this.bits;for(let C=r;C<u;C++){const w=C*c;for(let N=t;N<l;N++)x[w+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(t,r){r==null||r.getSize()<this.width?r=new j(this.width):r.clear();const i=this.rowSize,s=this.bits,l=t*i;for(let u=0;u<i;u++)r.setBulk(u*32,s[l+u]);return r}setRow(t,r){F.arraycopy(r.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),r=this.getHeight();let i=new j(t),s=new j(t);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)i=this.getRow(l,i),s=this.getRow(r-1-l,s),i.reverse(),s.reverse(),this.setRow(l,s),this.setRow(r-1-l,i)}getEnclosingRectangle(){const t=this.width,r=this.height,i=this.rowSize,s=this.bits;let l=t,u=r,c=-1,x=-1;for(let C=0;C<r;C++)for(let w=0;w<i;w++){const N=s[C*i+w];if(N!==0){if(C<u&&(u=C),C>x&&(x=C),w*32<l){let R=0;for(;!(N<<31-R&4294967295);)R++;w*32+R<l&&(l=w*32+R)}if(w*32+31>c){let R=31;for(;!(N>>>R);)R--;w*32+R>c&&(c=w*32+R)}}}return c<l||x<u?null:Int32Array.from([l,u,c-l+1,x-u+1])}getTopLeftOnBit(){const t=this.rowSize,r=this.bits;let i=0;for(;i<r.length&&r[i]===0;)i++;if(i===r.length)return null;const s=i/t;let l=i%t*32;const u=r[i];let c=0;for(;!(u<<31-c&4294967295);)c++;return l+=c,Int32Array.from([l,s])}getBottomRightOnBit(){const t=this.rowSize,r=this.bits;let i=r.length-1;for(;i>=0&&r[i]===0;)i--;if(i<0)return null;const s=Math.floor(i/t);let l=Math.floor(i%t)*32;const u=r[i];let c=31;for(;!(u>>>c);)c--;return l+=c,Int32Array.from([l,s])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Ne))return!1;const r=t;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&U.equals(this.bits,r.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+U.hashCode(this.bits),t}toString(t="X ",r="  ",i=`
`){return this.buildToString(t,r,i)}buildToString(t,r,i){let s=new ge;for(let l=0,u=this.height;l<u;l++){for(let c=0,x=this.width;c<x;c++)s.append(this.get(c,l)?t:r);s.append(i)}return s.toString()}clone(){return new Ne(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends g{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Ee extends I{constructor(t){super(t),this.luminances=Ee.EMPTY,this.buckets=new Int32Array(Ee.LUMINANCE_BUCKETS)}getBlackRow(t,r){const i=this.getLuminanceSource(),s=i.getWidth();r==null||r.getSize()<s?r=new j(s):r.clear(),this.initArrays(s);const l=i.getRow(t,this.luminances),u=this.buckets;for(let x=0;x<s;x++)u[(l[x]&255)>>Ee.LUMINANCE_SHIFT]++;const c=Ee.estimateBlackPoint(u);if(s<3)for(let x=0;x<s;x++)(l[x]&255)<c&&r.set(x);else{let x=l[0]&255,C=l[1]&255;for(let w=1;w<s-1;w++){const N=l[w+1]&255;(C*4-x-N)/2<c&&r.set(w),x=C,C=N}}return r}getBlackMatrix(){const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight(),s=new Ne(r,i);this.initArrays(r);const l=this.buckets;for(let x=1;x<5;x++){const C=Math.floor(i*x/5),w=t.getRow(C,this.luminances),N=Math.floor(r*4/5);for(let R=Math.floor(r/5);R<N;R++){const P=w[R]&255;l[P>>Ee.LUMINANCE_SHIFT]++}}const u=Ee.estimateBlackPoint(l),c=t.getMatrix();for(let x=0;x<i;x++){const C=x*r;for(let w=0;w<r;w++)(c[C+w]&255)<u&&s.set(w,x)}return s}createBinarizer(t){return new Ee(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const r=this.buckets;for(let i=0;i<Ee.LUMINANCE_BUCKETS;i++)r[i]=0}static estimateBlackPoint(t){const r=t.length;let i=0,s=0,l=0;for(let w=0;w<r;w++)t[w]>l&&(s=w,l=t[w]),t[w]>i&&(i=t[w]);let u=0,c=0;for(let w=0;w<r;w++){const N=w-s,R=t[w]*N*N;R>c&&(u=w,c=R)}if(s>u){const w=s;s=u,u=w}if(u-s<=r/16)throw new te;let x=u-1,C=-1;for(let w=u-1;w>s;w--){const N=w-s,R=N*N*(u-w)*(i-t[w]);R>C&&(x=w,C=R)}return x<<Ee.LUMINANCE_SHIFT}}Ee.LUMINANCE_BITS=5,Ee.LUMINANCE_SHIFT=8-Ee.LUMINANCE_BITS,Ee.LUMINANCE_BUCKETS=1<<Ee.LUMINANCE_BITS,Ee.EMPTY=Uint8ClampedArray.from([0]);class we extends Ee{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),r=t.getWidth(),i=t.getHeight();if(r>=we.MINIMUM_DIMENSION&&i>=we.MINIMUM_DIMENSION){const s=t.getMatrix();let l=r>>we.BLOCK_SIZE_POWER;r&we.BLOCK_SIZE_MASK&&l++;let u=i>>we.BLOCK_SIZE_POWER;i&we.BLOCK_SIZE_MASK&&u++;const c=we.calculateBlackPoints(s,l,u,r,i),x=new Ne(r,i);we.calculateThresholdForBlock(s,l,u,r,i,c,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new we(t)}static calculateThresholdForBlock(t,r,i,s,l,u,c){const x=l-we.BLOCK_SIZE,C=s-we.BLOCK_SIZE;for(let w=0;w<i;w++){let N=w<<we.BLOCK_SIZE_POWER;N>x&&(N=x);const R=we.cap(w,2,i-3);for(let P=0;P<r;P++){let Z=P<<we.BLOCK_SIZE_POWER;Z>C&&(Z=C);const Q=we.cap(P,2,r-3);let le=0;for(let De=-2;De<=2;De++){const Be=u[R+De];le+=Be[Q-2]+Be[Q-1]+Be[Q]+Be[Q+1]+Be[Q+2]}const pe=le/25;we.thresholdBlock(t,Z,N,pe,s,c)}}}static cap(t,r,i){return t<r?r:t>i?i:t}static thresholdBlock(t,r,i,s,l,u){for(let c=0,x=i*l+r;c<we.BLOCK_SIZE;c++,x+=l)for(let C=0;C<we.BLOCK_SIZE;C++)(t[x+C]&255)<=s&&u.set(r+C,i+c)}static calculateBlackPoints(t,r,i,s,l){const u=l-we.BLOCK_SIZE,c=s-we.BLOCK_SIZE,x=new Array(i);for(let C=0;C<i;C++){x[C]=new Int32Array(r);let w=C<<we.BLOCK_SIZE_POWER;w>u&&(w=u);for(let N=0;N<r;N++){let R=N<<we.BLOCK_SIZE_POWER;R>c&&(R=c);let P=0,Z=255,Q=0;for(let pe=0,De=w*s+R;pe<we.BLOCK_SIZE;pe++,De+=s){for(let Be=0;Be<we.BLOCK_SIZE;Be++){const Se=t[De+Be]&255;P+=Se,Se<Z&&(Z=Se),Se>Q&&(Q=Se)}if(Q-Z>we.MIN_DYNAMIC_RANGE)for(pe++,De+=s;pe<we.BLOCK_SIZE;pe++,De+=s)for(let Be=0;Be<we.BLOCK_SIZE;Be++)P+=t[De+Be]&255}let le=P>>we.BLOCK_SIZE_POWER*2;if(Q-Z<=we.MIN_DYNAMIC_RANGE&&(le=Z/2,C>0&&N>0)){const pe=(x[C-1][N]+2*x[C][N-1]+x[C-1][N-1])/4;Z<pe&&(le=pe)}x[C][N]=le}}return x}}we.BLOCK_SIZE_POWER=3,we.BLOCK_SIZE=1<<we.BLOCK_SIZE_POWER,we.BLOCK_SIZE_MASK=we.BLOCK_SIZE-1,we.MINIMUM_DIMENSION=we.BLOCK_SIZE*5,we.MIN_DYNAMIC_RANGE=24;class Oe{constructor(t,r){this.width=t,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,r,i,s){throw new W("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new W("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new W("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let r=new ge;for(let i=0;i<this.height;i++){const s=this.getRow(i,t);for(let l=0;l<this.width;l++){const u=s[l]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",r.append(c)}r.append(`
`)}return r.toString()}}class ze extends Oe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,r){const i=this.delegate.getRow(t,r),s=this.getWidth();for(let l=0;l<s;l++)i[l]=255-(i[l]&255);return i}getMatrix(){const t=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(r);for(let s=0;s<r;s++)i[s]=255-(t[s]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(t,r,i,s){return new ze(this.delegate.crop(t,r,i,s))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ze(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ze(this.delegate.rotateCounterClockwise45())}}class V extends Oe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=V.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const r=t.getContext("2d").getImageData(0,0,t.width,t.height);return V.toGrayscaleBuffer(r.data,t.width,t.height)}static toGrayscaleBuffer(t,r,i){const s=new Uint8ClampedArray(r*i);for(let l=0,u=0,c=t.length;l<c;l+=4,u++){let x;if(t[l+3]===0)x=255;else{const w=t[l],N=t[l+1],R=t[l+2];x=306*w+601*N+117*R+512>>10}s[u]=x}return s}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const i=this.getWidth(),s=t*i;return r===null?r=this.buffer.slice(s,s+i):(r.length<i&&(r=new Uint8ClampedArray(i)),r.set(this.buffer.slice(s,s+i))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,r,i,s){return super.crop(t,r,i,s),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const r=this.getTempCanvasElement(),i=r.getContext("2d"),s=t*V.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(s))*l+Math.abs(Math.sin(s))*u),x=Math.ceil(Math.abs(Math.sin(s))*l+Math.abs(Math.cos(s))*u);return r.width=c,r.height=x,i.translate(c/2,x/2),i.rotate(s),i.drawImage(this.canvas,l/-2,u/-2),this.buffer=V.makeBufferFromCanvasImageData(r),this}invert(){return new ze(this)}}V.DEGREE_TO_RADIANS=Math.PI/180;class K{constructor(t,r,i){this.deviceId=t,this.label=r,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var fe=(globalThis||Q0||self||window||void 0)&&(globalThis||Q0||self||window||void 0).__awaiter||function(B,t,r,i){function s(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function c(w){try{C(i.next(w))}catch(N){u(N)}}function x(w){try{C(i.throw(w))}catch(N){u(N)}}function C(w){w.done?l(w.value):s(w.value).then(c,x)}C((i=i.apply(B,t||[])).next())})};class de{constructor(t,r=500,i){this.reader=t,this.timeBetweenScansMillis=r,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return fe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const i of t){const s=i.kind==="video"?"videoinput":i.kind;if(s!=="videoinput")continue;const l=i.deviceId||i.id,u=i.label||`Video device ${r.length+1}`,c=i.groupId,x={deviceId:l,label:u,kind:s,groupId:c};r.push(x)}return r})}getVideoInputDevices(){return fe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new K(r.deviceId,r.label))})}findDeviceById(t){return fe(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(i=>i.deviceId===t):null})}decodeFromInputVideoDevice(t,r){return fe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,r)})}decodeOnceFromVideoDevice(t,r){return fe(this,void 0,void 0,function*(){this.reset();let i;t?i={deviceId:{exact:t}}:i={facingMode:"environment"};const s={video:i};return yield this.decodeOnceFromConstraints(s,r)})}decodeOnceFromConstraints(t,r){return fe(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(i,r)})}decodeOnceFromStream(t,r){return fe(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(t,r);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(t,r,i){return fe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,r,i)})}decodeFromVideoDevice(t,r,i){return fe(this,void 0,void 0,function*(){let s;t?s={deviceId:{exact:t}}:s={facingMode:"environment"};const l={video:s};return yield this.decodeFromConstraints(l,r,i)})}decodeFromConstraints(t,r,i){return fe(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(s,r,i)})}decodeFromStream(t,r,i){return fe(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(t,r);return yield this.decodeContinuously(s,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,r){return fe(this,void 0,void 0,function*(){const i=this.prepareVideoElement(r);return this.addVideoSource(i,t),this.videoElement=i,this.stream=t,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(t){return new Promise((r,i)=>this.playVideoOnLoad(t,()=>r()))}playVideoOnLoad(t,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",r),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return fe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,r){const i=document.getElementById(t);if(!i)throw new y(`element with id '${t}' not found`);if(i.nodeName.toLowerCase()!==r.toLowerCase())throw new y(`element with id '${t}' must be an ${r} element`);return i}decodeFromImage(t,r){if(!t&&!r)throw new y("either imageElement with a src set or an url must be provided");return r&&!t?this.decodeFromImageUrl(r):this.decodeFromImageElement(t)}decodeFromVideo(t,r){if(!t&&!r)throw new y("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,r,i){if(t===void 0&&r===void 0)throw new y("Either an element with a src set or an URL must be provided");return r&&!t?this.decodeFromVideoUrlContinuously(r,i):this.decodeFromVideoElementContinuously(t,i)}decodeFromImageElement(t){if(!t)throw new y("An image element must be provided.");this.reset();const r=this.prepareImageElement(t);this.imageElement=r;let i;return this.isImageLoaded(r)?i=this.decodeOnce(r,!1,!0):i=this._decodeOnLoadImage(r),i}decodeFromVideoElement(t){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(t,r){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(i,r)}_decodeFromVideoElementSetup(t){if(!t)throw new y("A video element must be provided.");this.reset();const r=this.prepareVideoElement(t);return this.videoElement=r,r}decodeFromImageUrl(t){if(!t)throw new y("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const i=this._decodeOnLoadImage(r);return r.src=t,i}decodeFromVideoUrl(t){if(!t)throw new y("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),i=this.decodeFromVideoElement(r);return r.src=t,i}decodeFromVideoUrlContinuously(t,r){if(!t)throw new y("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),s=this.decodeFromVideoElementContinuously(i,r);return i.src=t,s}_decodeOnLoadImage(t){return new Promise((r,i)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(r,i),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return fe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,r){return fe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,r)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let r;return typeof t>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(r=t),r}prepareVideoElement(t){let r;return!t&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof t=="string"&&(r=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(r=t),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(t,r=!0,i=!0){this._stopAsyncDecode=!1;const s=(l,u)=>{if(this._stopAsyncDecode){u(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);l(c)}catch(c){const x=r&&c instanceof te,w=(c instanceof O||c instanceof Y)&&i;if(x||w)return setTimeout(s,this._timeBetweenDecodingAttempts,l,u);u(c)}};return new Promise((l,u)=>s(l,u))}decodeContinuously(t,r){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const s=this.decode(t);r(s,null),setTimeout(i,this.timeBetweenScansMillis)}catch(s){r(null,s);const l=s instanceof O||s instanceof Y,u=s instanceof te;(l||u)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(t){const r=this.createBinaryBitmap(t);return this.decodeBitmap(r)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,r,i){r||(r={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(t,r,i=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(t,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const r=this.getCaptureCanvas(t),i=new V(r),s=new we(i);return new M(s)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const r=this.createCaptureCanvas(t);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let i,s;return typeof t<"u"&&(t instanceof HTMLVideoElement?(i=t.videoWidth,s=t.videoHeight):t instanceof HTMLImageElement&&(i=t.naturalWidth||t.width,s=t.naturalHeight||t.height)),r.style.width=i+"px",r.style.height=s+"px",r.width=i,r.height=s,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,r){try{t.srcObject=r}catch{t.src=URL.createObjectURL(r)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class ie{constructor(t,r,i=r==null?0:8*r.length,s,l,u=F.currentTimeMillis()){this.text=t,this.rawBytes=r,this.numBits=i,this.resultPoints=s,this.format=l,this.timestamp=u,this.text=t,this.rawBytes=r,i==null?this.numBits=r==null?0:8*r.length:this.numBits=i,this.resultPoints=s,this.format=l,this.resultMetadata=null,u==null?this.timestamp=F.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,r)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const r=this.resultPoints;if(r===null)this.resultPoints=t;else if(t!==null&&t.length>0){const i=new Array(r.length+t.length);F.arraycopy(r,0,i,0,r.length),F.arraycopy(t,0,i,r.length,t.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ke;(function(B){B[B.AZTEC=0]="AZTEC",B[B.CODABAR=1]="CODABAR",B[B.CODE_39=2]="CODE_39",B[B.CODE_93=3]="CODE_93",B[B.CODE_128=4]="CODE_128",B[B.DATA_MATRIX=5]="DATA_MATRIX",B[B.EAN_8=6]="EAN_8",B[B.EAN_13=7]="EAN_13",B[B.ITF=8]="ITF",B[B.MAXICODE=9]="MAXICODE",B[B.PDF_417=10]="PDF_417",B[B.QR_CODE=11]="QR_CODE",B[B.RSS_14=12]="RSS_14",B[B.RSS_EXPANDED=13]="RSS_EXPANDED",B[B.UPC_A=14]="UPC_A",B[B.UPC_E=15]="UPC_E",B[B.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ke||(ke={}));var ve=ke,dt;(function(B){B[B.OTHER=0]="OTHER",B[B.ORIENTATION=1]="ORIENTATION",B[B.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",B[B.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",B[B.ISSUE_NUMBER=4]="ISSUE_NUMBER",B[B.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",B[B.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",B[B.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",B[B.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",B[B.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",B[B.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(dt||(dt={}));var Me=dt;class pt{constructor(t,r,i,s,l=-1,u=-1){this.rawBytes=t,this.text=r,this.byteSegments=i,this.ecLevel=s,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class st{exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}static addOrSubtract(t,r){return t^r}}class wt{constructor(t,r){if(r.length===0)throw new T;this.field=t;const i=r.length;if(i>1&&r[0]===0){let s=1;for(;s<i&&r[s]===0;)s++;s===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-s),F.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const r=this.coefficients;let i;if(t===1){i=0;for(let u=0,c=r.length;u!==c;u++){const x=r[u];i=st.addOrSubtract(i,x)}return i}i=r[0];const s=r.length,l=this.field;for(let u=1;u<s;u++)i=st.addOrSubtract(l.multiply(t,i),r[u]);return i}addOrSubtract(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){const u=r;r=i,i=u}let s=new Int32Array(i.length);const l=i.length-r.length;F.arraycopy(i,0,s,0,l);for(let u=l;u<i.length;u++)s[u]=st.addOrSubtract(r[u-l],i[u]);return new wt(this.field,s)}multiply(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const r=this.coefficients,i=r.length,s=t.coefficients,l=s.length,u=new Int32Array(i+l-1),c=this.field;for(let x=0;x<i;x++){const C=r[x];for(let w=0;w<l;w++)u[x+w]=st.addOrSubtract(u[x+w],c.multiply(C,s[w]))}return new wt(c,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const r=this.coefficients.length,i=this.field,s=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)s[u]=i.multiply(l[u],t);return new wt(i,s)}multiplyByMonomial(t,r){if(t<0)throw new T;if(r===0)return this.field.getZero();const i=this.coefficients,s=i.length,l=new Int32Array(s+t),u=this.field;for(let c=0;c<s;c++)l[c]=u.multiply(i[c],r);return new wt(u,l)}divide(t){if(!this.field.equals(t.field))throw new T("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new T("Divide by 0");const r=this.field;let i=r.getZero(),s=this;const l=t.getCoefficient(t.getDegree()),u=r.inverse(l);for(;s.getDegree()>=t.getDegree()&&!s.isZero();){const c=s.getDegree()-t.getDegree(),x=r.multiply(s.getCoefficient(s.getDegree()),u),C=t.multiplyByMonomial(c,x),w=r.buildMonomial(c,x);i=i.addOrSubtract(w),s=s.addOrSubtract(C)}return[i,s]}toString(){let t="";for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);if(i!==0){if(i<0?(t+=" - ",i=-i):t.length>0&&(t+=" + "),r===0||i!==1){const s=this.field.log(i);s===0?t+="1":s===1?t+="a":(t+="a^",t+=s)}r!==0&&(r===1?t+="x":(t+="x^",t+=r))}}return t}}class Un extends g{}Un.kind="ArithmeticException";class Ye extends st{constructor(t,r,i){super(),this.primitive=t,this.size=r,this.generatorBase=i;const s=new Int32Array(r);let l=1;for(let c=0;c<r;c++)s[c]=l,l*=2,l>=r&&(l^=t,l&=r-1);this.expTable=s;const u=new Int32Array(r);for(let c=0;c<r-1;c++)u[s[c]]=c;this.logTable=u,this.zero=new wt(this,Int32Array.from([0])),this.one=new wt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new T;if(r===0)return this.zero;const i=new Int32Array(t+1);return i[0]=r,new wt(this,i)}inverse(t){if(t===0)throw new Un;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}Ye.AZTEC_DATA_12=new Ye(4201,4096,1),Ye.AZTEC_DATA_10=new Ye(1033,1024,1),Ye.AZTEC_DATA_6=new Ye(67,64,1),Ye.AZTEC_PARAM=new Ye(19,16,1),Ye.QR_CODE_FIELD_256=new Ye(285,256,0),Ye.DATA_MATRIX_FIELD_256=new Ye(301,256,1),Ye.AZTEC_DATA_8=Ye.DATA_MATRIX_FIELD_256,Ye.MAXICODE_FIELD_64=Ye.AZTEC_DATA_6;class zt extends g{}zt.kind="ReedSolomonException";class un extends g{}un.kind="IllegalStateException";class bn{constructor(t){this.field=t}decode(t,r){const i=this.field,s=new wt(i,t),l=new Int32Array(r);let u=!0;for(let P=0;P<r;P++){const Z=s.evaluateAt(i.exp(P+i.getGeneratorBase()));l[l.length-1-P]=Z,Z!==0&&(u=!1)}if(u)return;const c=new wt(i,l),x=this.runEuclideanAlgorithm(i.buildMonomial(r,1),c,r),C=x[0],w=x[1],N=this.findErrorLocations(C),R=this.findErrorMagnitudes(w,N);for(let P=0;P<N.length;P++){const Z=t.length-1-i.log(N[P]);if(Z<0)throw new zt("Bad error location");t[Z]=Ye.addOrSubtract(t[Z],R[P])}}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){const P=t;t=r,r=P}const s=this.field;let l=t,u=r,c=s.getZero(),x=s.getOne();for(;u.getDegree()>=(i/2|0);){let P=l,Z=c;if(l=u,c=x,l.isZero())throw new zt("r_{i-1} was zero");u=P;let Q=s.getZero();const le=l.getCoefficient(l.getDegree()),pe=s.inverse(le);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const De=u.getDegree()-l.getDegree(),Be=s.multiply(u.getCoefficient(u.getDegree()),pe);Q=Q.addOrSubtract(s.buildMonomial(De,Be)),u=u.addOrSubtract(l.multiplyByMonomial(De,Be))}if(x=Q.multiply(c).addOrSubtract(Z),u.getDegree()>=l.getDegree())throw new un("Division algorithm failed to reduce polynomial?")}const C=x.getCoefficient(0);if(C===0)throw new zt("sigmaTilde(0) was zero");const w=s.inverse(C),N=x.multiplyScalar(w),R=u.multiplyScalar(w);return[N,R]}findErrorLocations(t){const r=t.getDegree();if(r===1)return Int32Array.from([t.getCoefficient(1)]);const i=new Int32Array(r);let s=0;const l=this.field;for(let u=1;u<l.getSize()&&s<r;u++)t.evaluateAt(u)===0&&(i[s]=l.inverse(u),s++);if(s!==r)throw new zt("Error locator degree does not match number of roots");return i}findErrorMagnitudes(t,r){const i=r.length,s=new Int32Array(i),l=this.field;for(let u=0;u<i;u++){const c=l.inverse(r[u]);let x=1;for(let C=0;C<i;C++)if(u!==C){const w=l.multiply(r[C],c),N=w&1?w&-2:w|1;x=l.multiply(x,N)}s[u]=l.multiply(t.evaluateAt(c),l.inverse(x)),l.getGeneratorBase()!==0&&(s[u]=l.multiply(s[u],c))}return s}}var Lt;(function(B){B[B.UPPER=0]="UPPER",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.DIGIT=3]="DIGIT",B[B.PUNCT=4]="PUNCT",B[B.BINARY=5]="BINARY"})(Lt||(Lt={}));class lt{decode(t){this.ddata=t;let r=t.getBits(),i=this.extractBits(r),s=this.correctBits(i),l=lt.convertBoolArrayToByteArray(s),u=lt.getEncodedData(s),c=new pt(l,u,null,null);return c.setNumBits(s.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let r=t.length,i=Lt.UPPER,s=Lt.UPPER,l="",u=0;for(;u<r;)if(s===Lt.BINARY){if(r-u<5)break;let c=lt.readCode(t,u,5);if(u+=5,c===0){if(r-u<11)break;c=lt.readCode(t,u,11)+31,u+=11}for(let x=0;x<c;x++){if(r-u<8){u=r;break}const C=lt.readCode(t,u,8);l+=ue.castAsNonUtf8Char(C),u+=8}s=i}else{let c=s===Lt.DIGIT?4:5;if(r-u<c)break;let x=lt.readCode(t,u,c);u+=c;let C=lt.getCharacter(s,x);C.startsWith("CTRL_")?(i=s,s=lt.getTable(C.charAt(5)),C.charAt(6)==="L"&&(i=s)):(l+=C,s=i)}return l}static getTable(t){switch(t){case"L":return Lt.LOWER;case"P":return Lt.PUNCT;case"M":return Lt.MIXED;case"D":return Lt.DIGIT;case"B":return Lt.BINARY;case"U":default:return Lt.UPPER}}static getCharacter(t,r){switch(t){case Lt.UPPER:return lt.UPPER_TABLE[r];case Lt.LOWER:return lt.LOWER_TABLE[r];case Lt.MIXED:return lt.MIXED_TABLE[r];case Lt.PUNCT:return lt.PUNCT_TABLE[r];case Lt.DIGIT:return lt.DIGIT_TABLE[r];default:throw new un("Bad table")}}correctBits(t){let r,i;this.ddata.getNbLayers()<=2?(i=6,r=Ye.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,r=Ye.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,r=Ye.AZTEC_DATA_10):(i=12,r=Ye.AZTEC_DATA_12);let s=this.ddata.getNbDatablocks(),l=t.length/i;if(l<s)throw new Y;let u=t.length%i,c=new Int32Array(l);for(let R=0;R<l;R++,u+=i)c[R]=lt.readCode(t,u,i);try{new bn(r).decode(c,l-s)}catch(R){throw new Y(R)}let x=(1<<i)-1,C=0;for(let R=0;R<s;R++){let P=c[R];if(P===0||P===x)throw new Y;(P===1||P===x-1)&&C++}let w=new Array(s*i-C),N=0;for(let R=0;R<s;R++){let P=c[R];if(P===1||P===x-1)w.fill(P>1,N,N+i-1),N+=i-1;else for(let Z=i-1;Z>=0;--Z)w[N++]=(P&1<<Z)!==0}return w}extractBits(t){let r=this.ddata.isCompact(),i=this.ddata.getNbLayers(),s=(r?11:14)+i*4,l=new Int32Array(s),u=new Array(this.totalBitsInLayer(i,r));if(r)for(let c=0;c<l.length;c++)l[c]=c;else{let c=s+1+2*k.truncDivision(k.truncDivision(s,2)-1,15),x=s/2,C=k.truncDivision(c,2);for(let w=0;w<x;w++){let N=w+k.truncDivision(w,15);l[x-w-1]=C-N-1,l[x+w]=C+N+1}}for(let c=0,x=0;c<i;c++){let C=(i-c)*4+(r?9:12),w=c*2,N=s-1-w;for(let R=0;R<C;R++){let P=R*2;for(let Z=0;Z<2;Z++)u[x+P+Z]=t.get(l[w+Z],l[w+R]),u[x+2*C+P+Z]=t.get(l[w+R],l[N-Z]),u[x+4*C+P+Z]=t.get(l[N-Z],l[N-R]),u[x+6*C+P+Z]=t.get(l[N-R],l[w+Z])}x+=C*8}return u}static readCode(t,r,i){let s=0;for(let l=r;l<r+i;l++)s<<=1,t[l]&&(s|=1);return s}static readByte(t,r){let i=t.length-r;return i>=8?lt.readCode(t,r,8):lt.readCode(t,r,i)<<8-i}static convertBoolArrayToByteArray(t){let r=new Uint8Array((t.length+7)/8);for(let i=0;i<r.length;i++)r[i]=lt.readByte(t,8*i);return r}totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}lt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],lt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],lt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],lt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],lt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class We{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,r,i,s){const l=t-i,u=r-s;return Math.sqrt(l*l+u*u)}static sum(t){let r=0;for(let i=0,s=t.length;i!==s;i++){const l=t[i];r+=l}return r}}class er{static floatToIntBits(t){return t}}er.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Re{constructor(t,r){this.x=t,this.y=r}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Re){const r=t;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*er.floatToIntBits(this.x)+er.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const r=this.distance(t[0],t[1]),i=this.distance(t[1],t[2]),s=this.distance(t[0],t[2]);let l,u,c;if(i>=r&&i>=s?(u=t[0],l=t[1],c=t[2]):s>=i&&s>=r?(u=t[1],l=t[0],c=t[2]):(u=t[2],l=t[0],c=t[1]),this.crossProductZ(l,u,c)<0){const x=l;l=c,c=x}t[0]=l,t[1]=u,t[2]=c}static distance(t,r){return We.distance(t.x,t.y,r.x,r.y)}static crossProductZ(t,r,i){const s=r.x,l=r.y;return(i.x-s)*(t.y-l)-(i.y-l)*(t.x-s)}}class En{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class ar extends En{constructor(t,r,i,s,l){super(t,r),this.compact=i,this.nbDatablocks=s,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ht{constructor(t,r,i,s){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),r==null&&(r=Ht.INIT_SIZE),i==null&&(i=t.getWidth()/2|0),s==null&&(s=t.getHeight()/2|0);const l=r/2|0;if(this.leftInit=i-l,this.rightInit=i+l,this.upInit=s-l,this.downInit=s+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let t=this.leftInit,r=this.rightInit,i=this.upInit,s=this.downInit,l=!1,u=!0,c=!1,x=!1,C=!1,w=!1,N=!1;const R=this.width,P=this.height;for(;u;){u=!1;let Z=!0;for(;(Z||!x)&&r<R;)Z=this.containsBlackPoint(i,s,r,!1),Z?(r++,u=!0,x=!0):x||r++;if(r>=R){l=!0;break}let Q=!0;for(;(Q||!C)&&s<P;)Q=this.containsBlackPoint(t,r,s,!0),Q?(s++,u=!0,C=!0):C||s++;if(s>=P){l=!0;break}let le=!0;for(;(le||!w)&&t>=0;)le=this.containsBlackPoint(i,s,t,!1),le?(t--,u=!0,w=!0):w||t--;if(t<0){l=!0;break}let pe=!0;for(;(pe||!N)&&i>=0;)pe=this.containsBlackPoint(t,r,i,!0),pe?(i--,u=!0,N=!0):N||i--;if(i<0){l=!0;break}u&&(c=!0)}if(!l&&c){const Z=r-t;let Q=null;for(let Be=1;Q===null&&Be<Z;Be++)Q=this.getBlackPointOnSegment(t,s-Be,t+Be,s);if(Q==null)throw new te;let le=null;for(let Be=1;le===null&&Be<Z;Be++)le=this.getBlackPointOnSegment(t,i+Be,t+Be,i);if(le==null)throw new te;let pe=null;for(let Be=1;pe===null&&Be<Z;Be++)pe=this.getBlackPointOnSegment(r,i+Be,r-Be,i);if(pe==null)throw new te;let De=null;for(let Be=1;De===null&&Be<Z;Be++)De=this.getBlackPointOnSegment(r,s-Be,r-Be,s);if(De==null)throw new te;return this.centerEdges(De,Q,pe,le)}else throw new te}getBlackPointOnSegment(t,r,i,s){const l=We.round(We.distance(t,r,i,s)),u=(i-t)/l,c=(s-r)/l,x=this.image;for(let C=0;C<l;C++){const w=We.round(t+C*u),N=We.round(r+C*c);if(x.get(w,N))return new Re(w,N)}return null}centerEdges(t,r,i,s){const l=t.getX(),u=t.getY(),c=r.getX(),x=r.getY(),C=i.getX(),w=i.getY(),N=s.getX(),R=s.getY(),P=Ht.CORR;return l<this.width/2?[new Re(N-P,R+P),new Re(c+P,x+P),new Re(C-P,w-P),new Re(l+P,u-P)]:[new Re(N+P,R+P),new Re(c+P,x-P),new Re(C-P,w+P),new Re(l-P,u-P)]}containsBlackPoint(t,r,i,s){const l=this.image;if(s){for(let u=t;u<=r;u++)if(l.get(u,i))return!0}else for(let u=t;u<=r;u++)if(l.get(i,u))return!0;return!1}}Ht.INIT_SIZE=10,Ht.CORR=1;class Mi{static checkAndNudgePoints(t,r){const i=t.getWidth(),s=t.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const c=Math.floor(r[u]),x=Math.floor(r[u+1]);if(c<-1||c>i||x<-1||x>s)throw new te;l=!1,c===-1?(r[u]=0,l=!0):c===i&&(r[u]=i-1,l=!0),x===-1?(r[u+1]=0,l=!0):x===s&&(r[u+1]=s-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const c=Math.floor(r[u]),x=Math.floor(r[u+1]);if(c<-1||c>i||x<-1||x>s)throw new te;l=!1,c===-1?(r[u]=0,l=!0):c===i&&(r[u]=i-1,l=!0),x===-1?(r[u+1]=0,l=!0):x===s&&(r[u+1]=s-1,l=!0)}}}class nn{constructor(t,r,i,s,l,u,c,x,C){this.a11=t,this.a21=r,this.a31=i,this.a12=s,this.a22=l,this.a32=u,this.a13=c,this.a23=x,this.a33=C}static quadrilateralToQuadrilateral(t,r,i,s,l,u,c,x,C,w,N,R,P,Z,Q,le){const pe=nn.quadrilateralToSquare(t,r,i,s,l,u,c,x);return nn.squareToQuadrilateral(C,w,N,R,P,Z,Q,le).times(pe)}transformPoints(t){const r=t.length,i=this.a11,s=this.a12,l=this.a13,u=this.a21,c=this.a22,x=this.a23,C=this.a31,w=this.a32,N=this.a33;for(let R=0;R<r;R+=2){const P=t[R],Z=t[R+1],Q=l*P+x*Z+N;t[R]=(i*P+u*Z+C)/Q,t[R+1]=(s*P+c*Z+w)/Q}}transformPointsWithValues(t,r){const i=this.a11,s=this.a12,l=this.a13,u=this.a21,c=this.a22,x=this.a23,C=this.a31,w=this.a32,N=this.a33,R=t.length;for(let P=0;P<R;P++){const Z=t[P],Q=r[P],le=l*Z+x*Q+N;t[P]=(i*Z+u*Q+C)/le,r[P]=(s*Z+c*Q+w)/le}}static squareToQuadrilateral(t,r,i,s,l,u,c,x){const C=t-i+l-c,w=r-s+u-x;if(C===0&&w===0)return new nn(i-t,l-i,t,s-r,u-s,r,0,0,1);{const N=i-l,R=c-l,P=s-u,Z=x-u,Q=N*Z-R*P,le=(C*Z-R*w)/Q,pe=(N*w-C*P)/Q;return new nn(i-t+le*i,c-t+pe*c,t,s-r+le*s,x-r+pe*x,r,le,pe,1)}}static quadrilateralToSquare(t,r,i,s,l,u,c,x){return nn.squareToQuadrilateral(t,r,i,s,l,u,c,x).buildAdjoint()}buildAdjoint(){return new nn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new nn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Mr extends Mi{sampleGrid(t,r,i,s,l,u,c,x,C,w,N,R,P,Z,Q,le,pe,De,Be){const Se=nn.quadrilateralToQuadrilateral(s,l,u,c,x,C,w,N,R,P,Z,Q,le,pe,De,Be);return this.sampleGridWithTransform(t,r,i,Se)}sampleGridWithTransform(t,r,i,s){if(r<=0||i<=0)throw new te;const l=new Ne(r,i),u=new Float32Array(2*r);for(let c=0;c<i;c++){const x=u.length,C=c+.5;for(let w=0;w<x;w+=2)u[w]=w/2+.5,u[w+1]=C;s.transformPoints(u),Mi.checkAndNudgePoints(t,u);try{for(let w=0;w<x;w+=2)t.get(Math.floor(u[w]),Math.floor(u[w+1]))&&l.set(w/2,c)}catch{throw new te}}return l}}class Yn{static setGridSampler(t){Yn.gridSampler=t}static getInstance(){return Yn.gridSampler}}Yn.gridSampler=new Mr;class cn{constructor(t,r){this.x=t,this.y=r}toResultPoint(){return new Re(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Oi{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let r=this.getMatrixCenter(),i=this.getBullsEyeCorners(r);if(t){let u=i[0];i[0]=i[2],i[2]=u}this.extractParameters(i);let s=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),l=this.getMatrixCornerPoints(i);return new ar(s,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new te;let r=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(t[0],t[1],r),this.sampleLine(t[1],t[2],r),this.sampleLine(t[2],t[3],r),this.sampleLine(t[3],t[0],r)]);this.shift=this.getRotation(i,r);let s=0;for(let u=0;u<4;u++){let c=i[(this.shift+u)%4];this.compact?(s<<=7,s+=c>>1&127):(s<<=10,s+=(c>>2&992)+(c>>1&31))}let l=this.getCorrectedParameterData(s,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(t,r){let i=0;t.forEach((s,l,u)=>{let c=(s>>r-2<<1)+(s&1);i=(i<<3)+c}),i=((i&1)<<11)+(i>>1);for(let s=0;s<4;s++)if(k.bitCount(i^this.EXPECTED_CORNER_BITS[s])<=2)return s;throw new te}getCorrectedParameterData(t,r){let i,s;r?(i=7,s=2):(i=10,s=4);let l=i-s,u=new Int32Array(i);for(let x=i-1;x>=0;--x)u[x]=t&15,t>>=4;try{new bn(Ye.AZTEC_PARAM).decode(u,l)}catch{throw new te}let c=0;for(let x=0;x<s;x++)c=(c<<4)+u[x];return c}getBullsEyeCorners(t){let r=t,i=t,s=t,l=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(r,u,1,-1),R=this.getFirstDifferent(i,u,1,1),P=this.getFirstDifferent(s,u,-1,1),Z=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let Q=this.distancePoint(Z,N)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(Q<.75||Q>1.25||!this.isWhiteOrBlackRectangle(N,R,P,Z))break}r=N,i=R,s=P,l=Z,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let c=new Re(r.getX()+.5,r.getY()-.5),x=new Re(i.getX()+.5,i.getY()+.5),C=new Re(s.getX()-.5,s.getY()+.5),w=new Re(l.getX()-.5,l.getY()-.5);return this.expandSquare([c,x,C,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,r,i,s;try{let c=new Ht(this.image).detect();t=c[0],r=c[1],i=c[2],s=c[3]}catch{let x=this.image.getWidth()/2,C=this.image.getHeight()/2;t=this.getFirstDifferent(new cn(x+7,C-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new cn(x+7,C+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new cn(x-7,C+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new cn(x-7,C-7),!1,-1,-1).toResultPoint()}let l=We.round((t.getX()+s.getX()+r.getX()+i.getX())/4),u=We.round((t.getY()+s.getY()+r.getY()+i.getY())/4);try{let c=new Ht(this.image,15,l,u).detect();t=c[0],r=c[1],i=c[2],s=c[3]}catch{t=this.getFirstDifferent(new cn(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new cn(l+7,u+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new cn(l-7,u+7),!1,-1,1).toResultPoint(),s=this.getFirstDifferent(new cn(l-7,u-7),!1,-1,-1).toResultPoint()}return l=We.round((t.getX()+s.getX()+r.getX()+i.getX())/4),u=We.round((t.getY()+s.getY()+r.getY()+i.getY())/4),new cn(l,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,r,i,s,l){let u=Yn.getInstance(),c=this.getDimension(),x=c/2-this.nbCenterLayers,C=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,x,x,C,x,C,C,x,C,r.getX(),r.getY(),i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY())}sampleLine(t,r,i){let s=0,l=this.distanceResultPoint(t,r),u=l/i,c=t.getX(),x=t.getY(),C=u*(r.getX()-t.getX())/l,w=u*(r.getY()-t.getY())/l;for(let N=0;N<i;N++)this.image.get(We.round(c+N*C),We.round(x+N*w))&&(s|=1<<i-N-1);return s}isWhiteOrBlackRectangle(t,r,i,s){let l=3;t=new cn(t.getX()-l,t.getY()+l),r=new cn(r.getX()-l,r.getY()-l),i=new cn(i.getX()+l,i.getY()-l),s=new cn(s.getX()+l,s.getY()+l);let u=this.getColor(s,t);if(u===0)return!1;let c=this.getColor(t,r);return c!==u||(c=this.getColor(r,i),c!==u)?!1:(c=this.getColor(i,s),c===u)}getColor(t,r){let i=this.distancePoint(t,r),s=(r.getX()-t.getX())/i,l=(r.getY()-t.getY())/i,u=0,c=t.getX(),x=t.getY(),C=this.image.get(t.getX(),t.getY()),w=Math.ceil(i);for(let R=0;R<w;R++)c+=s,x+=l,this.image.get(We.round(c),We.round(x))!==C&&u++;let N=u/i;return N>.1&&N<.9?0:N<=.1===C?1:-1}getFirstDifferent(t,r,i,s){let l=t.getX()+i,u=t.getY()+s;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i,u+=s;for(l-=i,u-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=i;for(l-=i;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=s;return u-=s,new cn(l,u)}expandSquare(t,r,i){let s=i/(2*r),l=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,C=new Re(c+s*l,x+s*u),w=new Re(c-s*l,x-s*u);l=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let N=new Re(c+s*l,x+s*u),R=new Re(c-s*l,x-s*u);return[C,N,w,R]}isValid(t,r){return t>=0&&t<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(t){let r=We.round(t.getX()),i=We.round(t.getY());return this.isValid(r,i)}distancePoint(t,r){return We.distance(t.getX(),t.getY(),r.getX(),r.getY())}distanceResultPoint(t,r){return We.distance(t.getX(),t.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class sr{decode(t,r=null){let i=null,s=new Oi(t.getBlackMatrix()),l=null,u=null;try{let w=s.detectMirror(!1);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new lt().decode(w)}catch(w){i=w}if(u==null)try{let w=s.detectMirror(!0);l=w.getPoints(),this.reportFoundResultPoints(r,l),u=new lt().decode(w)}catch(w){throw i??w}let c=new ie(u.getText(),u.getRawBytes(),u.getNumBits(),l,ve.AZTEC,F.currentTimeMillis()),x=u.getByteSegments();x!=null&&c.putMetadata(Me.BYTE_SEGMENTS,x);let C=u.getECLevel();return C!=null&&c.putMetadata(Me.ERROR_CORRECTION_LEVEL,C),c}reportFoundResultPoints(t,r){if(t!=null){let i=t.get(ee.NEED_RESULT_POINT_CALLBACK);i!=null&&r.forEach((s,l,u)=>{i.foundPossibleResultPoint(s)})}}reset(){}}class ii extends de{constructor(t=500){super(new sr,t)}}class _t{decode(t,r){try{return this.doDecode(t,r)}catch{if(r&&r.get(ee.TRY_HARDER)===!0&&t.isRotateSupported()){const l=t.rotateCounterClockwise(),u=this.doDecode(l,r),c=u.getResultMetadata();let x=270;c!==null&&c.get(Me.ORIENTATION)===!0&&(x=x+c.get(Me.ORIENTATION)%360),u.putMetadata(Me.ORIENTATION,x);const C=u.getResultPoints();if(C!==null){const w=l.getHeight();for(let N=0;N<C.length;N++)C[N]=new Re(w-C[N].getY()-1,C[N].getX())}return u}else throw new te}}reset(){}doDecode(t,r){const i=t.getWidth(),s=t.getHeight();let l=new j(i);const u=r&&r.get(ee.TRY_HARDER)===!0,c=Math.max(1,s>>(u?8:5));let x;u?x=s:x=15;const C=Math.trunc(s/2);for(let w=0;w<x;w++){const N=Math.trunc((w+1)/2),R=(w&1)===0,P=C+c*(R?N:-N);if(P<0||P>=s)break;try{l=t.getBlackRow(P,l)}catch{continue}for(let Z=0;Z<2;Z++){if(Z===1&&(l.reverse(),r&&r.get(ee.NEED_RESULT_POINT_CALLBACK)===!0)){const Q=new Map;r.forEach((le,pe)=>Q.set(pe,le)),Q.delete(ee.NEED_RESULT_POINT_CALLBACK),r=Q}try{const Q=this.decodeRow(P,l,r);if(Z===1){Q.putMetadata(Me.ORIENTATION,180);const le=Q.getResultPoints();le!==null&&(le[0]=new Re(i-le[0].getX()-1,le[0].getY()),le[1]=new Re(i-le[1].getX()-1,le[1].getY()))}return Q}catch{}}}throw new te}static recordPattern(t,r,i){const s=i.length;for(let C=0;C<s;C++)i[C]=0;const l=t.getSize();if(r>=l)throw new te;let u=!t.get(r),c=0,x=r;for(;x<l;){if(t.get(x)!==u)i[c]++;else{if(++c===s)break;i[c]=1,u=!u}x++}if(!(c===s||c===s-1&&x===l))throw new te}static recordPatternInReverse(t,r,i){let s=i.length,l=t.get(r);for(;r>0&&s>=0;)t.get(--r)!==l&&(s--,l=!l);if(s>=0)throw new te;_t.recordPattern(t,r+1,i)}static patternMatchVariance(t,r,i){const s=t.length;let l=0,u=0;for(let C=0;C<s;C++)l+=t[C],u+=r[C];if(l<u)return Number.POSITIVE_INFINITY;const c=l/u;i*=c;let x=0;for(let C=0;C<s;C++){const w=t[C],N=r[C]*c,R=w>N?w-N:N-w;if(R>i)return Number.POSITIVE_INFINITY;x+=R}return x/l}}class _e extends _t{static findStartPattern(t){const r=t.getSize(),i=t.getNextSet(0);let s=0,l=Int32Array.from([0,0,0,0,0,0]),u=i,c=!1;const x=6;for(let C=i;C<r;C++)if(t.get(C)!==c)l[s]++;else{if(s===x-1){let w=_e.MAX_AVG_VARIANCE,N=-1;for(let R=_e.CODE_START_A;R<=_e.CODE_START_C;R++){const P=_t.patternMatchVariance(l,_e.CODE_PATTERNS[R],_e.MAX_INDIVIDUAL_VARIANCE);P<w&&(w=P,N=R)}if(N>=0&&t.isRange(Math.max(0,u-(C-u)/2),u,!1))return Int32Array.from([u,C,N]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[s-1]=0,l[s]=0,s--}else s++;l[s]=1,c=!c}throw new te}static decodeCode(t,r,i){_t.recordPattern(t,i,r);let s=_e.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<_e.CODE_PATTERNS.length;u++){const c=_e.CODE_PATTERNS[u],x=this.patternMatchVariance(r,c,_e.MAX_INDIVIDUAL_VARIANCE);x<s&&(s=x,l=u)}if(l>=0)return l;throw new te}decodeRow(t,r,i){const s=i&&i.get(ee.ASSUME_GS1)===!0,l=_e.findStartPattern(r),u=l[2];let c=0;const x=new Uint8Array(20);x[c++]=u;let C;switch(u){case _e.CODE_START_A:C=_e.CODE_CODE_A;break;case _e.CODE_START_B:C=_e.CODE_CODE_B;break;case _e.CODE_START_C:C=_e.CODE_CODE_C;break;default:throw new Y}let w=!1,N=!1,R="",P=l[0],Z=l[1];const Q=Int32Array.from([0,0,0,0,0,0]);let le=0,pe=0,De=u,Be=0,Se=!0,et=!1,Xe=!1;for(;!w;){const hi=N;switch(N=!1,le=pe,pe=_e.decodeCode(r,Q,Z),x[c++]=pe,pe!==_e.CODE_STOP&&(Se=!0),pe!==_e.CODE_STOP&&(Be++,De+=Be*pe),P=Z,Z+=Q.reduce((js,ur)=>js+ur,0),pe){case _e.CODE_START_A:case _e.CODE_START_B:case _e.CODE_START_C:throw new Y}switch(C){case _e.CODE_CODE_A:if(pe<64)Xe===et?R+=String.fromCharCode(32+pe):R+=String.fromCharCode(32+pe+128),Xe=!1;else if(pe<96)Xe===et?R+=String.fromCharCode(pe-64):R+=String.fromCharCode(pe+64),Xe=!1;else switch(pe!==_e.CODE_STOP&&(Se=!1),pe){case _e.CODE_FNC_1:s&&(R.length===0?R+="]C1":R+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_A:!et&&Xe?(et=!0,Xe=!1):et&&Xe?(et=!1,Xe=!1):Xe=!0;break;case _e.CODE_SHIFT:N=!0,C=_e.CODE_CODE_B;break;case _e.CODE_CODE_B:C=_e.CODE_CODE_B;break;case _e.CODE_CODE_C:C=_e.CODE_CODE_C;break;case _e.CODE_STOP:w=!0;break}break;case _e.CODE_CODE_B:if(pe<96)Xe===et?R+=String.fromCharCode(32+pe):R+=String.fromCharCode(32+pe+128),Xe=!1;else switch(pe!==_e.CODE_STOP&&(Se=!1),pe){case _e.CODE_FNC_1:s&&(R.length===0?R+="]C1":R+="");break;case _e.CODE_FNC_2:case _e.CODE_FNC_3:break;case _e.CODE_FNC_4_B:!et&&Xe?(et=!0,Xe=!1):et&&Xe?(et=!1,Xe=!1):Xe=!0;break;case _e.CODE_SHIFT:N=!0,C=_e.CODE_CODE_A;break;case _e.CODE_CODE_A:C=_e.CODE_CODE_A;break;case _e.CODE_CODE_C:C=_e.CODE_CODE_C;break;case _e.CODE_STOP:w=!0;break}break;case _e.CODE_CODE_C:if(pe<100)pe<10&&(R+="0"),R+=pe;else switch(pe!==_e.CODE_STOP&&(Se=!1),pe){case _e.CODE_FNC_1:s&&(R.length===0?R+="]C1":R+="");break;case _e.CODE_CODE_A:C=_e.CODE_CODE_A;break;case _e.CODE_CODE_B:C=_e.CODE_CODE_B;break;case _e.CODE_STOP:w=!0;break}break}hi&&(C=C===_e.CODE_CODE_A?_e.CODE_CODE_B:_e.CODE_CODE_A)}const Rn=Z-P;if(Z=r.getNextUnset(Z),!r.isRange(Z,Math.min(r.getSize(),Z+(Z-P)/2),!1))throw new te;if(De-=Be*le,De%103!==le)throw new O;const rr=R.length;if(rr===0)throw new te;rr>0&&Se&&(C===_e.CODE_CODE_C?R=R.substring(0,rr-2):R=R.substring(0,rr-1));const In=(l[1]+l[0])/2,Tt=P+Rn/2,vn=x.length,Wn=new Uint8Array(vn);for(let hi=0;hi<vn;hi++)Wn[hi]=x[hi];const fi=[new Re(In,t),new Re(Tt,t)];return new ie(R,Wn,0,fi,ve.CODE_128,new Date().getTime())}}_e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],_e.MAX_AVG_VARIANCE=.25,_e.MAX_INDIVIDUAL_VARIANCE=.7,_e.CODE_SHIFT=98,_e.CODE_CODE_C=99,_e.CODE_CODE_B=100,_e.CODE_CODE_A=101,_e.CODE_FNC_1=102,_e.CODE_FNC_2=97,_e.CODE_FNC_3=96,_e.CODE_FNC_4_A=101,_e.CODE_FNC_4_B=100,_e.CODE_START_A=103,_e.CODE_START_B=104,_e.CODE_START_C=105,_e.CODE_STOP=106;class Gt extends _t{constructor(t=!1,r=!1){super(),this.usingCheckDigit=t,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,r,i){let s=this.counters;s.fill(0),this.decodeRowResult="";let l=Gt.findAsteriskPattern(r,s),u=r.getNextSet(l[1]),c=r.getSize(),x,C;do{Gt.recordPattern(r,u,s);let Q=Gt.toNarrowWidePattern(s);if(Q<0)throw new te;x=Gt.patternToChar(Q),this.decodeRowResult+=x,C=u;for(let le of s)u+=le;u=r.getNextSet(u)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let w=0;for(let Q of s)w+=Q;let N=u-C-w;if(u!==c&&N*2<w)throw new te;if(this.usingCheckDigit){let Q=this.decodeRowResult.length-1,le=0;for(let pe=0;pe<Q;pe++)le+=Gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(pe));if(this.decodeRowResult.charAt(Q)!==Gt.ALPHABET_STRING.charAt(le%43))throw new O;this.decodeRowResult=this.decodeRowResult.substring(0,Q)}if(this.decodeRowResult.length===0)throw new te;let R;this.extendedMode?R=Gt.decodeExtended(this.decodeRowResult):R=this.decodeRowResult;let P=(l[1]+l[0])/2,Z=C+w/2;return new ie(R,null,0,[new Re(P,t),new Re(Z,t)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(t,r){let i=t.getSize(),s=t.getNextSet(0),l=0,u=s,c=!1,x=r.length;for(let C=s;C<i;C++)if(t.get(C)!==c)r[l]++;else{if(l===x-1){if(this.toNarrowWidePattern(r)===Gt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((C-u)/2)),u,!1))return[u,C];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,c=!c}throw new te}static toNarrowWidePattern(t){let r=t.length,i=0,s;do{let l=2147483647;for(let x of t)x<l&&x>i&&(l=x);i=l,s=0;let u=0,c=0;for(let x=0;x<r;x++){let C=t[x];C>i&&(c|=1<<r-1-x,s++,u+=C)}if(s===3){for(let x=0;x<r&&s>0;x++){let C=t[x];if(C>i&&(s--,C*2>=u))return-1}return c}}while(s>3);return-1}static patternToChar(t){for(let r=0;r<Gt.CHARACTER_ENCODINGS.length;r++)if(Gt.CHARACTER_ENCODINGS[r]===t)return Gt.ALPHABET_STRING.charAt(r);if(t===Gt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(t){let r=t.length,i="";for(let s=0;s<r;s++){let l=t.charAt(s);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=t.charAt(s+1),c="\0";switch(l){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new Y;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new Y;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new Y;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new Y;break}i+=c,s++}else i+=l}return i}}Gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Gt.ASTERISK_ENCODING=148;class nt extends _t{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,r,i){let s=this.decodeStart(r),l=this.decodeEnd(r),u=new ge;nt.decodeMiddle(r,s[1],l[0],u);let c=u.toString(),x=null;i!=null&&(x=i.get(ee.ALLOWED_LENGTHS)),x==null&&(x=nt.DEFAULT_ALLOWED_LENGTHS);let C=c.length,w=!1,N=0;for(let Z of x){if(C===Z){w=!0;break}Z>N&&(N=Z)}if(!w&&C>N&&(w=!0),!w)throw new Y;const R=[new Re(s[1],t),new Re(l[0],t)];return new ie(c,null,0,R,ve.ITF,new Date().getTime())}static decodeMiddle(t,r,i,s){let l=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(l.fill(0),u.fill(0),c.fill(0);r<i;){_t.recordPattern(t,r,l);for(let C=0;C<5;C++){let w=2*C;u[C]=l[w],c[C]=l[w+1]}let x=nt.decodeDigit(u);s.append(x.toString()),x=this.decodeDigit(c),s.append(x.toString()),l.forEach(function(C){r+=C})}}decodeStart(t){let r=nt.skipWhiteSpace(t),i=nt.findGuardPattern(t,r,nt.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(t,i[0]),i}validateQuietZone(t,r){let i=this.narrowLineWidth*10;i=i<r?i:r;for(let s=r-1;i>0&&s>=0&&!t.get(s);s--)i--;if(i!==0)throw new te}static skipWhiteSpace(t){const r=t.getSize(),i=t.getNextSet(0);if(i===r)throw new te;return i}decodeEnd(t){t.reverse();try{let r=nt.skipWhiteSpace(t),i;try{i=nt.findGuardPattern(t,r,nt.END_PATTERN_REVERSED[0])}catch(l){l instanceof te&&(i=nt.findGuardPattern(t,r,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,i[0]);let s=i[0];return i[0]=t.getSize()-i[1],i[1]=t.getSize()-s,i}finally{t.reverse()}}static findGuardPattern(t,r,i){let s=i.length,l=new Int32Array(s),u=t.getSize(),c=!1,x=0,C=r;l.fill(0);for(let w=r;w<u;w++)if(t.get(w)!==c)l[x]++;else{if(x===s-1){if(_t.patternMatchVariance(l,i,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[C,w];C+=l[0]+l[1],F.arraycopy(l,2,l,0,x-1),l[x-1]=0,l[x]=0,x--}else x++;l[x]=1,c=!c}throw new te}static decodeDigit(t){let r=nt.MAX_AVG_VARIANCE,i=-1,s=nt.PATTERNS.length;for(let l=0;l<s;l++){let u=nt.PATTERNS[l],c=_t.patternMatchVariance(t,u,nt.MAX_INDIVIDUAL_VARIANCE);c<r?(r=c,i=l):c===r&&(i=-1)}if(i>=0)return i%10;throw new te}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class rt extends _t{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let r=!1,i,s=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),i=rt.findGuardPattern(t,s,!1,this.START_END_PATTERN,l);let u=i[0];s=i[1];let c=u-(s-u);c>=0&&(r=t.isRange(c,u,!1))}return i}static checkChecksum(t){return rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return rt.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let s=r-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new Y;i+=l}i*=3;for(let s=r-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new Y;i+=l}return(1e3-i)%10}static decodeEnd(t,r){return rt.findGuardPattern(t,r,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,r,i,s){return this.findGuardPattern(t,r,i,s,new Int32Array(s.length))}static findGuardPattern(t,r,i,s,l){let u=t.getSize();r=i?t.getNextUnset(r):t.getNextSet(r);let c=0,x=r,C=s.length,w=i;for(let N=r;N<u;N++)if(t.get(N)!==w)l[c]++;else{if(c===C-1){if(_t.patternMatchVariance(l,s,rt.MAX_INDIVIDUAL_VARIANCE)<rt.MAX_AVG_VARIANCE)return Int32Array.from([x,N]);x+=l[0]+l[1];let R=l.slice(2,l.length-1);for(let P=0;P<c-1;P++)l[P]=R[P];l[c-1]=0,l[c]=0,c--}else c++;l[c]=1,w=!w}throw new te}static decodeDigit(t,r,i,s){this.recordPattern(t,i,r);let l=this.MAX_AVG_VARIANCE,u=-1,c=s.length;for(let x=0;x<c;x++){let C=s[x],w=_t.patternMatchVariance(r,C,rt.MAX_INDIVIDUAL_VARIANCE);w<l&&(l=w,u=x)}if(u>=0)return u;throw new te}}rt.MAX_AVG_VARIANCE=.48,rt.MAX_INDIVIDUAL_VARIANCE=.7,rt.START_END_PATTERN=Int32Array.from([1,1,1]),rt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),rt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class jr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,s),u=s.toString(),c=jr.parseExtensionString(u),x=[new Re((i[0]+i[1])/2,t),new Re(l,t)],C=new ie(u,null,0,x,ve.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&C.putAllMetadata(c),C}decodeMiddle(t,r,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1],c=0;for(let C=0;C<5&&u<l;C++){let w=rt.decodeDigit(t,s,u,rt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let N of s)u+=N;w>=10&&(c|=1<<4-C),C!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==5)throw new te;let x=this.determineCheckDigit(c);if(jr.extensionChecksum(i.toString())!==x)throw new te;return u}static extensionChecksum(t){let r=t.length,i=0;for(let s=r-2;s>=0;s-=2)i+=t.charAt(s).charCodeAt(0)-48;i*=3;for(let s=r-1;s>=0;s-=2)i+=t.charAt(s).charCodeAt(0)-48;return i*=3,i%10}determineCheckDigit(t){for(let r=0;r<10;r++)if(t===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new te}static parseExtensionString(t){if(t.length!==5)return null;let r=jr.parseExtension5String(t);return r==null?null:new Map([[Me.SUGGESTED_PRICE,r]])}static parseExtension5String(t){let r;switch(t.charAt(0)){case"0":r="";break;case"5":r="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let i=parseInt(t.substring(1)),s=(i/100).toString(),l=i%100,u=l<10?"0"+l:l.toString();return r+s+"."+u}}class C0{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,r,i){let s=this.decodeRowStringBuffer,l=this.decodeMiddle(r,i,s),u=s.toString(),c=C0.parseExtensionString(u),x=[new Re((i[0]+i[1])/2,t),new Re(l,t)],C=new ie(u,null,0,x,ve.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&C.putAllMetadata(c),C}decodeMiddle(t,r,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1],c=0;for(let x=0;x<2&&u<l;x++){let C=rt.decodeDigit(t,s,u,rt.L_AND_G_PATTERNS);i+=String.fromCharCode(48+C%10);for(let w of s)u+=w;C>=10&&(c|=1<<1-x),x!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(i.length!==2)throw new te;if(parseInt(i.toString())%4!==c)throw new te;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(t)]])}}class v0{static decodeRow(t,r,i){let s=rt.findGuardPattern(r,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new jr().decodeRow(t,r,s)}catch{return new C0().decodeRow(t,r,s)}}}v0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class it extends rt{constructor(){super(),this.decodeRowStringBuffer="",it.L_AND_G_PATTERNS=it.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let r=it.L_PATTERNS[t-10],i=new Int32Array(r.length);for(let s=0;s<r.length;s++)i[s]=r[r.length-s-1];it.L_AND_G_PATTERNS[t]=i}}decodeRow(t,r,i){let s=it.findStartGuardPattern(r),l=i==null?null:i.get(ee.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Se=new Re((s[0]+s[1])/2,t);l.foundPossibleResultPoint(Se)}let u=this.decodeMiddle(r,s,this.decodeRowStringBuffer),c=u.rowOffset,x=u.resultString;if(l!=null){const Se=new Re(c,t);l.foundPossibleResultPoint(Se)}let C=this.decodeEnd(r,c);if(l!=null){const Se=new Re((C[0]+C[1])/2,t);l.foundPossibleResultPoint(Se)}let w=C[1],N=w+(w-C[0]);if(N>=r.getSize()||!r.isRange(w,N,!1))throw new te;let R=x.toString();if(R.length<8)throw new Y;if(!it.checkChecksum(R))throw new O;let P=(s[1]+s[0])/2,Z=(C[1]+C[0])/2,Q=this.getBarcodeFormat(),le=[new Re(P,t),new Re(Z,t)],pe=new ie(R,null,0,le,Q,new Date().getTime()),De=0;try{let Se=v0.decodeRow(t,r,C[1]);pe.putMetadata(Me.UPC_EAN_EXTENSION,Se.getText()),pe.putAllMetadata(Se.getResultMetadata()),pe.addResultPoints(Se.getResultPoints()),De=Se.getText().length}catch{}let Be=i==null?null:i.get(ee.ALLOWED_EAN_EXTENSIONS);if(Be!=null){let Se=!1;for(let et in Be)if(De.toString()===et){Se=!0;break}if(!Se)throw new te}return pe}decodeEnd(t,r){return it.findGuardPattern(t,r,!1,it.START_END_PATTERN,new Int32Array(it.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return it.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let r=t.length;if(r===0)return!1;let i=parseInt(t.charAt(r-1),10);return it.getStandardUPCEANChecksum(t.substring(0,r-1))===i}static getStandardUPCEANChecksum(t){let r=t.length,i=0;for(let s=r-1;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new Y;i+=l}i*=3;for(let s=r-2;s>=0;s-=2){let l=t.charAt(s).charCodeAt(0)-48;if(l<0||l>9)throw new Y;i+=l}return(1e3-i)%10}}class Vn extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){let s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1],c=0;for(let C=0;C<6&&u<l;C++){let w=it.decodeDigit(t,s,u,it.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let N of s)u+=N;w>=10&&(c|=1<<5-C)}i=Vn.determineFirstDigit(i,c),u=it.findGuardPattern(t,u,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&u<l;C++){let w=it.decodeDigit(t,s,u,it.L_PATTERNS);i+=String.fromCharCode(48+w);for(let N of s)u+=N}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(t,r){for(let i=0;i<10;i++)if(r===this.FIRST_DIGIT_ENCODINGS[i])return t=String.fromCharCode(48+i)+t,t;throw new te}}Vn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class pr extends it{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,r,i){const s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u=r[1];for(let x=0;x<4&&u<l;x++){let C=it.decodeDigit(t,s,u,it.L_PATTERNS);i+=String.fromCharCode(48+C);for(let w of s)u+=w}u=it.findGuardPattern(t,u,!0,it.MIDDLE_PATTERN,new Int32Array(it.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&u<l;x++){let C=it.decodeDigit(t,s,u,it.L_PATTERNS);i+=String.fromCharCode(48+C);for(let w of s)u+=w}return{rowOffset:u,resultString:i}}getBarcodeFormat(){return ve.EAN_8}}class ai extends it{constructor(){super(...arguments),this.ean13Reader=new Vn}getBarcodeFormat(){return ve.UPC_A}decode(t,r){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,r,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,r,i))}decodeMiddle(t,r,i){return this.ean13Reader.decodeMiddle(t,r,i)}maybeReturnResult(t){let r=t.getText();if(r.charAt(0)==="0"){let i=new ie(r.substring(1),null,null,t.getResultPoints(),ve.UPC_A);return t.getResultMetadata()!=null&&i.putAllMetadata(t.getResultMetadata()),i}else throw new te}reset(){this.ean13Reader.reset()}}class mn extends it{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,r,i){const s=this.decodeMiddleCounters.map(C=>C);s[0]=0,s[1]=0,s[2]=0,s[3]=0;const l=t.getSize();let u=r[1],c=0;for(let C=0;C<6&&u<l;C++){const w=mn.decodeDigit(t,s,u,mn.L_AND_G_PATTERNS);i+=String.fromCharCode(48+w%10);for(let N of s)u+=N;w>=10&&(c|=1<<5-C)}let x=mn.determineNumSysAndCheckDigit(i,c);return{rowOffset:u,resultString:x}}decodeEnd(t,r){return mn.findGuardPatternWithoutCounters(t,r,!0,mn.MIDDLE_END_PATTERN)}checkChecksum(t){return it.checkChecksum(mn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,r){for(let i=0;i<=1;i++)for(let s=0;s<10;s++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][s]){let l=String.fromCharCode(48+i),u=String.fromCharCode(48+s);return l+t+u}throw te.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(t){const r=t.slice(1,7).split("").map(l=>l.charCodeAt(0)),i=new ge;i.append(t.charAt(0));let s=r[5];switch(s){case 0:case 1:case 2:i.appendChars(r,0,2),i.append(s),i.append("0000"),i.appendChars(r,2,3);break;case 3:i.appendChars(r,0,3),i.append("00000"),i.appendChars(r,3,2);break;case 4:i.appendChars(r,0,4),i.append("00000"),i.append(r[4]);break;default:i.appendChars(r,0,5),i.append("0000"),i.append(s);break}return t.length>=8&&i.append(t.charAt(7)),i.toString()}}mn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ri extends _t{constructor(t){super();let r=t==null?null:t.get(ee.POSSIBLE_FORMATS),i=[];d(r)?(i.push(new Vn),i.push(new ai),i.push(new pr),i.push(new mn)):(r.indexOf(ve.EAN_13)>-1&&i.push(new Vn),r.indexOf(ve.UPC_A)>-1&&i.push(new ai),r.indexOf(ve.EAN_8)>-1&&i.push(new pr),r.indexOf(ve.UPC_E)>-1&&i.push(new mn)),this.readers=i}decodeRow(t,r,i){for(let s of this.readers)try{const l=s.decodeRow(t,r,i),u=l.getBarcodeFormat()===ve.EAN_13&&l.getText().charAt(0)==="0",c=i==null?null:i.get(ee.POSSIBLE_FORMATS),x=c==null||c.includes(ve.UPC_A);if(u&&x){const C=l.getRawBytes(),w=new ie(l.getText().substring(1),C,C?C.length:null,l.getResultPoints(),ve.UPC_A);return w.putAllMetadata(l.getResultMetadata()),w}return l}catch{}throw new te}reset(){for(let t of this.readers)t.reset()}}class rn extends _t{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,r){for(let i=0;i<r.length;i++)if(_t.patternMatchVariance(t,r[i],rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return i;throw new te}static count(t){return We.sum(new Int32Array(t))}static increment(t,r){let i=0,s=r[0];for(let l=1;l<t.length;l++)r[l]>s&&(s=r[l],i=l);t[i]++}static decrement(t,r){let i=0,s=r[0];for(let l=1;l<t.length;l++)r[l]<s&&(s=r[l],i=l);t[i]--}static isFinderPattern(t){let r=t[0]+t[1],i=r+t[2]+t[3],s=r/i;if(s>=rn.MIN_FINDER_PATTERN_RATIO&&s<=rn.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of t)c>u&&(u=c),c<l&&(l=c);return u<10*l}return!1}}rn.MAX_AVG_VARIANCE=.2,rn.MAX_INDIVIDUAL_VARIANCE=.45,rn.MIN_FINDER_PATTERN_RATIO=9.5/12,rn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Or{constructor(t,r){this.value=t,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Or))return!1;const r=t;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Rr{constructor(t,r,i,s,l){this.value=t,this.startEnd=r,this.value=t,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new Re(i,l)),this.resultPoints.push(new Re(s,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Rr))return!1;const r=t;return this.value===r.value}hashCode(){return this.value}}class Sn{constructor(){}static getRSSvalue(t,r,i){let s=0;for(let x of t)s+=x;let l=0,u=0,c=t.length;for(let x=0;x<c-1;x++){let C;for(C=1,u|=1<<x;C<t[x];C++,u&=~(1<<x)){let w=Sn.combins(s-C-1,c-x-2);if(i&&u===0&&s-C-(c-x-1)>=c-x-1&&(w-=Sn.combins(s-C-(c-x),c-x-2)),c-x-1>1){let N=0;for(let R=s-C-(c-x-2);R>r;R--)N+=Sn.combins(s-C-R-1,c-x-3);w-=N*(c-1-x)}else s-C>r&&w--;l+=w}s-=C}return l}static combins(t,r){let i,s;t-r>r?(s=r,i=t-r):(s=t-r,i=r);let l=1,u=1;for(let c=t;c>i;c--)l*=c,u<=s&&(l/=u,u++);for(;u<=s;)l/=u,u++;return l}}class $0{static buildBitArray(t){let r=t.length*2-1;t[t.length-1].getRightChar()==null&&(r-=1);let i=12*r,s=new j(i),l=0,c=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)c&1<<x&&s.set(l),l++;for(let x=1;x<t.length;++x){let C=t[x],w=C.getLeftChar().getValue();for(let N=11;N>=0;--N)w&1<<N&&s.set(l),l++;if(C.getRightChar()!=null){let N=C.getRightChar().getValue();for(let R=11;R>=0;--R)N&1<<R&&s.set(l),l++}}return s}}class Yt{constructor(t,r){r?this.decodedInformation=null:(this.finished=t,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xn{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class fn extends Xn{constructor(t,r){super(t),this.value=r}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class Er extends Xn{constructor(t,r,i){super(t),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class tr extends Xn{constructor(t,r,i){if(super(t),r<0||r>10||i<0||i>10)throw new Y;this.firstDigit=r,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===tr.FNC1}isSecondDigitFNC1(){return this.secondDigit===tr.FNC1}isAnyFNC1(){return this.firstDigit===tr.FNC1||this.secondDigit===tr.FNC1}}tr.FNC1=10;class Ie{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new te;let r=t.substring(0,2);for(let l of Ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(2,l[2],t):Ie.processFixedAI(2,l[1],t);if(t.length<3)throw new te;let i=t.substring(0,3);for(let l of Ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(3,l[2],t):Ie.processFixedAI(3,l[1],t);for(let l of Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===i)return l[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,l[2],t):Ie.processFixedAI(4,l[1],t);if(t.length<4)throw new te;let s=t.substring(0,4);for(let l of Ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===Ie.VARIABLE_LENGTH?Ie.processVariableAI(4,l[2],t):Ie.processFixedAI(4,l[1],t);throw new te}static processFixedAI(t,r,i){if(i.length<t)throw new te;let s=i.substring(0,t);if(i.length<t+r)throw new te;let l=i.substring(t,t+r),u=i.substring(t+r),c="("+s+")"+l,x=Ie.parseFieldsInGeneralPurpose(u);return x==null?c:c+x}static processVariableAI(t,r,i){let s=i.substring(0,t),l;i.length<t+r?l=i.length:l=t+r;let u=i.substring(t,l),c=i.substring(l),x="("+s+")"+u,C=Ie.parseFieldsInGeneralPurpose(c);return C==null?x:x+C}}Ie.VARIABLE_LENGTH=[],Ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ie.VARIABLE_LENGTH,20],["22",Ie.VARIABLE_LENGTH,29],["30",Ie.VARIABLE_LENGTH,8],["37",Ie.VARIABLE_LENGTH,8],["90",Ie.VARIABLE_LENGTH,30],["91",Ie.VARIABLE_LENGTH,30],["92",Ie.VARIABLE_LENGTH,30],["93",Ie.VARIABLE_LENGTH,30],["94",Ie.VARIABLE_LENGTH,30],["95",Ie.VARIABLE_LENGTH,30],["96",Ie.VARIABLE_LENGTH,30],["97",Ie.VARIABLE_LENGTH,3],["98",Ie.VARIABLE_LENGTH,30],["99",Ie.VARIABLE_LENGTH,30]],Ie.THREE_DIGIT_DATA_LENGTH=[["240",Ie.VARIABLE_LENGTH,30],["241",Ie.VARIABLE_LENGTH,30],["242",Ie.VARIABLE_LENGTH,6],["250",Ie.VARIABLE_LENGTH,30],["251",Ie.VARIABLE_LENGTH,30],["253",Ie.VARIABLE_LENGTH,17],["254",Ie.VARIABLE_LENGTH,20],["400",Ie.VARIABLE_LENGTH,30],["401",Ie.VARIABLE_LENGTH,30],["402",17],["403",Ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ie.VARIABLE_LENGTH,20],["421",Ie.VARIABLE_LENGTH,15],["422",3],["423",Ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ie.VARIABLE_LENGTH,15],["391",Ie.VARIABLE_LENGTH,18],["392",Ie.VARIABLE_LENGTH,15],["393",Ie.VARIABLE_LENGTH,18],["703",Ie.VARIABLE_LENGTH,30]],Ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ie.VARIABLE_LENGTH,20],["8003",Ie.VARIABLE_LENGTH,30],["8004",Ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ie.VARIABLE_LENGTH,30],["8008",Ie.VARIABLE_LENGTH,12],["8018",18],["8020",Ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ie.VARIABLE_LENGTH,70],["8200",Ie.VARIABLE_LENGTH,70]];class Xt{constructor(t){this.buffer=new ge,this.information=t}decodeAllCodes(t,r){let i=r,s=null;do{let l=this.decodeGeneralPurposeField(i,s),u=Ie.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&t.append(u),l.isRemaining()?s=""+l.getRemainingValue():s=null,i===l.getNewPosition())break;i=l.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let r=t;r<t+3;++r)if(this.information.get(r))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(t,4);return l===0?new tr(this.information.getSize(),tr.FNC1,tr.FNC1):new tr(this.information.getSize(),l-1,tr.FNC1)}let r=this.extractNumericValueFromBitArray(t,7),i=(r-8)/11,s=(r-8)%11;return new tr(t+7,i,s)}extractNumericValueFromBitArray(t,r){return Xt.extractNumericValueFromBitArray(this.information,t,r)}static extractNumericValueFromBitArray(t,r,i){let s=0;for(let l=0;l<i;++l)t.get(r+l)&&(s|=1<<i-l-1);return s}decodeGeneralPurposeField(t,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(t);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new Er(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new Er(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,r;do{let i=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),t=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),t=r.isFinished()):(r=this.parseNumericBlock(),t=r.isFinished()),!(i!==this.current.getPosition())&&!t)break}while(!t);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let r;return t.isSecondDigitFNC1()?r=new Er(this.current.getPosition(),this.buffer.toString()):r=new Er(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Yt(!0,r)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let r=new Er(this.current.getPosition(),this.buffer.toString());return new Yt(!0,r)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Yt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Er(this.current.getPosition(),this.buffer.toString());return new Yt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Yt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let r=new Er(this.current.getPosition(),this.buffer.toString());return new Yt(!0,r)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Yt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<116)return!0;if(t+8>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(t,8);return s>=232&&s<253}decodeIsoIec646(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new fn(t+5,fn.FNC1);if(r>=5&&r<15)return new fn(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,7);if(i>=64&&i<90)return new fn(t+7,""+(i+1));if(i>=90&&i<116)return new fn(t+7,""+(i+7));let s=this.extractNumericValueFromBitArray(t,8),l;switch(s){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new Y}return new fn(t+8,l)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,5);if(r>=5&&r<16)return!0;if(t+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,6);return i>=16&&i<63}decodeAlphanumeric(t){let r=this.extractNumericValueFromBitArray(t,5);if(r===15)return new fn(t+5,fn.FNC1);if(r>=5&&r<15)return new fn(t+5,"0"+(r-5));let i=this.extractNumericValueFromBitArray(t,6);if(i>=32&&i<58)return new fn(t+6,""+(i+33));let s;switch(i){case 58:s="*";break;case 59:s=",";break;case 60:s="-";break;case 61:s=".";break;case 62:s="/";break;default:throw new un("Decoding invalid alphanumeric value: "+i)}return new fn(t+6,s)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<5&&r+t<this.information.getSize();++r)if(r===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+r))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let r=t;r<t+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let r=0;r<4&&r+t<this.information.getSize();++r)if(this.information.get(t+r))return!1;return!0}}class Tn{constructor(t){this.information=t,this.generalDecoder=new Xt(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class an extends Tn{constructor(t){super(t)}encodeCompressedGtin(t,r){t.append("(01)");let i=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,r,i)}encodeCompressedGtinWithoutAI(t,r,i){for(let s=0;s<4;++s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*s,10);l/100===0&&t.append("0"),l/10===0&&t.append("0"),t.append(l)}an.appendCheckDigit(t,i)}static appendCheckDigit(t,r){let i=0;for(let s=0;s<13;s++){let l=t.charAt(s+r).charCodeAt(0)-48;i+=s&1?l:3*l}i=10-i%10,i===10&&(i=0),t.append(i)}}an.GTIN_SIZE=40;class Gr extends an{constructor(t){super(t)}parseInformation(){let t=new ge;t.append("(01)");let r=t.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Gr.HEADER_SIZE,4);return t.append(i),this.encodeCompressedGtinWithoutAI(t,Gr.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(t,Gr.HEADER_SIZE+44)}}Gr.HEADER_SIZE=4;class ea extends Tn{constructor(t){super(t)}parseInformation(){let t=new ge;return this.getGeneralDecoder().decodeAllCodes(t,ea.HEADER_SIZE)}}ea.HEADER_SIZE=5;class ta extends an{constructor(t){super(t)}encodeCompressedWeight(t,r,i){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,i);this.addWeightCode(t,s);let l=this.checkWeight(s),u=1e5;for(let c=0;c<5;++c)l/u===0&&t.append("0"),u/=10;t.append(l)}}class lr extends ta{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=lr.HEADER_SIZE+ta.GTIN_SIZE+lr.WEIGHT_SIZE)throw new te;let t=new ge;return this.encodeCompressedGtin(t,lr.HEADER_SIZE),this.encodeCompressedWeight(t,lr.HEADER_SIZE+ta.GTIN_SIZE,lr.WEIGHT_SIZE),t.toString()}}lr.HEADER_SIZE=5,lr.WEIGHT_SIZE=15;class y0 extends lr{constructor(t){super(t)}addWeightCode(t,r){t.append("(3103)")}checkWeight(t){return t}}class ja extends lr{constructor(t){super(t)}addWeightCode(t,r){r<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Dn extends an{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Dn.HEADER_SIZE+an.GTIN_SIZE)throw new te;let t=new ge;this.encodeCompressedGtin(t,Dn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Dn.HEADER_SIZE+an.GTIN_SIZE,Dn.LAST_DIGIT_SIZE);t.append("(392"),t.append(r),t.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Dn.HEADER_SIZE+an.GTIN_SIZE+Dn.LAST_DIGIT_SIZE,null);return t.append(i.getNewString()),t.toString()}}Dn.HEADER_SIZE=8,Dn.LAST_DIGIT_SIZE=2;class Kt extends an{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Kt.HEADER_SIZE+an.GTIN_SIZE)throw new te;let t=new ge;this.encodeCompressedGtin(t,Kt.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+an.GTIN_SIZE,Kt.LAST_DIGIT_SIZE);t.append("(393"),t.append(r),t.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kt.HEADER_SIZE+an.GTIN_SIZE+Kt.LAST_DIGIT_SIZE,Kt.FIRST_THREE_DIGITS_SIZE);i/100==0&&t.append("0"),i/10==0&&t.append("0"),t.append(i);let s=this.getGeneralDecoder().decodeGeneralPurposeField(Kt.HEADER_SIZE+an.GTIN_SIZE+Kt.LAST_DIGIT_SIZE+Kt.FIRST_THREE_DIGITS_SIZE,null);return t.append(s.getNewString()),t.toString()}}Kt.HEADER_SIZE=8,Kt.LAST_DIGIT_SIZE=2,Kt.FIRST_THREE_DIGITS_SIZE=10;class vt extends ta{constructor(t,r,i){super(t),this.dateCode=i,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE+vt.DATE_SIZE)throw new te;let t=new ge;return this.encodeCompressedGtin(t,vt.HEADER_SIZE),this.encodeCompressedWeight(t,vt.HEADER_SIZE+vt.GTIN_SIZE,vt.WEIGHT_SIZE),this.encodeCompressedDate(t,vt.HEADER_SIZE+vt.GTIN_SIZE+vt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,r){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(r,vt.DATE_SIZE);if(i==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let s=i%32;i/=32;let l=i%12+1;i/=12;let u=i;u/10==0&&t.append("0"),t.append(u),l/10==0&&t.append("0"),t.append(l),s/10==0&&t.append("0"),t.append(s)}addWeightCode(t,r){t.append("("),t.append(this.firstAIdigits),t.append(r/1e5),t.append(")")}checkWeight(t){return t%1e5}}vt.HEADER_SIZE=8,vt.WEIGHT_SIZE=20,vt.DATE_SIZE=16;function si(B){try{if(B.get(1))return new Gr(B);if(!B.get(2))return new ea(B);switch(Xt.extractNumericValueFromBitArray(B,1,4)){case 4:return new y0(B);case 5:return new ja(B)}switch(Xt.extractNumericValueFromBitArray(B,1,5)){case 12:return new Dn(B);case 13:return new Kt(B)}switch(Xt.extractNumericValueFromBitArray(B,1,7)){case 56:return new vt(B,"310","11");case 57:return new vt(B,"320","11");case 58:return new vt(B,"310","13");case 59:return new vt(B,"320","13");case 60:return new vt(B,"310","15");case 61:return new vt(B,"320","15");case 62:return new vt(B,"310","17");case 63:return new vt(B,"320","17")}}catch(t){throw console.log(t),new un("unknown decoder: "+B)}}class Mt{constructor(t,r,i,s){this.leftchar=t,this.rightchar=r,this.finderpattern=i,this.maybeLast=s}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,r){return t instanceof Mt?Mt.equalsOrNull(t.leftchar,r.leftchar)&&Mt.equalsOrNull(t.rightchar,r.rightchar)&&Mt.equalsOrNull(t.finderpattern,r.finderpattern):!1}static equalsOrNull(t,r){return t===null?r===null:Mt.equals(t,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class na{constructor(t,r,i){this.pairs=t,this.rowNumber=r,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,r){return t instanceof na?this.checkEqualitity(t,r)&&t.wasReversed===r.wasReversed:!1}checkEqualitity(t,r){if(!t||!r)return;let i;return t.forEach((s,l)=>{r.forEach(u=>{s.getLeftChar().getValue()===u.getLeftChar().getValue()&&s.getRightChar().getValue()===u.getRightChar().getValue()&&s.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(i=!0)})}),i}}class be extends rn{constructor(t){super(...arguments),this.pairs=new Array(be.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,r,i){this.pairs.length=0,this.startFromEven=!1;try{return be.constructResult(this.decodeRow2pairs(t,r))}catch(s){this.verbose&&console.log(s)}return this.pairs.length=0,this.startFromEven=!0,be.constructResult(this.decodeRow2pairs(t,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,r){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,t))}catch(l){if(l instanceof te){if(!this.pairs.length)throw new te;i=!0}}if(this.checkChecksum())return this.pairs;let s;if(this.rows.length?s=!0:s=!1,this.storeRow(t,!1),s){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new te}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return t&&(this.rows=this.rows.reverse()),r}checkRows(t,r){for(let i=r;i<this.rows.length;i++){let s=this.rows[i];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(s.getPairs()),!be.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(t);l.push(s);try{return this.checkRows(l,i+1)}catch(u){this.verbose&&console.log(u)}}throw new te}static isValidSequence(t){for(let r of be.FINDER_PATTERN_SEQUENCES){if(t.length>r.length)continue;let i=!0;for(let s=0;s<t.length;s++)if(t[s].getFinderPattern().getValue()!=r[s]){i=!1;break}if(i)return!0}return!1}storeRow(t,r){let i=0,s=!1,l=!1;for(;i<this.rows.length;){let u=this.rows[i];if(u.getRowNumber()>t){l=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),i++}l||s||be.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new na(this.pairs,t,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,r){for(let i of r)if(i.getPairs().length!==t.length){for(let s of i.getPairs())for(let l of t)if(Mt.equals(s,l))break}}static isPartialRow(t,r){for(let i of r){let s=!0;for(let l of t){let u=!1;for(let c of i.getPairs())if(l.equals(c)){u=!0;break}if(!u){s=!1;break}}if(s)return!0}return!1}getRows(){return this.rows}static constructResult(t){let r=$0.buildBitArray(t),s=si(r).parseInformation(),l=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[l[0],l[1],u[0],u[1]];return new ie(s,null,null,c,ve.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),r=t.getLeftChar(),i=t.getRightChar();if(i==null)return!1;let s=i.getChecksumPortion(),l=2;for(let c=1;c<this.pairs.size();++c){let x=this.pairs.get(c);s+=x.getLeftChar().getChecksumPortion(),l++;let C=x.getRightChar();C!=null&&(s+=C.getChecksumPortion(),l++)}return s%=211,211*(l-4)+s==r.getValue()}static getNextSecondBar(t,r){let i;return t.get(r)?(i=t.getNextUnset(r),i=t.getNextSet(i)):(i=t.getNextSet(r),i=t.getNextUnset(i)),i}retrieveNextPair(t,r,i){let s=r.length%2==0;this.startFromEven&&(s=!s);let l,u=!0,c=-1;do this.findNextPair(t,r,c),l=this.parseFoundFinderPattern(t,i,s),l==null?c=be.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let x=this.decodeDataCharacter(t,l,s,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new te;let C;try{C=this.decodeDataCharacter(t,l,s,!1)}catch(w){C=null,this.verbose&&console.log(w)}return new Mt(x,C,l,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,r,i){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let l=t.getSize(),u;i>=0?u=i:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let c=r.length%2!=0;this.startFromEven&&(c=!c);let x=!1;for(;u<l&&(x=!t.get(u),!!x);)u++;let C=0,w=u;for(let N=u;N<l;N++)if(t.get(N)!=x)s[C]++;else{if(C==3){if(c&&be.reverseCounters(s),be.isFinderPattern(s)){this.startEnd[0]=w,this.startEnd[1]=N;return}c&&be.reverseCounters(s),w+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,C--}else C++;s[C]=1,x=!x}throw new te}static reverseCounters(t){let r=t.length;for(let i=0;i<r/2;++i){let s=t[i];t[i]=t[r-i-1],t[r-i-1]=s}}parseFoundFinderPattern(t,r,i){let s,l,u;if(i){let C=this.startEnd[0]-1;for(;C>=0&&!t.get(C);)C--;C++,s=this.startEnd[0]-C,l=C,u=this.startEnd[1]}else l=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];let c=this.getDecodeFinderCounters();F.arraycopy(c,0,c,1,c.length-1),c[0]=s;let x;try{x=this.parseFinderValue(c,be.FINDER_PATTERNS)}catch{return null}return new Rr(x,[l,u],l,u,r)}decodeDataCharacter(t,r,i,s){let l=this.getDataCharacterCounters();for(let Tt=0;Tt<l.length;Tt++)l[Tt]=0;if(s)be.recordPatternInReverse(t,r.getStartEnd()[0],l);else{be.recordPattern(t,r.getStartEnd()[1],l);for(let Tt=0,vn=l.length-1;Tt<vn;Tt++,vn--){let Wn=l[Tt];l[Tt]=l[vn],l[vn]=Wn}}let u=17,c=We.sum(new Int32Array(l))/u,x=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(c-x)/x>.3)throw new te;let C=this.getOddCounts(),w=this.getEvenCounts(),N=this.getOddRoundingErrors(),R=this.getEvenRoundingErrors();for(let Tt=0;Tt<l.length;Tt++){let vn=1*l[Tt]/c,Wn=vn+.5;if(Wn<1){if(vn<.3)throw new te;Wn=1}else if(Wn>8){if(vn>8.7)throw new te;Wn=8}let fi=Tt/2;Tt&1?(w[fi]=Wn,R[fi]=vn-Wn):(C[fi]=Wn,N[fi]=vn-Wn)}this.adjustOddEvenCounts(u);let P=4*r.getValue()+(i?0:2)+(s?0:1)-1,Z=0,Q=0;for(let Tt=C.length-1;Tt>=0;Tt--){if(be.isNotA1left(r,i,s)){let vn=be.WEIGHTS[P][2*Tt];Q+=C[Tt]*vn}Z+=C[Tt]}let le=0;for(let Tt=w.length-1;Tt>=0;Tt--)if(be.isNotA1left(r,i,s)){let vn=be.WEIGHTS[P][2*Tt+1];le+=w[Tt]*vn}let pe=Q+le;if(Z&1||Z>13||Z<4)throw new te;let De=(13-Z)/2,Be=be.SYMBOL_WIDEST[De],Se=9-Be,et=Sn.getRSSvalue(C,Be,!0),Xe=Sn.getRSSvalue(w,Se,!1),Rn=be.EVEN_TOTAL_SUBSET[De],rr=be.GSUM[De],In=et*Rn+Xe+rr;return new Or(In,pe)}static isNotA1left(t,r,i){return!(t.getValue()==0&&r&&i)}adjustOddEvenCounts(t){let r=We.sum(new Int32Array(this.getOddCounts())),i=We.sum(new Int32Array(this.getEvenCounts())),s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let u=!1,c=!1;i>13?c=!0:i<4&&(u=!0);let x=r+i-t,C=(r&1)==1,w=(i&1)==0;if(x==1)if(C){if(w)throw new te;l=!0}else{if(!w)throw new te;c=!0}else if(x==-1)if(C){if(w)throw new te;s=!0}else{if(!w)throw new te;u=!0}else if(x==0){if(C){if(!w)throw new te;r<i?(s=!0,c=!0):(l=!0,u=!0)}else if(w)throw new te}else throw new te;if(s){if(l)throw new te;be.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&be.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new te;be.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&be.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}be.SYMBOL_WIDEST=[7,5,4,3,1],be.EVEN_TOTAL_SUBSET=[4,20,52,104,204],be.GSUM=[0,348,1388,2948,3988],be.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],be.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],be.FINDER_PAT_A=0,be.FINDER_PAT_B=1,be.FINDER_PAT_C=2,be.FINDER_PAT_D=3,be.FINDER_PAT_E=4,be.FINDER_PAT_F=5,be.FINDER_PATTERN_SEQUENCES=[[be.FINDER_PAT_A,be.FINDER_PAT_A],[be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B],[be.FINDER_PAT_A,be.FINDER_PAT_C,be.FINDER_PAT_B,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_C],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_E,be.FINDER_PAT_B,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F],[be.FINDER_PAT_A,be.FINDER_PAT_A,be.FINDER_PAT_B,be.FINDER_PAT_B,be.FINDER_PAT_C,be.FINDER_PAT_D,be.FINDER_PAT_D,be.FINDER_PAT_E,be.FINDER_PAT_E,be.FINDER_PAT_F,be.FINDER_PAT_F]],be.MAX_PAIRS=11;class li extends Or{constructor(t,r,i){super(t,r),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class bt extends rn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,r,i){const s=this.decodePair(r,!1,t,i);bt.addOrTally(this.possibleLeftPairs,s),r.reverse();let l=this.decodePair(r,!0,t,i);bt.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&bt.checkChecksum(u,c))return bt.constructResult(u,c)}throw new te}static addOrTally(t,r){if(r==null)return;let i=!1;for(let s of t)if(s.getValue()===r.getValue()){s.incrementCount(),i=!0;break}i||t.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,r){let i=4537077*t.getValue()+r.getValue(),s=new String(i).toString(),l=new ge;for(let C=13-s.length;C>0;C--)l.append("0");l.append(s);let u=0;for(let C=0;C<13;C++){let w=l.charAt(C).charCodeAt(0)-48;u+=C&1?w:3*w}u=10-u%10,u===10&&(u=0),l.append(u.toString());let c=t.getFinderPattern().getResultPoints(),x=r.getFinderPattern().getResultPoints();return new ie(l.toString(),null,0,[c[0],c[1],x[0],x[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(t,r){let i=(t.getChecksumPortion()+16*r.getChecksumPortion())%79,s=9*t.getFinderPattern().getValue()+r.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,i===s}decodePair(t,r,i,s){try{let l=this.findFinderPattern(t,r),u=this.parseFoundFinderPattern(t,i,r,l),c=s==null?null:s.get(ee.NEED_RESULT_POINT_CALLBACK);if(c!=null){let w=(l[0]+l[1])/2;r&&(w=t.getSize()-1-w),c.foundPossibleResultPoint(new Re(w,i))}let x=this.decodeDataCharacter(t,u,!0),C=this.decodeDataCharacter(t,u,!1);return new li(1597*x.getValue()+C.getValue(),x.getChecksumPortion()+4*C.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,r,i){let s=this.getDataCharacterCounters();for(let le=0;le<s.length;le++)s[le]=0;if(i)_t.recordPatternInReverse(t,r.getStartEnd()[0],s);else{_t.recordPattern(t,r.getStartEnd()[1]+1,s);for(let le=0,pe=s.length-1;le<pe;le++,pe--){let De=s[le];s[le]=s[pe],s[pe]=De}}let l=i?16:15,u=We.sum(new Int32Array(s))/l,c=this.getOddCounts(),x=this.getEvenCounts(),C=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors();for(let le=0;le<s.length;le++){let pe=s[le]/u,De=Math.floor(pe+.5);De<1?De=1:De>8&&(De=8);let Be=Math.floor(le/2);le&1?(x[Be]=De,w[Be]=pe-De):(c[Be]=De,C[Be]=pe-De)}this.adjustOddEvenCounts(i,l);let N=0,R=0;for(let le=c.length-1;le>=0;le--)R*=9,R+=c[le],N+=c[le];let P=0,Z=0;for(let le=x.length-1;le>=0;le--)P*=9,P+=x[le],Z+=x[le];let Q=R+3*P;if(i){if(N&1||N>12||N<4)throw new te;let le=(12-N)/2,pe=bt.OUTSIDE_ODD_WIDEST[le],De=9-pe,Be=Sn.getRSSvalue(c,pe,!1),Se=Sn.getRSSvalue(x,De,!0),et=bt.OUTSIDE_EVEN_TOTAL_SUBSET[le],Xe=bt.OUTSIDE_GSUM[le];return new Or(Be*et+Se+Xe,Q)}else{if(Z&1||Z>10||Z<4)throw new te;let le=(10-Z)/2,pe=bt.INSIDE_ODD_WIDEST[le],De=9-pe,Be=Sn.getRSSvalue(c,pe,!0),Se=Sn.getRSSvalue(x,De,!1),et=bt.INSIDE_ODD_TOTAL_SUBSET[le],Xe=bt.INSIDE_GSUM[le];return new Or(Se*et+Be+Xe,Q)}}findFinderPattern(t,r){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let s=t.getSize(),l=!1,u=0;for(;u<s&&(l=!t.get(u),r!==l);)u++;let c=0,x=u;for(let C=u;C<s;C++)if(t.get(C)!==l)i[c]++;else{if(c===3){if(rn.isFinderPattern(i))return[x,C];x+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,l=!l}throw new te}parseFoundFinderPattern(t,r,i,s){let l=t.get(s[0]),u=s[0]-1;for(;u>=0&&l!==t.get(u);)u--;u++;const c=s[0]-u,x=this.getDecodeFinderCounters(),C=new Int32Array(x.length);F.arraycopy(x,0,C,1,x.length-1),C[0]=c;const w=this.parseFinderValue(C,bt.FINDER_PATTERNS);let N=u,R=s[1];return i&&(N=t.getSize()-1-N,R=t.getSize()-1-R),new Rr(w,[u,s[1]],N,R,r)}adjustOddEvenCounts(t,r){let i=We.sum(new Int32Array(this.getOddCounts())),s=We.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,c=!1,x=!1;t?(i>12?u=!0:i<4&&(l=!0),s>12?x=!0:s<4&&(c=!0)):(i>11?u=!0:i<5&&(l=!0),s>10?x=!0:s<4&&(c=!0));let C=i+s-r,w=(i&1)===(t?1:0),N=(s&1)===1;if(C===1)if(w){if(N)throw new te;u=!0}else{if(!N)throw new te;x=!0}else if(C===-1)if(w){if(N)throw new te;l=!0}else{if(!N)throw new te;c=!0}else if(C===0){if(w){if(!N)throw new te;i<s?(l=!0,x=!0):(u=!0,c=!0)}else if(N)throw new te}else throw new te;if(l){if(u)throw new te;rn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&rn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(x)throw new te;rn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&rn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],bt.OUTSIDE_GSUM=[0,161,961,2015,2715],bt.INSIDE_GSUM=[0,336,1036,1516],bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],bt.INSIDE_ODD_WIDEST=[2,4,6,8],bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class zn extends _t{constructor(t,r){super(),this.readers=[],this.verbose=r===!0;const i=t?t.get(ee.POSSIBLE_FORMATS):null,s=t&&t.get(ee.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ve.EAN_13)||i.includes(ve.UPC_A)||i.includes(ve.EAN_8)||i.includes(ve.UPC_E))&&this.readers.push(new Ri(t)),i.includes(ve.CODE_39)&&this.readers.push(new Gt(s)),i.includes(ve.CODE_128)&&this.readers.push(new _e),i.includes(ve.ITF)&&this.readers.push(new nt),i.includes(ve.RSS_14)&&this.readers.push(new bt),i.includes(ve.RSS_EXPANDED)&&this.readers.push(new be(this.verbose))):(this.readers.push(new Ri(t)),this.readers.push(new Gt),this.readers.push(new Ri(t)),this.readers.push(new _e),this.readers.push(new nt),this.readers.push(new bt),this.readers.push(new be(this.verbose)))}decodeRow(t,r,i){for(let s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(t,r,i)}catch{}throw new te}reset(){this.readers.forEach(t=>t.reset())}}class Bo extends de{constructor(t=500,r){super(new zn(r),t,r)}}class At{constructor(t,r,i){this.ecCodewords=t,this.ecBlocks=[r],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(t,r,i,s,l,u){this.versionNumber=t,this.symbolSizeRows=r,this.symbolSizeColumns=i,this.dataRegionSizeRows=s,this.dataRegionSizeColumns=l,this.ecBlocks=u;let c=0;const x=u.getECCodewords(),C=u.getECBlocks();for(let w of C)c+=w.getCount()*(w.getDataCodewords()+x);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,r){if(t&1||r&1)throw new Y;for(let i of ot.VERSIONS)if(i.symbolSizeRows===t&&i.symbolSizeColumns===r)return i;throw new Y}toString(){return""+this.versionNumber}static buildVersions(){return[new ot(1,10,10,8,8,new At(5,new xt(1,3))),new ot(2,12,12,10,10,new At(7,new xt(1,5))),new ot(3,14,14,12,12,new At(10,new xt(1,8))),new ot(4,16,16,14,14,new At(12,new xt(1,12))),new ot(5,18,18,16,16,new At(14,new xt(1,18))),new ot(6,20,20,18,18,new At(18,new xt(1,22))),new ot(7,22,22,20,20,new At(20,new xt(1,30))),new ot(8,24,24,22,22,new At(24,new xt(1,36))),new ot(9,26,26,24,24,new At(28,new xt(1,44))),new ot(10,32,32,14,14,new At(36,new xt(1,62))),new ot(11,36,36,16,16,new At(42,new xt(1,86))),new ot(12,40,40,18,18,new At(48,new xt(1,114))),new ot(13,44,44,20,20,new At(56,new xt(1,144))),new ot(14,48,48,22,22,new At(68,new xt(1,174))),new ot(15,52,52,24,24,new At(42,new xt(2,102))),new ot(16,64,64,14,14,new At(56,new xt(2,140))),new ot(17,72,72,16,16,new At(36,new xt(4,92))),new ot(18,80,80,18,18,new At(48,new xt(4,114))),new ot(19,88,88,20,20,new At(56,new xt(4,144))),new ot(20,96,96,22,22,new At(68,new xt(4,174))),new ot(21,104,104,24,24,new At(56,new xt(6,136))),new ot(22,120,120,18,18,new At(68,new xt(6,175))),new ot(23,132,132,20,20,new At(62,new xt(8,163))),new ot(24,144,144,22,22,new At(62,new xt(8,156),new xt(2,155))),new ot(25,8,18,6,16,new At(7,new xt(1,5))),new ot(26,8,32,6,14,new At(11,new xt(1,10))),new ot(27,12,26,10,24,new At(14,new xt(1,16))),new ot(28,12,36,10,16,new At(18,new xt(1,22))),new ot(29,16,36,14,16,new At(24,new xt(1,32))),new ot(30,16,48,14,22,new At(28,new xt(1,49)))]}}ot.VERSIONS=ot.buildVersions();class Ii{constructor(t){const r=t.getHeight();if(r<8||r>144||r&1)throw new Y;this.version=Ii.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const r=t.getHeight(),i=t.getWidth();return ot.getVersionForDimensions(r,i)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let r=0,i=4,s=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,x=!1,C=!1,w=!1;do if(i===l&&s===0&&!c)t[r++]=this.readCorner1(l,u)&255,i-=2,s+=2,c=!0;else if(i===l-2&&s===0&&u&3&&!x)t[r++]=this.readCorner2(l,u)&255,i-=2,s+=2,x=!0;else if(i===l+4&&s===2&&!(u&7)&&!C)t[r++]=this.readCorner3(l,u)&255,i-=2,s+=2,C=!0;else if(i===l-2&&s===0&&(u&7)===4&&!w)t[r++]=this.readCorner4(l,u)&255,i-=2,s+=2,w=!0;else{do i<l&&s>=0&&!this.readMappingMatrix.get(s,i)&&(t[r++]=this.readUtah(i,s,l,u)&255),i-=2,s+=2;while(i>=0&&s<u);i+=1,s+=3;do i>=0&&s<u&&!this.readMappingMatrix.get(s,i)&&(t[r++]=this.readUtah(i,s,l,u)&255),i+=2,s-=2;while(i<l&&s>=0);i+=3,s+=1}while(i<l||s<u);if(r!==this.version.getTotalCodewords())throw new Y;return t}readModule(t,r,i,s){return t<0&&(t+=i,r+=4-(i+4&7)),r<0&&(r+=s,t+=4-(s+4&7)),this.readMappingMatrix.set(r,t),this.mappingBitMatrix.get(r,t)}readUtah(t,r,i,s){let l=0;return this.readModule(t-2,r-2,i,s)&&(l|=1),l<<=1,this.readModule(t-2,r-1,i,s)&&(l|=1),l<<=1,this.readModule(t-1,r-2,i,s)&&(l|=1),l<<=1,this.readModule(t-1,r-1,i,s)&&(l|=1),l<<=1,this.readModule(t-1,r,i,s)&&(l|=1),l<<=1,this.readModule(t,r-2,i,s)&&(l|=1),l<<=1,this.readModule(t,r-1,i,s)&&(l|=1),l<<=1,this.readModule(t,r,i,s)&&(l|=1),l}readCorner1(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,1,t,r)&&(i|=1),i<<=1,this.readModule(t-1,2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}readCorner2(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-4,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner3(t,r){let i=0;return this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(0,r-3,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-3,t,r)&&(i|=1),i<<=1,this.readModule(1,r-2,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i}readCorner4(t,r){let i=0;return this.readModule(t-3,0,t,r)&&(i|=1),i<<=1,this.readModule(t-2,0,t,r)&&(i|=1),i<<=1,this.readModule(t-1,0,t,r)&&(i|=1),i<<=1,this.readModule(0,r-2,t,r)&&(i|=1),i<<=1,this.readModule(0,r-1,t,r)&&(i|=1),i<<=1,this.readModule(1,r-1,t,r)&&(i|=1),i<<=1,this.readModule(2,r-1,t,r)&&(i|=1),i<<=1,this.readModule(3,r-1,t,r)&&(i|=1),i}extractDataRegion(t){const r=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(t.getHeight()!==r)throw new T("Dimension of bitMatrix must match the version size");const s=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/s|0,c=i/l|0,x=u*s,C=c*l,w=new Ne(C,x);for(let N=0;N<u;++N){const R=N*s;for(let P=0;P<c;++P){const Z=P*l;for(let Q=0;Q<s;++Q){const le=N*(s+2)+1+Q,pe=R+Q;for(let De=0;De<l;++De){const Be=P*(l+2)+1+De;if(t.get(Be,le)){const Se=Z+De;w.set(Se,pe)}}}}}return w}}class Li{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r){const i=r.getECBlocks();let s=0;const l=i.getECBlocks();for(let Q of l)s+=Q.getCount();const u=new Array(s);let c=0;for(let Q of l)for(let le=0;le<Q.getCount();le++){const pe=Q.getDataCodewords(),De=i.getECCodewords()+pe;u[c++]=new Li(pe,new Uint8Array(De))}const C=u[0].codewords.length-i.getECCodewords(),w=C-1;let N=0;for(let Q=0;Q<w;Q++)for(let le=0;le<c;le++)u[le].codewords[Q]=t[N++];const R=r.getVersionNumber()===24,P=R?8:c;for(let Q=0;Q<P;Q++)u[Q].codewords[C-1]=t[N++];const Z=u[0].codewords.length;for(let Q=C;Q<Z;Q++)for(let le=0;le<c;le++){const pe=R?(le+8)%c:le,De=R&&pe>7?Q-1:Q;u[pe].codewords[De]=t[N++]}if(N!==t.length)throw new T;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class or{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new T(""+t);let r=0,i=this.bitOffset,s=this.byteOffset;const l=this.bytes;if(i>0){const u=8-i,c=t<u?t:u,x=u-c,C=255>>8-c<<x;r=(l[s]&C)>>x,t-=c,i+=c,i===8&&(i=0,s++)}if(t>0){for(;t>=8;)r=r<<8|l[s]&255,s++,t-=8;if(t>0){const u=8-t,c=255>>u<<u;r=r<<t|(l[s]&c)>>u,i+=t}}return this.bitOffset=i,this.byteOffset=s,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Et;(function(B){B[B.PAD_ENCODE=0]="PAD_ENCODE",B[B.ASCII_ENCODE=1]="ASCII_ENCODE",B[B.C40_ENCODE=2]="C40_ENCODE",B[B.TEXT_ENCODE=3]="TEXT_ENCODE",B[B.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",B[B.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",B[B.BASE256_ENCODE=6]="BASE256_ENCODE"})(Et||(Et={}));class Ir{static decode(t){const r=new or(t),i=new ge,s=new ge,l=new Array;let u=Et.ASCII_ENCODE;do if(u===Et.ASCII_ENCODE)u=this.decodeAsciiSegment(r,i,s);else{switch(u){case Et.C40_ENCODE:this.decodeC40Segment(r,i);break;case Et.TEXT_ENCODE:this.decodeTextSegment(r,i);break;case Et.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,i);break;case Et.EDIFACT_ENCODE:this.decodeEdifactSegment(r,i);break;case Et.BASE256_ENCODE:this.decodeBase256Segment(r,i,l);break;default:throw new Y}u=Et.ASCII_ENCODE}while(u!==Et.PAD_ENCODE&&r.available()>0);return s.length()>0&&i.append(s.toString()),new pt(t,i.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(t,r,i){let s=!1;do{let l=t.readBits(8);if(l===0)throw new Y;if(l<=128)return s&&(l+=128),r.append(String.fromCharCode(l-1)),Et.ASCII_ENCODE;if(l===129)return Et.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return Et.C40_ENCODE;case 231:return Et.BASE256_ENCODE;case 232:r.append("");break;case 233:case 234:break;case 235:s=!0;break;case 236:r.append("[)>05"),i.insert(0,"");break;case 237:r.append("[)>06"),i.insert(0,"");break;case 238:return Et.ANSIX12_ENCODE;case 239:return Et.TEXT_ENCODE;case 240:return Et.EDIFACT_ENCODE;case 241:break;default:if(l!==254||t.available()!==0)throw new Y;break}}while(t.available()>0);return Et.ASCII_ENCODE}static decodeC40Segment(t,r){let i=!1;const s=[];let l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),s);for(let c=0;c<3;c++){const x=s[c];switch(l){case 0:if(x<3)l=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[x];i?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),i=!1):r.append(C)}else throw new Y;break;case 1:i?(r.append(String.fromCharCode(x+128)),i=!1):r.append(String.fromCharCode(x)),l=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[x];i?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),i=!1):r.append(C)}else switch(x){case 27:r.append("");break;case 30:i=!0;break;default:throw new Y}l=0;break;case 3:i?(r.append(String.fromCharCode(x+224)),i=!1):r.append(String.fromCharCode(x+96)),l=0;break;default:throw new Y}}}while(t.available()>0)}static decodeTextSegment(t,r){let i=!1,s=[],l=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),s);for(let c=0;c<3;c++){const x=s[c];switch(l){case 0:if(x<3)l=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[x];i?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),i=!1):r.append(C)}else throw new Y;break;case 1:i?(r.append(String.fromCharCode(x+128)),i=!1):r.append(String.fromCharCode(x)),l=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[x];i?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),i=!1):r.append(C)}else switch(x){case 27:r.append("");break;case 30:i=!0;break;default:throw new Y}l=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[x];i?(r.append(String.fromCharCode(C.charCodeAt(0)+128)),i=!1):r.append(C),l=0}else throw new Y;break;default:throw new Y}}}while(t.available()>0)}static decodeAnsiX12Segment(t,r){const i=[];do{if(t.available()===8)return;const s=t.readBits(8);if(s===254)return;this.parseTwoBytes(s,t.readBits(8),i);for(let l=0;l<3;l++){const u=i[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new Y;break}}}while(t.available()>0)}static parseTwoBytes(t,r,i){let s=(t<<8)+r-1,l=Math.floor(s/1600);i[0]=l,s-=l*1600,l=Math.floor(s/40),i[1]=l,i[2]=s-l*40}static decodeEdifactSegment(t,r){do{if(t.available()<=16)return;for(let i=0;i<4;i++){let s=t.readBits(6);if(s===31){const l=8-t.getBitOffset();l!==8&&t.readBits(l);return}s&32||(s|=64),r.append(String.fromCharCode(s))}}while(t.available()>0)}static decodeBase256Segment(t,r,i){let s=1+t.getByteOffset();const l=this.unrandomize255State(t.readBits(8),s++);let u;if(l===0?u=t.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(t.readBits(8),s++),u<0)throw new Y;const c=new Uint8Array(u);for(let x=0;x<u;x++){if(t.available()<8)throw new Y;c[x]=this.unrandomize255State(t.readBits(8),s++)}i.push(c);try{r.append(se.decode(c,ue.ISO88591))}catch(x){throw new un("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,r){const i=149*r%255+1,s=t-i;return s>=0?s:s+256}}Ir.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ir.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ir.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ir.TEXT_SHIFT2_SET_CHARS=Ir.C40_SHIFT2_SET_CHARS,Ir.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class No{constructor(){this.rsDecoder=new bn(Ye.DATA_MATRIX_FIELD_256)}decode(t){const r=new Ii(t),i=r.getVersion(),s=r.readCodewords(),l=Li.getDataBlocks(s,i);let u=0;for(let C of l)u+=C.getNumDataCodewords();const c=new Uint8Array(u),x=l.length;for(let C=0;C<x;C++){const w=l[C],N=w.getCodewords(),R=w.getNumDataCodewords();this.correctErrors(N,R);for(let P=0;P<R;P++)c[P*x+C]=N[P]}return Ir.decode(c)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new O}for(let s=0;s<r;s++)t[s]=i[s]}}class Ft{constructor(t){this.image=t,this.rectangleDetector=new Ht(this.image)}detect(){const t=this.rectangleDetector.detect();let r=this.detectSolid1(t);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new te;r=this.shiftToModuleCenter(r);const i=r[0],s=r[1],l=r[2],u=r[3];let c=this.transitionsBetween(i,u)+1,x=this.transitionsBetween(l,u)+1;(c&1)===1&&(c+=1),(x&1)===1&&(x+=1),4*c<7*x&&4*x<7*c&&(c=x=Math.max(c,x));let C=Ft.sampleGrid(this.image,i,s,l,u,c,x);return new En(C,[i,s,l,u])}static shiftPoint(t,r,i){let s=(r.getX()-t.getX())/(i+1),l=(r.getY()-t.getY())/(i+1);return new Re(t.getX()+s,t.getY()+l)}static moveAway(t,r,i){let s=t.getX(),l=t.getY();return s<r?s-=1:s+=1,l<i?l-=1:l+=1,new Re(s,l)}detectSolid1(t){let r=t[0],i=t[1],s=t[3],l=t[2],u=this.transitionsBetween(r,i),c=this.transitionsBetween(i,s),x=this.transitionsBetween(s,l),C=this.transitionsBetween(l,r),w=u,N=[l,r,i,s];return w>c&&(w=c,N[0]=r,N[1]=i,N[2]=s,N[3]=l),w>x&&(w=x,N[0]=i,N[1]=s,N[2]=l,N[3]=r),w>C&&(N[0]=s,N[1]=l,N[2]=r,N[3]=i),N}detectSolid2(t){let r=t[0],i=t[1],s=t[2],l=t[3],u=this.transitionsBetween(r,l),c=Ft.shiftPoint(i,s,(u+1)*4),x=Ft.shiftPoint(s,i,(u+1)*4),C=this.transitionsBetween(c,r),w=this.transitionsBetween(x,l);return C<w?(t[0]=r,t[1]=i,t[2]=s,t[3]=l):(t[0]=i,t[1]=s,t[2]=l,t[3]=r),t}correctTopRight(t){let r=t[0],i=t[1],s=t[2],l=t[3],u=this.transitionsBetween(r,l),c=this.transitionsBetween(i,l),x=Ft.shiftPoint(r,i,(c+1)*4),C=Ft.shiftPoint(s,i,(u+1)*4);u=this.transitionsBetween(x,l),c=this.transitionsBetween(C,l);let w=new Re(l.getX()+(s.getX()-i.getX())/(u+1),l.getY()+(s.getY()-i.getY())/(u+1)),N=new Re(l.getX()+(r.getX()-i.getX())/(c+1),l.getY()+(r.getY()-i.getY())/(c+1));if(!this.isValid(w))return this.isValid(N)?N:null;if(!this.isValid(N))return w;let R=this.transitionsBetween(x,w)+this.transitionsBetween(C,w),P=this.transitionsBetween(x,N)+this.transitionsBetween(C,N);return R>P?w:N}shiftToModuleCenter(t){let r=t[0],i=t[1],s=t[2],l=t[3],u=this.transitionsBetween(r,l)+1,c=this.transitionsBetween(s,l)+1,x=Ft.shiftPoint(r,i,c*4),C=Ft.shiftPoint(s,i,u*4);u=this.transitionsBetween(x,l)+1,c=this.transitionsBetween(C,l)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let w=(r.getX()+i.getX()+s.getX()+l.getX())/4,N=(r.getY()+i.getY()+s.getY()+l.getY())/4;r=Ft.moveAway(r,w,N),i=Ft.moveAway(i,w,N),s=Ft.moveAway(s,w,N),l=Ft.moveAway(l,w,N);let R,P;return x=Ft.shiftPoint(r,i,c*4),x=Ft.shiftPoint(x,l,u*4),R=Ft.shiftPoint(i,r,c*4),R=Ft.shiftPoint(R,s,u*4),C=Ft.shiftPoint(s,l,c*4),C=Ft.shiftPoint(C,i,u*4),P=Ft.shiftPoint(l,s,c*4),P=Ft.shiftPoint(P,r,u*4),[x,R,C,P]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,r,i,s,l,u,c){return Yn.getInstance().sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY(),i.getX(),i.getY())}transitionsBetween(t,r){let i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),c=Math.abs(u-s)>Math.abs(l-i);if(c){let Q=i;i=s,s=Q,Q=l,l=u,u=Q}let x=Math.abs(l-i),C=Math.abs(u-s),w=-x/2,N=s<u?1:-1,R=i<l?1:-1,P=0,Z=this.image.get(c?s:i,c?i:s);for(let Q=i,le=s;Q!==l;Q+=R){let pe=this.image.get(c?le:Q,c?Q:le);if(pe!==Z&&(P++,Z=pe),w+=C,w>0){if(le===u)break;le+=N,w-=x}}return P}}class Lr{constructor(){this.decoder=new No}decode(t,r=null){let i,s;if(r!=null&&r.has(ee.PURE_BARCODE)){const C=Lr.extractPureBits(t.getBlackMatrix());i=this.decoder.decode(C),s=Lr.NO_POINTS}else{const C=new Ft(t.getBlackMatrix()).detect();i=this.decoder.decode(C.getBits()),s=C.getPoints()}const l=i.getRawBytes(),u=new ie(i.getText(),l,8*l.length,s,ve.DATA_MATRIX,F.currentTimeMillis()),c=i.getByteSegments();c!=null&&u.putMetadata(Me.BYTE_SEGMENTS,c);const x=i.getECLevel();return x!=null&&u.putMetadata(Me.ERROR_CORRECTION_LEVEL,x),u}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r==null||i==null)throw new te;const s=this.moduleSize(r,t);let l=r[1];const u=i[1];let c=r[0];const C=(i[0]-c+1)/s,w=(u-l+1)/s;if(C<=0||w<=0)throw new te;const N=s/2;l+=N,c+=N;const R=new Ne(C,w);for(let P=0;P<w;P++){const Z=l+P*s;for(let Q=0;Q<C;Q++)t.get(c+Q*s,Z)&&R.set(Q,P)}return R}static moduleSize(t,r){const i=r.getWidth();let s=t[0];const l=t[1];for(;s<i&&r.get(s,l);)s++;if(s===i)throw new te;const u=s-t[0];if(u===0)throw new te;return u}}Lr.NO_POINTS=[];class ra extends de{constructor(t=500){super(new Lr,t)}}var Fi;(function(B){B[B.L=0]="L",B[B.M=1]="M",B[B.Q=2]="Q",B[B.H=3]="H"})(Fi||(Fi={}));class $e{constructor(t,r,i){this.value=t,this.stringValue=r,this.bits=i,$e.FOR_BITS.set(i,this),$e.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return $e.L;case"M":return $e.M;case"Q":return $e.Q;case"H":return $e.H;default:throw new y(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof $e))return!1;const r=t;return this.value===r.value}static forBits(t){if(t<0||t>=$e.FOR_BITS.size)throw new T;return $e.FOR_BITS.get(t)}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.L=new $e(Fi.L,"L",1),$e.M=new $e(Fi.M,"M",0),$e.Q=new $e(Fi.Q,"Q",3),$e.H=new $e(Fi.H,"H",2);class hn{constructor(t){this.errorCorrectionLevel=$e.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,r){return k.bitCount(t^r)}static decodeFormatInformation(t,r){const i=hn.doDecodeFormatInformation(t,r);return i!==null?i:hn.doDecodeFormatInformation(t^hn.FORMAT_INFO_MASK_QR,r^hn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,r){let i=Number.MAX_SAFE_INTEGER,s=0;for(const l of hn.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===t||u===r)return new hn(l[1]);let c=hn.numBitsDiffering(t,u);c<i&&(s=l[1],i=c),t!==r&&(c=hn.numBitsDiffering(r,u),c<i&&(s=l[1],i=c))}return i<=3?new hn(s):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof hn))return!1;const r=t;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}hn.FORMAT_INFO_MASK_QR=21522,hn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(t,...r){this.ecCodewordsPerBlock=t,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const r=this.ecBlocks;for(const i of r)t+=i.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(t,r){this.count=t,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(t,r,...i){this.versionNumber=t,this.alignmentPatternCenters=r,this.ecBlocks=i;let s=0;const l=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();for(const c of u)s+=c.getCount()*(c.getDataCodewords()+l);this.totalCodewords=s}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new Y;try{return this.getVersionForNumber((t-17)/4)}catch{throw new Y}}static getVersionForNumber(t){if(t<1||t>40)throw new T;return Ue.VERSIONS[t-1]}static decodeVersionInformation(t){let r=Number.MAX_SAFE_INTEGER,i=0;for(let s=0;s<Ue.VERSION_DECODE_INFO.length;s++){const l=Ue.VERSION_DECODE_INFO[s];if(l===t)return Ue.getVersionForNumber(s+7);const u=hn.numBitsDiffering(t,l);u<r&&(i=s+7,r=u)}return r<=3?Ue.getVersionForNumber(i):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),r=new Ne(t);r.setRegion(0,0,9,9),r.setRegion(t-8,0,8,9),r.setRegion(0,t-8,9,8);const i=this.alignmentPatternCenters.length;for(let s=0;s<i;s++){const l=this.alignmentPatternCenters[s]-2;for(let u=0;u<i;u++)s===0&&(u===0||u===i-1)||s===i-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,t-17),r.setRegion(9,6,t-17,1),this.versionNumber>6&&(r.setRegion(t-11,0,3,6),r.setRegion(0,t-11,6,3)),r}toString(){return""+this.versionNumber}}Ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ue.VERSIONS=[new Ue(1,new Int32Array(0),new ce(7,new z(1,19)),new ce(10,new z(1,16)),new ce(13,new z(1,13)),new ce(17,new z(1,9))),new Ue(2,Int32Array.from([6,18]),new ce(10,new z(1,34)),new ce(16,new z(1,28)),new ce(22,new z(1,22)),new ce(28,new z(1,16))),new Ue(3,Int32Array.from([6,22]),new ce(15,new z(1,55)),new ce(26,new z(1,44)),new ce(18,new z(2,17)),new ce(22,new z(2,13))),new Ue(4,Int32Array.from([6,26]),new ce(20,new z(1,80)),new ce(18,new z(2,32)),new ce(26,new z(2,24)),new ce(16,new z(4,9))),new Ue(5,Int32Array.from([6,30]),new ce(26,new z(1,108)),new ce(24,new z(2,43)),new ce(18,new z(2,15),new z(2,16)),new ce(22,new z(2,11),new z(2,12))),new Ue(6,Int32Array.from([6,34]),new ce(18,new z(2,68)),new ce(16,new z(4,27)),new ce(24,new z(4,19)),new ce(28,new z(4,15))),new Ue(7,Int32Array.from([6,22,38]),new ce(20,new z(2,78)),new ce(18,new z(4,31)),new ce(18,new z(2,14),new z(4,15)),new ce(26,new z(4,13),new z(1,14))),new Ue(8,Int32Array.from([6,24,42]),new ce(24,new z(2,97)),new ce(22,new z(2,38),new z(2,39)),new ce(22,new z(4,18),new z(2,19)),new ce(26,new z(4,14),new z(2,15))),new Ue(9,Int32Array.from([6,26,46]),new ce(30,new z(2,116)),new ce(22,new z(3,36),new z(2,37)),new ce(20,new z(4,16),new z(4,17)),new ce(24,new z(4,12),new z(4,13))),new Ue(10,Int32Array.from([6,28,50]),new ce(18,new z(2,68),new z(2,69)),new ce(26,new z(4,43),new z(1,44)),new ce(24,new z(6,19),new z(2,20)),new ce(28,new z(6,15),new z(2,16))),new Ue(11,Int32Array.from([6,30,54]),new ce(20,new z(4,81)),new ce(30,new z(1,50),new z(4,51)),new ce(28,new z(4,22),new z(4,23)),new ce(24,new z(3,12),new z(8,13))),new Ue(12,Int32Array.from([6,32,58]),new ce(24,new z(2,92),new z(2,93)),new ce(22,new z(6,36),new z(2,37)),new ce(26,new z(4,20),new z(6,21)),new ce(28,new z(7,14),new z(4,15))),new Ue(13,Int32Array.from([6,34,62]),new ce(26,new z(4,107)),new ce(22,new z(8,37),new z(1,38)),new ce(24,new z(8,20),new z(4,21)),new ce(22,new z(12,11),new z(4,12))),new Ue(14,Int32Array.from([6,26,46,66]),new ce(30,new z(3,115),new z(1,116)),new ce(24,new z(4,40),new z(5,41)),new ce(20,new z(11,16),new z(5,17)),new ce(24,new z(11,12),new z(5,13))),new Ue(15,Int32Array.from([6,26,48,70]),new ce(22,new z(5,87),new z(1,88)),new ce(24,new z(5,41),new z(5,42)),new ce(30,new z(5,24),new z(7,25)),new ce(24,new z(11,12),new z(7,13))),new Ue(16,Int32Array.from([6,26,50,74]),new ce(24,new z(5,98),new z(1,99)),new ce(28,new z(7,45),new z(3,46)),new ce(24,new z(15,19),new z(2,20)),new ce(30,new z(3,15),new z(13,16))),new Ue(17,Int32Array.from([6,30,54,78]),new ce(28,new z(1,107),new z(5,108)),new ce(28,new z(10,46),new z(1,47)),new ce(28,new z(1,22),new z(15,23)),new ce(28,new z(2,14),new z(17,15))),new Ue(18,Int32Array.from([6,30,56,82]),new ce(30,new z(5,120),new z(1,121)),new ce(26,new z(9,43),new z(4,44)),new ce(28,new z(17,22),new z(1,23)),new ce(28,new z(2,14),new z(19,15))),new Ue(19,Int32Array.from([6,30,58,86]),new ce(28,new z(3,113),new z(4,114)),new ce(26,new z(3,44),new z(11,45)),new ce(26,new z(17,21),new z(4,22)),new ce(26,new z(9,13),new z(16,14))),new Ue(20,Int32Array.from([6,34,62,90]),new ce(28,new z(3,107),new z(5,108)),new ce(26,new z(3,41),new z(13,42)),new ce(30,new z(15,24),new z(5,25)),new ce(28,new z(15,15),new z(10,16))),new Ue(21,Int32Array.from([6,28,50,72,94]),new ce(28,new z(4,116),new z(4,117)),new ce(26,new z(17,42)),new ce(28,new z(17,22),new z(6,23)),new ce(30,new z(19,16),new z(6,17))),new Ue(22,Int32Array.from([6,26,50,74,98]),new ce(28,new z(2,111),new z(7,112)),new ce(28,new z(17,46)),new ce(30,new z(7,24),new z(16,25)),new ce(24,new z(34,13))),new Ue(23,Int32Array.from([6,30,54,78,102]),new ce(30,new z(4,121),new z(5,122)),new ce(28,new z(4,47),new z(14,48)),new ce(30,new z(11,24),new z(14,25)),new ce(30,new z(16,15),new z(14,16))),new Ue(24,Int32Array.from([6,28,54,80,106]),new ce(30,new z(6,117),new z(4,118)),new ce(28,new z(6,45),new z(14,46)),new ce(30,new z(11,24),new z(16,25)),new ce(30,new z(30,16),new z(2,17))),new Ue(25,Int32Array.from([6,32,58,84,110]),new ce(26,new z(8,106),new z(4,107)),new ce(28,new z(8,47),new z(13,48)),new ce(30,new z(7,24),new z(22,25)),new ce(30,new z(22,15),new z(13,16))),new Ue(26,Int32Array.from([6,30,58,86,114]),new ce(28,new z(10,114),new z(2,115)),new ce(28,new z(19,46),new z(4,47)),new ce(28,new z(28,22),new z(6,23)),new ce(30,new z(33,16),new z(4,17))),new Ue(27,Int32Array.from([6,34,62,90,118]),new ce(30,new z(8,122),new z(4,123)),new ce(28,new z(22,45),new z(3,46)),new ce(30,new z(8,23),new z(26,24)),new ce(30,new z(12,15),new z(28,16))),new Ue(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new z(3,117),new z(10,118)),new ce(28,new z(3,45),new z(23,46)),new ce(30,new z(4,24),new z(31,25)),new ce(30,new z(11,15),new z(31,16))),new Ue(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new z(7,116),new z(7,117)),new ce(28,new z(21,45),new z(7,46)),new ce(30,new z(1,23),new z(37,24)),new ce(30,new z(19,15),new z(26,16))),new Ue(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new z(5,115),new z(10,116)),new ce(28,new z(19,47),new z(10,48)),new ce(30,new z(15,24),new z(25,25)),new ce(30,new z(23,15),new z(25,16))),new Ue(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new z(13,115),new z(3,116)),new ce(28,new z(2,46),new z(29,47)),new ce(30,new z(42,24),new z(1,25)),new ce(30,new z(23,15),new z(28,16))),new Ue(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new z(17,115)),new ce(28,new z(10,46),new z(23,47)),new ce(30,new z(10,24),new z(35,25)),new ce(30,new z(19,15),new z(35,16))),new Ue(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new z(17,115),new z(1,116)),new ce(28,new z(14,46),new z(21,47)),new ce(30,new z(29,24),new z(19,25)),new ce(30,new z(11,15),new z(46,16))),new Ue(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new z(13,115),new z(6,116)),new ce(28,new z(14,46),new z(23,47)),new ce(30,new z(44,24),new z(7,25)),new ce(30,new z(59,16),new z(1,17))),new Ue(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new z(12,121),new z(7,122)),new ce(28,new z(12,47),new z(26,48)),new ce(30,new z(39,24),new z(14,25)),new ce(30,new z(22,15),new z(41,16))),new Ue(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new z(6,121),new z(14,122)),new ce(28,new z(6,47),new z(34,48)),new ce(30,new z(46,24),new z(10,25)),new ce(30,new z(2,15),new z(64,16))),new Ue(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new z(17,122),new z(4,123)),new ce(28,new z(29,46),new z(14,47)),new ce(30,new z(49,24),new z(10,25)),new ce(30,new z(24,15),new z(46,16))),new Ue(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new z(4,122),new z(18,123)),new ce(28,new z(13,46),new z(32,47)),new ce(30,new z(48,24),new z(14,25)),new ce(30,new z(42,15),new z(32,16))),new Ue(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new z(20,117),new z(4,118)),new ce(28,new z(40,47),new z(7,48)),new ce(30,new z(43,24),new z(22,25)),new ce(30,new z(10,15),new z(67,16))),new Ue(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new z(19,118),new z(6,119)),new ce(28,new z(18,47),new z(31,48)),new ce(30,new z(34,24),new z(34,25)),new ce(30,new z(20,15),new z(61,16)))];var sn;(function(B){B[B.DATA_MASK_000=0]="DATA_MASK_000",B[B.DATA_MASK_001=1]="DATA_MASK_001",B[B.DATA_MASK_010=2]="DATA_MASK_010",B[B.DATA_MASK_011=3]="DATA_MASK_011",B[B.DATA_MASK_100=4]="DATA_MASK_100",B[B.DATA_MASK_101=5]="DATA_MASK_101",B[B.DATA_MASK_110=6]="DATA_MASK_110",B[B.DATA_MASK_111=7]="DATA_MASK_111"})(sn||(sn={}));class qn{constructor(t,r){this.value=t,this.isMasked=r}unmaskBitMatrix(t,r){for(let i=0;i<r;i++)for(let s=0;s<r;s++)this.isMasked(i,s)&&t.flip(s,i)}}qn.values=new Map([[sn.DATA_MASK_000,new qn(sn.DATA_MASK_000,(B,t)=>(B+t&1)===0)],[sn.DATA_MASK_001,new qn(sn.DATA_MASK_001,(B,t)=>(B&1)===0)],[sn.DATA_MASK_010,new qn(sn.DATA_MASK_010,(B,t)=>t%3===0)],[sn.DATA_MASK_011,new qn(sn.DATA_MASK_011,(B,t)=>(B+t)%3===0)],[sn.DATA_MASK_100,new qn(sn.DATA_MASK_100,(B,t)=>(Math.floor(B/2)+Math.floor(t/3)&1)===0)],[sn.DATA_MASK_101,new qn(sn.DATA_MASK_101,(B,t)=>B*t%6===0)],[sn.DATA_MASK_110,new qn(sn.DATA_MASK_110,(B,t)=>B*t%6<3)],[sn.DATA_MASK_111,new qn(sn.DATA_MASK_111,(B,t)=>(B+t+B*t%3&1)===0)]]);class ki{constructor(t){const r=t.getHeight();if(r<21||(r&3)!==1)throw new Y;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let l=0;l<6;l++)t=this.copyBit(l,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let l=5;l>=0;l--)t=this.copyBit(8,l,t);const r=this.bitMatrix.getHeight();let i=0;const s=r-7;for(let l=r-1;l>=s;l--)i=this.copyBit(8,l,i);for(let l=r-8;l<r;l++)i=this.copyBit(l,8,i);if(this.parsedFormatInfo=hn.decodeFormatInformation(t,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new Y}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),r=Math.floor((t-17)/4);if(r<=6)return Ue.getVersionForNumber(r);let i=0;const s=t-11;for(let u=5;u>=0;u--)for(let c=t-9;c>=s;c--)i=this.copyBit(c,u,i);let l=Ue.decodeVersionInformation(i);if(l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;i=0;for(let u=5;u>=0;u--)for(let c=t-9;c>=s;c--)i=this.copyBit(u,c,i);if(l=Ue.decodeVersionInformation(i),l!==null&&l.getDimensionForVersion()===t)return this.parsedVersion=l,l;throw new Y}copyBit(t,r,i){return(this.isMirror?this.bitMatrix.get(r,t):this.bitMatrix.get(t,r))?i<<1|1:i<<1}readCodewords(){const t=this.readFormatInformation(),r=this.readVersion(),i=qn.values.get(t.getDataMask()),s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s);const l=r.buildFunctionPattern();let u=!0;const c=new Uint8Array(r.getTotalCodewords());let x=0,C=0,w=0;for(let N=s-1;N>0;N-=2){N===6&&N--;for(let R=0;R<s;R++){const P=u?s-1-R:R;for(let Z=0;Z<2;Z++)l.get(N-Z,P)||(w++,C<<=1,this.bitMatrix.get(N-Z,P)&&(C|=1),w===8&&(c[x++]=C,w=0,C=0))}u=!u}if(x!==r.getTotalCodewords())throw new Y;return c}remask(){if(this.parsedFormatInfo===null)return;const t=qn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,r)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let r=0,i=t.getWidth();r<i;r++)for(let s=r+1,l=t.getHeight();s<l;s++)t.get(r,s)!==t.get(s,r)&&(t.flip(s,r),t.flip(r,s))}}class Ga{constructor(t,r){this.numDataCodewords=t,this.codewords=r}static getDataBlocks(t,r,i){if(t.length!==r.getTotalCodewords())throw new T;const s=r.getECBlocksForLevel(i);let l=0;const u=s.getECBlocks();for(const Z of u)l+=Z.getCount();const c=new Array(l);let x=0;for(const Z of u)for(let Q=0;Q<Z.getCount();Q++){const le=Z.getDataCodewords(),pe=s.getECCodewordsPerBlock()+le;c[x++]=new Ga(le,new Uint8Array(pe))}const C=c[0].codewords.length;let w=c.length-1;for(;w>=0&&c[w].codewords.length!==C;)w--;w++;const N=C-s.getECCodewordsPerBlock();let R=0;for(let Z=0;Z<N;Z++)for(let Q=0;Q<x;Q++)c[Q].codewords[Z]=t[R++];for(let Z=w;Z<x;Z++)c[Z].codewords[N]=t[R++];const P=c[0].codewords.length;for(let Z=N;Z<P;Z++)for(let Q=0;Q<x;Q++){const le=Q<w?Z:Z+1;c[Q].codewords[le]=t[R++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn;(function(B){B[B.TERMINATOR=0]="TERMINATOR",B[B.NUMERIC=1]="NUMERIC",B[B.ALPHANUMERIC=2]="ALPHANUMERIC",B[B.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",B[B.BYTE=4]="BYTE",B[B.ECI=5]="ECI",B[B.KANJI=6]="KANJI",B[B.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",B[B.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",B[B.HANZI=9]="HANZI"})(Zn||(Zn={}));class Pe{constructor(t,r,i,s){this.value=t,this.stringValue=r,this.characterCountBitsForVersions=i,this.bits=s,Pe.FOR_BITS.set(s,this),Pe.FOR_VALUE.set(t,this)}static forBits(t){const r=Pe.FOR_BITS.get(t);if(r===void 0)throw new T;return r}getCharacterCountBits(t){const r=t.getVersionNumber();let i;return r<=9?i=0:r<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof Pe))return!1;const r=t;return this.value===r.value}toString(){return this.stringValue}}Pe.FOR_BITS=new Map,Pe.FOR_VALUE=new Map,Pe.TERMINATOR=new Pe(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Pe.NUMERIC=new Pe(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Pe.ALPHANUMERIC=new Pe(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Pe.STRUCTURED_APPEND=new Pe(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Pe.BYTE=new Pe(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Pe.ECI=new Pe(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),Pe.KANJI=new Pe(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Pe.FNC1_FIRST_POSITION=new Pe(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Pe.FNC1_SECOND_POSITION=new Pe(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Pe.HANZI=new Pe(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ot{static decode(t,r,i,s){const l=new or(t);let u=new ge;const c=new Array;let x=-1,C=-1;try{let w=null,N=!1,R;do{if(l.available()<4)R=Pe.TERMINATOR;else{const P=l.readBits(4);R=Pe.forBits(P)}switch(R){case Pe.TERMINATOR:break;case Pe.FNC1_FIRST_POSITION:case Pe.FNC1_SECOND_POSITION:N=!0;break;case Pe.STRUCTURED_APPEND:if(l.available()<16)throw new Y;x=l.readBits(8),C=l.readBits(8);break;case Pe.ECI:const P=Ot.parseECIValue(l);if(w=q.getCharacterSetECIByValue(P),w===null)throw new Y;break;case Pe.HANZI:const Z=l.readBits(4),Q=l.readBits(R.getCharacterCountBits(r));Z===Ot.GB2312_SUBSET&&Ot.decodeHanziSegment(l,u,Q);break;default:const le=l.readBits(R.getCharacterCountBits(r));switch(R){case Pe.NUMERIC:Ot.decodeNumericSegment(l,u,le);break;case Pe.ALPHANUMERIC:Ot.decodeAlphanumericSegment(l,u,le,N);break;case Pe.BYTE:Ot.decodeByteSegment(l,u,le,w,c,s);break;case Pe.KANJI:Ot.decodeKanjiSegment(l,u,le);break;default:throw new Y}break}}while(R!==Pe.TERMINATOR)}catch{throw new Y}return new pt(t,u.toString(),c.length===0?null:c,i===null?null:i.toString(),x,C)}static decodeHanziSegment(t,r,i){if(i*13>t.available())throw new Y;const s=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,s[l]=c>>8&255,s[l+1]=c&255,l+=2,i--}try{r.append(se.decode(s,ue.GB2312))}catch(u){throw new Y(u)}}static decodeKanjiSegment(t,r,i){if(i*13>t.available())throw new Y;const s=new Uint8Array(2*i);let l=0;for(;i>0;){const u=t.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,s[l]=c>>8,s[l+1]=c,l+=2,i--}try{r.append(se.decode(s,ue.SHIFT_JIS))}catch(u){throw new Y(u)}}static decodeByteSegment(t,r,i,s,l,u){if(8*i>t.available())throw new Y;const c=new Uint8Array(i);for(let C=0;C<i;C++)c[C]=t.readBits(8);let x;s===null?x=ue.guessEncoding(c,u):x=s.getName();try{r.append(se.decode(c,x))}catch(C){throw new Y(C)}l.push(c)}static toAlphaNumericChar(t){if(t>=Ot.ALPHANUMERIC_CHARS.length)throw new Y;return Ot.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,r,i,s){const l=r.length();for(;i>1;){if(t.available()<11)throw new Y;const u=t.readBits(11);r.append(Ot.toAlphaNumericChar(Math.floor(u/45))),r.append(Ot.toAlphaNumericChar(u%45)),i-=2}if(i===1){if(t.available()<6)throw new Y;r.append(Ot.toAlphaNumericChar(t.readBits(6)))}if(s)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,""))}static decodeNumericSegment(t,r,i){for(;i>=3;){if(t.available()<10)throw new Y;const s=t.readBits(10);if(s>=1e3)throw new Y;r.append(Ot.toAlphaNumericChar(Math.floor(s/100))),r.append(Ot.toAlphaNumericChar(Math.floor(s/10)%10)),r.append(Ot.toAlphaNumericChar(s%10)),i-=3}if(i===2){if(t.available()<7)throw new Y;const s=t.readBits(7);if(s>=100)throw new Y;r.append(Ot.toAlphaNumericChar(Math.floor(s/10))),r.append(Ot.toAlphaNumericChar(s%10))}else if(i===1){if(t.available()<4)throw new Y;const s=t.readBits(4);if(s>=10)throw new Y;r.append(Ot.toAlphaNumericChar(s))}}static parseECIValue(t){const r=t.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const i=t.readBits(8);return(r&63)<<8&4294967295|i}if((r&224)===192){const i=t.readBits(16);return(r&31)<<16&4294967295|i}throw new Y}}Ot.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ot.GB2312_SUBSET=1;class Fs{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const r=t[0];t[0]=t[2],t[2]=r}}class Mo{constructor(){this.rsDecoder=new bn(Ye.QR_CODE_FIELD_256)}decodeBooleanArray(t,r){return this.decodeBitMatrix(Ne.parseFromBooleanArray(t),r)}decodeBitMatrix(t,r){const i=new ki(t);let s=null;try{return this.decodeBitMatrixParser(i,r)}catch(l){s=l}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const l=this.decodeBitMatrixParser(i,r);return l.setOther(new Fs(!0)),l}catch(l){throw s!==null?s:l}}decodeBitMatrixParser(t,r){const i=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),l=t.readCodewords(),u=Ga.getDataBlocks(l,i,s);let c=0;for(const w of u)c+=w.getNumDataCodewords();const x=new Uint8Array(c);let C=0;for(const w of u){const N=w.getCodewords(),R=w.getNumDataCodewords();this.correctErrors(N,R);for(let P=0;P<R;P++)x[C++]=N[P]}return Ot.decode(x,i,s,r)}correctErrors(t,r){const i=new Int32Array(t);try{this.rsDecoder.decode(i,t.length-r)}catch{throw new O}for(let s=0;s<r;s++)t[s]=i[s]}}class Ui extends Re{constructor(t,r,i){super(t,r),this.estimatedModuleSize=i}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const s=(this.getX()+r)/2,l=(this.getY()+t)/2,u=(this.estimatedModuleSize+i)/2;return new Ui(s,l,u)}}class zi{constructor(t,r,i,s,l,u,c){this.image=t,this.startX=r,this.startY=i,this.width=s,this.height=l,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,r=this.height,i=this.width,s=t+i,l=this.startY+r/2,u=new Int32Array(3),c=this.image;for(let x=0;x<r;x++){const C=l+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));u[0]=0,u[1]=0,u[2]=0;let w=t;for(;w<s&&!c.get(w,C);)w++;let N=0;for(;w<s;){if(c.get(w,C))if(N===1)u[1]++;else if(N===2){if(this.foundPatternCross(u)){const R=this.handlePossibleCenter(u,C,w);if(R!==null)return R}u[0]=u[2],u[1]=1,u[2]=0,N=1}else u[++N]++;else N===1&&N++,u[N]++;w++}if(this.foundPatternCross(u)){const R=this.handlePossibleCenter(u,C,s);if(R!==null)return R}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(t,r){return r-t[2]-t[1]/2}foundPatternCross(t){const r=this.moduleSize,i=r/2;for(let s=0;s<3;s++)if(Math.abs(r-t[s])>=i)return!1;return!0}crossCheckVertical(t,r,i,s){const l=this.image,u=l.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let x=t;for(;x>=0&&l.get(r,x)&&c[1]<=i;)c[1]++,x--;if(x<0||c[1]>i)return NaN;for(;x>=0&&!l.get(r,x)&&c[0]<=i;)c[0]++,x--;if(c[0]>i)return NaN;for(x=t+1;x<u&&l.get(r,x)&&c[1]<=i;)c[1]++,x++;if(x===u||c[1]>i)return NaN;for(;x<u&&!l.get(r,x)&&c[2]<=i;)c[2]++,x++;if(c[2]>i)return NaN;const C=c[0]+c[1]+c[2];return 5*Math.abs(C-s)>=2*s?NaN:this.foundPatternCross(c)?zi.centerFromEnd(c,x):NaN}handlePossibleCenter(t,r,i){const s=t[0]+t[1]+t[2],l=zi.centerFromEnd(t,i),u=this.crossCheckVertical(r,l,2*t[1],s);if(!isNaN(u)){const c=(t[0]+t[1]+t[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(c,u,l))return C.combineEstimate(u,l,c);const x=new Ui(l,u,c);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class w0 extends Re{constructor(t,r,i,s){super(t,r),this.estimatedModuleSize=i,this.count=s,s===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,r,i){if(Math.abs(r-this.getY())<=t&&Math.abs(i-this.getX())<=t){const s=Math.abs(t-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1}combineEstimate(t,r,i){const s=this.count+1,l=(this.count*this.getX()+r)/s,u=(this.count*this.getY()+t)/s,c=(this.count*this.estimatedModuleSize+i)/s;return new w0(l,u,c,s)}}class Hi{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pt{constructor(t,r){this.image=t,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const r=t!=null&&t.get(ee.TRY_HARDER)!==void 0,i=t!=null&&t.get(ee.PURE_BARCODE)!==void 0,s=this.image,l=s.getHeight(),u=s.getWidth();let c=Math.floor(3*l/(4*Pt.MAX_MODULES));(c<Pt.MIN_SKIP||r)&&(c=Pt.MIN_SKIP);let x=!1;const C=new Int32Array(5);for(let N=c-1;N<l&&!x;N+=c){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let R=0;for(let P=0;P<u;P++)if(s.get(P,N))(R&1)===1&&R++,C[R]++;else if(R&1)C[R]++;else if(R===4)if(Pt.foundPatternCross(C)){if(this.handlePossibleCenter(C,N,P,i)===!0)if(c=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const Q=this.findRowSkip();Q>C[2]&&(N+=Q-C[2]-c,P=u-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,R=3;continue}R=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,R=3;else C[++R]++;Pt.foundPatternCross(C)&&this.handlePossibleCenter(C,N,u,i)===!0&&(c=C[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const w=this.selectBestPatterns();return Re.orderBestPatterns(w),new Hi(w)}static centerFromEnd(t,r){return r-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let r=0;for(let l=0;l<5;l++){const u=t[l];if(u===0)return!1;r+=u}if(r<7)return!1;const i=r/7,s=i/2;return Math.abs(i-t[0])<s&&Math.abs(i-t[1])<s&&Math.abs(3*i-t[2])<3*s&&Math.abs(i-t[3])<s&&Math.abs(i-t[4])<s}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,r,i,s){const l=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;t>=u&&r>=u&&c.get(r-u,t-u);)l[2]++,u++;if(t<u||r<u)return!1;for(;t>=u&&r>=u&&!c.get(r-u,t-u)&&l[1]<=i;)l[1]++,u++;if(t<u||r<u||l[1]>i)return!1;for(;t>=u&&r>=u&&c.get(r-u,t-u)&&l[0]<=i;)l[0]++,u++;if(l[0]>i)return!1;const x=c.getHeight(),C=c.getWidth();for(u=1;t+u<x&&r+u<C&&c.get(r+u,t+u);)l[2]++,u++;if(t+u>=x||r+u>=C)return!1;for(;t+u<x&&r+u<C&&!c.get(r+u,t+u)&&l[3]<i;)l[3]++,u++;if(t+u>=x||r+u>=C||l[3]>=i)return!1;for(;t+u<x&&r+u<C&&c.get(r+u,t+u)&&l[4]<i;)l[4]++,u++;if(l[4]>=i)return!1;const w=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(w-s)<2*s&&Pt.foundPatternCross(l)}crossCheckVertical(t,r,i,s){const l=this.image,u=l.getHeight(),c=this.getCrossCheckStateCount();let x=t;for(;x>=0&&l.get(r,x);)c[2]++,x--;if(x<0)return NaN;for(;x>=0&&!l.get(r,x)&&c[1]<=i;)c[1]++,x--;if(x<0||c[1]>i)return NaN;for(;x>=0&&l.get(r,x)&&c[0]<=i;)c[0]++,x--;if(c[0]>i)return NaN;for(x=t+1;x<u&&l.get(r,x);)c[2]++,x++;if(x===u)return NaN;for(;x<u&&!l.get(r,x)&&c[3]<i;)c[3]++,x++;if(x===u||c[3]>=i)return NaN;for(;x<u&&l.get(r,x)&&c[4]<i;)c[4]++,x++;if(c[4]>=i)return NaN;const C=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(C-s)>=2*s?NaN:Pt.foundPatternCross(c)?Pt.centerFromEnd(c,x):NaN}crossCheckHorizontal(t,r,i,s){const l=this.image,u=l.getWidth(),c=this.getCrossCheckStateCount();let x=t;for(;x>=0&&l.get(x,r);)c[2]++,x--;if(x<0)return NaN;for(;x>=0&&!l.get(x,r)&&c[1]<=i;)c[1]++,x--;if(x<0||c[1]>i)return NaN;for(;x>=0&&l.get(x,r)&&c[0]<=i;)c[0]++,x--;if(c[0]>i)return NaN;for(x=t+1;x<u&&l.get(x,r);)c[2]++,x++;if(x===u)return NaN;for(;x<u&&!l.get(x,r)&&c[3]<i;)c[3]++,x++;if(x===u||c[3]>=i)return NaN;for(;x<u&&l.get(x,r)&&c[4]<i;)c[4]++,x++;if(c[4]>=i)return NaN;const C=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(C-s)>=s?NaN:Pt.foundPatternCross(c)?Pt.centerFromEnd(c,x):NaN}handlePossibleCenter(t,r,i,s){const l=t[0]+t[1]+t[2]+t[3]+t[4];let u=Pt.centerFromEnd(t,i),c=this.crossCheckVertical(r,Math.floor(u),t[2],l);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],l),!isNaN(u)&&(!s||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],l)))){const x=l/7;let C=!1;const w=this.possibleCenters;for(let N=0,R=w.length;N<R;N++){const P=w[N];if(P.aboutEquals(x,c,u)){w[N]=P.combineEstimate(c,u,x),C=!0;break}}if(!C){const N=new w0(u,c,x);w.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const i of this.possibleCenters)if(i.getCount()>=Pt.CENTER_QUORUM)if(r==null)r=i;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-i.getX())-Math.abs(r.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,r=0;const i=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Pt.CENTER_QUORUM&&(t++,r+=u.getEstimatedModuleSize());if(t<3)return!1;const s=r/i;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-s);return l<=.05*r}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new te;const r=this.possibleCenters;let i;if(t>3){let s=0,l=0;for(const x of this.possibleCenters){const C=x.getEstimatedModuleSize();s+=C,l+=C*C}i=s/t;let u=Math.sqrt(l/t-i*i);r.sort((x,C)=>{const w=Math.abs(C.getEstimatedModuleSize()-i),N=Math.abs(x.getEstimatedModuleSize()-i);return w<N?-1:w>N?1:0});const c=Math.max(.2*i,u);for(let x=0;x<r.length&&r.length>3;x++){const C=r[x];Math.abs(C.getEstimatedModuleSize()-i)>c&&(r.splice(x,1),x--)}}if(r.length>3){let s=0;for(const l of r)s+=l.getEstimatedModuleSize();i=s/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-i),x=Math.abs(l.getEstimatedModuleSize()-i);return c<x?1:c>x?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}Pt.CENTER_QUORUM=2,Pt.MIN_SKIP=3,Pt.MAX_MODULES=57;class Pi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ee.NEED_RESULT_POINT_CALLBACK);const i=new Pt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(i)}processFinderPatternInfo(t){const r=t.getTopLeft(),i=t.getTopRight(),s=t.getBottomLeft(),l=this.calculateModuleSize(r,i,s);if(l<1)throw new te("No pattern found in proccess finder.");const u=Pi.computeDimension(r,i,s,l),c=Ue.getProvisionalVersionForDimension(u),x=c.getDimensionForVersion()-7;let C=null;if(c.getAlignmentPatternCenters().length>0){const P=i.getX()-r.getX()+s.getX(),Z=i.getY()-r.getY()+s.getY(),Q=1-3/x,le=Math.floor(r.getX()+Q*(P-r.getX())),pe=Math.floor(r.getY()+Q*(Z-r.getY()));for(let De=4;De<=16;De<<=1)try{C=this.findAlignmentInRegion(l,le,pe,De);break}catch(Be){if(!(Be instanceof te))throw Be}}const w=Pi.createTransform(r,i,s,C,u),N=Pi.sampleGrid(this.image,w,u);let R;return C===null?R=[s,r,i]:R=[s,r,i,C],new En(N,R)}static createTransform(t,r,i,s,l){const u=l-3.5;let c,x,C,w;return s!==null?(c=s.getX(),x=s.getY(),C=u-3,w=C):(c=r.getX()-t.getX()+i.getX(),x=r.getY()-t.getY()+i.getY(),C=u,w=u),nn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,C,w,3.5,u,t.getX(),t.getY(),r.getX(),r.getY(),c,x,i.getX(),i.getY())}static sampleGrid(t,r,i){return Yn.getInstance().sampleGridWithTransform(t,i,i,r)}static computeDimension(t,r,i,s){const l=We.round(Re.distance(t,r)/s),u=We.round(Re.distance(t,i)/s);let c=Math.floor((l+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new te("Dimensions could be not found.")}return c}calculateModuleSize(t,r,i){return(this.calculateModuleSizeOneWay(t,r)+this.calculateModuleSizeOneWay(t,i))/2}calculateModuleSizeOneWay(t,r){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(r.getX()),Math.floor(r.getY())),s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(i)?s/7:isNaN(s)?i/7:(i+s)/14}sizeOfBlackWhiteBlackRunBothWays(t,r,i,s){let l=this.sizeOfBlackWhiteBlackRun(t,r,i,s),u=1,c=t-(i-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let x=Math.floor(r-(s-r)*u);return u=1,x<0?(u=r/(r-x),x=0):x>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(x-r),x=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),l+=this.sizeOfBlackWhiteBlackRun(t,r,c,x),l-1}sizeOfBlackWhiteBlackRun(t,r,i,s){const l=Math.abs(s-r)>Math.abs(i-t);if(l){let P=t;t=r,r=P,P=i,i=s,s=P}const u=Math.abs(i-t),c=Math.abs(s-r);let x=-u/2;const C=t<i?1:-1,w=r<s?1:-1;let N=0;const R=i+C;for(let P=t,Z=r;P!==R;P+=C){const Q=l?Z:P,le=l?P:Z;if(N===1===this.image.get(Q,le)){if(N===2)return We.distance(P,Z,t,r);N++}if(x+=c,x>0){if(Z===s)break;Z+=w,x-=u}}return N===2?We.distance(i+C,s,t,r):NaN}findAlignmentInRegion(t,r,i,s){const l=Math.floor(s*t),u=Math.max(0,r-l),c=Math.min(this.image.getWidth()-1,r+l);if(c-u<t*3)throw new te("Alignment top exceeds estimated module size.");const x=Math.max(0,i-l),C=Math.min(this.image.getHeight()-1,i+l);if(C-x<t*3)throw new te("Alignment bottom exceeds estimated module size.");return new zi(this.image,u,x,c-u,C-x,t,this.resultPointCallback).find()}}class mr{constructor(){this.decoder=new Mo}getDecoder(){return this.decoder}decode(t,r){let i,s;if(r!=null&&r.get(ee.PURE_BARCODE)!==void 0){const x=mr.extractPureBits(t.getBlackMatrix());i=this.decoder.decodeBitMatrix(x,r),s=mr.NO_POINTS}else{const x=new Pi(t.getBlackMatrix()).detect(r);i=this.decoder.decodeBitMatrix(x.getBits(),r),s=x.getPoints()}i.getOther()instanceof Fs&&i.getOther().applyMirroredCorrection(s);const l=new ie(i.getText(),i.getRawBytes(),void 0,s,ve.QR_CODE,void 0),u=i.getByteSegments();u!==null&&l.putMetadata(Me.BYTE_SEGMENTS,u);const c=i.getECLevel();return c!==null&&l.putMetadata(Me.ERROR_CORRECTION_LEVEL,c),i.hasStructuredAppend()&&(l.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),l.putMetadata(Me.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),l}reset(){}static extractPureBits(t){const r=t.getTopLeftOnBit(),i=t.getBottomRightOnBit();if(r===null||i===null)throw new te;const s=this.moduleSize(r,t);let l=r[1],u=i[1],c=r[0],x=i[0];if(c>=x||l>=u)throw new te;if(u-l!==x-c&&(x=c+(u-l),x>=t.getWidth()))throw new te;const C=Math.round((x-c+1)/s),w=Math.round((u-l+1)/s);if(C<=0||w<=0)throw new te;if(w!==C)throw new te;const N=Math.floor(s/2);l+=N,c+=N;const R=c+Math.floor((C-1)*s)-x;if(R>0){if(R>N)throw new te;c-=R}const P=l+Math.floor((w-1)*s)-u;if(P>0){if(P>N)throw new te;l-=P}const Z=new Ne(C,w);for(let Q=0;Q<w;Q++){const le=l+Math.floor(Q*s);for(let pe=0;pe<C;pe++)t.get(c+Math.floor(pe*s),le)&&Z.set(pe,Q)}return Z}static moduleSize(t,r){const i=r.getHeight(),s=r.getWidth();let l=t[0],u=t[1],c=!0,x=0;for(;l<s&&u<i;){if(c!==r.get(l,u)){if(++x===5)break;c=!c}l++,u++}if(l===s||u===i)throw new te;return(l-t[0])/7}}mr.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(t){return We.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ve.EMPTY_INT_ARRAY;const r=new Int32Array(t.length);let i=0;for(const s of t)r[i++]=s;return r}static getCodeword(t){const r=U.binarySearch(Ve.SYMBOL_TABLE,t&262143);return r<0?-1:(Ve.CODEWORD_TABLE[r]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class b0{constructor(t,r){this.bits=t,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(t,r,i){let s=t.getBlackMatrix(),l=Ze.detect(i,s);return l.length||(s=s.clone(),s.rotate180(),l=Ze.detect(i,s)),new b0(s,l)}static detect(t,r){const i=new Array;let s=0,l=0,u=!1;for(;s<r.getHeight();){const c=Ze.findVertices(r,s,l);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,l=0;for(const x of i)x[1]!=null&&(s=Math.trunc(Math.max(s,x[1].getY()))),x[3]!=null&&(s=Math.max(s,Math.trunc(x[3].getY())));s+=Ze.ROW_STEP;continue}if(u=!0,i.push(c),!t)break;c[2]!=null?(l=Math.trunc(c[2].getX()),s=Math.trunc(c[2].getY())):(l=Math.trunc(c[4].getX()),s=Math.trunc(c[4].getY()))}return i}static findVertices(t,r,i){const s=t.getHeight(),l=t.getWidth(),u=new Array(8);return Ze.copyToResult(u,Ze.findRowsWithPattern(t,s,l,r,i,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),u[4]!=null&&(i=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),Ze.copyToResult(u,Ze.findRowsWithPattern(t,s,l,r,i,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),u}static copyToResult(t,r,i){for(let s=0;s<i.length;s++)t[i[s]]=r[s]}static findRowsWithPattern(t,r,i,s,l,u){const c=new Array(4);let x=!1;const C=new Int32Array(u.length);for(;s<r;s+=Ze.ROW_STEP){let N=Ze.findGuardPattern(t,l,s,i,!1,u,C);if(N!=null){for(;s>0;){const R=Ze.findGuardPattern(t,l,--s,i,!1,u,C);if(R!=null)N=R;else{s++;break}}c[0]=new Re(N[0],s),c[1]=new Re(N[1],s),x=!0;break}}let w=s+1;if(x){let N=0,R=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;w<r;w++){const P=Ze.findGuardPattern(t,R[0],w,i,!1,u,C);if(P!=null&&Math.abs(R[0]-P[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(R[1]-P[1])<Ze.MAX_PATTERN_DRIFT)R=P,N=0;else{if(N>Ze.SKIPPED_ROW_COUNT_MAX)break;N++}}w-=N+1,c[2]=new Re(R[0],w),c[3]=new Re(R[1],w)}return w-s<Ze.BARCODE_MIN_HEIGHT&&U.fill(c,null),c}static findGuardPattern(t,r,i,s,l,u,c){U.fillWithin(c,0,c.length,0);let x=r,C=0;for(;t.get(x,i)&&x>0&&C++<Ze.MAX_PIXEL_DRIFT;)x--;let w=x,N=0,R=u.length;for(let P=l;w<s;w++)if(t.get(w,i)!==P)c[N]++;else{if(N===R-1){if(Ze.patternMatchVariance(c,u,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([x,w]);x+=c[0]+c[1],F.arraycopy(c,2,c,0,N-1),c[N-1]=0,c[N]=0,N--}else N++;c[N]=1,P=!P}return N===R-1&&Ze.patternMatchVariance(c,u,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([x,w-1]):null}static patternMatchVariance(t,r,i){let s=t.length,l=0,u=0;for(let C=0;C<s;C++)l+=t[C],u+=r[C];if(l<u)return 1/0;let c=l/u;i*=c;let x=0;for(let C=0;C<s;C++){let w=t[C],N=r[C]*c,R=w>N?w-N:N-w;if(R>i)return 1/0;x+=R}return x/l}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class qt{constructor(t,r){if(r.length===0)throw new T;this.field=t;let i=r.length;if(i>1&&r[0]===0){let s=1;for(;s<i&&r[s]===0;)s++;s===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-s),F.arraycopy(r,s,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let s=0;for(let l of this.coefficients)s=this.field.add(s,l);return s}let r=this.coefficients[0],i=this.coefficients.length;for(let s=1;s<i;s++)r=this.field.add(this.field.multiply(t,r),this.coefficients[s]);return r}add(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let r=this.coefficients,i=t.coefficients;if(r.length>i.length){let u=r;r=i,i=u}let s=new Int32Array(i.length),l=i.length-r.length;F.arraycopy(i,0,s,0,l);for(let u=l;u<i.length;u++)s[u]=this.field.add(r[u-l],i[u]);return new qt(this.field,s)}subtract(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof qt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new T("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new qt(this.field,new Int32Array([0]));let r=this.coefficients,i=r.length,s=t.coefficients,l=s.length,u=new Int32Array(i+l-1);for(let c=0;c<i;c++){let x=r[c];for(let C=0;C<l;C++)u[c+C]=this.field.add(u[c+C],this.field.multiply(x,s[C]))}return new qt(this.field,u)}negative(){let t=this.coefficients.length,r=new Int32Array(t);for(let i=0;i<t;i++)r[i]=this.field.subtract(0,this.coefficients[i]);return new qt(this.field,r)}multiplyScalar(t){if(t===0)return new qt(this.field,new Int32Array([0]));if(t===1)return this;let r=this.coefficients.length,i=new Int32Array(r);for(let s=0;s<r;s++)i[s]=this.field.multiply(this.coefficients[s],t);return new qt(this.field,i)}multiplyByMonomial(t,r){if(t<0)throw new T;if(r===0)return new qt(this.field,new Int32Array([0]));let i=this.coefficients.length,s=new Int32Array(i+t);for(let l=0;l<i;l++)s[l]=this.field.multiply(this.coefficients[l],r);return new qt(this.field,s)}toString(){let t=new ge;for(let r=this.getDegree();r>=0;r--){let i=this.getCoefficient(r);i!==0&&(i<0?(t.append(" - "),i=-i):t.length()>0&&t.append(" + "),(r===0||i!==1)&&t.append(i),r!==0&&(r===1?t.append("x"):(t.append("x^"),t.append(r))))}return t.toString()}}class Yr{add(t,r){return(t+r)%this.modulus}subtract(t,r){return(this.modulus+t-r)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new T;return this.logTable[t]}inverse(t){if(t===0)throw new Un;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,r){return t===0||r===0?0:this.expTable[(this.logTable[t]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class S0 extends Yr{constructor(t,r){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let i=1;for(let s=0;s<t;s++)this.expTable[s]=i,i=i*r%t;for(let s=0;s<t-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new qt(this,new Int32Array([0])),this.one=new qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,r){if(t<0)throw new T;if(r===0)return this.zero;let i=new Int32Array(t+1);return i[0]=r,new qt(this,i)}}S0.PDF417_GF=new S0(Ve.NUMBER_OF_CODEWORDS,3);class T0{constructor(){this.field=S0.PDF417_GF}decode(t,r,i){let s=new qt(this.field,t),l=new Int32Array(r),u=!1;for(let Z=r;Z>0;Z--){let Q=s.evaluateAt(this.field.exp(Z));l[r-Z]=Q,Q!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(i!=null)for(const Z of i){let Q=this.field.exp(t.length-1-Z),le=new qt(this.field,new Int32Array([this.field.subtract(0,Q),1]));c=c.multiply(le)}let x=new qt(this.field,l),C=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),x,r),w=C[0],N=C[1],R=this.findErrorLocations(w),P=this.findErrorMagnitudes(N,w,R);for(let Z=0;Z<R.length;Z++){let Q=t.length-1-this.field.log(R[Z]);if(Q<0)throw O.getChecksumInstance();t[Q]=this.field.subtract(t[Q],P[Z])}return R.length}runEuclideanAlgorithm(t,r,i){if(t.getDegree()<r.getDegree()){let R=t;t=r,r=R}let s=t,l=r,u=this.field.getZero(),c=this.field.getOne();for(;l.getDegree()>=Math.round(i/2);){let R=s,P=u;if(s=l,u=c,s.isZero())throw O.getChecksumInstance();l=R;let Z=this.field.getZero(),Q=s.getCoefficient(s.getDegree()),le=this.field.inverse(Q);for(;l.getDegree()>=s.getDegree()&&!l.isZero();){let pe=l.getDegree()-s.getDegree(),De=this.field.multiply(l.getCoefficient(l.getDegree()),le);Z=Z.add(this.field.buildMonomial(pe,De)),l=l.subtract(s.multiplyByMonomial(pe,De))}c=Z.multiply(u).subtract(P).negative()}let x=c.getCoefficient(0);if(x===0)throw O.getChecksumInstance();let C=this.field.inverse(x),w=c.multiply(C),N=l.multiply(C);return[w,N]}findErrorLocations(t){let r=t.getDegree(),i=new Int32Array(r),s=0;for(let l=1;l<this.field.getSize()&&s<r;l++)t.evaluateAt(l)===0&&(i[s]=this.field.inverse(l),s++);if(s!==r)throw O.getChecksumInstance();return i}findErrorMagnitudes(t,r,i){let s=r.getDegree(),l=new Int32Array(s);for(let C=1;C<=s;C++)l[s-C]=this.field.multiply(C,r.getCoefficient(C));let u=new qt(this.field,l),c=i.length,x=new Int32Array(c);for(let C=0;C<c;C++){let w=this.field.inverse(i[C]),N=this.field.subtract(0,t.evaluateAt(w)),R=this.field.inverse(u.evaluateAt(w));x[C]=this.field.multiply(N,R)}return x}}class Vr{constructor(t,r,i,s,l){t instanceof Vr?this.constructor_2(t):this.constructor_1(t,r,i,s,l)}constructor_1(t,r,i,s,l){const u=r==null||i==null,c=s==null||l==null;if(u&&c)throw new te;u?(r=new Re(0,s.getY()),i=new Re(0,l.getY())):c&&(s=new Re(t.getWidth()-1,r.getY()),l=new Re(t.getWidth()-1,i.getY())),this.image=t,this.topLeft=r,this.bottomLeft=i,this.topRight=s,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),i.getX())),this.maxX=Math.trunc(Math.max(s.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),s.getY())),this.maxY=Math.trunc(Math.max(i.getY(),l.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,r){return t==null?r:r==null?t:new Vr(t.image,t.topLeft,t.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(t,r,i){let s=this.topLeft,l=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){let x=i?this.topLeft:this.topRight,C=Math.trunc(x.getY()-t);C<0&&(C=0);let w=new Re(x.getX(),C);i?s=w:u=w}if(r>0){let x=i?this.bottomLeft:this.bottomRight,C=Math.trunc(x.getY()+r);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let w=new Re(x.getX(),C);i?l=w:c=w}return new Vr(this.image,s,l,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ia{constructor(t,r,i,s){this.columnCount=t,this.errorCorrectionLevel=s,this.rowCountUpperPart=r,this.rowCountLowerPart=i,this.rowCount=r+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xr{constructor(){this.buffer=""}static form(t,r){let i=-1;function s(u,c,x,C,w,N){if(u==="%%")return"%";if(r[++i]===void 0)return;u=C?parseInt(C.substr(1)):void 0;let R=w?parseInt(w.substr(1)):void 0,P;switch(N){case"s":P=r[i];break;case"c":P=r[i][0];break;case"f":P=parseFloat(r[i]).toFixed(u);break;case"p":P=parseFloat(r[i]).toPrecision(u);break;case"e":P=parseFloat(r[i]).toExponential(u);break;case"x":P=parseInt(r[i]).toString(R||16);break;case"d":P=parseFloat(parseInt(r[i],R||10).toPrecision(u)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(R);let Z=parseInt(x),Q=x&&x[0]+""=="0"?"0":" ";for(;P.length<Z;)P=c!==void 0?P+Q:Q+P;return P}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(l,s)}format(t,...r){this.buffer+=Xr.form(t,r)}toString(){return this.buffer}}class ji{constructor(t){this.boundingBox=new Vr(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let r=this.getCodeword(t);if(r!=null)return r;for(let i=1;i<ji.MAX_NEARBY_DISTANCE;i++){let s=this.imageRowToCodewordIndex(t)-i;if(s>=0&&(r=this.codewords[s],r!=null)||(s=this.imageRowToCodewordIndex(t)+i,s<this.codewords.length&&(r=this.codewords[s],r!=null)))return r}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,r){this.codewords[this.imageRowToCodewordIndex(t)]=r}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Xr;let r=0;for(const i of this.codewords){if(i==null){t.format("%3d:    |   %n",r++);continue}t.format("%3d: %3d|%3d%n",r++,i.getRowNumber(),i.getValue())}return t.toString()}}ji.MAX_NEARBY_DISTANCE=5;class dn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let r=this.values.get(t);r==null&&(r=0),r++,this.values.set(t,r)}getValue(){let t=-1,r=new Array;for(const[i,s]of this.values.entries()){const l={getKey:()=>i,getValue:()=>s};l.getValue()>t?(t=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===t&&r.push(l.getKey())}return Ve.toIntArray(r)}getConfidence(t){return this.values.get(t)}}class qr extends ji{constructor(t,r){super(t),this._isLeft=r}setRowNumbers(){for(let t of this.getCodewords())t!=null&&t.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,t);let i=this.getBoundingBox(),s=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),x=-1,C=1,w=0;for(let N=u;N<c;N++){if(r[N]==null)continue;let R=r[N],P=R.getRowNumber()-x;if(P===0)w++;else if(P===1)C=Math.max(C,w),w=1,x=R.getRowNumber();else if(P<0||R.getRowNumber()>=t.getRowCount()||P>N)r[N]=null;else{let Z;C>2?Z=(C-2)*P:Z=P;let Q=Z>=N;for(let le=1;le<=Z&&!Q;le++)Q=r[N-le]!=null;Q?r[N]=null:(x=R.getRowNumber(),w=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let r=new Int32Array(t.getRowCount());for(let i of this.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=r.length)continue;r[s]++}return r}adjustIncompleteIndicatorColumnRowNumbers(t){let r=this.getBoundingBox(),i=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.getCodewords(),x=-1;for(let C=l;C<u;C++){if(c[C]==null)continue;let w=c[C];w.setRowNumberAsRowIndicatorColumn();let N=w.getRowNumber()-x;N===0||(N===1?x=w.getRowNumber():w.getRowNumber()>=t.getRowCount()?c[C]=null:x=w.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),r=new dn,i=new dn,s=new dn,l=new dn;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let x=c.getValue()%30,C=c.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:i.setValue(x*3+1);break;case 1:l.setValue(x/3),s.setValue(x%3);break;case 2:r.setValue(x+1);break}}if(r.getValue().length===0||i.getValue().length===0||s.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||i.getValue()[0]+s.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||i.getValue()[0]+s.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let u=new ia(r.getValue()[0],i.getValue()[0],s.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,r){for(let i=0;i<t.length;i++){let s=t[i];if(t[i]==null)continue;let l=s.getValue()%30,u=s.getRowNumber();if(u>r.getRowCount()){t[i]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(t[i]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(t[i]=null);break;case 2:l+1!==r.getColumnCount()&&(t[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Zr{constructor(t,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ve.MAX_CODEWORDS_IN_BARCODE,r;do r=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t!=null&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let i=this.detectionResultColumns[r].getCodewords();for(let s=0;s<i.length;s++)i[s]!=null&&(i[s].hasValidRowNumber()||this.adjustRowNumbers(r,s,i))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<t.length;i++)if(t[i]!=null&&r[i]!=null&&t[i].getRowNumber()===r[i].getRowNumber())for(let s=1;s<=this.barcodeColumnCount;s++){let l=this.detectionResultColumns[s].getCodewords()[i];l!=null&&(l.setRowNumber(t[i].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[s].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let s=r[i].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[i];c!=null&&(l=Zr.adjustRowNumberIfValid(s,l,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,r=this.detectionResultColumns[0].getCodewords();for(let i=0;i<r.length;i++){if(r[i]==null)continue;let s=r[i].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[i];c!=null&&(l=Zr.adjustRowNumberIfValid(s,l,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,r,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(t)?(i.setRowNumber(t),r=0):++r),r}adjustRowNumbers(t,r,i){if(!this.detectionResultColumns[t-1])return;let s=i[r],l=this.detectionResultColumns[t-1].getCodewords(),u=l;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=l[r],c[3]=u[r],r>0&&(c[0]=i[r-1],c[4]=l[r-1],c[5]=u[r-1]),r>1&&(c[8]=i[r-2],c[10]=l[r-2],c[11]=u[r-2]),r<i.length-1&&(c[1]=i[r+1],c[6]=l[r+1],c[7]=u[r+1]),r<i.length-2&&(c[9]=i[r+2],c[12]=l[r+2],c[13]=u[r+2]);for(let x of c)if(Zr.adjustRowNumber(s,x))return}static adjustRowNumber(t,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===t.getBucket()?(t.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,r){this.detectionResultColumns[t]=r}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Xr;for(let i=0;i<t.getCodewords().length;i++){r.format("CW %3d:",i);for(let s=0;s<this.barcodeColumnCount+2;s++){if(this.detectionResultColumns[s]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[s].getCodewords()[i];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Fr{constructor(t,r,i,s){this.rowNumber=Fr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(r),this.bucket=Math.trunc(i),this.value=Math.trunc(s)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==Fr.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}Fr.BARCODE_ROW_UNKNOWN=-1;class Hn{static initialize(){for(let t=0;t<Ve.SYMBOL_TABLE.length;t++){let r=Ve.SYMBOL_TABLE[t],i=r&1;for(let s=0;s<Ve.BARS_IN_MODULE;s++){let l=0;for(;(r&1)===i;)l+=1,r>>=1;i=r&1,Hn.RATIOS_TABLE[t]||(Hn.RATIOS_TABLE[t]=new Array(Ve.BARS_IN_MODULE)),Hn.RATIOS_TABLE[t][Ve.BARS_IN_MODULE-s-1]=Math.fround(l/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let r=Hn.getDecodedCodewordValue(Hn.sampleBitCounts(t));return r!==-1?r:Hn.getClosestDecodedValue(t)}static sampleBitCounts(t){let r=We.sum(t),i=new Int32Array(Ve.BARS_IN_MODULE),s=0,l=0;for(let u=0;u<Ve.MODULES_IN_CODEWORD;u++){let c=r/(2*Ve.MODULES_IN_CODEWORD)+u*r/Ve.MODULES_IN_CODEWORD;l+t[s]<=c&&(l+=t[s],s++),i[s]++}return i}static getDecodedCodewordValue(t){let r=Hn.getBitValue(t);return Ve.getCodeword(r)===-1?-1:r}static getBitValue(t){let r=0;for(let i=0;i<t.length;i++)for(let s=0;s<t[i];s++)r=r<<1|(i%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(t){let r=We.sum(t),i=new Array(Ve.BARS_IN_MODULE);if(r>1)for(let u=0;u<i.length;u++)i[u]=Math.fround(t[u]/r);let s=er.MAX_VALUE,l=-1;this.bSymbolTableReady||Hn.initialize();for(let u=0;u<Hn.RATIOS_TABLE.length;u++){let c=0,x=Hn.RATIOS_TABLE[u];for(let C=0;C<Ve.BARS_IN_MODULE;C++){let w=Math.fround(x[C]-i[C]);if(c+=Math.fround(w*w),c>=s)break}c<s&&(s=c,l=Ve.SYMBOL_TABLE[u])}return l}}Hn.bSymbolTableReady=!1,Hn.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map(B=>new Array(Ve.BARS_IN_MODULE));class aa{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class sa{static parseLong(t,r=void 0){return parseInt(t,r)}}class Gi extends g{}Gi.kind="NullPointerException";class la{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,r,i){if(t==null)throw new Gi;if(r<0||r>t.length||i<0||r+i>t.length||r+i<0)throw new H;if(i===0)return;for(let s=0;s<i;s++)this.write(t[r+s])}flush(){}close(){}}class ks extends g{}class Oo extends la{constructor(t=32){if(super(),this.count=0,t<0)throw new T("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let i=this.buf.length<<1;if(i-t<0&&(i=t),i<0){if(t<0)throw new ks;i=k.MAX_VALUE}this.buf=U.copyOfUint8Array(this.buf,i)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,r,i){if(r<0||r>t.length||i<0||r+i-t.length>0)throw new H;this.ensureCapacity(this.count+i),F.arraycopy(t,r,this.buf,this.count,i),this.count+=i}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return U.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var yt;(function(B){B[B.ALPHA=0]="ALPHA",B[B.LOWER=1]="LOWER",B[B.MIXED=2]="MIXED",B[B.PUNCT=3]="PUNCT",B[B.ALPHA_SHIFT=4]="ALPHA_SHIFT",B[B.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(yt||(yt={}));function Us(){if(typeof window<"u")return window.BigInt||null;if(typeof Q0<"u")return Q0.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Yi;function Qr(B){if(typeof Yi>"u"&&(Yi=Us()),Yi===null)throw new Error("BigInt is not supported!");return Yi(B)}function Ro(){let B=[];B[0]=Qr(1);let t=Qr(900);B[1]=t;for(let r=2;r<16;r++)B[r]=B[r-1]*t;return B}class Ae{static decode(t,r){let i=new ge(""),s=q.ISO8859_1;i.enableDecoding(s);let l=1,u=t[l++],c=new aa;for(;l<t[0];){switch(u){case Ae.TEXT_COMPACTION_MODE_LATCH:l=Ae.textCompaction(t,l,i);break;case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:l=Ae.byteCompaction(u,t,s,l,i);break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[l++]);break;case Ae.NUMERIC_COMPACTION_MODE_LATCH:l=Ae.numericCompaction(t,l,i);break;case Ae.ECI_CHARSET:q.getCharacterSetECIByValue(t[l++]);break;case Ae.ECI_GENERAL_PURPOSE:l+=2;break;case Ae.ECI_USER_DEFINED:l++;break;case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=Ae.decodeMacroBlock(t,l,c);break;case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:throw new Y;default:l--,l=Ae.textCompaction(t,l,i);break}if(l<t.length)u=t[l++];else throw Y.getFormatInstance()}if(i.length()===0)throw Y.getFormatInstance();let x=new pt(null,i.toString(),null,r);return x.setOther(c),x}static decodeMacroBlock(t,r,i){if(r+Ae.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw Y.getFormatInstance();let s=new Int32Array(Ae.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<Ae.NUMBER_OF_SEQUENCE_CODEWORDS;c++,r++)s[c]=t[r];i.setSegmentIndex(k.parseInt(Ae.decodeBase900toBase10(s,Ae.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ge;r=Ae.textCompaction(t,r,l),i.setFileId(l.toString());let u=-1;for(t[r]===Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<t[0];)switch(t[r]){case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,t[r]){case Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new ge;r=Ae.textCompaction(t,r+1,c),i.setFileName(c.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new ge;r=Ae.textCompaction(t,r+1,x),i.setSender(x.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new ge;r=Ae.textCompaction(t,r+1,C),i.setAddressee(C.toString());break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let w=new ge;r=Ae.numericCompaction(t,r+1,w),i.setSegmentCount(k.parseInt(w.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new ge;r=Ae.numericCompaction(t,r+1,N),i.setTimestamp(sa.parseLong(N.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let R=new ge;r=Ae.numericCompaction(t,r+1,R),i.setChecksum(k.parseInt(R.toString()));break;case Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new ge;r=Ae.numericCompaction(t,r+1,P),i.setFileSize(sa.parseLong(P.toString()));break;default:throw Y.getFormatInstance()}break;case Ae.MACRO_PDF417_TERMINATOR:r++,i.setLastSegment(!0);break;default:throw Y.getFormatInstance()}if(u!==-1){let c=r-u;i.isLastSegment()&&c--,i.setOptionalData(U.copyOfRange(t,u,u+c))}return r}static textCompaction(t,r,i){let s=new Int32Array((t[0]-r)*2),l=new Int32Array((t[0]-r)*2),u=0,c=!1;for(;r<t[0]&&!c;){let x=t[r++];if(x<Ae.TEXT_COMPACTION_MODE_LATCH)s[u]=x/30,s[u+1]=x%30,u+=2;else switch(x){case Ae.TEXT_COMPACTION_MODE_LATCH:s[u++]=Ae.TEXT_COMPACTION_MODE_LATCH;break;case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:r--,c=!0;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s[u]=Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[r++],l[u]=x,u++;break}}return Ae.decodeTextCompaction(s,l,u,i),r}static decodeTextCompaction(t,r,i,s){let l=yt.ALPHA,u=yt.ALPHA,c=0;for(;c<i;){let x=t[c],C="";switch(l){case yt.ALPHA:if(x<26)C=String.fromCharCode(65+x);else switch(x){case 26:C=" ";break;case Ae.LL:l=yt.LOWER;break;case Ae.ML:l=yt.MIXED;break;case Ae.PS:u=l,l=yt.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[c]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.LOWER:if(x<26)C=String.fromCharCode(97+x);else switch(x){case 26:C=" ";break;case Ae.AS:u=l,l=yt.ALPHA_SHIFT;break;case Ae.ML:l=yt.MIXED;break;case Ae.PS:u=l,l=yt.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[c]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.MIXED:if(x<Ae.PL)C=Ae.MIXED_CHARS[x];else switch(x){case Ae.PL:l=yt.PUNCT;break;case 26:C=" ";break;case Ae.LL:l=yt.LOWER;break;case Ae.AL:l=yt.ALPHA;break;case Ae.PS:u=l,l=yt.PUNCT_SHIFT;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[c]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.PUNCT:if(x<Ae.PAL)C=Ae.PUNCT_CHARS[x];else switch(x){case Ae.PAL:l=yt.ALPHA;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[c]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.ALPHA_SHIFT:if(l=u,x<26)C=String.fromCharCode(65+x);else switch(x){case 26:C=" ";break;case Ae.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break;case yt.PUNCT_SHIFT:if(l=u,x<Ae.PAL)C=Ae.PUNCT_CHARS[x];else switch(x){case Ae.PAL:l=yt.ALPHA;break;case Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(r[c]);break;case Ae.TEXT_COMPACTION_MODE_LATCH:l=yt.ALPHA;break}break}C!==""&&s.append(C),c++}}static byteCompaction(t,r,i,s,l){let u=new Oo,c=0,x=0,C=!1;switch(t){case Ae.BYTE_COMPACTION_MODE_LATCH:let w=new Int32Array(6),N=r[s++];for(;s<r[0]&&!C;)switch(w[c++]=N,x=900*x+N,N=r[s++],N){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:s--,C=!0;break;default:if(c%5===0&&c>0){for(let R=0;R<6;++R)u.write(Number(Qr(x)>>Qr(8*(5-R))));x=0,c=0}break}s===r[0]&&N<Ae.TEXT_COMPACTION_MODE_LATCH&&(w[c++]=N);for(let R=0;R<c;R++)u.write(w[R]);break;case Ae.BYTE_COMPACTION_MODE_LATCH_6:for(;s<r[0]&&!C;){let R=r[s++];if(R<Ae.TEXT_COMPACTION_MODE_LATCH)c++,x=900*x+R;else switch(R){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.NUMERIC_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:s--,C=!0;break}if(c%5===0&&c>0){for(let P=0;P<6;++P)u.write(Number(Qr(x)>>Qr(8*(5-P))));x=0,c=0}}break}return l.append(se.decode(u.toByteArray(),i)),s}static numericCompaction(t,r,i){let s=0,l=!1,u=new Int32Array(Ae.MAX_NUMERIC_CODEWORDS);for(;r<t[0]&&!l;){let c=t[r++];if(r===t[0]&&(l=!0),c<Ae.TEXT_COMPACTION_MODE_LATCH)u[s]=c,s++;else switch(c){case Ae.TEXT_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH:case Ae.BYTE_COMPACTION_MODE_LATCH_6:case Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Ae.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(s%Ae.MAX_NUMERIC_CODEWORDS===0||c===Ae.NUMERIC_COMPACTION_MODE_LATCH||l)&&s>0&&(i.append(Ae.decodeBase900toBase10(u,s)),s=0)}return r}static decodeBase900toBase10(t,r){let i=Qr(0);for(let l=0;l<r;l++)i+=Ae.EXP900[r-l-1]*Qr(t[l]);let s=i.toString();if(s.charAt(0)!=="1")throw new Y;return s.substring(1)}}Ae.TEXT_COMPACTION_MODE_LATCH=900,Ae.BYTE_COMPACTION_MODE_LATCH=901,Ae.NUMERIC_COMPACTION_MODE_LATCH=902,Ae.BYTE_COMPACTION_MODE_LATCH_6=924,Ae.ECI_USER_DEFINED=925,Ae.ECI_GENERAL_PURPOSE=926,Ae.ECI_CHARSET=927,Ae.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Ae.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Ae.MACRO_PDF417_TERMINATOR=922,Ae.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Ae.MAX_NUMERIC_CODEWORDS=15,Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Ae.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Ae.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Ae.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Ae.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Ae.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Ae.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Ae.PL=25,Ae.LL=27,Ae.AS=27,Ae.ML=28,Ae.AL=28,Ae.PS=29,Ae.PAL=29,Ae.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Ae.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Ae.EXP900=Us()?Ro():[],Ae.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ke{constructor(){}static decode(t,r,i,s,l,u,c){let x=new Vr(t,r,i,s,l),C=null,w=null,N;for(let Z=!0;;Z=!1){if(r!=null&&(C=Ke.getRowIndicatorColumn(t,x,r,!0,u,c)),s!=null&&(w=Ke.getRowIndicatorColumn(t,x,s,!1,u,c)),N=Ke.merge(C,w),N==null)throw te.getNotFoundInstance();let Q=N.getBoundingBox();if(Z&&Q!=null&&(Q.getMinY()<x.getMinY()||Q.getMaxY()>x.getMaxY()))x=Q;else break}N.setBoundingBox(x);let R=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,C),N.setDetectionResultColumn(R,w);let P=C!=null;for(let Z=1;Z<=R;Z++){let Q=P?Z:R-Z;if(N.getDetectionResultColumn(Q)!==void 0)continue;let le;Q===0||Q===R?le=new qr(x,Q===0):le=new ji(x),N.setDetectionResultColumn(Q,le);let pe=-1,De=pe;for(let Be=x.getMinY();Be<=x.getMaxY();Be++){if(pe=Ke.getStartColumn(N,Q,Be,P),pe<0||pe>x.getMaxX()){if(De===-1)continue;pe=De}let Se=Ke.detectCodeword(t,x.getMinX(),x.getMaxX(),P,pe,Be,u,c);Se!=null&&(le.setCodeword(Be,Se),De=pe,u=Math.min(u,Se.getWidth()),c=Math.max(c,Se.getWidth()))}}return Ke.createDecoderResult(N)}static merge(t,r){if(t==null&&r==null)return null;let i=Ke.getBarcodeMetadata(t,r);if(i==null)return null;let s=Vr.merge(Ke.adjustBoundingBox(t),Ke.adjustBoundingBox(r));return new Zr(i,s)}static adjustBoundingBox(t){if(t==null)return null;let r=t.getRowHeights();if(r==null)return null;let i=Ke.getMax(r),s=0;for(let c of r)if(s+=i-c,c>0)break;let l=t.getCodewords();for(let c=0;s>0&&l[c]==null;c++)s--;let u=0;for(let c=r.length-1;c>=0&&(u+=i-r[c],!(r[c]>0));c--);for(let c=l.length-1;u>0&&l[c]==null;c--)u--;return t.getBoundingBox().addMissingRows(s,u,t.isLeft())}static getMax(t){let r=-1;for(let i of t)r=Math.max(r,i);return r}static getBarcodeMetadata(t,r){let i;if(t==null||(i=t.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let s;return r==null||(s=r.getBarcodeMetadata())==null?i:i.getColumnCount()!==s.getColumnCount()&&i.getErrorCorrectionLevel()!==s.getErrorCorrectionLevel()&&i.getRowCount()!==s.getRowCount()?null:i}static getRowIndicatorColumn(t,r,i,s,l,u){let c=new qr(r,s);for(let x=0;x<2;x++){let C=x===0?1:-1,w=Math.trunc(Math.trunc(i.getX()));for(let N=Math.trunc(Math.trunc(i.getY()));N<=r.getMaxY()&&N>=r.getMinY();N+=C){let R=Ke.detectCodeword(t,0,t.getWidth(),s,w,N,l,u);R!=null&&(c.setCodeword(N,R),s?w=R.getStartX():w=R.getEndX())}}return c}static adjustCodewordCount(t,r){let i=r[0][1],s=i.getValue(),l=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ke.getNumberOfECCodeWords(t.getBarcodeECLevel());if(s.length===0){if(l<1||l>Ve.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();i.setValue(l)}else s[0]!==l&&i.setValue(l)}static createDecoderResult(t){let r=Ke.createBarcodeMatrix(t);Ke.adjustCodewordCount(t,r);let i=new Array,s=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),l=[],u=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let C=0;C<t.getBarcodeColumnCount();C++){let w=r[x][C+1].getValue(),N=x*t.getBarcodeColumnCount()+C;w.length===0?i.push(N):w.length===1?s[N]=w[0]:(u.push(N),l.push(w))}let c=new Array(l.length);for(let x=0;x<c.length;x++)c[x]=l[x];return Ke.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),s,Ve.toIntArray(i),Ve.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(t,r,i,s,l){let u=new Int32Array(s.length),c=100;for(;c-- >0;){for(let x=0;x<u.length;x++)r[s[x]]=l[x][u[x]];try{return Ke.decodeCodewords(r,t,i)}catch(x){if(!(x instanceof O))throw x}if(u.length===0)throw O.getChecksumInstance();for(let x=0;x<u.length;x++)if(u[x]<l[x].length-1){u[x]++;break}else if(u[x]=0,x===u.length-1)throw O.getChecksumInstance()}throw O.getChecksumInstance()}static createBarcodeMatrix(t){let r=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let s=0;s<r.length;s++)for(let l=0;l<r[s].length;l++)r[s][l]=new dn;let i=0;for(let s of t.getDetectionResultColumns()){if(s!=null){for(let l of s.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][i].setValue(l.getValue())}}}i++}return r}static isValidBarcodeColumn(t,r){return r>=0&&r<=t.getBarcodeColumnCount()+1}static getStartColumn(t,r,i,s){let l=s?1:-1,u=null;if(Ke.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodeword(i)),u!=null)return s?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(r).getCodewordNearby(i),u!=null)return s?u.getStartX():u.getEndX();if(Ke.isValidBarcodeColumn(t,r-l)&&(u=t.getDetectionResultColumn(r-l).getCodewordNearby(i)),u!=null)return s?u.getEndX():u.getStartX();let c=0;for(;Ke.isValidBarcodeColumn(t,r-l);){r-=l;for(let x of t.getDetectionResultColumn(r).getCodewords())if(x!=null)return(s?x.getEndX():x.getStartX())+l*c*(x.getEndX()-x.getStartX());c++}return s?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,r,i,s,l,u,c,x){l=Ke.adjustCodewordStartColumn(t,r,i,s,l,u);let C=Ke.getModuleBitCount(t,r,i,s,l,u);if(C==null)return null;let w,N=We.sum(C);if(s)w=l+N;else{for(let Z=0;Z<C.length/2;Z++){let Q=C[Z];C[Z]=C[C.length-1-Z],C[C.length-1-Z]=Q}w=l,l=w-N}if(!Ke.checkCodewordSkew(N,c,x))return null;let R=Hn.getDecodedValue(C),P=Ve.getCodeword(R);return P===-1?null:new Fr(l,w,Ke.getCodewordBucketNumber(R),P)}static getModuleBitCount(t,r,i,s,l,u){let c=l,x=new Int32Array(8),C=0,w=s?1:-1,N=s;for(;(s?c<i:c>=r)&&C<x.length;)t.get(c,u)===N?(x[C]++,c+=w):(C++,N=!N);return C===x.length||c===(s?i:r)&&C===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,r,i,s,l,u){let c=l,x=s?-1:1;for(let C=0;C<2;C++){for(;(s?c>=r:c<i)&&s===t.get(c,u);){if(Math.abs(l-c)>Ke.CODEWORD_SKEW_SIZE)return l;c+=x}x=-x,s=!s}return c}static checkCodewordSkew(t,r,i){return r-Ke.CODEWORD_SKEW_SIZE<=t&&t<=i+Ke.CODEWORD_SKEW_SIZE}static decodeCodewords(t,r,i){if(t.length===0)throw Y.getFormatInstance();let s=1<<r+1,l=Ke.correctErrors(t,i,s);Ke.verifyCodewordCount(t,s);let u=Ae.decode(t,""+r);return u.setErrorsCorrected(l),u.setErasures(i.length),u}static correctErrors(t,r,i){if(r!=null&&r.length>i/2+Ke.MAX_ERRORS||i<0||i>Ke.MAX_EC_CODEWORDS)throw O.getChecksumInstance();return Ke.errorCorrection.decode(t,i,r)}static verifyCodewordCount(t,r){if(t.length<4)throw Y.getFormatInstance();let i=t[0];if(i>t.length)throw Y.getFormatInstance();if(i===0)if(r<t.length)t[0]=t.length-r;else throw Y.getFormatInstance()}static getBitCountForCodeword(t){let r=new Int32Array(8),i=0,s=r.length-1;for(;!((t&1)!==i&&(i=t&1,s--,s<0));)r[s]++,t>>=1;return r}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ke.getCodewordBucketNumber(Ke.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let r=new Xr;for(let i=0;i<t.length;i++){r.format("Row %2d: ",i);for(let s=0;s<t[i].length;s++){let l=t[i][s];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ke.CODEWORD_SKEW_SIZE=2,Ke.MAX_ERRORS=3,Ke.MAX_EC_CODEWORDS=512,Ke.errorCorrection=new T0;class Cn{decode(t,r=null){let i=Cn.decode(t,r,!1);if(i==null||i.length===0||i[0]==null)throw te.getNotFoundInstance();return i[0]}decodeMultiple(t,r=null){try{return Cn.decode(t,r,!0)}catch(i){throw i instanceof Y||i instanceof O?te.getNotFoundInstance():i}}static decode(t,r,i){const s=new Array,l=Ze.detectMultiple(t,r,i);for(const u of l.getPoints()){const c=Ke.decode(l.getBits(),u[4],u[5],u[6],u[7],Cn.getMinCodewordWidth(u),Cn.getMaxCodewordWidth(u)),x=new ie(c.getText(),c.getRawBytes(),void 0,u,ve.PDF_417);x.putMetadata(Me.ERROR_CORRECTION_LEVEL,c.getECLevel());const C=c.getOther();C!=null&&x.putMetadata(Me.PDF417_EXTRA_METADATA,C),s.push(x)}return s.map(u=>u)}static getMaxWidth(t,r){return t==null||r==null?0:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMinWidth(t,r){return t==null||r==null?k.MAX_VALUE:Math.trunc(Math.abs(t.getX()-r.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Cn.getMaxWidth(t[0],t[4]),Cn.getMaxWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(Cn.getMaxWidth(t[1],t[5]),Cn.getMaxWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Cn.getMinWidth(t[0],t[4]),Cn.getMinWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(Cn.getMinWidth(t[1],t[5]),Cn.getMinWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class D0 extends g{}D0.kind="ReaderException";class zs{constructor(t,r){this.verbose=t===!0,r&&this.setHints(r)}decode(t,r){return r&&this.setHints(r),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const r=!d(t)&&t.get(ee.TRY_HARDER)===!0,i=d(t)?null:t.get(ee.POSSIBLE_FORMATS),s=new Array;if(!d(i)){const l=i.some(u=>u===ve.UPC_A||u===ve.UPC_E||u===ve.EAN_13||u===ve.EAN_8||u===ve.CODABAR||u===ve.CODE_39||u===ve.CODE_93||u===ve.CODE_128||u===ve.ITF||u===ve.RSS_14||u===ve.RSS_EXPANDED);l&&!r&&s.push(new zn(t,this.verbose)),i.includes(ve.QR_CODE)&&s.push(new mr),i.includes(ve.DATA_MATRIX)&&s.push(new Lr),i.includes(ve.AZTEC)&&s.push(new sr),i.includes(ve.PDF_417)&&s.push(new Cn),l&&r&&s.push(new zn(t,this.verbose))}s.length===0&&(r||s.push(new zn(t,this.verbose)),s.push(new mr),s.push(new Lr),s.push(new sr),s.push(new Cn),r&&s.push(new zn(t,this.verbose))),this.readers=s}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new D0("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(t,this.hints)}catch(i){if(i instanceof D0)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Io extends de{constructor(t=null,r=500){const i=new zs;i.setHints(t),super(i,r)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Lo extends de{constructor(t=500){super(new Cn,t)}}class Fo extends de{constructor(t=500){super(new mr,t)}}var _0;(function(B){B[B.ERROR_CORRECTION=0]="ERROR_CORRECTION",B[B.CHARACTER_SET=1]="CHARACTER_SET",B[B.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",B[B.MIN_SIZE=3]="MIN_SIZE",B[B.MAX_SIZE=4]="MAX_SIZE",B[B.MARGIN=5]="MARGIN",B[B.PDF417_COMPACT=6]="PDF417_COMPACT",B[B.PDF417_COMPACTION=7]="PDF417_COMPACTION",B[B.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",B[B.AZTEC_LAYERS=9]="AZTEC_LAYERS",B[B.QR_VERSION=10]="QR_VERSION"})(_0||(_0={}));var ln=_0;class Ya{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new wt(t,Int32Array.from([1])))}buildGenerator(t){const r=this.cachedGenerators;if(t>=r.length){let i=r[r.length-1];const s=this.field;for(let l=r.length;l<=t;l++){const u=i.multiply(new wt(s,Int32Array.from([1,s.exp(l-1+s.getGeneratorBase())])));r.push(u),i=u}}return r[t]}encode(t,r){if(r===0)throw new T("No error correction bytes");const i=t.length-r;if(i<=0)throw new T("No data bytes provided");const s=this.buildGenerator(r),l=new Int32Array(i);F.arraycopy(t,0,l,0,i);let u=new wt(this.field,l);u=u.multiplyByMonomial(r,1);const x=u.divide(s)[1].getCoefficients(),C=r-x.length;for(let w=0;w<C;w++)t[i+w]=0;F.arraycopy(x,0,t,i+C,x.length)}}class Vt{constructor(){}static applyMaskPenaltyRule1(t){return Vt.applyMaskPenaltyRule1Internal(t,!0)+Vt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let r=0;const i=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let u=0;u<l-1;u++){const c=i[u];for(let x=0;x<s-1;x++){const C=c[x];C===c[x+1]&&C===i[u+1][x]&&C===i[u+1][x+1]&&r++}}return Vt.N2*r}static applyMaskPenaltyRule3(t){let r=0;const i=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let u=0;u<l;u++)for(let c=0;c<s;c++){const x=i[u];c+6<s&&x[c]===1&&x[c+1]===0&&x[c+2]===1&&x[c+3]===1&&x[c+4]===1&&x[c+5]===0&&x[c+6]===1&&(Vt.isWhiteHorizontal(x,c-4,c)||Vt.isWhiteHorizontal(x,c+7,c+11))&&r++,u+6<l&&i[u][c]===1&&i[u+1][c]===0&&i[u+2][c]===1&&i[u+3][c]===1&&i[u+4][c]===1&&i[u+5][c]===0&&i[u+6][c]===1&&(Vt.isWhiteVertical(i,c,u-4,u)||Vt.isWhiteVertical(i,c,u+7,u+11))&&r++}return r*Vt.N3}static isWhiteHorizontal(t,r,i){r=Math.max(r,0),i=Math.min(i,t.length);for(let s=r;s<i;s++)if(t[s]===1)return!1;return!0}static isWhiteVertical(t,r,i,s){i=Math.max(i,0),s=Math.min(s,t.length);for(let l=i;l<s;l++)if(t[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let r=0;const i=t.getArray(),s=t.getWidth(),l=t.getHeight();for(let x=0;x<l;x++){const C=i[x];for(let w=0;w<s;w++)C[w]===1&&r++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*Vt.N4}static getDataMaskBit(t,r,i){let s,l;switch(t){case 0:s=i+r&1;break;case 1:s=i&1;break;case 2:s=r%3;break;case 3:s=(i+r)%3;break;case 4:s=Math.floor(i/2)+Math.floor(r/3)&1;break;case 5:l=i*r,s=(l&1)+l%3;break;case 6:l=i*r,s=(l&1)+l%3&1;break;case 7:l=i*r,s=l%3+(i+r&1)&1;break;default:throw new T("Invalid mask pattern: "+t)}return s===0}static applyMaskPenaltyRule1Internal(t,r){let i=0;const s=r?t.getHeight():t.getWidth(),l=r?t.getWidth():t.getHeight(),u=t.getArray();for(let c=0;c<s;c++){let x=0,C=-1;for(let w=0;w<l;w++){const N=r?u[c][w]:u[w][c];N===C?x++:(x>=5&&(i+=Vt.N1+(x-5)),x=1,C=N)}x>=5&&(i+=Vt.N1+(x-5))}return i}}Vt.N1=3,Vt.N2=3,Vt.N3=40,Vt.N4=10;class B0{constructor(t,r){this.width=t,this.height=r;const i=new Array(r);for(let s=0;s!==r;s++)i[s]=new Uint8Array(t);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(t,r){return this.bytes[r][t]}getArray(){return this.bytes}setNumber(t,r,i){this.bytes[r][t]=i}setBoolean(t,r,i){this.bytes[r][t]=i?1:0}clear(t){for(const r of this.bytes)U.fill(r,t)}equals(t){if(!(t instanceof B0))return!1;const r=t;if(this.width!==r.width||this.height!==r.height)return!1;for(let i=0,s=this.height;i<s;++i){const l=this.bytes[i],u=r.bytes[i];for(let c=0,x=this.width;c<x;++c)if(l[c]!==u[c])return!1}return!0}toString(){const t=new ge;for(let r=0,i=this.height;r<i;++r){const s=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(s[l]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class oi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new ge;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<oi.NUM_MASK_PATTERNS}}oi.NUM_MASK_PATTERNS=8;class St extends g{}St.kind="WriterException";class Ge{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,r,i,s,l){Ge.clearMatrix(l),Ge.embedBasicPatterns(i,l),Ge.embedTypeInfo(r,s,l),Ge.maybeEmbedVersionInfo(i,l),Ge.embedDataBits(t,s,l)}static embedBasicPatterns(t,r){Ge.embedPositionDetectionPatternsAndSeparators(r),Ge.embedDarkDotAtLeftBottomCorner(r),Ge.maybeEmbedPositionAdjustmentPatterns(t,r),Ge.embedTimingPatterns(r)}static embedTypeInfo(t,r,i){const s=new j;Ge.makeTypeInfoBits(t,r,s);for(let l=0,u=s.getSize();l<u;++l){const c=s.get(s.getSize()-1-l),x=Ge.TYPE_INFO_COORDINATES[l],C=x[0],w=x[1];if(i.setBoolean(C,w,c),l<8){const N=i.getWidth()-l-1;i.setBoolean(N,8,c)}else{const R=i.getHeight()-7+(l-8);i.setBoolean(8,R,c)}}}static maybeEmbedVersionInfo(t,r){if(t.getVersionNumber()<7)return;const i=new j;Ge.makeVersionInfoBits(t,i);let s=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const c=i.get(s);s--,r.setBoolean(l,r.getHeight()-11+u,c),r.setBoolean(r.getHeight()-11+u,l,c)}}static embedDataBits(t,r,i){let s=0,l=-1,u=i.getWidth()-1,c=i.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<i.getHeight();){for(let x=0;x<2;++x){const C=u-x;if(!Ge.isEmpty(i.get(C,c)))continue;let w;s<t.getSize()?(w=t.get(s),++s):w=!1,r!==255&&Vt.getDataMaskBit(r,C,c)&&(w=!w),i.setBoolean(C,c,w)}c+=l}l=-l,c+=l,u-=2}if(s!==t.getSize())throw new St("Not all bits consumed: "+s+"/"+t.getSize())}static findMSBSet(t){return 32-k.numberOfLeadingZeros(t)}static calculateBCHCode(t,r){if(r===0)throw new T("0 polynomial");const i=Ge.findMSBSet(r);for(t<<=i-1;Ge.findMSBSet(t)>=i;)t^=r<<Ge.findMSBSet(t)-i;return t}static makeTypeInfoBits(t,r,i){if(!oi.isValidMaskPattern(r))throw new St("Invalid mask pattern");const s=t.getBits()<<3|r;i.appendBits(s,5);const l=Ge.calculateBCHCode(s,Ge.TYPE_INFO_POLY);i.appendBits(l,10);const u=new j;if(u.appendBits(Ge.TYPE_INFO_MASK_PATTERN,15),i.xor(u),i.getSize()!==15)throw new St("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(t,r){r.appendBits(t.getVersionNumber(),6);const i=Ge.calculateBCHCode(t.getVersionNumber(),Ge.VERSION_INFO_POLY);if(r.appendBits(i,12),r.getSize()!==18)throw new St("should not happen but we got: "+r.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let r=8;r<t.getWidth()-8;++r){const i=(r+1)%2;Ge.isEmpty(t.get(r,6))&&t.setNumber(r,6,i),Ge.isEmpty(t.get(6,r))&&t.setNumber(6,r,i)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new St;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,r,i){for(let s=0;s<8;++s){if(!Ge.isEmpty(i.get(t+s,r)))throw new St;i.setNumber(t+s,r,0)}}static embedVerticalSeparationPattern(t,r,i){for(let s=0;s<7;++s){if(!Ge.isEmpty(i.get(t,r+s)))throw new St;i.setNumber(t,r+s,0)}}static embedPositionAdjustmentPattern(t,r,i){for(let s=0;s<5;++s){const l=Ge.POSITION_ADJUSTMENT_PATTERN[s];for(let u=0;u<5;++u)i.setNumber(t+u,r+s,l[u])}}static embedPositionDetectionPattern(t,r,i){for(let s=0;s<7;++s){const l=Ge.POSITION_DETECTION_PATTERN[s];for(let u=0;u<7;++u)i.setNumber(t+u,r+s,l[u])}}static embedPositionDetectionPatternsAndSeparators(t){const r=Ge.POSITION_DETECTION_PATTERN[0].length;Ge.embedPositionDetectionPattern(0,0,t),Ge.embedPositionDetectionPattern(t.getWidth()-r,0,t),Ge.embedPositionDetectionPattern(0,t.getWidth()-r,t);const i=8;Ge.embedHorizontalSeparationPattern(0,i-1,t),Ge.embedHorizontalSeparationPattern(t.getWidth()-i,i-1,t),Ge.embedHorizontalSeparationPattern(0,t.getWidth()-i,t);const s=7;Ge.embedVerticalSeparationPattern(s,0,t),Ge.embedVerticalSeparationPattern(t.getHeight()-s-1,0,t),Ge.embedVerticalSeparationPattern(s,t.getHeight()-s,t)}static maybeEmbedPositionAdjustmentPatterns(t,r){if(t.getVersionNumber()<2)return;const i=t.getVersionNumber()-1,s=Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let l=0,u=s.length;l!==u;l++){const c=s[l];if(c>=0)for(let x=0;x!==u;x++){const C=s[x];C>=0&&Ge.isEmpty(r.get(C,c))&&Ge.embedPositionAdjustmentPattern(C-2,c-2,r)}}}}Ge.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ge.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ge.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ge.VERSION_INFO_POLY=7973,Ge.TYPE_INFO_POLY=1335,Ge.TYPE_INFO_MASK_PATTERN=21522;class ko{constructor(t,r){this.dataBytes=t,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Rt{constructor(){}static calculateMaskPenalty(t){return Vt.applyMaskPenaltyRule1(t)+Vt.applyMaskPenaltyRule2(t)+Vt.applyMaskPenaltyRule3(t)+Vt.applyMaskPenaltyRule4(t)}static encode(t,r,i=null){let s=Rt.DEFAULT_BYTE_MODE_ENCODING;const l=i!==null&&i.get(ln.CHARACTER_SET)!==void 0;l&&(s=i.get(ln.CHARACTER_SET).toString());const u=this.chooseMode(t,s),c=new j;if(u===Pe.BYTE&&(l||Rt.DEFAULT_BYTE_MODE_ENCODING!==s)){const Be=q.getCharacterSetECIByName(s);Be!==void 0&&this.appendECI(Be,c)}this.appendModeInfo(u,c);const x=new j;this.appendBytes(t,u,x,s);let C;if(i!==null&&i.get(ln.QR_VERSION)!==void 0){const Be=Number.parseInt(i.get(ln.QR_VERSION).toString(),10);C=Ue.getVersionForNumber(Be);const Se=this.calculateBitsNeeded(u,c,x,C);if(!this.willFit(Se,C,r))throw new St("Data too big for requested version")}else C=this.recommendVersion(r,u,c,x);const w=new j;w.appendBitArray(c);const N=u===Pe.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(N,C,u,w),w.appendBitArray(x);const R=C.getECBlocksForLevel(r),P=C.getTotalCodewords()-R.getTotalECCodewords();this.terminateBits(P,w);const Z=this.interleaveWithECBytes(w,C.getTotalCodewords(),P,R.getNumBlocks()),Q=new oi;Q.setECLevel(r),Q.setMode(u),Q.setVersion(C);const le=C.getDimensionForVersion(),pe=new B0(le,le),De=this.chooseMaskPattern(Z,r,C,pe);return Q.setMaskPattern(De),Ge.buildMatrix(Z,r,C,De,pe),Q.setMatrix(pe),Q}static recommendVersion(t,r,i,s){const l=this.calculateBitsNeeded(r,i,s,Ue.getVersionForNumber(1)),u=this.chooseVersion(l,t),c=this.calculateBitsNeeded(r,i,s,u);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,r,i,s){return r.getSize()+t.getCharacterCountBits(s)+i.getSize()}static getAlphanumericCode(t){return t<Rt.ALPHANUMERIC_TABLE.length?Rt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,r=null){if(q.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(t))return Pe.KANJI;let i=!1,s=!1;for(let l=0,u=t.length;l<u;++l){const c=t.charAt(l);if(Rt.isDigit(c))i=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)s=!0;else return Pe.BYTE}return s?Pe.ALPHANUMERIC:i?Pe.NUMERIC:Pe.BYTE}static isOnlyDoubleByteKanji(t){let r;try{r=se.encode(t,q.SJIS)}catch{return!1}const i=r.length;if(i%2!==0)return!1;for(let s=0;s<i;s+=2){const l=r[s]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(t,r,i,s){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<oi.NUM_MASK_PATTERNS;c++){Ge.buildMatrix(t,r,i,c,s);let x=this.calculateMaskPenalty(s);x<l&&(l=x,u=c)}return u}static chooseVersion(t,r){for(let i=1;i<=40;i++){const s=Ue.getVersionForNumber(i);if(Rt.willFit(t,s,r))return s}throw new St("Data too big")}static willFit(t,r,i){const s=r.getTotalCodewords(),u=r.getECBlocksForLevel(i).getTotalECCodewords(),c=s-u,x=(t+7)/8;return c>=x}static terminateBits(t,r){const i=t*8;if(r.getSize()>i)throw new St("data bits cannot fit in the QR Code"+r.getSize()+" > "+i);for(let u=0;u<4&&r.getSize()<i;++u)r.appendBit(!1);const s=r.getSize()&7;if(s>0)for(let u=s;u<8;u++)r.appendBit(!1);const l=t-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==i)throw new St("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,r,i,s,l,u){if(s>=i)throw new St("Block ID too large");const c=t%i,x=i-c,C=Math.floor(t/i),w=C+1,N=Math.floor(r/i),R=N+1,P=C-N,Z=w-R;if(P!==Z)throw new St("EC bytes mismatch");if(i!==x+c)throw new St("RS blocks mismatch");if(t!==(N+P)*x+(R+Z)*c)throw new St("Total bytes mismatch");s<x?(l[0]=N,u[0]=P):(l[0]=R,u[0]=Z)}static interleaveWithECBytes(t,r,i,s){if(t.getSizeInBytes()!==i)throw new St("Number of bits and data bytes does not match");let l=0,u=0,c=0;const x=new Array;for(let w=0;w<s;++w){const N=new Int32Array(1),R=new Int32Array(1);Rt.getNumDataBytesAndNumECBytesForBlockID(r,i,s,w,N,R);const P=N[0],Z=new Uint8Array(P);t.toBytes(8*l,Z,0,P);const Q=Rt.generateECBytes(Z,R[0]);x.push(new ko(Z,Q)),u=Math.max(u,P),c=Math.max(c,Q.length),l+=N[0]}if(i!==l)throw new St("Data bytes does not match offset");const C=new j;for(let w=0;w<u;++w)for(const N of x){const R=N.getDataBytes();w<R.length&&C.appendBits(R[w],8)}for(let w=0;w<c;++w)for(const N of x){const R=N.getErrorCorrectionBytes();w<R.length&&C.appendBits(R[w],8)}if(r!==C.getSizeInBytes())throw new St("Interleaving error: "+r+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(t,r){const i=t.length,s=new Int32Array(i+r);for(let u=0;u<i;u++)s[u]=t[u]&255;new Ya(Ye.QR_CODE_FIELD_256).encode(s,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=s[i+u];return l}static appendModeInfo(t,r){r.appendBits(t.getBits(),4)}static appendLengthInfo(t,r,i,s){const l=i.getCharacterCountBits(r);if(t>=1<<l)throw new St(t+" is bigger than "+((1<<l)-1));s.appendBits(t,l)}static appendBytes(t,r,i,s){switch(r){case Pe.NUMERIC:Rt.appendNumericBytes(t,i);break;case Pe.ALPHANUMERIC:Rt.appendAlphanumericBytes(t,i);break;case Pe.BYTE:Rt.append8BitBytes(t,i,s);break;case Pe.KANJI:Rt.appendKanjiBytes(t,i);break;default:throw new St("Invalid mode: "+r)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const r=Rt.getDigit(t);return r>=0&&r<=9}static appendNumericBytes(t,r){const i=t.length;let s=0;for(;s<i;){const l=Rt.getDigit(t.charAt(s));if(s+2<i){const u=Rt.getDigit(t.charAt(s+1)),c=Rt.getDigit(t.charAt(s+2));r.appendBits(l*100+u*10+c,10),s+=3}else if(s+1<i){const u=Rt.getDigit(t.charAt(s+1));r.appendBits(l*10+u,7),s+=2}else r.appendBits(l,4),s++}}static appendAlphanumericBytes(t,r){const i=t.length;let s=0;for(;s<i;){const l=Rt.getAlphanumericCode(t.charCodeAt(s));if(l===-1)throw new St;if(s+1<i){const u=Rt.getAlphanumericCode(t.charCodeAt(s+1));if(u===-1)throw new St;r.appendBits(l*45+u,11),s+=2}else r.appendBits(l,6),s++}}static append8BitBytes(t,r,i){let s;try{s=se.encode(t,i)}catch(l){throw new St(l)}for(let l=0,u=s.length;l!==u;l++){const c=s[l];r.appendBits(c,8)}}static appendKanjiBytes(t,r){let i;try{i=se.encode(t,q.SJIS)}catch(l){throw new St(l)}const s=i.length;for(let l=0;l<s;l+=2){const u=i[l]&255,c=i[l+1]&255,x=u<<8&4294967295|c;let C=-1;if(x>=33088&&x<=40956?C=x-33088:x>=57408&&x<=60351&&(C=x-49472),C===-1)throw new St("Invalid byte sequence");const w=(C>>8)*192+(C&255);r.appendBits(w,13)}}static appendECI(t,r){r.appendBits(Pe.ECI.getBits(),4),r.appendBits(t.getValue(),8)}}Rt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Rt.DEFAULT_BYTE_MODE_ENCODING=q.UTF8.getName();class ui{write(t,r,i,s=null){if(t.length===0)throw new T("Found empty contents");if(r<0||i<0)throw new T("Requested dimensions are too small: "+r+"x"+i);let l=$e.L,u=ui.QUIET_ZONE_SIZE;s!==null&&(s.get(ln.ERROR_CORRECTION)!==void 0&&(l=$e.fromString(s.get(ln.ERROR_CORRECTION).toString())),s.get(ln.MARGIN)!==void 0&&(u=Number.parseInt(s.get(ln.MARGIN).toString(),10)));const c=Rt.encode(t,l,s);return this.renderResult(c,r,i,u)}writeToDom(t,r,i,s,l=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(r,i,s,l);t&&t.appendChild(u)}renderResult(t,r,i,s){const l=t.getMatrix();if(l===null)throw new un;const u=l.getWidth(),c=l.getHeight(),x=u+s*2,C=c+s*2,w=Math.max(r,x),N=Math.max(i,C),R=Math.min(Math.floor(w/x),Math.floor(N/C)),P=Math.floor((w-u*R)/2),Z=Math.floor((N-c*R)/2),Q=this.createSVGElement(w,N);for(let le=0,pe=Z;le<c;le++,pe+=R)for(let De=0,Be=P;De<u;De++,Be+=R)if(l.get(De,le)===1){const Se=this.createSvgRectElement(Be,pe,R,R);Q.appendChild(Se)}return Q}createSVGElement(t,r){const i=document.createElementNS(ui.SVG_NS,"svg");return i.setAttributeNS(null,"height",t.toString()),i.setAttributeNS(null,"width",r.toString()),i}createSvgRectElement(t,r,i,s){const l=document.createElementNS(ui.SVG_NS,"rect");return l.setAttributeNS(null,"x",t.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",s.toString()),l.setAttributeNS(null,"fill","#000000"),l}}ui.QUIET_ZONE_SIZE=4,ui.SVG_NS="http://www.w3.org/2000/svg";class Vi{encode(t,r,i,s,l){if(t.length===0)throw new T("Found empty contents");if(r!==ve.QR_CODE)throw new T("Can only encode QR_CODE, but got "+r);if(i<0||s<0)throw new T(`Requested dimensions are too small: ${i}x${s}`);let u=$e.L,c=Vi.QUIET_ZONE_SIZE;l!==null&&(l.get(ln.ERROR_CORRECTION)!==void 0&&(u=$e.fromString(l.get(ln.ERROR_CORRECTION).toString())),l.get(ln.MARGIN)!==void 0&&(c=Number.parseInt(l.get(ln.MARGIN).toString(),10)));const x=Rt.encode(t,u,l);return Vi.renderResult(x,i,s,c)}static renderResult(t,r,i,s){const l=t.getMatrix();if(l===null)throw new un;const u=l.getWidth(),c=l.getHeight(),x=u+s*2,C=c+s*2,w=Math.max(r,x),N=Math.max(i,C),R=Math.min(Math.floor(w/x),Math.floor(N/C)),P=Math.floor((w-u*R)/2),Z=Math.floor((N-c*R)/2),Q=new Ne(w,N);for(let le=0,pe=Z;le<c;le++,pe+=R)for(let De=0,Be=P;De<u;De++,Be+=R)l.get(De,le)===1&&Q.setRegion(Be,pe,R,R);return Q}}Vi.QUIET_ZONE_SIZE=4;class Uo{encode(t,r,i,s,l){let u;switch(r){case ve.QR_CODE:u=new Vi;break;default:throw new T("No encoder available for format "+r)}return u.encode(t,r,i,s,l)}}class Cr extends Oe{constructor(t,r,i,s,l,u,c,x){if(super(u,c),this.yuvData=t,this.dataWidth=r,this.dataHeight=i,this.left=s,this.top=l,s+u>r||l+c>i)throw new T("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(u,c)}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const s=(t+this.top)*this.dataWidth+this.left;return F.arraycopy(this.yuvData,s,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.yuvData;const i=t*r,s=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return F.arraycopy(this.yuvData,l,s,0,i),s;for(let u=0;u<r;u++){const c=u*t;F.arraycopy(this.yuvData,l,s,c,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,i,s){return new Cr(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+r,i,s,!1)}renderThumbnail(){const t=this.getWidth()/Cr.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Cr.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(t*r),s=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const c=u*t;for(let x=0;x<t;x++){const C=s[l+x*Cr.THUMBNAIL_SCALE_FACTOR]&255;i[c+x]=4278190080|C*65793}l+=this.dataWidth*Cr.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/Cr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Cr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,r){const i=this.yuvData;for(let s=0,l=this.top*this.dataWidth+this.left;s<r;s++,l+=this.dataWidth){const u=l+t/2;for(let c=l,x=l+t-1;c<u;c++,x--){const C=i[c];i[c]=i[x],i[x]=C}}}invert(){return new ze(this)}}Cr.THUMBNAIL_SCALE_FACTOR=2;class N0 extends Oe{constructor(t,r,i,s,l,u,c){if(super(r,i),this.dataWidth=s,this.dataHeight=l,this.left=u,this.top=c,t.BYTES_PER_ELEMENT===4){const x=r*i,C=new Uint8ClampedArray(x);for(let w=0;w<x;w++){const N=t[w],R=N>>16&255,P=N>>7&510,Z=N&255;C[w]=(R+P+Z)/4&255}this.luminances=C}else this.luminances=t;if(s===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=i),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+i>this.dataHeight)throw new T("Crop rectangle does not fit within image data.")}getRow(t,r){if(t<0||t>=this.getHeight())throw new T("Requested row is outside the image: "+t);const i=this.getWidth();(r==null||r.length<i)&&(r=new Uint8ClampedArray(i));const s=(t+this.top)*this.dataWidth+this.left;return F.arraycopy(this.luminances,s,r,0,i),r}getMatrix(){const t=this.getWidth(),r=this.getHeight();if(t===this.dataWidth&&r===this.dataHeight)return this.luminances;const i=t*r,s=new Uint8ClampedArray(i);let l=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return F.arraycopy(this.luminances,l,s,0,i),s;for(let u=0;u<r;u++){const c=u*t;F.arraycopy(this.luminances,l,s,c,t),l+=this.dataWidth}return s}isCropSupported(){return!0}crop(t,r,i,s){return new N0(this.luminances,i,s,this.dataWidth,this.dataHeight,this.left+t,this.top+r)}invert(){return new ze(this)}}class Xi extends q{static forName(t){return this.getCharacterSetECIByName(t)}}class Va{}Va.ISO_8859_1=q.ISO8859_1;class Xa{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class qa{static singletonList(t){return[t]}static min(t,r){return t.sort(r)[0]}}class Hs{constructor(t){this.previous=t}getPrevious(){return this.previous}}class ci extends Hs{constructor(t,r,i){super(t),this.value=r,this.bitCount=i}appendTo(t,r){t.appendBits(this.value,this.bitCount)}add(t,r){return new ci(this,t,r)}addBinaryShift(t,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ci(this,t,r)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+k.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class oa extends ci{constructor(t,r,i){super(t,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=i}appendTo(t,r){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):i===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(r[this.binaryShiftStart+i],8)}addBinaryShift(t,r){return new oa(this,t,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function qi(B,t,r){return new oa(B,t,r)}function M0(B,t,r){return new ci(B,t,r)}const zo=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Wr=0,O0=1,Qn=2,Zi=3,Pn=4,Ho=new ci(null,0,0),Qi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ps(B){for(let t of B)U.fill(t,-1);return B[Wr][Pn]=0,B[O0][Pn]=0,B[O0][Wr]=28,B[Zi][Pn]=0,B[Qn][Pn]=0,B[Qn][Wr]=15,B}const Za=Ps(U.createInt32Array(6,6));class nr{constructor(t,r,i,s){this.token=t,this.mode=r,this.binaryShiftByteCount=i,this.bitCount=s}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,r){let i=this.bitCount,s=this.token;if(t!==this.mode){let u=Qi[this.mode][t];s=M0(s,u&65535,u>>16),i+=u>>16}let l=t===Qn?4:5;return s=M0(s,r,l),new nr(s,t,0,i+l)}shiftAndAppend(t,r){let i=this.token,s=this.mode===Qn?4:5;return i=M0(i,Za[this.mode][t],s),i=M0(i,r,5),new nr(i,this.mode,0,this.bitCount+s+5)}addBinaryShiftChar(t){let r=this.token,i=this.mode,s=this.bitCount;if(this.mode===Pn||this.mode===Qn){let c=Qi[i][Wr];r=M0(r,c&65535,c>>16),s+=c>>16,i=Wr}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new nr(r,i,this.binaryShiftByteCount+1,s+l);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=qi(r,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new nr(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let r=this.bitCount+(Qi[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?r+=nr.calculateBinaryShiftCost(t)-nr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(r+=10),r<=t.bitCount}toBitArray(t){let r=[];for(let s=this.endBinaryShift(t.length).token;s!==null;s=s.getPrevious())r.unshift(s);let i=new j;for(const s of r)s.appendTo(i,t);return i}toString(){return ue.format("%s bits=%d bytes=%d",zo[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}nr.INITIAL_STATE=new nr(Ho,Wr,0,0);function Qa(B){const t=ue.getCharCode(" "),r=ue.getCharCode("."),i=ue.getCharCode(",");B[Wr][t]=1;const s=ue.getCharCode("Z"),l=ue.getCharCode("A");for(let R=l;R<=s;R++)B[Wr][R]=R-l+2;B[O0][t]=1;const u=ue.getCharCode("z"),c=ue.getCharCode("a");for(let R=c;R<=u;R++)B[O0][R]=R-c+2;B[Qn][t]=1;const x=ue.getCharCode("9"),C=ue.getCharCode("0");for(let R=C;R<=x;R++)B[Qn][R]=R-C+2;B[Qn][i]=12,B[Qn][r]=13;const w=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let R=0;R<w.length;R++)B[Zi][ue.getCharCode(w[R])]=R;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let R=0;R<N.length;R++)ue.getCharCode(N[R])>0&&(B[Pn][ue.getCharCode(N[R])]=R);return B}const ua=Qa(U.createInt32Array(5,256));class Wi{constructor(t){this.text=t}encode(){const t=ue.getCharCode(" "),r=ue.getCharCode(`
`);let i=qa.singletonList(nr.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,c=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ue.getCharCode("\r"):u=c===r?2:0;break;case ue.getCharCode("."):u=c===t?3:0;break;case ue.getCharCode(","):u=c===t?4:0;break;case ue.getCharCode(":"):u=c===t?5:0;break;default:u=0}u>0?(i=Wi.updateStateListForPair(i,l,u),l++):i=this.updateStateListForChar(i,l)}return qa.min(i,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,r){const i=[];for(let s of t)this.updateStateForChar(s,r,i);return Wi.simplifyStates(i)}updateStateForChar(t,r,i){let s=this.text[r]&255,l=ua[t.getMode()][s]>0,u=null;for(let c=0;c<=Pn;c++){let x=ua[c][s];if(x>0){if(u==null&&(u=t.endBinaryShift(r)),!l||c===t.getMode()||c===Qn){const C=u.latchAndAppend(c,x);i.push(C)}if(!l&&Za[t.getMode()][c]>=0){const C=u.shiftAndAppend(c,x);i.push(C)}}}if(t.getBinaryShiftByteCount()>0||ua[t.getMode()][s]===0){let c=t.addBinaryShiftChar(r);i.push(c)}}static updateStateListForPair(t,r,i){const s=[];for(let l of t)this.updateStateForPair(l,r,i,s);return this.simplifyStates(s)}static updateStateForPair(t,r,i,s){let l=t.endBinaryShift(r);if(s.push(l.latchAndAppend(Pn,i)),t.getMode()!==Pn&&s.push(l.shiftAndAppend(Pn,i)),i===3||i===4){let u=l.latchAndAppend(Qn,16-i).latchAndAppend(Qn,1);s.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(r).addBinaryShiftChar(r+1);s.push(u)}}static simplifyStates(t){let r=[];for(const i of t){let s=!0;for(const l of r){if(l.isBetterThanOrEqualTo(i)){s=!1;break}i.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}s&&r.push(i)}return r}}class ct{constructor(){}static encodeBytes(t){return ct.encode(t,ct.DEFAULT_EC_PERCENT,ct.DEFAULT_AZTEC_LAYERS)}static encode(t,r,i){let s=new Wi(t).encode(),l=k.truncDivision(s.getSize()*r,100)+11,u=s.getSize()+l,c,x,C,w,N;if(i!==ct.DEFAULT_AZTEC_LAYERS){if(c=i<0,x=Math.abs(i),x>(c?ct.MAX_NB_BITS_COMPACT:ct.MAX_NB_BITS))throw new T(ue.format("Illegal value %s for layers",i));C=ct.totalBitsInLayer(x,c),w=ct.WORD_SIZE[x];let Se=C-C%w;if(N=ct.stuffBits(s,w),N.getSize()+l>Se)throw new T("Data to large for user specified layer");if(c&&N.getSize()>w*64)throw new T("Data to large for user specified layer")}else{w=0,N=null;for(let Se=0;;Se++){if(Se>ct.MAX_NB_BITS)throw new T("Data too large for an Aztec code");if(c=Se<=3,x=c?Se+1:Se,C=ct.totalBitsInLayer(x,c),u>C)continue;(N==null||w!==ct.WORD_SIZE[x])&&(w=ct.WORD_SIZE[x],N=ct.stuffBits(s,w));let et=C-C%w;if(!(c&&N.getSize()>w*64)&&N.getSize()+l<=et)break}}let R=ct.generateCheckWords(N,C,w),P=N.getSize()/w,Z=ct.generateModeMessage(c,x,P),Q=(c?11:14)+x*4,le=new Int32Array(Q),pe;if(c){pe=Q;for(let Se=0;Se<le.length;Se++)le[Se]=Se}else{pe=Q+1+2*k.truncDivision(k.truncDivision(Q,2)-1,15);let Se=k.truncDivision(Q,2),et=k.truncDivision(pe,2);for(let Xe=0;Xe<Se;Xe++){let Rn=Xe+k.truncDivision(Xe,15);le[Se-Xe-1]=et-Rn-1,le[Se+Xe]=et+Rn+1}}let De=new Ne(pe);for(let Se=0,et=0;Se<x;Se++){let Xe=(x-Se)*4+(c?9:12);for(let Rn=0;Rn<Xe;Rn++){let rr=Rn*2;for(let In=0;In<2;In++)R.get(et+rr+In)&&De.set(le[Se*2+In],le[Se*2+Rn]),R.get(et+Xe*2+rr+In)&&De.set(le[Se*2+Rn],le[Q-1-Se*2-In]),R.get(et+Xe*4+rr+In)&&De.set(le[Q-1-Se*2-In],le[Q-1-Se*2-Rn]),R.get(et+Xe*6+rr+In)&&De.set(le[Q-1-Se*2-Rn],le[Se*2+In])}et+=Xe*8}if(ct.drawModeMessage(De,c,pe,Z),c)ct.drawBullsEye(De,k.truncDivision(pe,2),5);else{ct.drawBullsEye(De,k.truncDivision(pe,2),7);for(let Se=0,et=0;Se<k.truncDivision(Q,2)-1;Se+=15,et+=16)for(let Xe=k.truncDivision(pe,2)&1;Xe<pe;Xe+=2)De.set(k.truncDivision(pe,2)-et,Xe),De.set(k.truncDivision(pe,2)+et,Xe),De.set(Xe,k.truncDivision(pe,2)-et),De.set(Xe,k.truncDivision(pe,2)+et)}let Be=new Xa;return Be.setCompact(c),Be.setSize(pe),Be.setLayers(x),Be.setCodeWords(P),Be.setMatrix(De),Be}static drawBullsEye(t,r,i){for(let s=0;s<i;s+=2)for(let l=r-s;l<=r+s;l++)t.set(l,r-s),t.set(l,r+s),t.set(r-s,l),t.set(r+s,l);t.set(r-i,r-i),t.set(r-i+1,r-i),t.set(r-i,r-i+1),t.set(r+i,r-i),t.set(r+i,r-i+1),t.set(r+i,r+i-1)}static generateModeMessage(t,r,i){let s=new j;return t?(s.appendBits(r-1,2),s.appendBits(i-1,6),s=ct.generateCheckWords(s,28,4)):(s.appendBits(r-1,5),s.appendBits(i-1,11),s=ct.generateCheckWords(s,40,4)),s}static drawModeMessage(t,r,i,s){let l=k.truncDivision(i,2);if(r)for(let u=0;u<7;u++){let c=l-3+u;s.get(u)&&t.set(c,l-5),s.get(u+7)&&t.set(l+5,c),s.get(20-u)&&t.set(c,l+5),s.get(27-u)&&t.set(l-5,c)}else for(let u=0;u<10;u++){let c=l-5+u+k.truncDivision(u,5);s.get(u)&&t.set(c,l-7),s.get(u+10)&&t.set(l+7,c),s.get(29-u)&&t.set(c,l+7),s.get(39-u)&&t.set(l-7,c)}}static generateCheckWords(t,r,i){let s=t.getSize()/i,l=new Ya(ct.getGF(i)),u=k.truncDivision(r,i),c=ct.bitsToWords(t,i,u);l.encode(c,u-s);let x=r%i,C=new j;C.appendBits(0,x);for(const w of Array.from(c))C.appendBits(w,i);return C}static bitsToWords(t,r,i){let s=new Int32Array(i),l,u;for(l=0,u=t.getSize()/r;l<u;l++){let c=0;for(let x=0;x<r;x++)c|=t.get(l*r+x)?1<<r-x-1:0;s[l]=c}return s}static getGF(t){switch(t){case 4:return Ye.AZTEC_PARAM;case 6:return Ye.AZTEC_DATA_6;case 8:return Ye.AZTEC_DATA_8;case 10:return Ye.AZTEC_DATA_10;case 12:return Ye.AZTEC_DATA_12;default:throw new T("Unsupported word size "+t)}}static stuffBits(t,r){let i=new j,s=t.getSize(),l=(1<<r)-2;for(let u=0;u<s;u+=r){let c=0;for(let x=0;x<r;x++)(u+x>=s||t.get(u+x))&&(c|=1<<r-1-x);(c&l)===l?(i.appendBits(c&l,r),u--):c&l?i.appendBits(c,r):(i.appendBits(c|1,r),u--)}return i}static totalBitsInLayer(t,r){return((r?88:112)+16*t)*t}}ct.DEFAULT_EC_PERCENT=33,ct.DEFAULT_AZTEC_LAYERS=0,ct.MAX_NB_BITS=32,ct.MAX_NB_BITS_COMPACT=4,ct.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ca{encode(t,r,i,s){return this.encodeWithHints(t,r,i,s,null)}encodeWithHints(t,r,i,s,l){let u=Va.ISO_8859_1,c=ct.DEFAULT_EC_PERCENT,x=ct.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(ln.CHARACTER_SET)&&(u=Xi.forName(l.get(ln.CHARACTER_SET).toString())),l.has(ln.ERROR_CORRECTION)&&(c=k.parseInt(l.get(ln.ERROR_CORRECTION).toString())),l.has(ln.AZTEC_LAYERS)&&(x=k.parseInt(l.get(ln.AZTEC_LAYERS).toString()))),ca.encodeLayers(t,r,i,s,u,c,x)}static encodeLayers(t,r,i,s,l,u,c){if(r!==ve.AZTEC)throw new T("Can only encode AZTEC, but got "+r);let x=ct.encode(ue.getBytes(t,l),u,c);return ca.renderResult(x,i,s)}static renderResult(t,r,i){let s=t.getMatrix();if(s==null)throw new un;let l=s.getWidth(),u=s.getHeight(),c=Math.max(r,l),x=Math.max(i,u),C=Math.min(c/l,x/u),w=(c-l*C)/2,N=(x-u*C)/2,R=new Ne(c,x);for(let P=0,Z=N;P<u;P++,Z+=C)for(let Q=0,le=w;Q<l;Q++,le+=C)s.get(Q,P)&&R.setRegion(le,Z,C,C);return R}}h.AbstractExpandedDecoder=Tn,h.ArgumentException=y,h.ArithmeticException=Un,h.AztecCode=Xa,h.AztecCodeReader=sr,h.AztecCodeWriter=ca,h.AztecDecoder=lt,h.AztecDetector=Oi,h.AztecDetectorResult=ar,h.AztecEncoder=ct,h.AztecHighLevelEncoder=Wi,h.AztecPoint=cn,h.BarcodeFormat=ve,h.Binarizer=I,h.BinaryBitmap=M,h.BitArray=j,h.BitMatrix=Ne,h.BitSource=or,h.BrowserAztecCodeReader=ii,h.BrowserBarcodeReader=Bo,h.BrowserCodeReader=de,h.BrowserDatamatrixCodeReader=ra,h.BrowserMultiFormatReader=Io,h.BrowserPDF417Reader=Lo,h.BrowserQRCodeReader=Fo,h.BrowserQRCodeSvgWriter=ui,h.CharacterSetECI=q,h.ChecksumException=O,h.Code128Reader=_e,h.Code39Reader=Gt,h.DataMatrixDecodedBitStreamParser=Ir,h.DataMatrixReader=Lr,h.DecodeHintType=ee,h.DecoderResult=pt,h.DefaultGridSampler=Mr,h.DetectorResult=En,h.EAN13Reader=Vn,h.EncodeHintType=ln,h.Exception=g,h.FormatException=Y,h.GenericGF=Ye,h.GenericGFPoly=wt,h.GlobalHistogramBinarizer=Ee,h.GridSampler=Mi,h.GridSamplerInstance=Yn,h.HTMLCanvasElementLuminanceSource=V,h.HybridBinarizer=we,h.ITFReader=nt,h.IllegalArgumentException=T,h.IllegalStateException=un,h.InvertedLuminanceSource=ze,h.LuminanceSource=Oe,h.MathUtils=We,h.MultiFormatOneDReader=zn,h.MultiFormatReader=zs,h.MultiFormatWriter=Uo,h.NotFoundException=te,h.OneDReader=_t,h.PDF417DecodedBitStreamParser=Ae,h.PDF417DecoderErrorCorrection=T0,h.PDF417Reader=Cn,h.PDF417ResultMetadata=aa,h.PerspectiveTransform=nn,h.PlanarYUVLuminanceSource=Cr,h.QRCodeByteMatrix=B0,h.QRCodeDataMask=qn,h.QRCodeDecodedBitStreamParser=Ot,h.QRCodeDecoderErrorCorrectionLevel=$e,h.QRCodeDecoderFormatInformation=hn,h.QRCodeEncoder=Rt,h.QRCodeEncoderQRCode=oi,h.QRCodeMaskUtil=Vt,h.QRCodeMatrixUtil=Ge,h.QRCodeMode=Pe,h.QRCodeReader=mr,h.QRCodeVersion=Ue,h.QRCodeWriter=Vi,h.RGBLuminanceSource=N0,h.RSS14Reader=bt,h.RSSExpandedReader=be,h.ReaderException=D0,h.ReedSolomonDecoder=bn,h.ReedSolomonEncoder=Ya,h.ReedSolomonException=zt,h.Result=ie,h.ResultMetadataType=Me,h.ResultPoint=Re,h.StringUtils=ue,h.UnsupportedOperationException=W,h.VideoInputDevice=K,h.WhiteRectangleDetector=Ht,h.WriterException=St,h.ZXingArrays=U,h.ZXingCharset=Xi,h.ZXingInteger=k,h.ZXingStandardCharsets=Va,h.ZXingStringBuilder=ge,h.ZXingStringEncoding=se,h.ZXingSystem=F,h.createAbstractExpandedDecoder=si,Object.defineProperty(h,"__esModule",{value:!0})})}(Is,Is.exports)),Is.exports}var jt=z4();const H4=Do(jt),P4=Gx({__proto__:null,default:H4},[jt]);var Zd=function(){function A(p,h,d){if(this.formatMap=new Map([[Le.QR_CODE,jt.BarcodeFormat.QR_CODE],[Le.AZTEC,jt.BarcodeFormat.AZTEC],[Le.CODABAR,jt.BarcodeFormat.CODABAR],[Le.CODE_39,jt.BarcodeFormat.CODE_39],[Le.CODE_93,jt.BarcodeFormat.CODE_93],[Le.CODE_128,jt.BarcodeFormat.CODE_128],[Le.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Le.MAXICODE,jt.BarcodeFormat.MAXICODE],[Le.ITF,jt.BarcodeFormat.ITF],[Le.EAN_13,jt.BarcodeFormat.EAN_13],[Le.EAN_8,jt.BarcodeFormat.EAN_8],[Le.PDF_417,jt.BarcodeFormat.PDF_417],[Le.RSS_14,jt.BarcodeFormat.RSS_14],[Le.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Le.UPC_A,jt.BarcodeFormat.UPC_A],[Le.UPC_E,jt.BarcodeFormat.UPC_E],[Le.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!P4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=h,this.logger=d;var v=this.createZXingFormats(p),m=new Map;m.set(jt.DecodeHintType.POSSIBLE_FORMATS,v),m.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=m}return A.prototype.decodeAsync=function(p){var h=this;return new Promise(function(d,v){try{d(h.decode(p))}catch(m){v(m)}})},A.prototype.decode=function(p){var h=new jt.MultiFormatReader(this.verbose,this.hints),d=new jt.HTMLCanvasElementLuminanceSource(p),v=new jt.BinaryBitmap(new jt.HybridBinarizer(d)),m=h.decode(v);return{text:m.text,format:m2.create(this.toHtml5QrcodeSupportedFormats(m.format)),debugData:this.createDebugData()}},A.prototype.createReverseFormatMap=function(){var p=new Map;return this.formatMap.forEach(function(h,d,v){p.set(h,d)}),p},A.prototype.toHtml5QrcodeSupportedFormats=function(p){if(!this.reverseFormatMap.has(p))throw"reverseFormatMap doesn't have ".concat(p);return this.reverseFormatMap.get(p)},A.prototype.createZXingFormats=function(p){for(var h=[],d=0,v=p;d<v.length;d++){var m=v[d];this.formatMap.has(m)?h.push(this.formatMap.get(m)):this.logger.logError("".concat(m," is not supported by")+"ZXingHtml5QrcodeShim")}return h},A.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},A}(),j4=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},G4=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Qd=function(){function A(p,h,d){if(this.formatMap=new Map([[Le.QR_CODE,"qr_code"],[Le.AZTEC,"aztec"],[Le.CODABAR,"codabar"],[Le.CODE_39,"code_39"],[Le.CODE_93,"code_93"],[Le.CODE_128,"code_128"],[Le.DATA_MATRIX,"data_matrix"],[Le.ITF,"itf"],[Le.EAN_13,"ean_13"],[Le.EAN_8,"ean_8"],[Le.PDF_417,"pdf417"],[Le.UPC_A,"upc_a"],[Le.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!A.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=h,this.logger=d;var v=this.createBarcodeDetectorFormats(p);if(this.detector=new BarcodeDetector(v),!this.detector)throw"BarcodeDetector detector not supported"}return A.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var p=new BarcodeDetector({formats:["qr_code"]});return typeof p<"u"},A.prototype.decodeAsync=function(p){return j4(this,void 0,void 0,function(){var h,d;return G4(this,function(v){switch(v.label){case 0:return[4,this.detector.detect(p)];case 1:if(h=v.sent(),!h||h.length===0)throw"No barcode or QR code detected.";return d=this.selectLargestBarcode(h),[2,{text:d.rawValue,format:m2.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}]}})})},A.prototype.selectLargestBarcode=function(p){for(var h=null,d=0,v=0,m=p;v<m.length;v++){var _=m[v],D=_.boundingBox.width*_.boundingBox.height;D>d&&(d=D,h=_)}if(!h)throw"No largest barcode found";return h},A.prototype.createBarcodeDetectorFormats=function(p){for(var h=[],d=0,v=p;d<v.length;d++){var m=v[d];this.formatMap.has(m)?h.push(this.formatMap.get(m)):this.logger.warn("".concat(m," is not supported by")+"BarcodeDetectorDelegate")}return{formats:h}},A.prototype.toHtml5QrcodeSupportedFormats=function(p){if(!this.reverseFormatMap.has(p))throw"reverseFormatMap doesn't have ".concat(p);return this.reverseFormatMap.get(p)},A.prototype.createReverseFormatMap=function(){var p=new Map;return this.formatMap.forEach(function(h,d,v){p.set(h,d)}),p},A.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},A}(),Wd=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},Kd=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Y4=function(){function A(p,h,d,v){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=d,h&&Qd.isSupported()?(this.primaryDecoder=new Qd(p,d,v),this.secondaryDecoder=new Zd(p,d,v)):this.primaryDecoder=new Zd(p,d,v)}return A.prototype.decodeAsync=function(p){return Wd(this,void 0,void 0,function(){var h;return Kd(this,function(d){switch(d.label){case 0:h=performance.now(),d.label=1;case 1:return d.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(p)];case 2:return[2,d.sent()];case 3:return this.possiblyLogPerformance(h),[7];case 4:return[2]}})})},A.prototype.decodeRobustlyAsync=function(p){return Wd(this,void 0,void 0,function(){var h,d;return Kd(this,function(v){switch(v.label){case 0:h=performance.now(),v.label=1;case 1:return v.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(p)];case 2:return[2,v.sent()];case 3:if(d=v.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(p)];throw d;case 4:return this.possiblyLogPerformance(h),[7];case 5:return[2]}})})},A.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},A.prototype.possiblyLogPerformance=function(p){if(this.verbose){var h=performance.now()-p;this.executionResults.push(h),this.executions++,this.possiblyFlushPerformanceReport()}},A.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var p=0,h=0,d=this.executionResults;h<d.length;h++){var v=d[h];p+=v}var m=p/this.executionResults.length;console.log("".concat(m," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},A}(),qc=function(){var A=function(p,h){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},A(p,h)};return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");A(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),So=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},To=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},w2=function(){function A(p,h){this.name=p,this.track=h}return A.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},A.prototype.apply=function(p){var h={};h[this.name]=p;var d={advanced:[h]};return this.track.applyConstraints(d)},A.prototype.value=function(){var p=this.track.getSettings();if(this.name in p){var h=p[this.name];return h}return null},A}(),V4=function(A){qc(p,A);function p(h,d){return A.call(this,h,d)||this}return p.prototype.min=function(){return this.getCapabilities().min},p.prototype.max=function(){return this.getCapabilities().max},p.prototype.step=function(){return this.getCapabilities().step},p.prototype.apply=function(h){var d={};d[this.name]=h;var v={advanced:[d]};return this.track.applyConstraints(v)},p.prototype.getCapabilities=function(){this.failIfNotSupported();var h=this.track.getCapabilities(),d=h[this.name];return{min:d.min,max:d.max,step:d.step}},p.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},p}(w2),X4=function(A){qc(p,A);function p(h){return A.call(this,"zoom",h)||this}return p}(V4),q4=function(A){qc(p,A);function p(h){return A.call(this,"torch",h)||this}return p}(w2),Z4=function(){function A(p){this.track=p}return A.prototype.zoomFeature=function(){return new X4(this.track)},A.prototype.torchFeature=function(){return new q4(this.track)},A}(),Q4=function(){function A(p,h,d){this.isClosed=!1,this.parentElement=p,this.mediaStream=h,this.callbacks=d,this.surface=this.createVideoElement(this.parentElement.clientWidth),p.append(this.surface)}return A.prototype.createVideoElement=function(p){var h=document.createElement("video");return h.style.width="".concat(p,"px"),h.style.display="block",h.muted=!0,h.setAttribute("muted","true"),h.playsInline=!0,h},A.prototype.setupSurface=function(){var p=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var h=function(){var d=p.surface.clientWidth,v=p.surface.clientHeight;p.callbacks.onRenderSurfaceReady(d,v),p.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.srcObject=this.mediaStream,this.surface.play()},A.create=function(p,h,d,v){return So(this,void 0,void 0,function(){var m,_;return To(this,function(D){switch(D.label){case 0:return m=new A(p,h,v),d.aspectRatio?(_={aspectRatio:d.aspectRatio},[4,m.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:D.sent(),D.label=2;case 2:return m.setupSurface(),[2,m]}})})},A.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},A.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},A.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},A.prototype.resume=function(p){this.failIfClosed();var h=this,d=function(){setTimeout(p,200),h.surface.removeEventListener("playing",d)};this.surface.addEventListener("playing",d),this.surface.play()},A.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},A.prototype.getSurface=function(){return this.failIfClosed(),this.surface},A.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},A.prototype.applyVideoConstraints=function(p){return So(this,void 0,void 0,function(){return To(this,function(h){if("aspectRatio"in p)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(p)]})})},A.prototype.close=function(){if(this.isClosed)return Promise.resolve();var p=this;return new Promise(function(h,d){var v=p.mediaStream.getVideoTracks(),m=v.length,_=0;p.mediaStream.getVideoTracks().forEach(function(D){p.mediaStream.removeTrack(D),D.stop(),++_,_>=m&&(p.isClosed=!0,p.parentElement.removeChild(p.surface),h())})})},A.prototype.getCapabilities=function(){return new Z4(this.getFirstTrackOrFail())},A}(),W4=function(){function A(p){this.mediaStream=p}return A.prototype.render=function(p,h,d){return So(this,void 0,void 0,function(){return To(this,function(v){return[2,Q4.create(p,this.mediaStream,h,d)]})})},A.create=function(p){return So(this,void 0,void 0,function(){var h,d;return To(this,function(v){switch(v.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return h={audio:!1,video:p},[4,navigator.mediaDevices.getUserMedia(h)];case 1:return d=v.sent(),[2,new A(d)]}})})},A}(),Jd=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},$d=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},K4=function(){function A(){}return A.failIfNotSupported=function(){return Jd(this,void 0,void 0,function(){return $d(this,function(p){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new A]})})},A.prototype.create=function(p){return Jd(this,void 0,void 0,function(){return $d(this,function(h){return[2,W4.create(p)]})})},A}(),J4=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},$4=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},e3=function(){function A(){}return A.retrieve=function(){if(navigator.mediaDevices)return A.getCamerasFromMediaDevices();var p=MediaStreamTrack;return MediaStreamTrack&&p.getSources?A.getCamerasFromMediaStreamTrack():A.rejectWithError()},A.rejectWithError=function(){var p=za.unableToQuerySupportedDevices();return A.isHttpsOrLocalhost()||(p=za.insecureContextCameraQueryError()),Promise.reject(p)},A.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var p=location.host.split(":")[0];return p==="127.0.0.1"||p==="localhost"},A.getCamerasFromMediaDevices=function(){return J4(this,void 0,void 0,function(){var p,h,d,v,m,_,D;return $4(this,function(b){switch(b.label){case 0:return p=function(g){for(var y=g.getVideoTracks(),T=0,M=y;T<M.length;T++){var O=M[T];O.enabled=!1,O.stop(),g.removeTrack(O)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return h=b.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(d=b.sent(),v=[],m=0,_=d;m<_.length;m++)D=_[m],D.kind==="videoinput"&&v.push({id:D.deviceId,label:D.label});return p(h),[2,v]}})})},A.getCamerasFromMediaStreamTrack=function(){return new Promise(function(p,h){var d=function(m){for(var _=[],D=0,b=m;D<b.length;D++){var g=b[D];g.kind==="video"&&_.push({id:g.id,label:g.label})}p(_)},v=MediaStreamTrack;v.getSources(d)})},A}(),tn;(function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.NOT_STARTED=1]="NOT_STARTED",A[A.SCANNING=2]="SCANNING",A[A.PAUSED=3]="PAUSED"})(tn||(tn={}));var t3=function(){function A(){this.state=tn.NOT_STARTED,this.onGoingTransactionNewState=tn.UNKNOWN}return A.prototype.directTransition=function(p){this.failIfTransitionOngoing(),this.validateTransition(p),this.state=p},A.prototype.startTransition=function(p){return this.failIfTransitionOngoing(),this.validateTransition(p),this.onGoingTransactionNewState=p,this},A.prototype.execute=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var p=this.onGoingTransactionNewState;this.onGoingTransactionNewState=tn.UNKNOWN,this.directTransition(p)},A.prototype.cancel=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=tn.UNKNOWN},A.prototype.getState=function(){return this.state},A.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},A.prototype.validateTransition=function(p){switch(this.state){case tn.UNKNOWN:throw"Transition from unknown is not allowed";case tn.NOT_STARTED:this.failIfNewStateIs(p,[tn.PAUSED]);break;case tn.SCANNING:break;case tn.PAUSED:break}},A.prototype.failIfNewStateIs=function(p,h){for(var d=0,v=h;d<v.length;d++){var m=v[d];if(p===m)throw"Cannot transition from ".concat(this.state," to ").concat(p)}},A}(),n3=function(){function A(p){this.stateManager=p}return A.prototype.startTransition=function(p){return this.stateManager.startTransition(p)},A.prototype.directTransition=function(p){this.stateManager.directTransition(p)},A.prototype.getState=function(){return this.stateManager.getState()},A.prototype.canScanFile=function(){return this.stateManager.getState()===tn.NOT_STARTED},A.prototype.isScanning=function(){return this.stateManager.getState()!==tn.NOT_STARTED},A.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===tn.SCANNING},A.prototype.isPaused=function(){return this.stateManager.getState()===tn.PAUSED},A}(),r3=function(){function A(){}return A.create=function(){return new n3(new t3)},A}(),i3=function(){var A=function(p,h){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,v){d.__proto__=v}||function(d,v){for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&(d[m]=v[m])},A(p,h)};return function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");A(p,h);function d(){this.constructor=p}p.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)}}(),xr=function(A){i3(p,A);function p(){return A!==null&&A.apply(this,arguments)||this}return p.DEFAULT_WIDTH=300,p.DEFAULT_WIDTH_OFFSET=2,p.FILE_SCAN_MIN_HEIGHT=300,p.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,p.MIN_QR_BOX_SIZE=50,p.SHADED_LEFT=1,p.SHADED_RIGHT=2,p.SHADED_TOP=3,p.SHADED_BOTTOM=4,p.SHADED_REGION_ELEMENT_ID="qr-shaded-region",p.VERBOSE=!1,p.BORDER_SHADER_DEFAULT_COLOR="#ffffff",p.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",p}(Pr),a3=function(){function A(p,h){this.logger=h,this.fps=xr.SCAN_DEFAULT_FPS,p?(p.fps&&(this.fps=p.fps),this.disableFlip=p.disableFlip===!0,this.qrbox=p.qrbox,this.aspectRatio=p.aspectRatio,this.videoConstraints=p.videoConstraints):this.disableFlip=xr.DEFAULT_DISABLE_FLIP}return A.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?y2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},A.prototype.isShadedBoxEnabled=function(){return!ni(this.qrbox)},A.create=function(p,h){return new A(p,h)},A}(),e2=function(){function A(p,h){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(p))throw"HTML Element with id=".concat(p," not found");this.elementId=p,this.verbose=!1;var d;typeof h=="boolean"?this.verbose=h===!0:h&&(d=h,this.verbose=d.verbose===!0,d.experimentalFeatures),this.logger=new v2(this.verbose),this.qrcode=new Y4(this.getSupportedFormats(h),this.getUseBarCodeDetectorIfSupported(d),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=r3.create()}return A.prototype.start=function(p,h,d,v){var m=this;if(!p)throw"cameraIdOrConfig is required";if(!d||typeof d!="function")throw"qrCodeSuccessCallback is required and should be a function.";var _;v?_=v:_=this.verbose?this.logger.log:function(){};var D=a3.create(h,this.logger);this.clearElement();var b=!1;D.videoConstraints&&(D.isMediaStreamConstraintsValid()?b=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=b,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:xr.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var T=this,M=this.stateManagerProxy.startTransition(tn.SCANNING);return new Promise(function(O,I){var F=g?D.videoConstraints:T.createVideoConstraints(p);if(!F){M.cancel(),I("videoConstraints should be defined");return}var H={};(!g||D.aspectRatio)&&(H.aspectRatio=D.aspectRatio);var X={onRenderSurfaceReady:function(U,k){T.setupUi(U,k,D),T.isScanning=!0,T.foreverScan(D,d,_)}};K4.failIfNotSupported().then(function(U){U.create(F).then(function(k){return k.render(m.element,H,X).then(function(j){T.renderedCamera=j,M.execute(),O(null)}).catch(function(j){M.cancel(),I(j)})}).catch(function(k){M.cancel(),I(za.errorGettingUserMedia(k))})}).catch(function(U){M.cancel(),I(za.cameraStreamingNotSupported())})})},A.prototype.pause=function(p){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(tn.PAUSED),this.showPausedState(),(ni(p)||p!==!0)&&(p=!1),p&&this.renderedCamera&&this.renderedCamera.pause()},A.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var p=this,h=function(){p.stateManagerProxy.directTransition(tn.SCANNING),p.hidePausedState()};if(!this.renderedCamera.isPaused()){h();return}this.renderedCamera.resume(function(){h()})},A.prototype.getState=function(){return this.stateManagerProxy.getState()},A.prototype.stop=function(){var p=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var h=this.stateManagerProxy.startTransition(tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var d=function(){if(p.element){var m=document.getElementById(xr.SHADED_REGION_ELEMENT_ID);m&&p.element.removeChild(m)}},v=this;return this.renderedCamera.close().then(function(){return v.renderedCamera=null,v.element&&(v.element.removeChild(v.canvasElement),v.canvasElement=null),d(),v.qrRegion&&(v.qrRegion=null),v.context&&(v.context=null),h.execute(),v.hidePausedState(),v.isScanning=!1,Promise.resolve()})},A.prototype.scanFile=function(p,h){return this.scanFileV2(p,h).then(function(d){return d.decodedText})},A.prototype.scanFileV2=function(p,h){var d=this;if(!p||!(p instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ni(h)&&(h=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(v,m){d.possiblyCloseLastScanImageFile(),d.clearElement(),d.lastScanImageFile=URL.createObjectURL(p);var _=new Image;_.onload=function(){var D=_.width,b=_.height,g=document.getElementById(d.elementId),y=g.clientWidth?g.clientWidth:xr.DEFAULT_WIDTH,T=Math.max(g.clientHeight?g.clientHeight:b,xr.FILE_SCAN_MIN_HEIGHT),M=d.computeCanvasDrawConfig(D,b,y,T);if(h){var O=d.createCanvasElement(y,T,"qr-canvas-visible");O.style.display="inline-block",g.appendChild(O);var I=O.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=y,I.canvas.height=T,I.drawImage(_,0,0,D,b,M.x,M.y,M.width,M.height)}var F=xr.FILE_SCAN_HIDDEN_CANVAS_PADDING,H=Math.max(_.width,M.width),X=Math.max(_.height,M.height),U=H+2*F,k=X+2*F,j=d.createCanvasElement(U,k);g.appendChild(j);var $=j.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=U,$.canvas.height=k,$.drawImage(_,0,0,D,b,F,F,H,X);try{d.qrcode.decodeRobustlyAsync(j).then(function(ee){v(Vd.createFromQrcodeResult(ee))}).catch(m)}catch(ee){m("QR code parse error, error = ".concat(ee))}},_.onerror=m,_.onabort=m,_.onstalled=m,_.onsuspend=m,_.src=URL.createObjectURL(p)})},A.prototype.clear=function(){this.clearElement()},A.getCameras=function(){return e3.retrieve()},A.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},A.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},A.prototype.applyVideoConstraints=function(p){if(p){if(!y2.isMediaStreamConstraintsValid(p,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(p)},A.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},A.prototype.getSupportedFormats=function(p){var h=[Le.QR_CODE,Le.AZTEC,Le.CODABAR,Le.CODE_39,Le.CODE_93,Le.CODE_128,Le.DATA_MATRIX,Le.MAXICODE,Le.ITF,Le.EAN_13,Le.EAN_8,Le.PDF_417,Le.RSS_14,Le.RSS_EXPANDED,Le.UPC_A,Le.UPC_E,Le.UPC_EAN_EXTENSION];if(!p||typeof p=="boolean"||!p.formatsToSupport)return h;if(!Array.isArray(p.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(p.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var d=[],v=0,m=p.formatsToSupport;v<m.length;v++){var _=m[v];F4(_)?d.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(d.length===0)throw"None of formatsToSupport match supported values.";return d},A.prototype.getUseBarCodeDetectorIfSupported=function(p){if(ni(p))return!0;if(!ni(p.useBarCodeDetectorIfSupported))return p.useBarCodeDetectorIfSupported!==!1;if(ni(p.experimentalFeatures))return!0;var h=p.experimentalFeatures;return ni(h.useBarCodeDetectorIfSupported)?!0:h.useBarCodeDetectorIfSupported!==!1},A.prototype.validateQrboxSize=function(p,h,d){var v=this,m=d.qrbox;this.validateQrboxConfig(m);var _=this.toQrdimensions(p,h,m),D=function(g){if(g<xr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xr.MIN_QR_BOX_SIZE,"px.")},b=function(g){return g>p&&(v.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=p),g};D(_.width),D(_.height),_.width=b(_.width)},A.prototype.validateQrboxConfig=function(p){if(typeof p!="number"&&typeof p!="function"&&(p.width===void 0||p.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},A.prototype.toQrdimensions=function(p,h,d){if(typeof d=="number")return{width:d,height:d};if(typeof d=="function")try{return d(p,h)}catch(v){throw new Error("qrbox config was passed as a function but it failed with unknown error"+v)}return d},A.prototype.setupUi=function(p,h,d){d.isShadedBoxEnabled()&&this.validateQrboxSize(p,h,d);var v=ni(d.qrbox)?{width:p,height:h}:d.qrbox;this.validateQrboxConfig(v);var m=this.toQrdimensions(p,h,v);m.height>h&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=d.isShadedBoxEnabled()&&m.height<=h,D={x:0,y:0,width:p,height:h},b=_?this.getShadedRegionBounds(p,h,m):D,g=this.createCanvasElement(b.width,b.height),y={willReadFrequently:!0},T=g.getContext("2d",y);T.canvas.width=b.width,T.canvas.height=b.height,this.element.append(g),_&&this.possiblyInsertShadingElement(this.element,p,h,m),this.createScannerPausedUiElement(this.element),this.qrRegion=b,this.context=T,this.canvasElement=g},A.prototype.createScannerPausedUiElement=function(p){var h=document.createElement("div");h.innerText=za.scannerPaused(),h.style.display="none",h.style.position="absolute",h.style.top="0px",h.style.zIndex="1",h.style.background="rgba(9, 9, 9, 0.46)",h.style.color="#FFECEC",h.style.textAlign="center",h.style.width="100%",p.appendChild(h),this.scannerPausedUiElement=h},A.prototype.scanContext=function(p,h){var d=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(v){return p(v.text,Vd.createFromQrcodeResult(v)),d.possiblyUpdateShaders(!0),!0}).catch(function(v){d.possiblyUpdateShaders(!1);var m=za.codeParseError(v);return h(m,C2.createFrom(m)),!1})},A.prototype.foreverScan=function(p,h,d){var v=this;if(this.shouldScan&&this.renderedCamera){var m=this.renderedCamera.getSurface(),_=m.videoWidth/m.clientWidth,D=m.videoHeight/m.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var b=this.qrRegion.width*_,g=this.qrRegion.height*D,y=this.qrRegion.x*_,T=this.qrRegion.y*D;this.context.drawImage(m,y,T,b,g,0,0,this.qrRegion.width,this.qrRegion.height);var M=function(){v.foreverScanTimeout=setTimeout(function(){v.foreverScan(p,h,d)},v.getTimeoutFps(p.fps))};this.scanContext(h,d).then(function(O){!O&&p.disableFlip!==!0?(v.context.translate(v.context.canvas.width,0),v.context.scale(-1,1),v.scanContext(h,d).finally(function(){M()})):M()}).catch(function(O){v.logger.logError("Error happend while scanning context",O),M()})}},A.prototype.createVideoConstraints=function(p){if(typeof p=="string")return{deviceId:{exact:p}};if(typeof p=="object"){var h="facingMode",d="deviceId",v={user:!0,environment:!0},m="exact",_=function(I){if(I in v)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},D=Object.keys(p);if(D.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(D.length," keys");var b=Object.keys(p)[0];if(b!==h&&b!==d)throw"Only '".concat(h,"' and '").concat(d,"' ")+" are supported for 'cameraIdOrConfig'";if(b===h){var g=p.facingMode;if(typeof g=="string"){if(_(g))return{facingMode:g}}else if(typeof g=="object")if(m in g){if(_(g["".concat(m)]))return{facingMode:{exact:g["".concat(m)]}}}else throw"'facingMode' should be string or object with"+" ".concat(m," as key.");else{var y=typeof g;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var T=p.deviceId;if(typeof T=="string")return{deviceId:T};if(typeof T=="object"){if(m in T)return{deviceId:{exact:T["".concat(m)]}};throw"'deviceId' should be string or object with"+" ".concat(m," as key.")}else{var M=typeof T;throw"Invalid type of 'deviceId' = ".concat(M)}}}var O=typeof p;throw"Invalid type of 'cameraIdOrConfig' = ".concat(O)},A.prototype.computeCanvasDrawConfig=function(p,h,d,v){if(p<=d&&h<=v){var m=(d-p)/2,_=(v-h)/2;return{x:m,y:_,width:p,height:h}}else{var D=p,b=h;return p>d&&(h=d/p*h,p=d),h>v&&(p=v/h*p,h=v),this.logger.log("Image downsampled from "+"".concat(D,"X").concat(b)+" to ".concat(p,"X").concat(h,".")),this.computeCanvasDrawConfig(p,h,d,v)}},A.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var p=document.getElementById(this.elementId);p&&(p.innerHTML="")},A.prototype.possiblyUpdateShaders=function(p){this.qrMatch!==p&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(h){h.style.backgroundColor=p?xr.BORDER_SHADER_MATCH_COLOR:xr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=p)},A.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},A.prototype.createCanvasElement=function(p,h,d){var v=p,m=h,_=document.createElement("canvas");return _.style.width="".concat(v,"px"),_.style.height="".concat(m,"px"),_.style.display="none",_.id=ni(d)?"qr-canvas":d,_},A.prototype.getShadedRegionBounds=function(p,h,d){if(d.width>p||d.height>h)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(p-d.width)/2,y:(h-d.height)/2,width:d.width,height:d.height}},A.prototype.possiblyInsertShadingElement=function(p,h,d,v){if(!(h-v.width<1||d-v.height<1)){var m=document.createElement("div");m.style.position="absolute";var _=(h-v.width)/2,D=(d-v.height)/2;if(m.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderTop="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),m.style.borderBottom="".concat(D,"px solid rgba(0, 0, 0, 0.48)"),m.style.boxSizing="border-box",m.style.top="0px",m.style.bottom="0px",m.style.left="0px",m.style.right="0px",m.id="".concat(xr.SHADED_REGION_ELEMENT_ID),h-v.width<11||d-v.height<11)this.hasBorderShaders=!1;else{var b=5,g=40;this.insertShaderBorders(m,g,b,-b,null,0,!0),this.insertShaderBorders(m,g,b,-b,null,0,!1),this.insertShaderBorders(m,g,b,null,-b,0,!0),this.insertShaderBorders(m,g,b,null,-b,0,!1),this.insertShaderBorders(m,b,g+b,-b,null,-b,!0),this.insertShaderBorders(m,b,g+b,null,-b,-b,!0),this.insertShaderBorders(m,b,g+b,-b,null,-b,!1),this.insertShaderBorders(m,b,g+b,null,-b,-b,!1),this.hasBorderShaders=!0}p.append(m)}},A.prototype.insertShaderBorders=function(p,h,d,v,m,_,D){var b=document.createElement("div");b.style.position="absolute",b.style.backgroundColor=xr.BORDER_SHADER_DEFAULT_COLOR,b.style.width="".concat(h,"px"),b.style.height="".concat(d,"px"),v!==null&&(b.style.top="".concat(v,"px")),m!==null&&(b.style.bottom="".concat(m,"px")),D?b.style.left="".concat(_,"px"):b.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(b),p.appendChild(b)},A.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},A.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},A.prototype.getTimeoutFps=function(p){return 1e3/p},A}(),Zc="data:image/svg+xml;base64,",s3=Zc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",l3=Zc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",t2=Zc+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",o3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",n2=function(){function A(){}return A.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},A}(),u3=function(){function A(){this.data=n2.createDefault();var p=localStorage.getItem(A.LOCAL_STORAGE_KEY);p?this.data=JSON.parse(p):this.reset()}return A.prototype.hasCameraPermissions=function(){return this.data.hasPermission},A.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},A.prototype.setHasPermission=function(p){this.data.hasPermission=p,this.flush()},A.prototype.setLastUsedCameraId=function(p){this.data.lastUsedCameraId=p,this.flush()},A.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},A.prototype.reset=function(){this.data=n2.createDefault(),this.flush()},A.prototype.flush=function(){localStorage.setItem(A.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},A.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",A}(),c3=function(){function A(){this.infoDiv=document.createElement("div")}return A.prototype.renderInto=function(p){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Xd.poweredBy();var h=document.createElement("a");h.innerText="ScanApp",h.href="https://scanapp.org",h.target="new",h.style.color="white",this.infoDiv.appendChild(h);var d=document.createElement("br"),v=document.createElement("br");this.infoDiv.appendChild(d),this.infoDiv.appendChild(v);var m=document.createElement("a");m.innerText=Xd.reportIssues(),m.href="https://github.com/mebjas/html5-qrcode/issues",m.target="new",m.style.color="white",this.infoDiv.appendChild(m),p.appendChild(this.infoDiv)},A.prototype.show=function(){this.infoDiv.style.display="block"},A.prototype.hide=function(){this.infoDiv.style.display="none"},A}(),f3=function(){function A(p,h){this.isShowingInfoIcon=!0,this.onTapIn=p,this.onTapOut=h,this.infoIcon=document.createElement("img")}return A.prototype.renderInto=function(p){var h=this;this.infoIcon.alt="Info icon",this.infoIcon.src=t2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(d){return h.onHoverIn()},this.infoIcon.onmouseout=function(d){return h.onHoverOut()},this.infoIcon.onclick=function(d){return h.onClick()},p.appendChild(this.infoIcon)},A.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},A.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},A.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=o3,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=t2,this.infoIcon.style.opacity="0.6")},A}(),h3=function(){function A(){var p=this;this.infoDiv=new c3,this.infoIcon=new f3(function(){p.infoDiv.show()},function(){p.infoDiv.hide()})}return A.prototype.renderInto=function(p){this.infoDiv.renderInto(p),this.infoIcon.renderInto(p)},A}(),d3=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},x3=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},r2=function(){function A(){}return A.hasPermissions=function(){return d3(this,void 0,void 0,function(){var p,h,d,v;return x3(this,function(m){switch(m.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(p=m.sent(),h=0,d=p;h<d.length;h++)if(v=d[h],v.kind==="videoinput"&&v.label)return[2,!0];return[2,!1]}})})},A}(),p0=function(){function A(p){this.supportedScanTypes=this.validateAndReturnScanTypes(p)}return A.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},A.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},A.prototype.isCameraScanRequired=function(){for(var p=0,h=this.supportedScanTypes;p<h.length;p++){var d=h[p];if(A.isCameraScanType(d))return!0}return!1},A.isCameraScanType=function(p){return p===E0.SCAN_TYPE_CAMERA},A.isFileScanType=function(p){return p===E0.SCAN_TYPE_FILE},A.prototype.validateAndReturnScanTypes=function(p){if(!p||p.length===0)return Pr.DEFAULT_SUPPORTED_SCAN_TYPE;var h=Pr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(p.length>h)throw"Max ".concat(h," values expected for ")+"supportedScanTypes";for(var d=0,v=p;d<v.length;d++){var m=v[d];if(!Pr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(m))throw"Unsupported scan type ".concat(m)}return p},A}(),Ar=function(){function A(){}return A.ALL_ELEMENT_CLASS="html5-qrcode-element",A.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",A.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",A.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",A.TORCH_BUTTON_ID="html5-qrcode-button-torch",A.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",A.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",A.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",A.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",A.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",A.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",A}(),_i=function(){function A(){}return A.createElement=function(p,h){var d=document.createElement(p);return d.id=h,d.classList.add(Ar.ALL_ELEMENT_CLASS),p==="button"&&d.setAttribute("type","button"),d},A}(),b2=function(A,p,h,d){function v(m){return m instanceof h?m:new h(function(_){_(m)})}return new(h||(h=Promise))(function(m,_){function D(y){try{g(d.next(y))}catch(T){_(T)}}function b(y){try{g(d.throw(y))}catch(T){_(T)}}function g(y){y.done?m(y.value):v(y.value).then(D,b)}g((d=d.apply(A,p||[])).next())})},S2=function(A,p){var h={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,v,m,_;return _={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function D(g){return function(y){return b([g,y])}}function b(g){if(d)throw new TypeError("Generator is already executing.");for(;_&&(_=0,g[0]&&(h=0)),h;)try{if(d=1,v&&(m=g[0]&2?v.return:g[0]?v.throw||((m=v.return)&&m.call(v),0):v.next)&&!(m=m.call(v,g[1])).done)return m;switch(v=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return h.label++,{value:g[1],done:!1};case 5:h.label++,v=g[1],g=[0];continue;case 7:g=h.ops.pop(),h.trys.pop();continue;default:if(m=h.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){h=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){h.label=g[1];break}if(g[0]===6&&h.label<m[1]){h.label=m[1],m=g;break}if(m&&h.label<m[2]){h.label=m[2],h.ops.push(g);break}m[2]&&h.ops.pop(),h.trys.pop();continue}g=p.call(A,h)}catch(y){g=[6,y],v=0}finally{d=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},i2=function(){function A(p,h,d){this.isTorchOn=!1,this.torchCapability=p,this.buttonController=h,this.onTorchActionFailureCallback=d}return A.prototype.isTorchEnabled=function(){return this.isTorchOn},A.prototype.flipState=function(){return b2(this,void 0,void 0,function(){var p,h;return S2(this,function(d){switch(d.label){case 0:this.buttonController.disable(),p=!this.isTorchOn,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.torchCapability.apply(p)];case 2:return d.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),p),[3,4];case 3:return h=d.sent(),this.propagateFailure(p,h),this.buttonController.enable(),[3,4];case 4:return[2]}})})},A.prototype.updateUiBasedOnLatestSettings=function(p,h){p===h?(this.buttonController.setText(h?Dt.torchOffButton():Dt.torchOnButton()),this.isTorchOn=h):this.propagateFailure(h),this.buttonController.enable()},A.prototype.propagateFailure=function(p,h){var d=p?Dt.torchOnFailedMessage():Dt.torchOffFailedMessage();h&&(d+="; Error = "+h),this.onTorchActionFailureCallback(d)},A.prototype.reset=function(){this.isTorchOn=!1},A}(),g3=function(){function A(p,h){this.onTorchActionFailureCallback=h,this.torchButton=_i.createElement("button",Ar.TORCH_BUTTON_ID),this.torchController=new i2(p,this,h)}return A.prototype.render=function(p,h){var d=this;this.torchButton.innerText=Dt.torchOnButton(),this.torchButton.style.display=h.display,this.torchButton.style.marginLeft=h.marginLeft;var v=this;this.torchButton.addEventListener("click",function(m){return b2(d,void 0,void 0,function(){return S2(this,function(_){switch(_.label){case 0:return[4,v.torchController.flipState()];case 1:return _.sent(),v.torchController.isTorchEnabled()?(v.torchButton.classList.remove(Ar.TORCH_BUTTON_CLASS_TORCH_OFF),v.torchButton.classList.add(Ar.TORCH_BUTTON_CLASS_TORCH_ON)):(v.torchButton.classList.remove(Ar.TORCH_BUTTON_CLASS_TORCH_ON),v.torchButton.classList.add(Ar.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),p.appendChild(this.torchButton)},A.prototype.updateTorchCapability=function(p){this.torchController=new i2(p,this,this.onTorchActionFailureCallback)},A.prototype.getTorchButton=function(){return this.torchButton},A.prototype.hide=function(){this.torchButton.style.display="none"},A.prototype.show=function(){this.torchButton.style.display="inline-block"},A.prototype.disable=function(){this.torchButton.disabled=!0},A.prototype.enable=function(){this.torchButton.disabled=!1},A.prototype.setText=function(p){this.torchButton.innerText=p},A.prototype.reset=function(){this.torchButton.innerText=Dt.torchOnButton(),this.torchController.reset()},A.create=function(p,h,d,v){var m=new A(h,v);return m.render(p,d),m},A}(),A3=function(){function A(p,h,d){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=h?"block":"none",p.appendChild(this.fileBasedScanRegion);var v=document.createElement("label");v.setAttribute("for",this.getFileScanInputId()),v.style.display="inline-block",this.fileBasedScanRegion.appendChild(v),this.fileSelectionButton=_i.createElement("button",Ar.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(D){v.click()}),v.append(this.fileSelectionButton),this.fileScanInput=_i.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",v.appendChild(this.fileScanInput);var m=this;this.fileScanInput.addEventListener("change",function(D){if(!(D==null||D.target==null)){var b=D.target;if(!(b.files&&b.files.length===0)){var g=b.files,y=g[0],T=y.name;m.setImageNameToButton(T),d(y)}}});var _=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(_),this.fileBasedScanRegion.addEventListener("dragenter",function(D){m.fileBasedScanRegion.style.border=m.fileBasedScanRegionActiveBorder(),D.stopPropagation(),D.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(D){m.fileBasedScanRegion.style.border=m.fileBasedScanRegionDefaultBorder(),D.stopPropagation(),D.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(D){m.fileBasedScanRegion.style.border=m.fileBasedScanRegionActiveBorder(),D.stopPropagation(),D.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(D){D.stopPropagation(),D.preventDefault(),m.fileBasedScanRegion.style.border=m.fileBasedScanRegionDefaultBorder();var b=D.dataTransfer;if(b){var g=b.files;if(!g||g.length===0)return;for(var y=!1,T=0;T<g.length;++T){var M=g.item(T);if(M){var O=/image.*/;if(M.type.match(O)){y=!0;var I=M.name;m.setImageNameToButton(I),d(M),_.innerText=Dt.dragAndDropMessage();break}}}y||(_.innerText=Dt.dragAndDropMessageOnlyImages())}})}return A.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},A.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},A.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},A.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},A.prototype.createFileBasedScanRegion=function(){var p=document.createElement("div");return p.style.textAlign="center",p.style.margin="auto",p.style.width="80%",p.style.maxWidth="600px",p.style.border=this.fileBasedScanRegionDefaultBorder(),p.style.padding="10px",p.style.marginBottom="10px",p},A.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},A.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},A.prototype.createDragAndDropMessage=function(){var p=document.createElement("div");return p.innerText=Dt.dragAndDropMessage(),p.style.fontWeight="400",p},A.prototype.setImageNameToButton=function(p){var h=20;if(p.length>h){var d=p.substring(0,8),v=p.length,m=p.substring(v-8,v);p="".concat(d,"....").concat(m)}var _=Dt.fileSelectionChooseAnother()+" - "+p;this.fileSelectionButton.innerText=_},A.prototype.setInitialValueToButton=function(){var p=Dt.fileSelectionChooseImage()+" - "+Dt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=p},A.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},A.create=function(p,h,d){var v=new A(p,h,d);return v},A}(),p3=function(){function A(p){this.selectElement=_i.createElement("select",Ar.CAMERA_SELECTION_SELECT_ID),this.cameras=p,this.options=[]}return A.prototype.render=function(p){var h=document.createElement("span");h.style.marginRight="10px";var d=this.cameras.length;if(d===0)throw new Error("No cameras found");if(d===1)h.style.display="none";else{var v=Dt.selectCamera();h.innerText="".concat(v," (").concat(this.cameras.length,")  ")}for(var m=1,_=0,D=this.cameras;_<D.length;_++){var b=D[_],g=b.id,y=b.label==null?g:b.label;(!y||y==="")&&(y=[Dt.anonymousCameraPrefix(),m++].join(" "));var T=document.createElement("option");T.value=g,T.innerText=y,this.options.push(T),this.selectElement.appendChild(T)}h.appendChild(this.selectElement),p.appendChild(h)},A.prototype.disable=function(){this.selectElement.disabled=!0},A.prototype.isDisabled=function(){return this.selectElement.disabled===!0},A.prototype.enable=function(){this.selectElement.disabled=!1},A.prototype.getValue=function(){return this.selectElement.value},A.prototype.hasValue=function(p){for(var h=0,d=this.options;h<d.length;h++){var v=d[h];if(v.value===p)return!0}return!1},A.prototype.setValue=function(p){if(!this.hasValue(p))throw new Error("".concat(p," is not present in the camera list."));this.selectElement.value=p},A.prototype.hasSingleItem=function(){return this.cameras.length===1},A.prototype.numCameras=function(){return this.cameras.length},A.create=function(p,h){var d=new A(h);return d.render(p),d},A}(),E3=function(){function A(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=_i.createElement("input",Ar.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return A.prototype.render=function(p,h){this.zoomElementContainer.style.display=h?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",p.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var d=Dt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(d),this.rangeText.style.marginRight="10px";var v=this;this.rangeInput.addEventListener("input",function(){return v.onValueChange()}),this.rangeInput.addEventListener("change",function(){return v.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},A.prototype.onValueChange=function(){var p=Dt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(p),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},A.prototype.setValues=function(p,h,d,v){this.rangeInput.min=p.toString(),this.rangeInput.max=h.toString(),this.rangeInput.step=v.toString(),this.rangeInput.value=d.toString(),this.onValueChange()},A.prototype.show=function(){this.zoomElementContainer.style.display="block"},A.prototype.hide=function(){this.zoomElementContainer.style.display="none"},A.prototype.setOnCameraZoomValueChangeCallback=function(p){this.onChangeCallback=p},A.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},A.create=function(p,h){var d=new A;return d.render(p,h),d},A}(),gr;(function(A){A[A.STATUS_DEFAULT=0]="STATUS_DEFAULT",A[A.STATUS_SUCCESS=1]="STATUS_SUCCESS",A[A.STATUS_WARNING=2]="STATUS_WARNING",A[A.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(gr||(gr={}));function m3(A){return{fps:A.fps,qrbox:A.qrbox,aspectRatio:A.aspectRatio,disableFlip:A.disableFlip,videoConstraints:A.videoConstraints}}function C3(A,p){return{formatsToSupport:A.formatsToSupport,useBarCodeDetectorIfSupported:A.useBarCodeDetectorIfSupported,experimentalFeatures:A.experimentalFeatures,verbose:p}}var v3=function(){function A(p,h,d){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=p,this.config=this.createConfig(h),this.verbose=d===!0,!document.getElementById(p))throw"HTML Element with id=".concat(p," not found");this.scanTypeSelector=new p0(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new v2(this.verbose),this.persistedDataManager=new u3,h.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return A.prototype.render=function(p,h){var d=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(m,_){if(p)p(m,_);else{if(d.lastMatchFound===m)return;d.lastMatchFound=m,d.setHeaderMessage(Dt.lastMatch(m),gr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(m,_){h&&h(m,_)};var v=document.getElementById(this.elementId);if(!v)throw"HTML Element with id=".concat(this.elementId," not found");v.innerHTML="",this.createBasicLayout(v),this.html5Qrcode=new e2(this.getScanRegionId(),C3(this.config,this.verbose))},A.prototype.pause=function(p){(ni(p)||p!==!0)&&(p=!1),this.getHtml5QrcodeOrFail().pause(p)},A.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},A.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},A.prototype.clear=function(){var p=this,h=function(){var d=document.getElementById(p.elementId);d&&(d.innerHTML="",p.resetBasicLayout(d))};return this.html5Qrcode?new Promise(function(d,v){if(!p.html5Qrcode){d();return}p.html5Qrcode.isScanning?p.html5Qrcode.stop().then(function(m){if(!p.html5Qrcode){d();return}p.html5Qrcode.clear(),h(),d()}).catch(function(m){p.verbose&&p.logger.logError("Unable to stop qrcode scanner",m),v(m)}):(p.html5Qrcode.clear(),h(),d())}):Promise.resolve()},A.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},A.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},A.prototype.applyVideoConstraints=function(p){return this.getHtml5QrcodeOrFail().applyVideoConstraints(p)},A.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},A.prototype.createConfig=function(p){return p?(p.fps||(p.fps=Pr.SCAN_DEFAULT_FPS),p.rememberLastUsedCamera!==!Pr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(p.rememberLastUsedCamera=Pr.DEFAULT_REMEMBER_LAST_CAMERA_USED),p.supportedScanTypes||(p.supportedScanTypes=Pr.DEFAULT_SUPPORTED_SCAN_TYPE),p):{fps:Pr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Pr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Pr.DEFAULT_SUPPORTED_SCAN_TYPE}},A.prototype.createBasicLayout=function(p){p.style.position="relative",p.style.padding="0px",p.style.border="1px solid silver",this.createHeader(p);var h=document.createElement("div"),d=this.getScanRegionId();h.id=d,h.style.width="100%",h.style.minHeight="100px",h.style.textAlign="center",p.appendChild(h),p0.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var v=document.createElement("div"),m=this.getDashboardId();v.id=m,v.style.width="100%",p.appendChild(v),this.setupInitialDashboard(v)},A.prototype.resetBasicLayout=function(p){p.style.border="none"},A.prototype.setupInitialDashboard=function(p){this.createSection(p),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},A.prototype.createHeader=function(p){var h=document.createElement("div");h.style.textAlign="left",h.style.margin="0px",p.appendChild(h);var d=new h3;d.renderInto(h);var v=document.createElement("div");v.id=this.getHeaderMessageContainerId(),v.style.display="none",v.style.textAlign="center",v.style.fontSize="14px",v.style.padding="2px 10px",v.style.margin="4px",v.style.borderTop="1px solid #f6f6f6",h.appendChild(v)},A.prototype.createSection=function(p){var h=document.createElement("div");h.id=this.getDashboardSectionId(),h.style.width="100%",h.style.padding="10px 0px 10px 0px",h.style.textAlign="left",p.appendChild(h)},A.prototype.createCameraListUi=function(p,h,d){var v=this;v.showHideScanTypeSwapLink(!1),v.setHeaderMessage(Dt.cameraPermissionRequesting());var m=function(){d||v.createPermissionButton(p,h)};e2.getCameras().then(function(_){v.persistedDataManager.setHasPermission(!0),v.showHideScanTypeSwapLink(!0),v.resetHeaderMessage(),_&&_.length>0?(p.removeChild(h),v.renderCameraSelection(_)):(v.setHeaderMessage(Dt.noCameraFound(),gr.STATUS_WARNING),m())}).catch(function(_){v.persistedDataManager.setHasPermission(!1),d?d.disabled=!1:m(),v.setHeaderMessage(_,gr.STATUS_WARNING),v.showHideScanTypeSwapLink(!0)})},A.prototype.createPermissionButton=function(p,h){var d=this,v=_i.createElement("button",this.getCameraPermissionButtonId());v.innerText=Dt.cameraPermissionTitle(),v.addEventListener("click",function(){v.disabled=!0,d.createCameraListUi(p,h,v)}),h.appendChild(v)},A.prototype.createPermissionsUi=function(p,h){var d=this;if(p0.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){r2.hasPermissions().then(function(v){v?d.createCameraListUi(p,h):(d.persistedDataManager.setHasPermission(!1),d.createPermissionButton(p,h))}).catch(function(v){d.persistedDataManager.setHasPermission(!1),d.createPermissionButton(p,h)});return}this.createPermissionButton(p,h)},A.prototype.createSectionControlPanel=function(){var p=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");p.appendChild(h);var d=document.createElement("div");d.id=this.getDashboardSectionCameraScanRegionId(),d.style.display=p0.isCameraScanType(this.currentScanType)?"block":"none",h.appendChild(d);var v=document.createElement("div");v.style.textAlign="center",d.appendChild(v),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(d,v),this.renderFileScanUi(h)},A.prototype.renderFileScanUi=function(p){var h=p0.isFileScanType(this.currentScanType),d=this,v=function(m){if(!d.html5Qrcode)throw"html5Qrcode not defined";p0.isFileScanType(d.currentScanType)&&(d.setHeaderMessage(Dt.loadingImage()),d.html5Qrcode.scanFileV2(m,!0).then(function(_){d.resetHeaderMessage(),d.qrCodeSuccessCallback(_.decodedText,_)}).catch(function(_){d.setHeaderMessage(_,gr.STATUS_WARNING),d.qrCodeErrorCallback(_,C2.createFrom(_))}))};this.fileSelectionUi=A3.create(p,h,v)},A.prototype.renderCameraSelection=function(p){var h=this,d=this,v=document.getElementById(this.getDashboardSectionCameraScanRegionId());v.style.textAlign="center";var m=E3.create(v,!1),_=function(F){var H=F.zoomFeature();if(H.isSupported()){m.setOnCameraZoomValueChangeCallback(function(U){H.apply(U)});var X=1;h.config.defaultZoomValueIfSupported&&(X=h.config.defaultZoomValueIfSupported),X=k4(X,H.min(),H.max()),m.setValues(H.min(),H.max(),X,H.step()),m.show()}},D=p3.create(v,p),b=document.createElement("span"),g=_i.createElement("button",Ar.CAMERA_START_BUTTON_ID);g.innerText=Dt.scanButtonStartScanningText(),b.appendChild(g);var y=_i.createElement("button",Ar.CAMERA_STOP_BUTTON_ID);y.innerText=Dt.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,b.appendChild(y);var T,M=function(F){if(!F.torchFeature().isSupported()){T&&T.hide();return}T?T.updateTorchCapability(F.torchFeature()):T=g3.create(b,F.torchFeature(),{display:"none",marginLeft:"5px"},function(H){d.setHeaderMessage(H,gr.STATUS_WARNING)}),T.show()};v.appendChild(b);var O=function(F){F||(g.style.display="none"),g.innerText=Dt.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,F&&(g.style.display="inline-block")};if(g.addEventListener("click",function(F){g.innerText=Dt.scanButtonScanningStarting(),D.disable(),g.disabled=!0,g.style.opacity="0.5",h.scanTypeSelector.hasMoreThanOneScanType()&&d.showHideScanTypeSwapLink(!1),d.resetHeaderMessage();var H=D.getValue();d.persistedDataManager.setLastUsedCameraId(H),d.html5Qrcode.start(H,m3(d.config),d.qrCodeSuccessCallback,d.qrCodeErrorCallback).then(function(X){y.disabled=!1,y.style.display="inline-block",O(!1);var U=d.html5Qrcode.getRunningTrackCameraCapabilities();h.config.showTorchButtonIfSupported===!0&&M(U),h.config.showZoomSliderIfSupported===!0&&_(U)}).catch(function(X){d.showHideScanTypeSwapLink(!0),D.enable(),O(!0),d.setHeaderMessage(X,gr.STATUS_WARNING)})}),D.hasSingleItem()&&g.click(),y.addEventListener("click",function(F){if(!d.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,d.html5Qrcode.stop().then(function(H){h.scanTypeSelector.hasMoreThanOneScanType()&&d.showHideScanTypeSwapLink(!0),D.enable(),g.disabled=!1,y.style.display="none",g.style.display="inline-block",T&&(T.reset(),T.hide()),m.removeOnCameraZoomValueChangeCallback(),m.hide(),d.insertCameraScanImageToScanRegion()}).catch(function(H){y.disabled=!1,d.setHeaderMessage(H,gr.STATUS_WARNING)})}),d.persistedDataManager.getLastUsedCameraId()){var I=d.persistedDataManager.getLastUsedCameraId();D.hasValue(I)?(D.setValue(I),g.click()):d.persistedDataManager.resetLastUsedCameraId()}},A.prototype.createSectionSwap=function(){var p=this,h=Dt.textIfCameraScanSelected(),d=Dt.textIfFileScanSelected(),v=document.getElementById(this.getDashboardSectionId()),m=document.createElement("div");m.style.textAlign="center";var _=_i.createElement("span",this.getDashboardSectionSwapLinkId());_.style.textDecoration="underline",_.style.cursor="pointer",_.innerText=p0.isCameraScanType(this.currentScanType)?h:d,_.addEventListener("click",function(){if(!p.sectionSwapAllowed){p.verbose&&p.logger.logError("Section swap called when not allowed");return}p.resetHeaderMessage(),p.fileSelectionUi.resetValue(),p.sectionSwapAllowed=!1,p0.isCameraScanType(p.currentScanType)?(p.clearScanRegion(),p.getCameraScanRegion().style.display="none",p.fileSelectionUi.show(),_.innerText=d,p.currentScanType=E0.SCAN_TYPE_FILE,p.insertFileScanImageToScanRegion()):(p.clearScanRegion(),p.getCameraScanRegion().style.display="block",p.fileSelectionUi.hide(),_.innerText=h,p.currentScanType=E0.SCAN_TYPE_CAMERA,p.insertCameraScanImageToScanRegion(),p.startCameraScanIfPermissionExistsOnSwap()),p.sectionSwapAllowed=!0}),m.appendChild(_),v.appendChild(m)},A.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var p=this,h=this;if(this.persistedDataManager.hasCameraPermissions()){r2.hasPermissions().then(function(d){if(d){var v=document.getElementById(h.getCameraPermissionButtonId());if(!v)throw p.logger.logError("Permission button not found, fail;"),"Permission button not found";v.click()}else h.persistedDataManager.setHasPermission(!1)}).catch(function(d){h.persistedDataManager.setHasPermission(!1)});return}},A.prototype.resetHeaderMessage=function(){var p=document.getElementById(this.getHeaderMessageContainerId());p.style.display="none"},A.prototype.setHeaderMessage=function(p,h){h||(h=gr.STATUS_DEFAULT);var d=this.getHeaderMessageDiv();switch(d.innerText=p,d.style.display="block",h){case gr.STATUS_SUCCESS:d.style.background="rgba(106, 175, 80, 0.26)",d.style.color="#477735";break;case gr.STATUS_WARNING:d.style.background="rgba(203, 36, 49, 0.14)",d.style.color="#cb2431";break;case gr.STATUS_DEFAULT:default:d.style.background="rgba(0, 0, 0, 0)",d.style.color="rgb(17, 17, 17)";break}},A.prototype.showHideScanTypeSwapLink=function(p){this.scanTypeSelector.hasMoreThanOneScanType()&&(p!==!0&&(p=!1),this.sectionSwapAllowed=p,this.getDashboardSectionSwapLink().style.display=p?"inline-block":"none")},A.prototype.insertCameraScanImageToScanRegion=function(){var p=this,h=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){h.innerHTML="<br>",h.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(d){h.innerHTML="<br>",h.appendChild(p.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=s3,this.cameraScanImage.alt=Dt.cameraScanAltText()},A.prototype.insertFileScanImageToScanRegion=function(){var p=this,h=document.getElementById(this.getScanRegionId());if(this.fileScanImage){h.innerHTML="<br>",h.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(d){h.innerHTML="<br>",h.appendChild(p.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=l3,this.fileScanImage.alt=Dt.fileScanAltText()},A.prototype.clearScanRegion=function(){var p=document.getElementById(this.getScanRegionId());p.innerHTML=""},A.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},A.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},A.prototype.getDashboardSectionSwapLinkId=function(){return Ar.SCAN_TYPE_CHANGE_ANCHOR_ID},A.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},A.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},A.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},A.prototype.getCameraPermissionButtonId=function(){return Ar.CAMERA_PERMISSION_BUTTON_ID},A.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},A.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},A.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},A}();const a2="html5qr-code-full-region";function y3(A){let p={};return A.fps&&(p.fps=A.fps),A.qrbox&&(p.qrbox=A.qrbox),A.aspectRatio&&(p.aspectRatio=A.aspectRatio),A.disableFlip!==void 0&&(p.disableFlip=A.disableFlip),p}function w3(A){return Mn.useEffect(()=>{const p=y3(A),h=A.verbose===!0;if(!A.qrCodeSuccessCallback)throw"qrCodeSuccessCallback is required callback.";const d=new v3(a2,p,h);return d.render(A.qrCodeSuccessCallback,A.qrCodeErrorCallback),()=>{d.clear().catch(v=>{console.error("Failed to clear html5QrcodeScanner. ",v)})}},[]),J.jsx("div",{id:a2})}function T2({client:A,setData:p,setCurrentChat:h,setPage:d}){const[v,m]=Mn.useState(!1),[[_,D],b]=Mn.useState(["",""]),g=async y=>{y.preventDefault();const T=new FormData(y.target),M=T.get("id"),O=Ua(M),I=T.get("password"),F=Ua(I),H=T.get("author");if(!O||!F)return alert("Please Scan QR Code first or switch to input mode and input the group id and password.");const X=await A.get("join",{chatId:O,passwordHash:Ua(Ua(F)),author:W0(F,H),messageIds:{},subscription:window.notificationSubscription});if(X===!1){alert(`You are in the chat: ${T.get("id")} or your password is incorrect`);return}p(k=>({...k,[O]:{password:F,messages:X.map(({id:j,message:$})=>{try{return{...JSON.parse(ri(F,$)),id:j}}catch{return{type:"error",data:"an error occurred (wrong password) (ignorable error)"}}}),author:H,unread:0,chatName:M,rawPassword:I}}));const U=await A.get("users",O);U&&p(k=>({...k,[O]:{...k[O],messages:[...k[O].messages,...U.map(j=>{const $=ri(k[O].password,j);return{type:"user-joined",data:"user joined: "+$,author:$,id:Ni(4).toString(Wt.enc.Base64)}})]}})),h(O),y.target.reset(),m(!1),b(["",""]),d&&d(!1)};return v?J.jsxs("form",{onSubmit:g,className:"join-form qr-code-form",children:[J.jsx("button",{type:"submit",onClick:y=>{y.preventDefault(),m(!1)},children:"Input Your Data Manual"}),J.jsx(w3,{fps:10,qrbox:350,disableFlip:!1,qrCodeSuccessCallback:(y="")=>{const[T,M]=y.split(`
`)||["",""];if(!T||!M)return alert("error: Invalid QR Code");b([T,M]),document.getElementById("author-input").focus()}}),_&&D&&J.jsxs(J.Fragment,{children:[J.jsx("input",{type:"text",name:"id",placeholder:"Group to join...",value:_,readOnly:!0,required:!0}),J.jsx("input",{type:"text",name:"password",placeholder:"Group Password...",value:D,readOnly:!0,required:!0})]}),J.jsx("input",{type:"text",name:"author",id:"author-input",placeholder:"Your name...",required:!0}),J.jsx("button",{type:"submit",children:"Join Chat"})]}):J.jsxs("form",{onSubmit:g,className:"join-form",children:[J.jsx("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text",name:"id",placeholder:"Group to join...",required:!0}),J.jsx("input",{autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"password",name:"password",placeholder:"Encryption password...",required:!0}),J.jsx("input",{type:"text",name:"author",placeholder:"Your name...",required:!0}),J.jsxs("button",{type:"submit",children:[J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"5px"},height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#e8eaed",children:J.jsx("path",{d:"M40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm720 0v-120q0-44-24.5-84.5T666-434q51 6 96 20.5t84 35.5q36 20 55 44.5t19 53.5v120H760ZM360-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm400-160q0 66-47 113t-113 47q-11 0-28-2.5t-28-5.5q27-32 41.5-71t14.5-81q0-42-14.5-81T544-792q14-5 28-6.5t28-1.5q66 0 113 47t47 113ZM120-240h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0 320Zm0-400Z"})})," Join Chat"]}),J.jsxs("button",{type:"submit",onClick:y=>{y.preventDefault(),m(!0)},children:[J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",style:{marginRight:"5px"},height:"18px",viewBox:"0 -960 960 960",width:"18px",fill:"#e8eaed",children:J.jsx("path",{d:"M80-680v-200h200v80H160v120H80Zm0 600v-200h80v120h120v80H80Zm600 0v-80h120v-120h80v200H680Zm120-600v-120H680v-80h200v200h-80ZM700-260h60v60h-60v-60Zm0-120h60v60h-60v-60Zm-60 60h60v60h-60v-60Zm-60 60h60v60h-60v-60Zm-60-60h60v60h-60v-60Zm120-120h60v60h-60v-60Zm-60 60h60v60h-60v-60Zm-60-60h60v60h-60v-60Zm240-320v240H520v-240h240ZM440-440v240H200v-240h240Zm0-320v240H200v-240h240Zm-60 500v-120H260v120h120Zm0-320v-120H260v120h120Zm320 0v-120H580v120h120Z"})}),"Scan QR Code"]})]})}const b3="wss://easy-messenger.onrender.com",S3="ws://localhost:8080",T3=document.location.protocol=="http:"?S3:b3;var D3=()=>crypto.getRandomValues(new Uint32Array(1))[0]/2**32+"";function _3(A){var p="";for(let h=0;h<A;h++)p+=D3()[5];return p}var Hr,$n,Bi,D2,Ls;class Qc{constructor(p,h){zl(this,Bi);zl(this,Hr,!1);zl(this,$n,{on:{get:{},say:{}},getPromises:{}});Fh(this,Hr,new WebSocket(p)),pn(this,Hr).onclose=d=>{this.onclose(d)},pn(this,Hr).onerror=d=>{this.onerror(d)},pn(this,Hr).onopen=()=>{h&&La(this,Bi,Ls).call(this,"params",!1,h,!1),this.onopen()},pn(this,Hr).onmessage=d=>{La(this,Bi,D2).call(this,d)}}getState(){return pn(this,Hr).readyState}close(){pn(this,Hr).close()}onSay(p,h,d=!0){d||!pn(this,$n).on.say[p]?pn(this,$n).on.say[p]=[h]:pn(this,$n).on.say[p].push(h)}onGet(p,h){pn(this,$n).on.get[p]=h}say(p,h){La(this,Bi,Ls).call(this,"say",p,h,!1)}get(p,h){var d=_3(8);return new Promise(v=>{pn(this,$n).getPromises[d]=m=>{delete pn(this,$n).getPromises[d],v(m)},La(this,Bi,Ls).call(this,"get",p,h,d)})}onclose(){}onopen(){}onerror(){}onend(){}}Hr=new WeakMap,$n=new WeakMap,Bi=new WeakSet,D2=function({data:p}){var d,v,m,_;try{var p=JSON.parse(p);if((p==null?void 0:p.method)=="say"&&(p!=null&&p.key))(d=pn(this,$n).on.say)!=null&&d[p.key]&&pn(this,$n).on.say[p.key].forEach(b=>b(p==null?void 0:p.cont));else if((p==null?void 0:p.method)=="get"&&(p!=null&&p.key)&&(p!=null&&p.id)){const b=g=>{La(this,Bi,Ls).call(this,"getback",!1,g,p.id)};if(!pn(this,$n).on.get[p==null?void 0:p.key])return b("not found");var h=pn(this,$n).on.get[p==null?void 0:p.key](p==null?void 0:p.cont);h instanceof Promise?h.then(g=>b(g)):b(h)}else(p==null?void 0:p.method)=="getback"&&(p!=null&&p.id)&&(v=pn(this,$n).getPromises)!=null&&v[p.id]&&((_=(m=pn(this,$n).getPromises)==null?void 0:m[p.id])==null||_.call(m,p==null?void 0:p.cont))}catch(D){console.log(D)}},Ls=function(p,h,d,v){var m={method:p,cont:d};h&&(m.key=h),v&&(m.id=v),pn(this,Hr).send(JSON.stringify(m))};function B3(A=new Qc){return new Promise(p=>{A.onopen=()=>p(!0),A.onclose=()=>p(!1)})}function N3(A){return()=>{const p=new Qc(T3);return p.onSay("message",({chatId:h,message:d,messageId:v})=>{A(m=>{var D,b;let _;try{if(_={...JSON.parse(ri(m[h].password,d)),id:v},_.type=="update"){const[g,y,T]=_.data,M=m[h].messages.findIndex(({id:O})=>O==g);if(M==-1)return m;y=="comment"&&m[h].messages[M].comments.push(T)}else{const g=document.querySelector(".messages");g&&(g.scrollTop==0||g.scrollHeight-g.scrollTop<innerHeight)&&((b=(D=g.lastChild)==null?void 0:D.scrollIntoView)==null||b.call(D,{behavior:"smooth",block:"center"}))}}catch(g){_={type:"error",data:`wrong key
`+g.message}}return{...m,[h]:{...m[h],messages:[...m[h].messages,_],unread:h==window.selectedChat?0:m[h].unread+1}}})}),p.onSay("message-deleted",({chatId:h,messageId:d})=>{A(v=>{let m=v[h].messages.filter(_=>_.id!==d);return{...v,[h]:{...v[h],messages:m}}})}),p.onSay("chat-deleted",({chatId:h})=>{window.setSelectedChat(window.selectedChat==h?null:window.selectedChat),A(d=>{alert(`chat "${d[h].chatName}" is deleted by an user. it get deleted from your device too`);const v={...d};return delete v[h],v})}),p.onSay("user-joined",({chatId:h,message:d})=>{A(v=>{const m=ri(v[h].password,d);return{...v,[h]:{...v[h],messages:[...v[h].messages,{type:"user-joined",data:"user joined: "+m,author:m,id:Ni(4).toString(Wt.enc.Hex)}]}}})}),p.onSay("user-exited",({chatId:h,message:d})=>{A(v=>{const m=ri(v[h].password,d);return{...v,[h]:{...v[h],messages:[...v[h].messages,{type:"user-exited",data:"user exited: "+m,author:m,id:Ni(4).toString(Wt.enc.Hex)}]}}})}),p.onSay("all-messages-deleted",({chatId:h})=>{A(d=>({...d,[h]:{...d[h],messages:[{type:"deleted-messages",data:"all messages deleted"}]}}))}),p}}function M3(A=()=>new Qc,p=!0,h=!0){const[d,v]=Mn.useState(null),[m,_]=Mn.useState("loading"),[D,b]=Mn.useState(!1);async function g(){_("loading"),b(!1),d&&d.close();const y=A();(p?await B3(y):!0)?(_("sucess"),v(y)):(_("failed"),b(!0)),h&&(y.onclose=()=>{b(!0),_("closed")})}return Mn.useEffect(()=>(g(),()=>{d&&d.close()}),[]),[d,m,g,D]}async function O3(A,p,h){h(d=>Object.keys(d).reduce((v,m)=>(v[m]={...d[m],messages:d[m].messages.filter(({type:_})=>!["user-joined","user-exited","deleted-messages"].includes(_))},v),{})),await Promise.all(Object.entries(p).map(async([d,v])=>{const m=v.messages.reduce((D,{id:b})=>(D[b]=!0,D),{});let _=await A.get("join",{chatId:d,author:W0(v.password,v.author),passwordHash:Ua(Ua(v.password)),messageIds:m,subscription:window.notificationSubscription});if(_){h(b=>{var y,T,M,O;let g=b[d].messages;if((y=_[_.length-1])!=null&&y.deleted){const I={};for(const F of _[_.length-1].deletedMessages)I[F]=!0;g=g.filter(({id:F})=>!I[F]),_.splice(_.length-1,1)}_=_.map(({id:I,message:F})=>{try{return{...JSON.parse(ri(v.password,F)),id:I}}catch{return{type:"error",data:"an error occurred (wrong password) (ignorable error)",id:I}}}),g=[...g,..._];for(const I of _)if(I.type=="update"){const[F,H,X]=I.data,U=g.findIndex(({id:k})=>k==F);if(U==-1)continue;H=="comment"&&((O=(M=(T=g[U])==null?void 0:T.comments)==null?void 0:M.push)==null||O.call(M,X))}return{...b,[d]:{...b[d],unread:_.length,messages:g}}});const D=await A.get("users",d);D&&h(b=>({...b,[d]:{...b[d],messages:[...b[d].messages,...D.map(g=>{const y=ri(b[d].password,g);return{type:"user-joined",data:"user joined: "+y,author:y,id:Ni(4).toString(Wt.enc.Base64)}})]}}))}else return alert("Maybe your password is incorct (remove the group from your chats) => group: "+d)}))}function R3(A,p){const[h,d,v,m]=M3(N3(p),!0,!0);return Mn.useEffect(()=>{h&&O3(h,A,p)},[h]),{data:A,setData:p,client:h,state:d,reCreateClient:v,isClosed:m}}function _2(){return J.jsx("div",{className:"no-chat-selected",children:J.jsx("p",{children:"Please select a chat from the navigation bar or join a new chat."})})}function I3({currentChat:A,setCurrentChat:p,client:h,setData:d,data:v}){const[m,_]=Mn.useState(!0);return J.jsxs("div",{className:"app-container mobile",children:[J.jsxs("div",{className:"page",style:{display:m?"":"none"},children:[J.jsx(o2,{chats:v,currentChat:A,setCurrentChat:p,setChats:d,client:h,setPage:_}),J.jsx("aside",{children:J.jsx(T2,{setCurrentChat:p,client:h,setData:d,setPage:_})})]}),J.jsx("div",{className:"page",style:{display:m?"none":""},children:J.jsx("main",{children:A&&v[A]?J.jsx(E2,{chatId:A,chatData:v[A],client:h,setData:d,page:m}):J.jsx(_2,{})})}),J.jsxs("div",{className:"navigation",children:[J.jsx("button",{className:m?"active":"",onClick:()=>_(!0),children:"Chats"}),J.jsx("button",{className:m?"":"active",onClick:()=>_(!1),children:"Chat"})]})]})}function L3(){if(window.location.hash!="#share")return!1;window.history.replaceState("","","/easy-messenger/");const A=new URLSearchParams(window.location.search);return{title:A.get("title")||"No title",text:A.get("text")||"No text",url:A.get("url")||"No URL"}}function F3({setData:A,data:p}){Mn.useEffect(()=>{const b=L3();b&&alert(JSON.parse(b))},[]);const[h,d]=Mn.useState(null);window.selectedChat=h,window.setSelectedChat=d;const{client:v,state:m,reCreateClient:_,isClosed:D}=R3(p,A);return m==="failed"||D?J.jsx("button",{onClick:()=>_(),children:"Reconnect"}):v==null?m:innerWidth>768?J.jsxs("div",{className:"app-container",children:[J.jsx(o2,{chats:p,currentChat:h,setCurrentChat:d,setChats:A,client:v}),J.jsx("aside",{children:J.jsx(T2,{setCurrentChat:d,client:v,setData:A})}),J.jsx("main",{children:h&&p[h]?J.jsx(E2,{chatId:h,chatData:p[h],client:v,setData:A}):J.jsx(_2,{})})]}):J.jsx(I3,{client:v,currentChat:h,data:p,setCurrentChat:d,setData:A})}var ka={},s2;function k3(){if(s2)return ka;s2=1;var A=ka&&ka.__assign||function(){return A=Object.assign||function(d){for(var v,m=1,_=arguments.length;m<_;m++){v=arguments[m];for(var D in v)Object.prototype.hasOwnProperty.call(v,D)&&(d[D]=v[D])}return d},A.apply(this,arguments)};Object.defineProperty(ka,"__esModule",{value:!0});var p=Pa();function h(d,v,m){var _=(0,p.useMemo)(function(){return A({serializer:JSON.stringify,parser:JSON.parse,logger:console.log,syncData:!0},m)},[m]),D=_.serializer,b=_.parser,g=_.logger,y=_.syncData,T=(0,p.useRef)(null),M=(0,p.useState)(function(){if(typeof window>"u")return v;try{T.current=window.localStorage.getItem(d);var F=T.current?b(T.current):v;return F}catch(H){return g(H),v}}),O=M[0],I=M[1];return(0,p.useEffect)(function(){if(!(typeof window>"u")){var F=function(){if(O!==void 0){var H=D(O),X=T.current;T.current=H,window.localStorage.setItem(d,H),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:d,newValue:H,oldValue:X}))}else window.localStorage.removeItem(d),window.dispatchEvent(new StorageEvent("storage",{storageArea:window.localStorage,url:window.location.href,key:d}))};try{F()}catch(H){g(H)}}},[O]),(0,p.useEffect)(function(){if(y){var F=function(H){if(!(H.key!==d||H.storageArea!==window.localStorage))try{H.newValue!==T.current&&(T.current=H.newValue,I(H.newValue?b(H.newValue):void 0))}catch(X){g(X)}};if(!(typeof window>"u"))return window.addEventListener("storage",F),function(){return window.removeEventListener("storage",F)}}},[d,y]),[O,I]}return ka.default=h,ka}var U3=k3();const z3=Do(U3);let bo;const Yc=document.getElementById("installBtn");window.notificationSubscription=!1;window.addEventListener("beforeinstallprompt",A=>{A.preventDefault(),bo=A,Yc.style.display="block"});Yc.addEventListener("click",()=>{bo.prompt(),bo.userChoice.then(A=>{A.outcome==="accepted"?console.log("User accepted the install prompt"):console.log("User dismissed the install prompt"),bo=null,Yc.style.display="none"})});function H3(){"serviceWorker"in navigator&&(l2().then(A=>{window.notificationSubscription=A}),navigator.serviceWorker.register("/easy-messenger/service-worker.js",{scope:"/easy-messenger/"}).then(A=>{console.log("Service Worker Active!");const p=setInterval(()=>{A.update().then(()=>{console.log("Service Worker updated!")}).catch(h=>{console.error("Error checking for service worker updates:",h)})},5*60*1e3);return A.onupdatefound=()=>{const h=A.installing;h.onstatechange=()=>{h.state==="installed"&&navigator.serviceWorker.controller&&(h.postMessage({type:"skipWaiting"}),console.log("New service worker found and taking control"))}},()=>clearInterval(p)}).catch(A=>{console.error("Service Worker registration failed:",A)}))}function P3({handleCreateAccount:A}){return J.jsxs("div",{className:"create-account-wrapper",children:[J.jsx("h1",{className:"opensource-info",children:"QUATSCHER Messenger"}),J.jsxs("fieldset",{className:"login",children:[J.jsx("legend",{children:J.jsx("h1",{children:"Create Account"})}),J.jsxs("form",{onSubmit:A,className:"form",children:[J.jsxs("p",{children:["Password:",J.jsx("input",{type:"password",placeholder:"Enter password...",name:"password",autoFocus:!0,className:"input",required:!0})]}),J.jsxs("p",{children:["Reinput Password:",J.jsx("input",{type:"password",placeholder:"Enter password...",name:"password2",required:!0,className:"input"})]}),J.jsx("p",{id:"error",className:"error"}),J.jsx("button",{type:"submit",className:"button",children:"Create Account"})]})]}),J.jsxs("div",{className:"opensource-info",children:[J.jsx("img",{src:"https://manuelwestermeier.github.io/easy-messenger/img/logo-512.png",alt:"Logo"}),J.jsx("h2",{children:"Open Source & Ultra Secure"}),J.jsxs("p",{children:["Our messenger is designed with your security in mind. All data is encrypted directly on your device, ensuring that no sensitive information is ever sent to our servers. This open-source project is hosted on",J.jsx("a",{href:"https://github.com/ManuelWestermeier/easy-messenger/",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", making it fully transparent and, we believe, the securest messenger available  even governments cant hack it!"]})]}),J.jsxs("div",{className:"opensource-info",children:[J.jsxs("div",{class:"disclaimer",children:[J.jsx("h1",{children:"Disclaimer"}),J.jsx("h2",{children:" 1 Scope"}),J.jsx("p",{children:"By using this application, you agree that all content created, stored, or published by users is solely their own responsibility. The provider assumes no liability for such content."}),J.jsx("h2",{children:" 2 Limitation of Liability"}),J.jsx("p",{children:"The provider is not liable for any damages or legal consequences arising from the use of the application or the transmission of content. Any liability  whether for direct or indirect damages  is expressly excluded."}),J.jsx("h2",{children:" 3 Use at Your Own Risk"}),J.jsx("p",{children:"The use of this application is at your own risk. No guarantee is provided regarding the functionality or security of the application. The provider cannot be held responsible for any damages resulting from its use."}),J.jsx("h2",{children:" 4 Legal Advice"}),J.jsx("p",{children:"This disclaimer does not constitute legal advice. In case of doubt, it is recommended that you consult a legal professional."})]}),J.jsxs("div",{class:"disclaimer",children:[J.jsx("h1",{children:"Haftungsausschluss"}),J.jsx("h2",{children:" 1 Geltungsbereich"}),J.jsx("p",{children:"Mit der Nutzung dieser Anwendung erklren Sie sich einverstanden, dass smtliche Inhalte, die von Nutzern erstellt, gespeichert oder verffentlicht werden, in deren eigener Verantwortung liegen. Der Anbieter bernimmt keinerlei Haftung fr diese Inhalte."}),J.jsx("h2",{children:" 2 Haftungsbeschrnkung"}),J.jsx("p",{children:"Der Anbieter haftet nicht fr Schden oder rechtliche Konsequenzen, die aus der Nutzung der Anwendung oder der bermittlung von Inhalten entstehen. Jegliche Haftung  sei es fr direkte oder indirekte Schden  wird ausdrcklich ausgeschlossen."}),J.jsx("h2",{children:" 3 Nutzung auf eigene Gefahr"}),J.jsx("p",{children:"Die Nutzung der Anwendung erfolgt auf eigene Gefahr. Es wird keine Gewhrleistung fr die Funktionsfhigkeit oder die Sicherheit der Anwendung bernommen. Der Anbieter kann fr etwaige Schden, die aus der Nutzung resultieren, nicht verantwortlich gemacht werden."}),J.jsx("h2",{children:" 4 Rechtsberatung"}),J.jsx("p",{children:"Dieser Haftungsausschluss stellt keine Rechtsberatung dar. Im Zweifelsfall wird empfohlen, einen Fachanwalt zu konsultieren."})]})]})]})}function j3({handleLogin:A}){return J.jsxs(J.Fragment,{children:[J.jsx("h1",{className:"opensource-info",children:"QUATSCHER Messenger"}),J.jsxs("fieldset",{className:"login",children:[J.jsx("legend",{children:J.jsx("h1",{children:"Login"})}),J.jsxs("form",{onSubmit:A,className:"form",children:[J.jsxs("p",{children:["Password:",J.jsx("input",{type:"password",autoFocus:!0,placeholder:"Enter password...",name:"password",className:"input"})]}),J.jsx("p",{id:"error",className:"error"}),J.jsx("button",{type:"submit",className:"button",children:"Login"})]})]}),J.jsxs("div",{className:"opensource-info",children:[J.jsx("img",{src:"https://manuelwestermeier.github.io/easy-messenger/img/logo-512.png",alt:"Logo"}),J.jsx("h2",{children:"Open Source & Ultra Secure"}),J.jsxs("p",{children:["Our messenger is designed with your security in mind. All data is encrypted directly on your device, ensuring that no sensitive information is ever sent to our servers. This open-source project is hosted on",J.jsx("a",{href:"https://github.com/ManuelWestermeier/easy-messenger/",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),", making it fully transparent and, we believe, the securest messenger available  even governments cant hack it!"]})]}),J.jsxs("div",{className:"opensource-info",children:[J.jsxs("div",{className:"disclaimer",children:[J.jsx("h1",{children:"Disclaimer"}),J.jsx("h2",{children:" 1 Scope"}),J.jsx("p",{children:"By using this application, you agree that all content created, stored, or published by users is solely their own responsibility. The provider assumes no liability for such content."}),J.jsx("h2",{children:" 2 Limitation of Liability"}),J.jsx("p",{children:"The provider is not liable for any damages or legal consequences arising from the use of the application or the transmission of content. Any liability  whether for direct or indirect damages  is expressly excluded."}),J.jsx("h2",{children:" 3 Use at Your Own Risk"}),J.jsx("p",{children:"The use of this application is at your own risk. No guarantee is provided regarding the functionality or security of the application. The provider cannot be held responsible for any damages resulting from its use."}),J.jsx("h2",{children:" 4 Legal Advice"}),J.jsx("p",{children:"This disclaimer does not constitute legal advice. In case of doubt, it is recommended that you consult a legal professional."})]}),J.jsxs("div",{className:"disclaimer",children:[J.jsx("h1",{children:"Haftungsausschluss"}),J.jsx("h2",{children:" 1 Geltungsbereich"}),J.jsx("p",{children:"Mit der Nutzung dieser Anwendung erklren Sie sich einverstanden, dass smtliche Inhalte, die von Nutzern erstellt, gespeichert oder verffentlicht werden, in deren eigener Verantwortung liegen. Der Anbieter bernimmt keinerlei Haftung fr diese Inhalte."}),J.jsx("h2",{children:" 2 Haftungsbeschrnkung"}),J.jsx("p",{children:"Der Anbieter haftet nicht fr Schden oder rechtliche Konsequenzen, die aus der Nutzung der Anwendung oder der bermittlung von Inhalten entstehen. Jegliche Haftung  sei es fr direkte oder indirekte Schden  wird ausdrcklich ausgeschlossen."}),J.jsx("h2",{children:" 3 Nutzung auf eigene Gefahr"}),J.jsx("p",{children:"Die Nutzung der Anwendung erfolgt auf eigene Gefahr. Es wird keine Gewhrleistung fr die Funktionsfhigkeit oder die Sicherheit der Anwendung bernommen. Der Anbieter kann fr etwaige Schden, die aus der Nutzung resultieren, nicht verantwortlich gemacht werden."}),J.jsx("h2",{children:" 4 Rechtsberatung"}),J.jsx("p",{children:"Dieser Haftungsausschluss stellt keine Rechtsberatung dar. Im Zweifelsfall wird empfohlen, einen Fachanwalt zu konsultieren."})]})]})]})}function G3(){Mn.useEffect(H3,[]);const[A,p]=Mn.useState(null),[h,d]=z3("enc-chat-data",null),[v,m]=Mn.useState(!1),_=M=>{M.preventDefault();const O=M.target.password.value,I=M.target.password2.value;if(!O||!I)return;if(O!=I)return M.target.reset(),alert("wrong password");p(O);const F=W0(O,"{}");d(F),m(!0)},D=M=>{M.preventDefault();const O=M.target.password.value;if(!O)return alert("Incorrect password");try{const I=ri(O,h);JSON.parse(I)}catch{alert("Incorrect password");return}p(O),m(!0)},b=M=>{d(typeof M=="function"?O=>W0(A,JSON.stringify(M(JSON.parse(ri(A,O))))):W0(A,JSON.stringify(M)))},g=J.jsx(j3,{handleLogin:D}),y=J.jsx(P3,{handleCreateAccount:_});if(h===null)return y;if(!v)return g;const T=ri(A,h);return J.jsx(F3,{data:JSON.parse(T),setData:b})}eg.createRoot(document.getElementById("root")).render(J.jsx(G3,{}));
